/*
 * @Description: 
 * @Author: ling
 * @Date: 2023-04-17 17:39:25
 * @LastEditTime: 2023-04-17 17:40:48
 * @LastEditors: ling
 */
/*
 * @Description:
 * @Author: ling
 * @Date: 2023-01-10 15:40:52
 * @LastEditTime: 2023-01-10 15:41:04
 * @LastEditors: ling
 */
!(function (e, t) {
	"object" == typeof exports && "object" == typeof module
		? (module.exports = t())
		: "function" == typeof define && define.amd
		? define([], t)
		: "object" == typeof exports
		? (exports.GisEye = t())
		: (e.GisEye = t());
})(window, function () {
	return (function (e) {
		var t = {};
		function n(r) {
			if (t[r]) return t[r].exports;
			var i = (t[r] = { i: r, l: !1, exports: {} });
			return e[r].call(i.exports, i, i.exports, n), (i.l = !0), i.exports;
		}
		return (
			(n.m = e),
			(n.c = t),
			(n.d = function (e, t, r) {
				n.o(e, t) ||
					Object.defineProperty(e, t, { enumerable: !0, get: r });
			}),
			(n.r = function (e) {
				"undefined" != typeof Symbol &&
					Symbol.toStringTag &&
					Object.defineProperty(e, Symbol.toStringTag, {
						value: "Module",
					}),
					Object.defineProperty(e, "__esModule", { value: !0 });
			}),
			(n.t = function (e, t) {
				if ((1 & t && (e = n(e)), 8 & t)) return e;
				if (4 & t && "object" == typeof e && e && e.__esModule)
					return e;
				var r = Object.create(null);
				if (
					(n.r(r),
					Object.defineProperty(r, "default", {
						enumerable: !0,
						value: e,
					}),
					2 & t && "string" != typeof e)
				)
					for (var i in e)
						n.d(
							r,
							i,
							function (t) {
								return e[t];
							}.bind(null, i)
						);
				return r;
			}),
			(n.n = function (e) {
				var t =
					e && e.__esModule
						? function () {
								return e.default;
						  }
						: function () {
								return e;
						  };
				return n.d(t, "a", t), t;
			}),
			(n.o = function (e, t) {
				return Object.prototype.hasOwnProperty.call(e, t);
			}),
			(n.p = ""),
			n((n.s = 133))
		);
	})([
		function (e, t) {
			(e.exports = function (e) {
				return e && e.__esModule ? e : { default: e };
			}),
				(e.exports.__esModule = !0),
				(e.exports.default = e.exports);
		},
		function (e, t) {
			var n = (e.exports = { version: "2.6.12" });
			"number" == typeof __e && (__e = n);
		},
		function (e, t, n) {
			var r = n(4),
				i = n(1),
				o = n(21),
				a = n(24),
				s = n(19),
				l = function (e, t, n) {
					var u,
						c,
						f,
						h = e & l.F,
						p = e & l.G,
						d = e & l.S,
						y = e & l.P,
						m = e & l.B,
						v = e & l.W,
						g = p ? i : i[t] || (i[t] = {}),
						_ = g.prototype,
						b = p ? r : d ? r[t] : (r[t] || {}).prototype;
					for (u in (p && (n = t), n))
						((c = !h && b && void 0 !== b[u]) && s(g, u)) ||
							((f = c ? b[u] : n[u]),
							(g[u] =
								p && "function" != typeof b[u]
									? n[u]
									: m && c
									? o(f, r)
									: v && b[u] == f
									? (function (e) {
											var t = function (t, n, r) {
												if (this instanceof e) {
													switch (arguments.length) {
														case 0:
															return new e();
														case 1:
															return new e(t);
														case 2:
															return new e(t, n);
													}
													return new e(t, n, r);
												}
												return e.apply(this, arguments);
											};
											return (
												(t.prototype = e.prototype), t
											);
									  })(f)
									: y && "function" == typeof f
									? o(Function.call, f)
									: f),
							y &&
								(((g.virtual || (g.virtual = {}))[u] = f),
								e & l.R && _ && !_[u] && a(_, u, f)));
				};
			(l.F = 1),
				(l.G = 2),
				(l.S = 4),
				(l.P = 8),
				(l.B = 16),
				(l.W = 32),
				(l.U = 64),
				(l.R = 128),
				(e.exports = l);
		},
		function (e, t) {
			e.exports = function (e) {
				return "object" == typeof e
					? null !== e
					: "function" == typeof e;
			};
		},
		function (e, t) {
			var n = (e.exports =
				"undefined" != typeof window && window.Math == Math
					? window
					: "undefined" != typeof self && self.Math == Math
					? self
					: Function("return this")());
			"number" == typeof __g && (__g = n);
		},
		function (e, t, n) {
			e.exports = n(167);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(216)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t) {
							"use strict";
							var n;
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0);
							var r = function () {
								return (
									n || (this.init.apply(this, arguments), n)
								);
							};
							r.prototype = {
								_frameDiv: null,
								_div: null,
								_title: null,
								init: function (e) {
									var t =
											arguments.length > 1 &&
											void 0 !== arguments[1]
												? arguments[1]
												: "top",
										r = this,
										i = document.createElement("DIV");
									(i.className = "twipsy ".concat(t)),
										(this.anchorStyle = t);
									var o = document.createElement("DIV");
									(o.className = "twipsy-arrow"),
										i.appendChild(o);
									var a = document.createElement("DIV");
									(a.className = "twipsy-inner"),
										i.appendChild(a),
										e.appendChild(i),
										(r._div = i),
										(r._title = a),
										(r._frameDiv = e),
										this.setVisible(!1),
										(n = this);
								},
								setVisible: function (e) {
									this._div.style.display = e
										? "block"
										: "none";
								},
								showAt: function (e, t) {
									e &&
										t &&
										(this.setVisible(!0),
										(this._title.innerHTML = t),
										"right" === this.anchorStyle
											? ((this._div.style.left =
													e.x + 10 + "px"),
											  (this._div.style.top =
													e.y -
													this._div.clientHeight / 2 +
													"px"))
											: "top" === this.anchorStyle &&
											  ((this._div.style.left =
													e.x -
													this._div.clientWidth / 2 +
													"px"),
											  (this._div.style.top =
													e.y -
													this._div.clientHeight -
													15 +
													"px")));
								},
								setArchMode: function (e) {
									this.anchorStyle = e;
								},
								remove: function () {
									this._frameDiv.removeChild(this._div),
										(n = void 0);
								},
							};
							var i = r;
							e.default = i;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r = n(70)("wks"),
				i = n(53),
				o = n(4).Symbol,
				a = "function" == typeof o;
			(e.exports = function (e) {
				return (
					r[e] || (r[e] = (a && o[e]) || (a ? o : i)("Symbol." + e))
				);
			}).store = r;
		},
		function (e, t, n) {
			"use strict";
			function r(e, t) {
				if (!(e instanceof t))
					throw new TypeError("Cannot call a class as a function");
			}
			n.r(t),
				n.d(t, "default", function () {
					return r;
				});
		},
		function (e, t, n) {
			"use strict";
			n.r(t),
				n.d(t, "default", function () {
					return a;
				});
			var r = n(31),
				i = n.n(r);
			function o(e, t) {
				for (var n = 0; n < t.length; n++) {
					var r = t[n];
					(r.enumerable = r.enumerable || !1),
						(r.configurable = !0),
						"value" in r && (r.writable = !0),
						i()(e, r.key, r);
				}
			}
			function a(e, t, n) {
				return (
					t && o(e.prototype, t),
					n && o(e, n),
					i()(e, "prototype", { writable: !1 }),
					e
				);
			}
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.drawTypeName =
									e.drawStatue =
									e.default =
									e.DrawType =
										void 0);
							var t = {
								DRAW_POINT: "Point",
								DRAW_POLYLINE: "Polyline",
								DRAW_SPACE_POLYLINE: "SpacePolyline",
								DRAW_POLYGON: "Polygon",
								DRAW_CIRCLE: "Circle",
								DRAW_RECTANGLE: "Rectangle",
								DRAW_ATTACK_ARROW: "AttackArrow",
								DRAW_PINCER_ARROW: "PincerArrow",
								DRAW_STRAIGHT_ARROW: "StraightArrow",
								DRAW_BUFFERLINE: "BufferLine",
								DRAW_TEXT: "Text",
								MEASURE_STICKDISTANCE: "StickDistance",
								MEASURE_SPACEDISTANCE: "SpaceDistance",
								MEASURE_AREA: "Area",
								MEASURE_HEIGHT: "Height",
							};
							(e.DrawType = t),
								(e.drawTypeName = {
									AttackArrow: "攻击箭头",
									Point: "点",
									Polyline: "线",
									SpacePolyline: "空间线",
									Polygon: "面",
									Circle: "圆",
									Rectangle: "矩形",
									PincerArrow: "钳击箭头",
									Text: "文字标注",
									StraightArrow: "直箭头",
									Resource: "资源部署",
									BufferLine: "缓冲区",
								}),
								(e.drawStatue = {
									NONE: 0,
									DRAWING: 1,
									EDITER: 2,
									MEASURE: 3,
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r = n(3);
			e.exports = function (e) {
				if (!r(e)) throw TypeError(e + " is not an object!");
				return e;
			};
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(5), n(37)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r) {
							"use strict";
							var i = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.Platform = function () {
									var e = navigator.userAgent,
										t = /(?:Windows Phone)/.test(e),
										n = /(?:SymbianOS)/.test(e) || t,
										r = /(?:Android)/.test(e),
										i = /(?:Firefox)/.test(e),
										o = /(?:Chrome|CriOS)/.test(e),
										a =
											/(?:iPad|PlayBook)/.test(e) ||
											(r && !/(?:Mobile)/.test(e)) ||
											(i && /(?:Tablet)/.test(e)),
										s = /(?:iPhone)/.test(e) && !a;
									return {
										isTablet: a,
										isPhone: s,
										isAndroid: r,
										isPc: !s && !r && !n,
										isChrome: o,
									};
								}),
								(e.captureScreenshot = function (e) {
									var t = s(),
										n = e.scene,
										r = n.postRender.addEventListener(
											function () {
												r();
												try {
													var n = e.scene.canvas;
													t.resolve(
														n.toDataURL("image/png")
													);
												} catch (e) {
													t.reject(e);
												}
											},
											this
										);
									return (
										n.render(e.clock.currentTime), t.promise
									);
								}),
								(e.changeExtension = function (e, t) {
									return e.replace(a(e), t);
								}),
								(e.clone = e.checkType = void 0),
								(e.defer = s),
								(e.dirname = function (e) {
									if (
										("string" != typeof e && (e += ""),
										0 === e.length)
									)
										return ".";
									for (
										var t = e.charCodeAt(0),
											n = 47 === t,
											r = -1,
											i = !0,
											o = e.length - 1;
										o >= 1;
										--o
									)
										if (47 === (t = e.charCodeAt(o))) {
											if (!i) {
												r = o;
												break;
											}
										} else i = !1;
									return -1 === r
										? n
											? "/"
											: "."
										: n && 1 === r
										? "/"
										: e.slice(0, r);
								}),
								(e.drawText = function (e, t) {
									var n = (t = t || {
											font: "20px sans-serif",
										}).backgroundColor,
										r = t.padding;
									delete t.backgroundColor, delete t.padding;
									for (
										var i = e.split(/[\r]?\n+/),
											o = [],
											a = 0,
											s = 0,
											l = 0;
										l < i.length;
										l++
									) {
										var u = Cesium.writeTextToCanvas(
											i[l],
											t
										);
										u &&
											(o.push(u),
											(s += u.height),
											(a = Math.max(a, u.width)));
									}
									(t.backgroundColor = n), (t.padding = r);
									var c = t.canvas;
									c ||
										((a += 2 * r),
										(s += 2.25 * r),
										((c =
											document.createElement(
												"canvas"
											)).width = a),
										(c.height = s));
									var f = c.getContext("2d");
									(f.fillStyle = n
										? n.toCssColorString()
										: void 0),
										t.border &&
											((f.lineWidth = t.borderWidth),
											(f.strokeStyle =
												t.borderColor.toCssColorString())),
										t.borderRadius
											? (function (e, t, n) {
													n.beginPath(),
														n.moveTo(e.x + t, e.y),
														n.arcTo(
															e.x + e.width,
															e.y,
															e.x + e.width,
															e.y + e.height,
															t
														),
														n.arcTo(
															e.x + e.width,
															e.y + e.height,
															e.x,
															e.y + e.height,
															t
														),
														n.arcTo(
															e.x,
															e.y + e.height,
															e.x,
															e.y,
															t
														),
														n.arcTo(
															e.x,
															e.y,
															e.x + t,
															e.y,
															t
														),
														n.fill(),
														n.stroke();
											  })(
													{
														x: 0,
														y: 0,
														width: c.width,
														height: c.height,
													},
													t.borderRadius,
													f
											  )
											: (n &&
													f.fillRect(
														0,
														0,
														c.width,
														c.height
													),
											  t.border &&
													f.strokeRect(
														0,
														0,
														c.width,
														c.height
													)),
										delete f.strokeStyle,
										delete f.fillStyle;
									for (var h = 0, p = 0; p < o.length; p++)
										f.drawImage(o[p], 0 + r, h + r),
											(h += o[p].height);
									return c;
								}),
								(e.drawTriangle = function (e) {
									if (!e)
										throw new Error("options is required");
									if (!e.width)
										throw new Error(
											"options.width is required"
										);
									if (!e.height)
										throw new Error(
											"options.height is required"
										);
									(e.backgroundColor =
										e.backgroundColor || "black"),
										(e.borderColor =
											e.borderColor || "orange"),
										(e.borderWidth = e.borderWidth || 1);
									var t = document.createElement("canvas");
									(t.width = e.width), (t.height = e.height);
									var n = t.getContext("2d");
									return (
										n.beginPath(),
										1 === e.direction
											? (n.moveTo(t.width, 0),
											  n.lineTo(0, t.height / 2),
											  n.lineTo(t.width, t.height))
											: 2 === e.direction
											? (n.moveTo(0, t.height),
											  n.lineTo(t.width / 2, 0),
											  n.lineTo(t.width, t.height))
											: 3 === e.direction
											? (n.moveTo(0, t.height),
											  n.lineTo(t.width, t.height / 2),
											  n.lineTo(0, 0))
											: (n.moveTo(0, 0),
											  n.lineTo(t.width / 2, t.height),
											  n.lineTo(t.width, 0)),
										(n.lineJoin = "round"),
										e.backgroundColor &&
											((n.fillStyle =
												e.backgroundColor.toCssColorString()),
											n.fill()),
										e.border &&
											((n.lineWidth = e.borderWidth),
											(n.strokeStyle =
												e.borderColor.toCssColorString()),
											n.stroke()),
										t
									);
								}),
								(e.getAllAttribution = function (e) {
									return e.scene.frameState.creditDisplay._currentFrameCredits.screenCredits.values
										.concat(
											e.scene.frameState.creditDisplay
												._currentFrameCredits
												.lightboxCredits.values
										)
										.map(function (e) {
											return e.html;
										});
								}),
								(e.getDocumentByClassName = void 0),
								(e.getExtension = a),
								(e.getString = function (e, t) {
									return (
										e instanceof Uint8Array ||
											e instanceof ArrayBuffer ||
											!e.buffer ||
											(e = e.buffer),
										new TextDecoder(t).decode(e, {
											stream: !0,
										})
									);
								}),
								(e.groupBy = function (e, t) {
									var n = {};
									return (
										e.forEach(function (e) {
											if (t in e) {
												var r = e[t];
												r &&
													((n[r] = n[r] || []),
													n[r].push(e));
											}
										}),
										n
									);
								}),
								(e.isArray = function (e) {
									return "[object Array]" === o.call(e);
								}),
								(e.isEmptyObj = function (e) {
									for (var t in e) return !1;
									return !0;
								}),
								(e.isFunction = function (e) {
									return "[object Function]" === o.call(e);
								}),
								(e.isNumber = function (e) {
									return "number" == typeof e;
								}),
								(e.isObject = function (e) {
									return (
										null !== e &&
										"object" === (0, r.default)(e)
									);
								}),
								(e.isString = function (e) {
									return "string" == typeof e;
								}),
								(e.isUndefined = function (e) {
									return void 0 === e;
								}),
								(e.lnglatValidator = function (e, t) {
									return (
										!!/^(-|\+)?(((\d|[1-9]\d|1[0-7]\d|0{1,3})\.\d{0,15})|(\d|[1-9]\d|1[0-7]\d|0{1,3})|180\.0{0,15}|180)$/.test(
											e
										) &&
										!!/^(-|\+)?([0-8]?\d{1}\.\d{0,15}|90\.0{0,15}|[0-8]?\d{1}|90)$/.test(
											t
										)
									);
								}),
								(e.readAllBytes = function (e) {
									var t = s(),
										n = new FileReader();
									return (
										(n.onload = function (e) {
											t.resolve(
												new Uint8Array(e.target.result)
											);
										}),
										(n.onprogress = function (e) {
											t.progress(e.target.result);
										}),
										(n.onerror = function (e) {
											t.reject(e.error);
										}),
										n.readAsArrayBuffer(e),
										t
									);
								}),
								(e.readAsArrayBuffer = function (e) {
									var t = s(),
										n = new FileReader();
									return (
										(n.onload = function (e) {
											t.resolve(e.target.result);
										}),
										(n.onprogress = function (e) {
											t.progress(e.target.result);
										}),
										(n.onerror = function (e) {
											t.reject(e.error);
										}),
										n.readAsArrayBuffer(e),
										t
									);
								}),
								(e.readAsText = function (e) {
									var t = s(),
										n = new FileReader();
									return (
										(n.onload = function (e) {
											t.resolve(e.target.result);
										}),
										(n.onprogress = function (e) {
											t.progress(e.target.result);
										}),
										(n.onerror = function (e) {
											t.reject(e.error);
										}),
										n.readAsText(e),
										t
									);
								}),
								(e.toKebabCase = void 0),
								(t = i(t)),
								(r = i(r));
							var o = Object.prototype.toString;
							function a(e) {
								var t = e.lastIndexOf(".");
								return t >= 0 ? e.substring(t, e.length) : "";
							}
							function s() {
								var e,
									n,
									r = new t.default(function (t, r) {
										(e = t), (n = r);
									});
								return {
									resolve: e,
									reject: n,
									promise: r,
									then: function (e) {
										return r.then(e);
									},
								};
							}
							(e.checkType = function (e) {
								return Object.prototype.toString
									.call(e)
									.slice(8, -1);
							}),
								(e.toKebabCase = function (e) {
									return e
										.replace(/[A-Z]/g, function (e) {
											return "-".concat(e.toLowerCase());
										})
										.replace(/^-/, "");
								}),
								(e.clone = function e(t, n) {
									if (
										null === t ||
										"object" !== (0, r.default)(t)
									)
										return t;
									n = n || !1;
									var i = new t.constructor();
									for (var o in t)
										if (t.hasOwnProperty(o)) {
											var a = t[o];
											n && (a = e(a, n)), (i[o] = a);
										}
									return i;
								}),
								(e.getDocumentByClassName = function (e, t) {
									var n,
										r = {};
									try {
										Array.prototype.slice
											.call(e)
											.forEach(function (e) {
												if (e.className === t)
													throw ((n = e), r);
											});
									} catch (e) {
										if (e !== r) throw e;
									}
									return n;
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.default =
									"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAY1BMVEX///+4t624t63BRkbbj4//9/fbjIz/6+v/5+f/5ub/3d3/1dX/0ND/z8/bgYH/xsb/vb3/urr/tLT/qqr/qKj/kpL/cHD/XFz/WFjbaWn/dnb/YGD/WVn/ior/bm7bb2////8vWcu1AAAAA3RSTlMAAIAXzkf+AAAAAWJLR0QAiAUdSAAAAAd0SU1FB9sFEhYZAAV2IPIAAACASURBVBjTjc7JEoMgEEVR0895wmiYRf//L4WiSVV2uRuKs+lXVX/0iiGWXgagbpo6UQa0XT8MfdeiwDjNyzJPIwNWsb1jm1iRQezHJ3bsgkEqbWJaSQbr/GnM6Z3NQAiX19pfAcRX7uCUcuEuZwmwUlqAylKiNJ3oOz1R+jL89gAYeAaPM7P+sgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wNi0yOFQyMjozNDowMyswODowMByu+LsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTEtMDUtMThUMjI6MjU6MDArMDg6MDAs8HGJAAAAQ3RFWHRzb2Z0d2FyZQAvdXNyL2xvY2FsL2ltYWdlbWFnaWNrL3NoYXJlL2RvYy9JbWFnZU1hZ2ljay03Ly9pbmRleC5odG1svbV5CgAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABd0RVh0VGh1bWI6OkltYWdlOjpIZWlnaHQAMTYdr15vAAAAFnRFWHRUaHVtYjo6SW1hZ2U6OldpZHRoADE25QCe4gAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxMzA1NzI4NzAwvZ5IOQAAABB0RVh0VGh1bWI6OlNpemUANDM2QnL66p4AAABedEVYdFRodW1iOjpVUkkAZmlsZTovLy9ob21lL3d3d3Jvb3QvbmV3c2l0ZS93d3cuZWFzeWljb24ubmV0L2Nkbi1pbWcuZWFzeWljb24uY24vc3JjLzM0Ny8zNDc1MS5wbmfjEwQRAAAAAElFTkSuQmCC");
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			e.exports = !n(20)(function () {
				return (
					7 !=
					Object.defineProperty({}, "a", {
						get: function () {
							return 7;
						},
					}).a
				);
			});
		},
		function (e, t, n) {
			e.exports = n(208);
		},
		function (e, t, n) {
			var r = n(11),
				i = n(96),
				o = n(68),
				a = Object.defineProperty;
			t.f = n(14)
				? Object.defineProperty
				: function (e, t, n) {
						if ((r(e), (t = o(t, !0)), r(n), i))
							try {
								return a(e, t, n);
							} catch (e) {}
						if ("get" in n || "set" in n)
							throw TypeError("Accessors not supported!");
						return "value" in n && (e[t] = n.value), e;
				  };
		},
		function (e, t, n) {
			var r = n(2),
				i = n(1),
				o = n(20);
			e.exports = function (e, t) {
				var n = (i.Object || {})[e] || Object[e],
					a = {};
				(a[e] = t(n)),
					r(
						r.S +
							r.F *
								o(function () {
									n(1);
								}),
						"Object",
						a
					);
			};
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(10), n(90), n(12)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, n, r) {
							"use strict";
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.captureScreenshot = function (e) {
									var t = (0, r.defer)(),
										n = e.scene,
										i = n.postRender.addEventListener(
											function () {
												i();
												try {
													e.scene.canvas.toBlob(
														function (e) {
															t.resolve(e);
														},
														"image/png"
													);
												} catch (e) {
													t.reject(e);
												}
											},
											this
										);
									return (
										n.render(e.clock.currentTime), t.promise
									);
								}),
								(e.getLocation = function (e) {
									var t = e.camera;
									return {
										destination: t.position,
										orientation: {
											direction: t.direction,
											up: t.up,
										},
									};
								}),
								(e.getStyle = function (e) {
									var n = e.drawType,
										r = 14;
									switch (
										(e.label &&
											(r = e.label.font
												.getValue()
												.split("px")[0]),
										n)
									) {
										case t.DrawType.DRAW_POLYGON:
										case t.DrawType.DRAW_CIRCLE:
										case t.DrawType.DRAW_PINCER_ARROW:
										case t.DrawType.DRAW_STRAIGHT_ARROW:
										case t.DrawType.DRAW_BUFFERLINE:
										case t.DrawType.DRAW_ATTACK_ARROW:
											return {
												color: e.polygon.material
													.getValue()
													.color.toCssColorString(),
												outlineColor:
													e.polyline.material
														.getValue()
														.color.toCssColorString(),
												outlineWidth:
													e.polyline.width.getValue(),
												type: n,
												name:
													e.label.text.getValue() ||
													t.drawTypeName[n],
												fill:
													void 0 === e.polygon.show ||
													e.polygon.show.getValue(),
												outline:
													void 0 ===
														e.polyline.show ||
													e.polyline.show.getValue(),
												showLabel:
													!e.label.show ||
													e.label.show.getValue(),
												fontSize: r,
												labelColor: e.label.fillColor
													.getValue()
													.toCssColorString(),
											};
										case t.DrawType.DRAW_POLYLINE:
											return {
												color: e.polyline.material
													.getValue()
													.color.toCssColorString(),
												width: e.polyline.width.getValue(),
												type: n,
												name:
													e.label.text.getValue() ||
													t.drawTypeName[n],
												showLabel:
													!e.label.show ||
													e.label.show.getValue(),
												fontSize: r,
												labelColor: e.label.fillColor
													.getValue()
													.toCssColorString(),
											};
										case t.DrawType.DRAW_POINT:
										case t.DrawType.DRAW_RESOURCE:
											return {
												scale: e.billboard.scale.getValue(),
												color: e.billboard.color
													.getValue()
													.toCssColorString(),
												image: e.billboard.image.getValue(),
												type: n,
												name:
													e.label.text.getValue() ||
													t.drawTypeName[n],
												showLabel:
													!e.label.show ||
													e.label.show.getValue(),
												fontSize: r,
												labelColor: e.label.fillColor
													.getValue()
													.toCssColorString(),
											};
										case t.DrawType.DRAW_TEXT:
											return {
												labelColor: e.label.fillColor
													.getValue()
													.toCssColorString(),
												labelOutlineColor:
													e.label.outlineColor
														.getValue()
														.toCssColorString(),
												labelOutlineWidth:
													e.label.outlineWidth.getValue(),
												name:
													e.label.text.getValue() ||
													t.drawTypeName[n],
												fontSize: r,
												type: n,
												showLabel:
													!e.label.show ||
													e.label.show.getValue(),
											};
										default:
											return "";
									}
								}),
								(e.updateStyle = function (e, r) {
									var i = e.drawType;
									switch (
										(e.label &&
											((0, n.has)(r, "showLabel") &&
												!0 === r.showLabel &&
												(r.labelColor &&
													(e.label.fillColor =
														Cesium.Color.fromCssColorString(
															r.labelColor
														)),
												r.labelOutlineColor &&
													(e.label.outlineColor =
														Cesium.Color.fromCssColorString(
															r.labelOutlineColor
														)),
												r.labelOutlineWidth &&
													(e.label.outlineWidth =
														r.labelOutlineWidth),
												r.name &&
													(e.label.text = r.name),
												r.fontSize &&
													(e.label.font = "".concat(
														r.fontSize,
														"px sans-serif"
													))),
											(e.label.show = r.showLabel)),
										i)
									) {
										case t.DrawType.DRAW_POLYGON:
										case t.DrawType.DRAW_CIRCLE:
										case t.DrawType.DRAW_PINCER_ARROW:
										case t.DrawType.DRAW_STRAIGHT_ARROW:
										case t.DrawType.DRAW_BUFFERLINE:
										case t.DrawType.DRAW_ATTACK_ARROW:
											e.polygon &&
												(0, n.has)(r, "fill") &&
												(!0 === r.fill &&
													r.color &&
													(e.polygon.material =
														Cesium.Color.fromCssColorString(
															r.color
														)),
												(e.polygon.show = r.fill)),
												e.polyline &&
													(0, n.has)(r, "outline") &&
													(!0 === r.outline &&
														(r.outlineColor &&
															(e.polyline.material.color =
																Cesium.Color.fromCssColorString(
																	r.outlineColor
																)),
														r.outlineWidth &&
															(e.polyline.width =
																r.outlineWidth)),
													(e.polyline.show =
														r.outline));
											break;
										case t.DrawType.DRAW_POLYLINE:
											e.polyline &&
												(r.color &&
													(e.polyline.material.color =
														Cesium.Color.fromCssColorString(
															r.color
														)),
												r.width &&
													(e.polyline.width =
														r.width));
											break;
										case t.DrawType.DRAW_RECTANGLE:
											r.rectangle &&
												(0, n.has)(r, "fill") &&
												(!0 === r.fill &&
													r.color &&
													(e.rectangle.material =
														Cesium.Color.fromCssColorString(
															r.color
														)),
												(e.rectangle.show = r.fill)),
												e.polyline &&
													(0, n.has)(r, "outline") &&
													(!0 === r.outline &&
														(r.outlineColor &&
															(e.polyline.material.color =
																Cesium.Color.fromCssColorString(
																	r.outlineColor
																)),
														r.outlineWidth &&
															(e.polyline.width =
																r.outlineWidth)),
													(e.polyline.show =
														r.outline));
											break;
										case t.DrawType.DRAW_POINT:
										case t.DrawType.DRAW_RESOURCE:
											e.billboard &&
												(r.scale &&
													((e.billboard.scale =
														r.scale),
													i ===
														t.DrawType
															.DRAW_RESOURCE &&
														(e.label.pixelOffset =
															new Cesium.Cartesian2(
																0,
																-40 * r.scale
															))),
												r.color &&
													(e.billboard.color =
														Cesium.Color.fromCssColorString(
															r.color
														)),
												r.image &&
													(e.billboard.image =
														r.image));
											break;
										default:
											return "";
									}
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t) {
			var n = {}.hasOwnProperty;
			e.exports = function (e, t) {
				return n.call(e, t);
			};
		},
		function (e, t) {
			e.exports = function (e) {
				try {
					return !!e();
				} catch (e) {
					return !0;
				}
			};
		},
		function (e, t, n) {
			var r = n(32);
			e.exports = function (e, t, n) {
				if ((r(e), void 0 === t)) return e;
				switch (n) {
					case 1:
						return function (n) {
							return e.call(t, n);
						};
					case 2:
						return function (n, r) {
							return e.call(t, n, r);
						};
					case 3:
						return function (n, r, i) {
							return e.call(t, n, r, i);
						};
				}
				return function () {
					return e.apply(t, arguments);
				};
			};
		},
		function (e, t, n) {
			var r = n(72),
				i = n(55);
			e.exports = function (e) {
				return r(i(e));
			};
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.default =
									"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sKHAksIgfSpw8AAAFQSURBVBjTlZC/axphAIaf+87e5dTUkCGSDoIVuzUgZBM3hyCCAef0PxQiBRMhBgx26ODSUgIedJAG1BAI5Ls7vu+7H12iuw+88A7P8r6wB9a29Pt917KsM+AzcAi8AX+zLPs1GAzUTu71eq4Q4qLb7V42m812Pp8vB0Gwns1md6PR6DpN09vhcKhsgHq9ft7pdK5arda3KIpKYRjacRx/rFarZ4D2ff/fYrF4ygEYY740Go32er0WWZahtcYYQ5qmolartY0xE+BnDkBrXbIs60RKiZQhSRLvRjmOc6K1LgHkAJRSwWbz8hxFySfbdrFtdyeHYfCslAoAxLvsT6fTB887TF23wDaOU0jn8/mDUsoHsAHK5fLm8fHPhyTJstPTyrHnFQ+klJv7+/F4Mrn5LoS4W61W8e7nSqXiSSmbwFfgCHgFfheLxR/L5TJiX/4DB6mbvqBlRUAAAAAASUVORK5CYII=");
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r = n(16),
				i = n(44);
			e.exports = n(14)
				? function (e, t, n) {
						return r.f(e, t, i(1, n));
				  }
				: function (e, t, n) {
						return (e[t] = n), e;
				  };
		},
		function (e, t, n) {
			var r = n(53)("meta"),
				i = n(3),
				o = n(19),
				a = n(16).f,
				s = 0,
				l =
					Object.isExtensible ||
					function () {
						return !0;
					},
				u = !n(20)(function () {
					return l(Object.preventExtensions({}));
				}),
				c = function (e) {
					a(e, r, { value: { i: "O" + ++s, w: {} } });
				},
				f = (e.exports = {
					KEY: r,
					NEED: !1,
					fastKey: function (e, t) {
						if (!i(e))
							return "symbol" == typeof e
								? e
								: ("string" == typeof e ? "S" : "P") + e;
						if (!o(e, r)) {
							if (!l(e)) return "F";
							if (!t) return "E";
							c(e);
						}
						return e[r].i;
					},
					getWeak: function (e, t) {
						if (!o(e, r)) {
							if (!l(e)) return !0;
							if (!t) return !1;
							c(e);
						}
						return e[r].w;
					},
					onFreeze: function (e) {
						return u && f.NEED && l(e) && !o(e, r) && c(e), e;
					},
				});
		},
		function (e, t, n) {
			n(144);
			for (
				var r = n(4),
					i = n(24),
					o = n(40),
					a = n(7)("toStringTag"),
					s =
						"CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(
							","
						),
					l = 0;
				l < s.length;
				l++
			) {
				var u = s[l],
					c = r[u],
					f = c && c.prototype;
				f && !f[a] && i(f, a, u), (o[u] = o.Array);
			}
		},
		function (e, t, n) {
			e.exports = n(173);
		},
		function (e, t, n) {
			e.exports = n(175);
		},
		function (e, t, n) {
			e.exports = n(201);
		},
		function (e, t, n) {
			e.exports = n(134);
		},
		function (e, t, n) {
			e.exports = n(158);
		},
		function (e, t) {
			e.exports = function (e) {
				if ("function" != typeof e)
					throw TypeError(e + " is not a function!");
				return e;
			};
		},
		function (e, t, n) {
			var r = n(55);
			e.exports = function (e) {
				return Object(r(e));
			};
		},
		function (e, t) {},
		function (e, t, n) {
			"use strict";
			var r = n(142)(!0);
			n(77)(
				String,
				"String",
				function (e) {
					(this._t = String(e)), (this._i = 0);
				},
				function () {
					var e,
						t = this._t,
						n = this._i;
					return n >= t.length
						? { value: void 0, done: !0 }
						: ((e = r(t, n)),
						  (this._i += e.length),
						  { value: e, done: !1 });
				}
			);
		},
		function (e, t, n) {
			var r = n(3);
			e.exports = function (e, t) {
				if (!r(e) || e._t !== t)
					throw TypeError(
						"Incompatible receiver, " + t + " required!"
					);
				return e;
			};
		},
		function (e, t, n) {
			"use strict";
			n.r(t),
				n.d(t, "default", function () {
					return s;
				});
			var r = n(30),
				i = n.n(r),
				o = n(66),
				a = n.n(o);
			function s(e) {
				return (s =
					"function" == typeof i.a && "symbol" == typeof a.a
						? function (e) {
								return typeof e;
						  }
						: function (e) {
								return e &&
									"function" == typeof i.a &&
									e.constructor === i.a &&
									e !== i.a.prototype
									? "symbol"
									: typeof e;
						  })(e);
			}
		},
		function (e, t, n) {
			e.exports = n(164);
		},
		function (e, t, n) {
			var r = n(97),
				i = n(75);
			e.exports =
				Object.keys ||
				function (e) {
					return r(e, i);
				};
		},
		function (e, t) {
			e.exports = {};
		},
		function (e, t, n) {
			var r = n(21),
				i = n(104),
				o = n(105),
				a = n(11),
				s = n(56),
				l = n(81),
				u = {},
				c = {};
			((t = e.exports =
				function (e, t, n, f, h) {
					var p,
						d,
						y,
						m,
						v = h
							? function () {
									return e;
							  }
							: l(e),
						g = r(n, f, t ? 2 : 1),
						_ = 0;
					if ("function" != typeof v)
						throw TypeError(e + " is not iterable!");
					if (o(v)) {
						for (p = s(e.length); p > _; _++)
							if (
								(m = t
									? g(a((d = e[_]))[0], d[1])
									: g(e[_])) === u ||
								m === c
							)
								return m;
					} else
						for (y = v.call(e); !(d = y.next()).done; )
							if ((m = i(y, g, d.value, t)) === u || m === c)
								return m;
				}).BREAK = u),
				(t.RETURN = c);
		},
		function (e, t, n) {
			e.exports = n(152);
		},
		function (e, t, n) {
			"use strict";
			n.r(t),
				n.d(t, "default", function () {
					return o;
				});
			var r = n(31),
				i = n.n(r);
			function o(e, t, n) {
				return (
					t in e
						? i()(e, t, {
								value: n,
								enumerable: !0,
								configurable: !0,
								writable: !0,
						  })
						: (e[t] = n),
					e
				);
			}
		},
		function (e, t) {
			e.exports = function (e, t) {
				return {
					enumerable: !(1 & e),
					configurable: !(2 & e),
					writable: !(4 & e),
					value: t,
				};
			};
		},
		function (e, t) {
			e.exports = !0;
		},
		function (e, t, n) {
			var r = n(16).f,
				i = n(19),
				o = n(7)("toStringTag");
			e.exports = function (e, t, n) {
				e &&
					!i((e = n ? e : e.prototype), o) &&
					r(e, o, { configurable: !0, value: t });
			};
		},
		function (e, t) {
			var n = {}.toString;
			e.exports = function (e) {
				return n.call(e).slice(8, -1);
			};
		},
		function (e, t) {
			t.f = {}.propertyIsEnumerable;
		},
		function (e, t, n) {
			var r = n(11),
				i = n(138),
				o = n(75),
				a = n(74)("IE_PROTO"),
				s = function () {},
				l = function () {
					var e,
						t = n(67)("iframe"),
						r = o.length;
					for (
						t.style.display = "none",
							n(99).appendChild(t),
							t.src = "javascript:",
							(e = t.contentWindow.document).open(),
							e.write("<script>document.F=Object</script>"),
							e.close(),
							l = e.F;
						r--;

					)
						delete l.prototype[o[r]];
					return l();
				};
			e.exports =
				Object.create ||
				function (e, t) {
					var n;
					return (
						null !== e
							? ((s.prototype = r(e)),
							  (n = new s()),
							  (s.prototype = null),
							  (n[a] = e))
							: (n = l()),
						void 0 === t ? n : i(n, t)
					);
				};
		},
		function (e, t, n) {
			var r = n(48),
				i = n(44),
				o = n(22),
				a = n(68),
				s = n(19),
				l = n(96),
				u = Object.getOwnPropertyDescriptor;
			t.f = n(14)
				? u
				: function (e, t) {
						if (((e = o(e)), (t = a(t, !0)), l))
							try {
								return u(e, t);
							} catch (e) {}
						if (s(e, t)) return i(!r.f.call(e, t), e[t]);
				  };
		},
		function (e, t, n) {
			e.exports = n(162);
		},
		function (e, t, n) {
			var r = n(30),
				i = n(66);
			function o(t) {
				return (
					(e.exports = o =
						"function" == typeof r && "symbol" == typeof i
							? function (e) {
									return typeof e;
							  }
							: function (e) {
									return e &&
										"function" == typeof r &&
										e.constructor === r &&
										e !== r.prototype
										? "symbol"
										: typeof e;
							  }),
					(e.exports.__esModule = !0),
					(e.exports.default = e.exports),
					o(t)
				);
			}
			(e.exports = o),
				(e.exports.__esModule = !0),
				(e.exports.default = e.exports);
		},
		function (e, t) {
			var n = 0,
				r = Math.random();
			e.exports = function (e) {
				return "Symbol(".concat(
					void 0 === e ? "" : e,
					")_",
					(++n + r).toString(36)
				);
			};
		},
		function (e, t, n) {
			t.f = n(7);
		},
		function (e, t) {
			e.exports = function (e) {
				if (null == e) throw TypeError("Can't call method on  " + e);
				return e;
			};
		},
		function (e, t, n) {
			var r = n(73),
				i = Math.min;
			e.exports = function (e) {
				return e > 0 ? i(r(e), 9007199254740991) : 0;
			};
		},
		function (e, t) {
			t.f = Object.getOwnPropertySymbols;
		},
		function (e, t, n) {
			var r = n(24);
			e.exports = function (e, t, n) {
				for (var i in t) n && e[i] ? (e[i] = t[i]) : r(e, i, t[i]);
				return e;
			};
		},
		function (e, t) {
			e.exports = function (e, t, n, r) {
				if (!(e instanceof t) || (void 0 !== r && r in e))
					throw TypeError(n + ": incorrect invocation!");
				return e;
			};
		},
		function (e, t, n) {
			var r = n(47),
				i = n(7)("toStringTag"),
				o =
					"Arguments" ==
					r(
						(function () {
							return arguments;
						})()
					);
			e.exports = function (e) {
				var t, n, a;
				return void 0 === e
					? "Undefined"
					: null === e
					? "Null"
					: "string" ==
					  typeof (n = (function (e, t) {
							try {
								return e[t];
							} catch (e) {}
					  })((t = Object(e)), i))
					? n
					: o
					? r(t)
					: "Object" == (a = r(t)) && "function" == typeof t.callee
					? "Arguments"
					: a;
			};
		},
		function (e, t, n) {
			"use strict";
			var r = n(4),
				i = n(2),
				o = n(25),
				a = n(20),
				s = n(24),
				l = n(58),
				u = n(41),
				c = n(59),
				f = n(3),
				h = n(46),
				p = n(16).f,
				d = n(80)(0),
				y = n(14);
			e.exports = function (e, t, n, m, v, g) {
				var _ = r[e],
					b = _,
					x = v ? "set" : "add",
					w = b && b.prototype,
					C = {};
				return (
					y &&
					"function" == typeof b &&
					(g ||
						(w.forEach &&
							!a(function () {
								new b().entries().next();
							})))
						? ((b = t(function (t, n) {
								c(t, b, e, "_c"),
									(t._c = new _()),
									null != n && u(n, v, t[x], t);
						  })),
						  d(
								"add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(
									","
								),
								function (e) {
									var t = "add" == e || "set" == e;
									!(e in w) ||
										(g && "clear" == e) ||
										s(b.prototype, e, function (n, r) {
											if (
												(c(this, b, e),
												!t && g && !f(n))
											)
												return "get" == e && void 0;
											var i = this._c[e](
												0 === n ? 0 : n,
												r
											);
											return t ? this : i;
										});
								}
						  ),
						  g ||
								p(b.prototype, "size", {
									get: function () {
										return this._c.size;
									},
								}))
						: ((b = m.getConstructor(t, e, v, x)),
						  l(b.prototype, n),
						  (o.NEED = !0)),
					h(b, e),
					(C[e] = b),
					i(i.G + i.W + i.F, C),
					g || m.setStrong(b, e, v),
					b
				);
			};
		},
		function (e, t, n) {
			"use strict";
			var r = n(2);
			e.exports = function (e) {
				r(r.S, e, {
					of: function () {
						for (var e = arguments.length, t = new Array(e); e--; )
							t[e] = arguments[e];
						return new this(t);
					},
				});
			};
		},
		function (e, t, n) {
			"use strict";
			var r = n(2),
				i = n(32),
				o = n(21),
				a = n(41);
			e.exports = function (e) {
				r(r.S, e, {
					from: function (e) {
						var t,
							n,
							r,
							s,
							l = arguments[1];
						return (
							i(this),
							(t = void 0 !== l) && i(l),
							null == e
								? new this()
								: ((n = []),
								  t
										? ((r = 0),
										  (s = o(l, arguments[2], 2)),
										  a(e, !1, function (e) {
												n.push(s(e, r++));
										  }))
										: a(e, !1, n.push, n),
								  new this(n))
						);
					},
				});
			};
		},
		function (e, t, n) {
			e.exports = n(177);
		},
		function (e, t, n) {
			e.exports = n(211);
		},
		function (e, t, n) {
			e.exports = n(141);
		},
		function (e, t, n) {
			var r = n(3),
				i = n(4).document,
				o = r(i) && r(i.createElement);
			e.exports = function (e) {
				return o ? i.createElement(e) : {};
			};
		},
		function (e, t, n) {
			var r = n(3);
			e.exports = function (e, t) {
				if (!r(e)) return e;
				var n, i;
				if (
					t &&
					"function" == typeof (n = e.toString) &&
					!r((i = n.call(e)))
				)
					return i;
				if ("function" == typeof (n = e.valueOf) && !r((i = n.call(e))))
					return i;
				if (
					!t &&
					"function" == typeof (n = e.toString) &&
					!r((i = n.call(e)))
				)
					return i;
				throw TypeError("Can't convert object to primitive value");
			};
		},
		function (e, t, n) {
			e.exports = n(24);
		},
		function (e, t, n) {
			var r = n(1),
				i = n(4),
				o = i["__core-js_shared__"] || (i["__core-js_shared__"] = {});
			(e.exports = function (e, t) {
				return o[e] || (o[e] = void 0 !== t ? t : {});
			})("versions", []).push({
				version: r.version,
				mode: n(45) ? "pure" : "global",
				copyright: "© 2020 Denis Pushkarev (zloirock.ru)",
			});
		},
		function (e, t, n) {
			var r = n(4),
				i = n(1),
				o = n(45),
				a = n(54),
				s = n(16).f;
			e.exports = function (e) {
				var t = i.Symbol || (i.Symbol = o ? {} : r.Symbol || {});
				"_" == e.charAt(0) || e in t || s(t, e, { value: a.f(e) });
			};
		},
		function (e, t, n) {
			var r = n(47);
			e.exports = Object("z").propertyIsEnumerable(0)
				? Object
				: function (e) {
						return "String" == r(e) ? e.split("") : Object(e);
				  };
		},
		function (e, t) {
			var n = Math.ceil,
				r = Math.floor;
			e.exports = function (e) {
				return isNaN((e = +e)) ? 0 : (e > 0 ? r : n)(e);
			};
		},
		function (e, t, n) {
			var r = n(70)("keys"),
				i = n(53);
			e.exports = function (e) {
				return r[e] || (r[e] = i(e));
			};
		},
		function (e, t) {
			e.exports =
				"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(
					","
				);
		},
		function (e, t, n) {
			var r = n(97),
				i = n(75).concat("length", "prototype");
			t.f =
				Object.getOwnPropertyNames ||
				function (e) {
					return r(e, i);
				};
		},
		function (e, t, n) {
			"use strict";
			var r = n(45),
				i = n(2),
				o = n(69),
				a = n(24),
				s = n(40),
				l = n(143),
				u = n(46),
				c = n(78),
				f = n(7)("iterator"),
				h = !([].keys && "next" in [].keys()),
				p = function () {
					return this;
				};
			e.exports = function (e, t, n, d, y, m, v) {
				l(n, t, d);
				var g,
					_,
					b,
					x = function (e) {
						if (!h && e in k) return k[e];
						switch (e) {
							case "keys":
							case "values":
								return function () {
									return new n(this, e);
								};
						}
						return function () {
							return new n(this, e);
						};
					},
					w = t + " Iterator",
					C = "values" == y,
					T = !1,
					k = e.prototype,
					P = k[f] || k["@@iterator"] || (y && k[y]),
					E = P || x(y),
					S = y ? (C ? x("entries") : E) : void 0,
					A = ("Array" == t && k.entries) || P;
				if (
					(A &&
						(b = c(A.call(new e()))) !== Object.prototype &&
						b.next &&
						(u(b, w, !0),
						r || "function" == typeof b[f] || a(b, f, p)),
					C &&
						P &&
						"values" !== P.name &&
						((T = !0),
						(E = function () {
							return P.call(this);
						})),
					(r && !v) || (!h && !T && k[f]) || a(k, f, E),
					(s[t] = E),
					(s[w] = p),
					y)
				)
					if (
						((g = {
							values: C ? E : x("values"),
							keys: m ? E : x("keys"),
							entries: S,
						}),
						v)
					)
						for (_ in g) _ in k || o(k, _, g[_]);
					else i(i.P + i.F * (h || T), t, g);
				return g;
			};
		},
		function (e, t, n) {
			var r = n(19),
				i = n(33),
				o = n(74)("IE_PROTO"),
				a = Object.prototype;
			e.exports =
				Object.getPrototypeOf ||
				function (e) {
					return (
						(e = i(e)),
						r(e, o)
							? e[o]
							: "function" == typeof e.constructor &&
							  e instanceof e.constructor
							? e.constructor.prototype
							: e instanceof Object
							? a
							: null
					);
				};
		},
		function (e, t, n) {
			e.exports = n(146);
		},
		function (e, t, n) {
			var r = n(21),
				i = n(72),
				o = n(33),
				a = n(56),
				s = n(148);
			e.exports = function (e, t) {
				var n = 1 == e,
					l = 2 == e,
					u = 3 == e,
					c = 4 == e,
					f = 6 == e,
					h = 5 == e || f,
					p = t || s;
				return function (t, s, d) {
					for (
						var y,
							m,
							v = o(t),
							g = i(v),
							_ = r(s, d, 3),
							b = a(g.length),
							x = 0,
							w = n ? p(t, b) : l ? p(t, 0) : void 0;
						b > x;
						x++
					)
						if ((h || x in g) && ((m = _((y = g[x]), x, v)), e))
							if (n) w[x] = m;
							else if (m)
								switch (e) {
									case 3:
										return !0;
									case 5:
										return y;
									case 6:
										return x;
									case 2:
										w.push(y);
								}
							else if (c) return !1;
					return f ? -1 : u || c ? c : w;
				};
			};
		},
		function (e, t, n) {
			var r = n(60),
				i = n(7)("iterator"),
				o = n(40);
			e.exports = n(1).getIteratorMethod = function (e) {
				if (null != e) return e[i] || e["@@iterator"] || o[r(e)];
			};
		},
		function (e, t, n) {
			e.exports = n(154);
		},
		function (e, t, n) {
			var r = n(157)();
			e.exports = r;
			try {
				regeneratorRuntime = r;
			} catch (e) {
				"object" == typeof globalThis
					? (globalThis.regeneratorRuntime = r)
					: Function("r", "regeneratorRuntime = r")(r);
			}
		},
		function (e, t, n) {
			"use strict";
			var r = n(32);
			function i(e) {
				var t, n;
				(this.promise = new e(function (e, r) {
					if (void 0 !== t || void 0 !== n)
						throw TypeError("Bad Promise constructor");
					(t = e), (n = r);
				})),
					(this.resolve = r(t)),
					(this.reject = r(n));
			}
			e.exports.f = function (e) {
				return new i(e);
			};
		},
		function (e, t, n) {
			"use strict";
			n.r(t),
				n.d(t, "default", function () {
					return a;
				});
			var r = n(5),
				i = n.n(r);
			function o(e, t, n, r, o, a, s) {
				try {
					var l = e[a](s),
						u = l.value;
				} catch (e) {
					return void n(e);
				}
				l.done ? t(u) : i.a.resolve(u).then(r, o);
			}
			function a(e) {
				return function () {
					var t = this,
						n = arguments;
					return new i.a(function (r, i) {
						var a = e.apply(t, n);
						function s(e) {
							o(a, r, i, s, l, "next", e);
						}
						function l(e) {
							o(a, r, i, s, l, "throw", e);
						}
						s(void 0);
					});
				};
			}
		},
		function (e, t, n) {
			e.exports = n(184);
		},
		function (e, t, n) {
			e.exports = n(185);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(64)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t) {
							"use strict";
							var r = n(0);
							function i() {
								var e =
										arguments.length > 0 &&
										void 0 !== arguments[0]
											? arguments[0]
											: {},
									t = Cesium,
									n = t.defaultValue,
									r = t.Cartesian3,
									i = t.Color,
									o = t.createGuid;
								if (e.modelMatrix) {
									var a = Cesium.Matrix4.getTranslation(
										e.modelMatrix,
										new r()
									);
									(e.position = a),
										(this._originMartix = e.modelMatrix);
								}
								(this._position = n(e.position, new r())),
									(this._heading = n(e.heading, 0)),
									(this._pitch = n(e.pitch, 0)),
									(this._roll = n(e.roll, 0)),
									(this._scale = n(e.scale, new r(1, 1, 1))),
									(this._color = n(e.color, i.WHITE)),
									(this._distanceDisplayCondition =
										Cesium.defaultValue(
											e.distanceDisplayCondition,
											new Cesium.DistanceDisplayCondition()
										)),
									(this._heightReference = n(
										e.heightReference,
										Cesium.HeightReference.NONE
									)),
									this._heightReference > 0 &&
										(this._heightChanged = !0),
									(this._id = o()),
									(this._properties = n(
										e.properties,
										void 0
									)),
									(this._clampedModelMatrix = void 0),
									(this._show = Cesium.defaultValue(
										e.show,
										!0
									)),
									(this._pickId = void 0);
							}
							function o(e, t, n) {
								var r = Cesium,
									i = r.HeightReference,
									o = r.Matrix4,
									a = new (0, r.Cartographic)();
								return function (r) {
									if (
										e.heightReference ===
										i.RELATIVE_TO_GROUND
									) {
										var s = t.cartesianToCartographic(r, a);
										(s.height += n.height),
											t.cartographicToCartesian(s, r);
									}
									var l = e._clampedModelMatrix,
										u =
											Cesium.Transforms.localFrameToFixedFrameGenerator(
												"east",
												"north"
											),
										c = new Cesium.HeadingPitchRoll(
											e._heading,
											e._pitch,
											e._roll
										),
										f =
											Cesium.Transforms.headingPitchRollToFixedFrame(
												e._position,
												c,
												Cesium.Ellipsoid.WGS84,
												u
											),
										h = Cesium.Matrix4.fromScale(e._scale);
									Cesium.Matrix4.multiply(f, h, f),
										o.clone(f, l),
										(l[12] = r.x),
										(l[13] = r.y),
										(l[14] = r.z),
										(e._heightChanged = !0);
								};
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = r(t)),
								Object.defineProperties(i.prototype, {
									position: {
										get: function () {
											return this._position;
										},
										set: function (e) {
											this._position.equals(e) ||
												((this._position = e),
												this._boundingSphere &&
													((this._boundingSphere.center =
														e),
													this
														._boundingSpherePrimitive &&
														(this._boundingSpherePrimitive.modelMatrix =
															Cesium.Matrix4.fromTranslation(
																e
															))));
										},
									},
									heading: {
										get: function () {
											return this._heading;
										},
										set: function (e) {
											this._heading !== e &&
												(this._heading = e);
										},
									},
									pitch: {
										get: function () {
											return this._pitch;
										},
										set: function (e) {
											this._pitch !== e &&
												(this._pitch = e);
										},
									},
									roll: {
										get: function () {
											return this._roll;
										},
										set: function (e) {
											this._roll !== e &&
												(this._roll = e);
										},
									},
									scale: {
										get: function () {
											return this._scale;
										},
										set: function (e) {
											this._scale.equals(e) ||
												(this._scale = e);
										},
									},
									color: {
										get: function () {
											return this._color;
										},
										set: function (e) {
											e instanceof Cesium.Color
												? this._color.equals(e) ||
												  (this._color = e)
												: (this._color =
														Cesium.Color.fromCssColorString(
															e
														));
										},
									},
									heightReference: {
										get: function () {
											return this._heightReference;
										},
										set: function (e) {
											e !== this._heightReference &&
												((this._heightReference = e),
												this._heightReference > 0 &&
													(this._heightChanged = !0));
										},
									},
									distanceDisplayCondition: {
										get: function () {
											return this
												._distanceDisplayCondition;
										},
										set: function (e) {
											this._distanceDisplayCondition = e;
										},
									},
									properties: {
										get: function () {
											return this._properties;
										},
										set: function (e) {
											this._properties = e;
										},
									},
									_modelMatrix: {
										get: function () {
											if (
												this._heightReference ===
												Cesium.HeightReference.NONE
											) {
												var e;
												if (this._originMartix)
													e = this._originMartix;
												else {
													var t =
															Cesium.Transforms.localFrameToFixedFrameGenerator(
																"east",
																"north"
															),
														n =
															new Cesium.HeadingPitchRoll(
																this._heading,
																this._pitch,
																this._roll
															);
													e =
														Cesium.Transforms.headingPitchRollToFixedFrame(
															this._position,
															n,
															Cesium.Ellipsoid
																.WGS84,
															t
														);
												}
												var r =
													Cesium.Matrix4.fromScale(
														this._scale
													);
												return (
													Cesium.Matrix4.multiply(
														e,
														r,
														e
													),
													e
												);
											}
											return this._clampedModelMatrix
												? this._clampedModelMatrix
												: Cesium.Matrix4.IDENTITY;
										},
									},
									show: {
										get: function () {
											return this._show;
										},
										set: function (e) {
											(this._show = e),
												e || (this.visible = !1);
										},
									},
									pickId: {
										get: function () {
											return this._pickId;
										},
										set: function (e) {
											this._pickId = e;
										},
									},
								}),
								(i.prototype.clone = function (e) {
									return (
										(0, Cesium.defined)(e) || (e = new i()),
										(e._position = this._position),
										(e._heading = this._heading),
										(e._pitch = this._pitch),
										(e._roll = this._roll),
										(e._color = this._color),
										(e._scale = this._scale),
										e
									);
								}),
								(i.prototype.equals = function (e) {
									return (
										!!this.position.equals(e.position) &&
										!!this.color.equals(e.color) &&
										!!this.scale.equals(e.scale) &&
										this.heading === e.heading &&
										this.picth === e.picth &&
										this.roll === e.roll
									);
								}),
								(i.prototype.updateClamping = function (e) {
									if (!1 !== this._heightChanged) {
										var t = Cesium,
											n = t.defined,
											r = t.Matrix4,
											i = t.Cartographic,
											a = t.Cartesian3;
										if (n(this._removeUpdateHeightCallback))
											return (
												this._removeUpdateHeightCallback(),
												void (this._removeUpdateHeightCallback =
													void 0)
											);
										var s = e.globe,
											l = s.ellipsoid,
											u = l.cartesianToCartographic(
												this.position
											);
										n(this._clampedModelMatrix) ||
											(this._clampedModelMatrix =
												new r());
										var c = s._surface;
										this._removeUpdateHeightCallback =
											c.updateHeight(u, o(this, l, u));
										var f = s.getHeight(u);
										if (n(f)) {
											var h = o(this, l, u),
												p = new i(),
												d = new a();
											i.clone(u, p),
												(p.height = f),
												l.cartographicToCartesian(p, d),
												h(d);
										}
										this._heightChanged = !1;
									}
								}),
								(i.prototype.isVisible = function (e, t) {
									var n = !1;
									if (!this.show)
										return (this.visible = !1), !1;
									if (this._boundingSphere) {
										this._boundingSpherePrimitive;
										var r =
											Cesium.BoundingSphere.distanceSquaredTo(
												this._boundingSphere,
												e.positionWC
											);
										return (
											r < 0
												? (n = !0)
												: (r = Math.sqrt(r)) <
														this
															.distanceDisplayCondition
															.near ||
												  this.distanceDisplayCondition
														.far < r
												? (n = !1)
												: (t ||
														(t =
															e.frustum.computeCullingVolume(
																e.positionWC,
																e.directionWC,
																e.upWC
															)),
												  (n =
														t.computeVisibility(
															this._boundingSphere
														) !==
														Cesium.Intersect
															.OUTSIDE)),
											(this.visible = !!n),
											n
										);
									}
									return (this.visible = !1), n;
								}),
								(i.clone = function (e, t) {
									if ((0, Cesium.defined)(e))
										return e.clone(t);
								}),
								(i.getCacheKey = function (e) {
									var n = {
											heightReference: e.heightReference,
										},
										r = (0, t.default)(n);
									return (e._cacheKey = r), e;
								});
							var a = i;
							e.default = a;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t) {
			e.exports = "\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";
		},
		function (e, t, n) {
			(function (e, r) {
				var i;
				/**
				 * @license
				 * Lodash <https://lodash.com/>
				 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
				 * Released under MIT license <https://lodash.com/license>
				 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
				 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
				 */ (function () {
					var o = "Expected a function",
						a = "__lodash_placeholder__",
						s = [
							["ary", 128],
							["bind", 1],
							["bindKey", 2],
							["curry", 8],
							["curryRight", 16],
							["flip", 512],
							["partial", 32],
							["partialRight", 64],
							["rearg", 256],
						],
						l = "[object Arguments]",
						u = "[object Array]",
						c = "[object Boolean]",
						f = "[object Date]",
						h = "[object Error]",
						p = "[object Function]",
						d = "[object GeneratorFunction]",
						y = "[object Map]",
						m = "[object Number]",
						v = "[object Object]",
						g = "[object RegExp]",
						_ = "[object Set]",
						b = "[object String]",
						x = "[object Symbol]",
						w = "[object WeakMap]",
						C = "[object ArrayBuffer]",
						T = "[object DataView]",
						k = "[object Float32Array]",
						P = "[object Float64Array]",
						E = "[object Int8Array]",
						S = "[object Int16Array]",
						A = "[object Int32Array]",
						M = "[object Uint8Array]",
						I = "[object Uint16Array]",
						L = "[object Uint32Array]",
						D = /\b__p \+= '';/g,
						O = /\b(__p \+=) '' \+/g,
						z = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
						R = /&(?:amp|lt|gt|quot|#39);/g,
						B = /[&<>"']/g,
						j = RegExp(R.source),
						F = RegExp(B.source),
						N = /<%-([\s\S]+?)%>/g,
						V = /<%([\s\S]+?)%>/g,
						U = /<%=([\s\S]+?)%>/g,
						H = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
						G = /^\w*$/,
						q =
							/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
						W = /[\\^$.*+?()[\]{}|]/g,
						Z = RegExp(W.source),
						Y = /^\s+/,
						K = /\s/,
						X = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,
						J = /\{\n\/\* \[wrapped with (.+)\] \*/,
						Q = /,? & /,
						$ = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,
						ee = /[()=,{}\[\]\/\s]/,
						te = /\\(\\)?/g,
						ne = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
						re = /\w*$/,
						ie = /^[-+]0x[0-9a-f]+$/i,
						oe = /^0b[01]+$/i,
						ae = /^\[object .+?Constructor\]$/,
						se = /^0o[0-7]+$/i,
						le = /^(?:0|[1-9]\d*)$/,
						ue = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,
						ce = /($^)/,
						fe = /['\n\r\u2028\u2029\\]/g,
						he = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",
						pe =
							"\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",
						de = "[\\ud800-\\udfff]",
						ye = "[" + pe + "]",
						me = "[" + he + "]",
						ve = "\\d+",
						ge = "[\\u2700-\\u27bf]",
						_e = "[a-z\\xdf-\\xf6\\xf8-\\xff]",
						be =
							"[^\\ud800-\\udfff" +
							pe +
							ve +
							"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",
						xe = "\\ud83c[\\udffb-\\udfff]",
						we = "[^\\ud800-\\udfff]",
						Ce = "(?:\\ud83c[\\udde6-\\uddff]){2}",
						Te = "[\\ud800-\\udbff][\\udc00-\\udfff]",
						ke = "[A-Z\\xc0-\\xd6\\xd8-\\xde]",
						Pe = "(?:" + _e + "|" + be + ")",
						Ee = "(?:" + ke + "|" + be + ")",
						Se = "(?:" + me + "|" + xe + ")" + "?",
						Ae =
							"[\\ufe0e\\ufe0f]?" +
							Se +
							("(?:\\u200d(?:" +
								[we, Ce, Te].join("|") +
								")[\\ufe0e\\ufe0f]?" +
								Se +
								")*"),
						Me = "(?:" + [ge, Ce, Te].join("|") + ")" + Ae,
						Ie =
							"(?:" +
							[we + me + "?", me, Ce, Te, de].join("|") +
							")",
						Le = RegExp("['’]", "g"),
						De = RegExp(me, "g"),
						Oe = RegExp(xe + "(?=" + xe + ")|" + Ie + Ae, "g"),
						ze = RegExp(
							[
								ke +
									"?" +
									_e +
									"+(?:['’](?:d|ll|m|re|s|t|ve))?(?=" +
									[ye, ke, "$"].join("|") +
									")",
								Ee +
									"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=" +
									[ye, ke + Pe, "$"].join("|") +
									")",
								ke +
									"?" +
									Pe +
									"+(?:['’](?:d|ll|m|re|s|t|ve))?",
								ke + "+(?:['’](?:D|LL|M|RE|S|T|VE))?",
								"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",
								"\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",
								ve,
								Me,
							].join("|"),
							"g"
						),
						Re = RegExp(
							"[\\u200d\\ud800-\\udfff" + he + "\\ufe0e\\ufe0f]"
						),
						Be =
							/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,
						je = [
							"Array",
							"Buffer",
							"DataView",
							"Date",
							"Error",
							"Float32Array",
							"Float64Array",
							"Function",
							"Int8Array",
							"Int16Array",
							"Int32Array",
							"Map",
							"Math",
							"Object",
							"Promise",
							"RegExp",
							"Set",
							"String",
							"Symbol",
							"TypeError",
							"Uint8Array",
							"Uint8ClampedArray",
							"Uint16Array",
							"Uint32Array",
							"WeakMap",
							"_",
							"clearTimeout",
							"isFinite",
							"parseInt",
							"setTimeout",
						],
						Fe = -1,
						Ne = {};
					(Ne[k] =
						Ne[P] =
						Ne[E] =
						Ne[S] =
						Ne[A] =
						Ne[M] =
						Ne["[object Uint8ClampedArray]"] =
						Ne[I] =
						Ne[L] =
							!0),
						(Ne[l] =
							Ne[u] =
							Ne[C] =
							Ne[c] =
							Ne[T] =
							Ne[f] =
							Ne[h] =
							Ne[p] =
							Ne[y] =
							Ne[m] =
							Ne[v] =
							Ne[g] =
							Ne[_] =
							Ne[b] =
							Ne[w] =
								!1);
					var Ve = {};
					(Ve[l] =
						Ve[u] =
						Ve[C] =
						Ve[T] =
						Ve[c] =
						Ve[f] =
						Ve[k] =
						Ve[P] =
						Ve[E] =
						Ve[S] =
						Ve[A] =
						Ve[y] =
						Ve[m] =
						Ve[v] =
						Ve[g] =
						Ve[_] =
						Ve[b] =
						Ve[x] =
						Ve[M] =
						Ve["[object Uint8ClampedArray]"] =
						Ve[I] =
						Ve[L] =
							!0),
						(Ve[h] = Ve[p] = Ve[w] = !1);
					var Ue = {
							"\\": "\\",
							"'": "'",
							"\n": "n",
							"\r": "r",
							"\u2028": "u2028",
							"\u2029": "u2029",
						},
						He = parseFloat,
						Ge = parseInt,
						qe =
							"object" == typeof e &&
							e &&
							e.Object === Object &&
							e,
						We =
							"object" == typeof self &&
							self &&
							self.Object === Object &&
							self,
						Ze = qe || We || Function("return this")(),
						Ye = t && !t.nodeType && t,
						Ke =
							Ye && "object" == typeof r && r && !r.nodeType && r,
						Xe = Ke && Ke.exports === Ye,
						Je = Xe && qe.process,
						Qe = (function () {
							try {
								var e =
									Ke &&
									Ke.require &&
									Ke.require("util").types;
								return (
									e ||
									(Je && Je.binding && Je.binding("util"))
								);
							} catch (e) {}
						})(),
						$e = Qe && Qe.isArrayBuffer,
						et = Qe && Qe.isDate,
						tt = Qe && Qe.isMap,
						nt = Qe && Qe.isRegExp,
						rt = Qe && Qe.isSet,
						it = Qe && Qe.isTypedArray;
					function ot(e, t, n) {
						switch (n.length) {
							case 0:
								return e.call(t);
							case 1:
								return e.call(t, n[0]);
							case 2:
								return e.call(t, n[0], n[1]);
							case 3:
								return e.call(t, n[0], n[1], n[2]);
						}
						return e.apply(t, n);
					}
					function at(e, t, n, r) {
						for (
							var i = -1, o = null == e ? 0 : e.length;
							++i < o;

						) {
							var a = e[i];
							t(r, a, n(a), e);
						}
						return r;
					}
					function st(e, t) {
						for (
							var n = -1, r = null == e ? 0 : e.length;
							++n < r && !1 !== t(e[n], n, e);

						);
						return e;
					}
					function lt(e, t) {
						for (
							var n = null == e ? 0 : e.length;
							n-- && !1 !== t(e[n], n, e);

						);
						return e;
					}
					function ut(e, t) {
						for (
							var n = -1, r = null == e ? 0 : e.length;
							++n < r;

						)
							if (!t(e[n], n, e)) return !1;
						return !0;
					}
					function ct(e, t) {
						for (
							var n = -1,
								r = null == e ? 0 : e.length,
								i = 0,
								o = [];
							++n < r;

						) {
							var a = e[n];
							t(a, n, e) && (o[i++] = a);
						}
						return o;
					}
					function ft(e, t) {
						return !!(null == e ? 0 : e.length) && xt(e, t, 0) > -1;
					}
					function ht(e, t, n) {
						for (
							var r = -1, i = null == e ? 0 : e.length;
							++r < i;

						)
							if (n(t, e[r])) return !0;
						return !1;
					}
					function pt(e, t) {
						for (
							var n = -1,
								r = null == e ? 0 : e.length,
								i = Array(r);
							++n < r;

						)
							i[n] = t(e[n], n, e);
						return i;
					}
					function dt(e, t) {
						for (var n = -1, r = t.length, i = e.length; ++n < r; )
							e[i + n] = t[n];
						return e;
					}
					function yt(e, t, n, r) {
						var i = -1,
							o = null == e ? 0 : e.length;
						for (r && o && (n = e[++i]); ++i < o; )
							n = t(n, e[i], i, e);
						return n;
					}
					function mt(e, t, n, r) {
						var i = null == e ? 0 : e.length;
						for (r && i && (n = e[--i]); i--; )
							n = t(n, e[i], i, e);
						return n;
					}
					function vt(e, t) {
						for (
							var n = -1, r = null == e ? 0 : e.length;
							++n < r;

						)
							if (t(e[n], n, e)) return !0;
						return !1;
					}
					var gt = kt("length");
					function _t(e, t, n) {
						var r;
						return (
							n(e, function (e, n, i) {
								if (t(e, n, i)) return (r = n), !1;
							}),
							r
						);
					}
					function bt(e, t, n, r) {
						for (
							var i = e.length, o = n + (r ? 1 : -1);
							r ? o-- : ++o < i;

						)
							if (t(e[o], o, e)) return o;
						return -1;
					}
					function xt(e, t, n) {
						return t == t
							? (function (e, t, n) {
									var r = n - 1,
										i = e.length;
									for (; ++r < i; ) if (e[r] === t) return r;
									return -1;
							  })(e, t, n)
							: bt(e, Ct, n);
					}
					function wt(e, t, n, r) {
						for (var i = n - 1, o = e.length; ++i < o; )
							if (r(e[i], t)) return i;
						return -1;
					}
					function Ct(e) {
						return e != e;
					}
					function Tt(e, t) {
						var n = null == e ? 0 : e.length;
						return n ? St(e, t) / n : NaN;
					}
					function kt(e) {
						return function (t) {
							return null == t ? void 0 : t[e];
						};
					}
					function Pt(e) {
						return function (t) {
							return null == e ? void 0 : e[t];
						};
					}
					function Et(e, t, n, r, i) {
						return (
							i(e, function (e, i, o) {
								n = r ? ((r = !1), e) : t(n, e, i, o);
							}),
							n
						);
					}
					function St(e, t) {
						for (var n, r = -1, i = e.length; ++r < i; ) {
							var o = t(e[r]);
							void 0 !== o && (n = void 0 === n ? o : n + o);
						}
						return n;
					}
					function At(e, t) {
						for (var n = -1, r = Array(e); ++n < e; ) r[n] = t(n);
						return r;
					}
					function Mt(e) {
						return e ? e.slice(0, Yt(e) + 1).replace(Y, "") : e;
					}
					function It(e) {
						return function (t) {
							return e(t);
						};
					}
					function Lt(e, t) {
						return pt(t, function (t) {
							return e[t];
						});
					}
					function Dt(e, t) {
						return e.has(t);
					}
					function Ot(e, t) {
						for (
							var n = -1, r = e.length;
							++n < r && xt(t, e[n], 0) > -1;

						);
						return n;
					}
					function zt(e, t) {
						for (var n = e.length; n-- && xt(t, e[n], 0) > -1; );
						return n;
					}
					function Rt(e, t) {
						for (var n = e.length, r = 0; n--; ) e[n] === t && ++r;
						return r;
					}
					var Bt = Pt({
							À: "A",
							Á: "A",
							Â: "A",
							Ã: "A",
							Ä: "A",
							Å: "A",
							à: "a",
							á: "a",
							â: "a",
							ã: "a",
							ä: "a",
							å: "a",
							Ç: "C",
							ç: "c",
							Ð: "D",
							ð: "d",
							È: "E",
							É: "E",
							Ê: "E",
							Ë: "E",
							è: "e",
							é: "e",
							ê: "e",
							ë: "e",
							Ì: "I",
							Í: "I",
							Î: "I",
							Ï: "I",
							ì: "i",
							í: "i",
							î: "i",
							ï: "i",
							Ñ: "N",
							ñ: "n",
							Ò: "O",
							Ó: "O",
							Ô: "O",
							Õ: "O",
							Ö: "O",
							Ø: "O",
							ò: "o",
							ó: "o",
							ô: "o",
							õ: "o",
							ö: "o",
							ø: "o",
							Ù: "U",
							Ú: "U",
							Û: "U",
							Ü: "U",
							ù: "u",
							ú: "u",
							û: "u",
							ü: "u",
							Ý: "Y",
							ý: "y",
							ÿ: "y",
							Æ: "Ae",
							æ: "ae",
							Þ: "Th",
							þ: "th",
							ß: "ss",
							Ā: "A",
							Ă: "A",
							Ą: "A",
							ā: "a",
							ă: "a",
							ą: "a",
							Ć: "C",
							Ĉ: "C",
							Ċ: "C",
							Č: "C",
							ć: "c",
							ĉ: "c",
							ċ: "c",
							č: "c",
							Ď: "D",
							Đ: "D",
							ď: "d",
							đ: "d",
							Ē: "E",
							Ĕ: "E",
							Ė: "E",
							Ę: "E",
							Ě: "E",
							ē: "e",
							ĕ: "e",
							ė: "e",
							ę: "e",
							ě: "e",
							Ĝ: "G",
							Ğ: "G",
							Ġ: "G",
							Ģ: "G",
							ĝ: "g",
							ğ: "g",
							ġ: "g",
							ģ: "g",
							Ĥ: "H",
							Ħ: "H",
							ĥ: "h",
							ħ: "h",
							Ĩ: "I",
							Ī: "I",
							Ĭ: "I",
							Į: "I",
							İ: "I",
							ĩ: "i",
							ī: "i",
							ĭ: "i",
							į: "i",
							ı: "i",
							Ĵ: "J",
							ĵ: "j",
							Ķ: "K",
							ķ: "k",
							ĸ: "k",
							Ĺ: "L",
							Ļ: "L",
							Ľ: "L",
							Ŀ: "L",
							Ł: "L",
							ĺ: "l",
							ļ: "l",
							ľ: "l",
							ŀ: "l",
							ł: "l",
							Ń: "N",
							Ņ: "N",
							Ň: "N",
							Ŋ: "N",
							ń: "n",
							ņ: "n",
							ň: "n",
							ŋ: "n",
							Ō: "O",
							Ŏ: "O",
							Ő: "O",
							ō: "o",
							ŏ: "o",
							ő: "o",
							Ŕ: "R",
							Ŗ: "R",
							Ř: "R",
							ŕ: "r",
							ŗ: "r",
							ř: "r",
							Ś: "S",
							Ŝ: "S",
							Ş: "S",
							Š: "S",
							ś: "s",
							ŝ: "s",
							ş: "s",
							š: "s",
							Ţ: "T",
							Ť: "T",
							Ŧ: "T",
							ţ: "t",
							ť: "t",
							ŧ: "t",
							Ũ: "U",
							Ū: "U",
							Ŭ: "U",
							Ů: "U",
							Ű: "U",
							Ų: "U",
							ũ: "u",
							ū: "u",
							ŭ: "u",
							ů: "u",
							ű: "u",
							ų: "u",
							Ŵ: "W",
							ŵ: "w",
							Ŷ: "Y",
							ŷ: "y",
							Ÿ: "Y",
							Ź: "Z",
							Ż: "Z",
							Ž: "Z",
							ź: "z",
							ż: "z",
							ž: "z",
							Ĳ: "IJ",
							ĳ: "ij",
							Œ: "Oe",
							œ: "oe",
							ŉ: "'n",
							ſ: "s",
						}),
						jt = Pt({
							"&": "&amp;",
							"<": "&lt;",
							">": "&gt;",
							'"': "&quot;",
							"'": "&#39;",
						});
					function Ft(e) {
						return "\\" + Ue[e];
					}
					function Nt(e) {
						return Re.test(e);
					}
					function Vt(e) {
						var t = -1,
							n = Array(e.size);
						return (
							e.forEach(function (e, r) {
								n[++t] = [r, e];
							}),
							n
						);
					}
					function Ut(e, t) {
						return function (n) {
							return e(t(n));
						};
					}
					function Ht(e, t) {
						for (
							var n = -1, r = e.length, i = 0, o = [];
							++n < r;

						) {
							var s = e[n];
							(s !== t && s !== a) || ((e[n] = a), (o[i++] = n));
						}
						return o;
					}
					function Gt(e) {
						var t = -1,
							n = Array(e.size);
						return (
							e.forEach(function (e) {
								n[++t] = e;
							}),
							n
						);
					}
					function qt(e) {
						var t = -1,
							n = Array(e.size);
						return (
							e.forEach(function (e) {
								n[++t] = [e, e];
							}),
							n
						);
					}
					function Wt(e) {
						return Nt(e)
							? (function (e) {
									var t = (Oe.lastIndex = 0);
									for (; Oe.test(e); ) ++t;
									return t;
							  })(e)
							: gt(e);
					}
					function Zt(e) {
						return Nt(e)
							? (function (e) {
									return e.match(Oe) || [];
							  })(e)
							: (function (e) {
									return e.split("");
							  })(e);
					}
					function Yt(e) {
						for (var t = e.length; t-- && K.test(e.charAt(t)); );
						return t;
					}
					var Kt = Pt({
						"&amp;": "&",
						"&lt;": "<",
						"&gt;": ">",
						"&quot;": '"',
						"&#39;": "'",
					});
					var Xt = (function e(t) {
						var n,
							r = (t =
								null == t
									? Ze
									: Xt.defaults(
											Ze.Object(),
											t,
											Xt.pick(Ze, je)
									  )).Array,
							i = t.Date,
							K = t.Error,
							he = t.Function,
							pe = t.Math,
							de = t.Object,
							ye = t.RegExp,
							me = t.String,
							ve = t.TypeError,
							ge = r.prototype,
							_e = he.prototype,
							be = de.prototype,
							xe = t["__core-js_shared__"],
							we = _e.toString,
							Ce = be.hasOwnProperty,
							Te = 0,
							ke = (n = /[^.]+$/.exec(
								(xe && xe.keys && xe.keys.IE_PROTO) || ""
							))
								? "Symbol(src)_1." + n
								: "",
							Pe = be.toString,
							Ee = we.call(de),
							Se = Ze._,
							Ae = ye(
								"^" +
									we
										.call(Ce)
										.replace(W, "\\$&")
										.replace(
											/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
											"$1.*?"
										) +
									"$"
							),
							Me = Xe ? t.Buffer : void 0,
							Ie = t.Symbol,
							Oe = t.Uint8Array,
							Re = Me ? Me.allocUnsafe : void 0,
							Ue = Ut(de.getPrototypeOf, de),
							qe = de.create,
							We = be.propertyIsEnumerable,
							Ye = ge.splice,
							Ke = Ie ? Ie.isConcatSpreadable : void 0,
							Je = Ie ? Ie.iterator : void 0,
							Qe = Ie ? Ie.toStringTag : void 0,
							gt = (function () {
								try {
									var e = eo(de, "defineProperty");
									return e({}, "", {}), e;
								} catch (e) {}
							})(),
							Pt =
								t.clearTimeout !== Ze.clearTimeout &&
								t.clearTimeout,
							Jt = i && i.now !== Ze.Date.now && i.now,
							Qt = t.setTimeout !== Ze.setTimeout && t.setTimeout,
							$t = pe.ceil,
							en = pe.floor,
							tn = de.getOwnPropertySymbols,
							nn = Me ? Me.isBuffer : void 0,
							rn = t.isFinite,
							on = ge.join,
							an = Ut(de.keys, de),
							sn = pe.max,
							ln = pe.min,
							un = i.now,
							cn = t.parseInt,
							fn = pe.random,
							hn = ge.reverse,
							pn = eo(t, "DataView"),
							dn = eo(t, "Map"),
							yn = eo(t, "Promise"),
							mn = eo(t, "Set"),
							vn = eo(t, "WeakMap"),
							gn = eo(de, "create"),
							_n = vn && new vn(),
							bn = {},
							xn = So(pn),
							wn = So(dn),
							Cn = So(yn),
							Tn = So(mn),
							kn = So(vn),
							Pn = Ie ? Ie.prototype : void 0,
							En = Pn ? Pn.valueOf : void 0,
							Sn = Pn ? Pn.toString : void 0;
						function An(e) {
							if (qa(e) && !Oa(e) && !(e instanceof Dn)) {
								if (e instanceof Ln) return e;
								if (Ce.call(e, "__wrapped__")) return Ao(e);
							}
							return new Ln(e);
						}
						var Mn = (function () {
							function e() {}
							return function (t) {
								if (!Ga(t)) return {};
								if (qe) return qe(t);
								e.prototype = t;
								var n = new e();
								return (e.prototype = void 0), n;
							};
						})();
						function In() {}
						function Ln(e, t) {
							(this.__wrapped__ = e),
								(this.__actions__ = []),
								(this.__chain__ = !!t),
								(this.__index__ = 0),
								(this.__values__ = void 0);
						}
						function Dn(e) {
							(this.__wrapped__ = e),
								(this.__actions__ = []),
								(this.__dir__ = 1),
								(this.__filtered__ = !1),
								(this.__iteratees__ = []),
								(this.__takeCount__ = 4294967295),
								(this.__views__ = []);
						}
						function On(e) {
							var t = -1,
								n = null == e ? 0 : e.length;
							for (this.clear(); ++t < n; ) {
								var r = e[t];
								this.set(r[0], r[1]);
							}
						}
						function zn(e) {
							var t = -1,
								n = null == e ? 0 : e.length;
							for (this.clear(); ++t < n; ) {
								var r = e[t];
								this.set(r[0], r[1]);
							}
						}
						function Rn(e) {
							var t = -1,
								n = null == e ? 0 : e.length;
							for (this.clear(); ++t < n; ) {
								var r = e[t];
								this.set(r[0], r[1]);
							}
						}
						function Bn(e) {
							var t = -1,
								n = null == e ? 0 : e.length;
							for (this.__data__ = new Rn(); ++t < n; )
								this.add(e[t]);
						}
						function jn(e) {
							var t = (this.__data__ = new zn(e));
							this.size = t.size;
						}
						function Fn(e, t) {
							var n = Oa(e),
								r = !n && Da(e),
								i = !n && !r && ja(e),
								o = !n && !r && !i && $a(e),
								a = n || r || i || o,
								s = a ? At(e.length, me) : [],
								l = s.length;
							for (var u in e)
								(!t && !Ce.call(e, u)) ||
									(a &&
										("length" == u ||
											(i &&
												("offset" == u ||
													"parent" == u)) ||
											(o &&
												("buffer" == u ||
													"byteLength" == u ||
													"byteOffset" == u)) ||
											so(u, l))) ||
									s.push(u);
							return s;
						}
						function Nn(e) {
							var t = e.length;
							return t ? e[Br(0, t - 1)] : void 0;
						}
						function Vn(e, t) {
							return ko(gi(e), Xn(t, 0, e.length));
						}
						function Un(e) {
							return ko(gi(e));
						}
						function Hn(e, t, n) {
							((void 0 !== n && !Ma(e[t], n)) ||
								(void 0 === n && !(t in e))) &&
								Yn(e, t, n);
						}
						function Gn(e, t, n) {
							var r = e[t];
							(Ce.call(e, t) &&
								Ma(r, n) &&
								(void 0 !== n || t in e)) ||
								Yn(e, t, n);
						}
						function qn(e, t) {
							for (var n = e.length; n--; )
								if (Ma(e[n][0], t)) return n;
							return -1;
						}
						function Wn(e, t, n, r) {
							return (
								tr(e, function (e, i, o) {
									t(r, e, n(e), o);
								}),
								r
							);
						}
						function Zn(e, t) {
							return e && _i(t, xs(t), e);
						}
						function Yn(e, t, n) {
							"__proto__" == t && gt
								? gt(e, t, {
										configurable: !0,
										enumerable: !0,
										value: n,
										writable: !0,
								  })
								: (e[t] = n);
						}
						function Kn(e, t) {
							for (
								var n = -1,
									i = t.length,
									o = r(i),
									a = null == e;
								++n < i;

							)
								o[n] = a ? void 0 : ms(e, t[n]);
							return o;
						}
						function Xn(e, t, n) {
							return (
								e == e &&
									(void 0 !== n && (e = e <= n ? e : n),
									void 0 !== t && (e = e >= t ? e : t)),
								e
							);
						}
						function Jn(e, t, n, r, i, o) {
							var a,
								s = 1 & t,
								u = 2 & t,
								h = 4 & t;
							if (
								(n && (a = i ? n(e, r, i, o) : n(e)),
								void 0 !== a)
							)
								return a;
							if (!Ga(e)) return e;
							var w = Oa(e);
							if (w) {
								if (
									((a = (function (e) {
										var t = e.length,
											n = new e.constructor(t);
										t &&
											"string" == typeof e[0] &&
											Ce.call(e, "index") &&
											((n.index = e.index),
											(n.input = e.input));
										return n;
									})(e)),
									!s)
								)
									return gi(e, a);
							} else {
								var D = ro(e),
									O = D == p || D == d;
								if (ja(e)) return hi(e, s);
								if (D == v || D == l || (O && !i)) {
									if (((a = u || O ? {} : oo(e)), !s))
										return u
											? (function (e, t) {
													return _i(e, no(e), t);
											  })(
													e,
													(function (e, t) {
														return (
															e && _i(t, ws(t), e)
														);
													})(a, e)
											  )
											: (function (e, t) {
													return _i(e, to(e), t);
											  })(e, Zn(a, e));
								} else {
									if (!Ve[D]) return i ? e : {};
									a = (function (e, t, n) {
										var r = e.constructor;
										switch (t) {
											case C:
												return pi(e);
											case c:
											case f:
												return new r(+e);
											case T:
												return (function (e, t) {
													var n = t
														? pi(e.buffer)
														: e.buffer;
													return new e.constructor(
														n,
														e.byteOffset,
														e.byteLength
													);
												})(e, n);
											case k:
											case P:
											case E:
											case S:
											case A:
											case M:
											case "[object Uint8ClampedArray]":
											case I:
											case L:
												return di(e, n);
											case y:
												return new r();
											case m:
											case b:
												return new r(e);
											case g:
												return (function (e) {
													var t = new e.constructor(
														e.source,
														re.exec(e)
													);
													return (
														(t.lastIndex =
															e.lastIndex),
														t
													);
												})(e);
											case _:
												return new r();
											case x:
												return (
													(i = e),
													En ? de(En.call(i)) : {}
												);
										}
										var i;
									})(e, D, s);
								}
							}
							o || (o = new jn());
							var z = o.get(e);
							if (z) return z;
							o.set(e, a),
								Xa(e)
									? e.forEach(function (r) {
											a.add(Jn(r, t, n, r, e, o));
									  })
									: Wa(e) &&
									  e.forEach(function (r, i) {
											a.set(i, Jn(r, t, n, i, e, o));
									  });
							var R = w
								? void 0
								: (h ? (u ? Zi : Wi) : u ? ws : xs)(e);
							return (
								st(R || e, function (r, i) {
									R && (r = e[(i = r)]),
										Gn(a, i, Jn(r, t, n, i, e, o));
								}),
								a
							);
						}
						function Qn(e, t, n) {
							var r = n.length;
							if (null == e) return !r;
							for (e = de(e); r--; ) {
								var i = n[r],
									o = t[i],
									a = e[i];
								if ((void 0 === a && !(i in e)) || !o(a))
									return !1;
							}
							return !0;
						}
						function $n(e, t, n) {
							if ("function" != typeof e) throw new ve(o);
							return xo(function () {
								e.apply(void 0, n);
							}, t);
						}
						function er(e, t, n, r) {
							var i = -1,
								o = ft,
								a = !0,
								s = e.length,
								l = [],
								u = t.length;
							if (!s) return l;
							n && (t = pt(t, It(n))),
								r
									? ((o = ht), (a = !1))
									: t.length >= 200 &&
									  ((o = Dt), (a = !1), (t = new Bn(t)));
							e: for (; ++i < s; ) {
								var c = e[i],
									f = null == n ? c : n(c);
								if (((c = r || 0 !== c ? c : 0), a && f == f)) {
									for (var h = u; h--; )
										if (t[h] === f) continue e;
									l.push(c);
								} else o(t, f, r) || l.push(c);
							}
							return l;
						}
						(An.templateSettings = {
							escape: N,
							evaluate: V,
							interpolate: U,
							variable: "",
							imports: { _: An },
						}),
							(An.prototype = In.prototype),
							(An.prototype.constructor = An),
							(Ln.prototype = Mn(In.prototype)),
							(Ln.prototype.constructor = Ln),
							(Dn.prototype = Mn(In.prototype)),
							(Dn.prototype.constructor = Dn),
							(On.prototype.clear = function () {
								(this.__data__ = gn ? gn(null) : {}),
									(this.size = 0);
							}),
							(On.prototype.delete = function (e) {
								var t = this.has(e) && delete this.__data__[e];
								return (this.size -= t ? 1 : 0), t;
							}),
							(On.prototype.get = function (e) {
								var t = this.__data__;
								if (gn) {
									var n = t[e];
									return "__lodash_hash_undefined__" === n
										? void 0
										: n;
								}
								return Ce.call(t, e) ? t[e] : void 0;
							}),
							(On.prototype.has = function (e) {
								var t = this.__data__;
								return gn ? void 0 !== t[e] : Ce.call(t, e);
							}),
							(On.prototype.set = function (e, t) {
								var n = this.__data__;
								return (
									(this.size += this.has(e) ? 0 : 1),
									(n[e] =
										gn && void 0 === t
											? "__lodash_hash_undefined__"
											: t),
									this
								);
							}),
							(zn.prototype.clear = function () {
								(this.__data__ = []), (this.size = 0);
							}),
							(zn.prototype.delete = function (e) {
								var t = this.__data__,
									n = qn(t, e);
								return (
									!(n < 0) &&
									(n == t.length - 1
										? t.pop()
										: Ye.call(t, n, 1),
									--this.size,
									!0)
								);
							}),
							(zn.prototype.get = function (e) {
								var t = this.__data__,
									n = qn(t, e);
								return n < 0 ? void 0 : t[n][1];
							}),
							(zn.prototype.has = function (e) {
								return qn(this.__data__, e) > -1;
							}),
							(zn.prototype.set = function (e, t) {
								var n = this.__data__,
									r = qn(n, e);
								return (
									r < 0
										? (++this.size, n.push([e, t]))
										: (n[r][1] = t),
									this
								);
							}),
							(Rn.prototype.clear = function () {
								(this.size = 0),
									(this.__data__ = {
										hash: new On(),
										map: new (dn || zn)(),
										string: new On(),
									});
							}),
							(Rn.prototype.delete = function (e) {
								var t = Qi(this, e).delete(e);
								return (this.size -= t ? 1 : 0), t;
							}),
							(Rn.prototype.get = function (e) {
								return Qi(this, e).get(e);
							}),
							(Rn.prototype.has = function (e) {
								return Qi(this, e).has(e);
							}),
							(Rn.prototype.set = function (e, t) {
								var n = Qi(this, e),
									r = n.size;
								return (
									n.set(e, t),
									(this.size += n.size == r ? 0 : 1),
									this
								);
							}),
							(Bn.prototype.add = Bn.prototype.push =
								function (e) {
									return (
										this.__data__.set(
											e,
											"__lodash_hash_undefined__"
										),
										this
									);
								}),
							(Bn.prototype.has = function (e) {
								return this.__data__.has(e);
							}),
							(jn.prototype.clear = function () {
								(this.__data__ = new zn()), (this.size = 0);
							}),
							(jn.prototype.delete = function (e) {
								var t = this.__data__,
									n = t.delete(e);
								return (this.size = t.size), n;
							}),
							(jn.prototype.get = function (e) {
								return this.__data__.get(e);
							}),
							(jn.prototype.has = function (e) {
								return this.__data__.has(e);
							}),
							(jn.prototype.set = function (e, t) {
								var n = this.__data__;
								if (n instanceof zn) {
									var r = n.__data__;
									if (!dn || r.length < 199)
										return (
											r.push([e, t]),
											(this.size = ++n.size),
											this
										);
									n = this.__data__ = new Rn(r);
								}
								return n.set(e, t), (this.size = n.size), this;
							});
						var tr = wi(ur),
							nr = wi(cr, !0);
						function rr(e, t) {
							var n = !0;
							return (
								tr(e, function (e, r, i) {
									return (n = !!t(e, r, i));
								}),
								n
							);
						}
						function ir(e, t, n) {
							for (var r = -1, i = e.length; ++r < i; ) {
								var o = e[r],
									a = t(o);
								if (
									null != a &&
									(void 0 === s ? a == a && !Qa(a) : n(a, s))
								)
									var s = a,
										l = o;
							}
							return l;
						}
						function or(e, t) {
							var n = [];
							return (
								tr(e, function (e, r, i) {
									t(e, r, i) && n.push(e);
								}),
								n
							);
						}
						function ar(e, t, n, r, i) {
							var o = -1,
								a = e.length;
							for (n || (n = ao), i || (i = []); ++o < a; ) {
								var s = e[o];
								t > 0 && n(s)
									? t > 1
										? ar(s, t - 1, n, r, i)
										: dt(i, s)
									: r || (i[i.length] = s);
							}
							return i;
						}
						var sr = Ci(),
							lr = Ci(!0);
						function ur(e, t) {
							return e && sr(e, t, xs);
						}
						function cr(e, t) {
							return e && lr(e, t, xs);
						}
						function fr(e, t) {
							return ct(t, function (t) {
								return Va(e[t]);
							});
						}
						function hr(e, t) {
							for (
								var n = 0, r = (t = li(t, e)).length;
								null != e && n < r;

							)
								e = e[Eo(t[n++])];
							return n && n == r ? e : void 0;
						}
						function pr(e, t, n) {
							var r = t(e);
							return Oa(e) ? r : dt(r, n(e));
						}
						function dr(e) {
							return null == e
								? void 0 === e
									? "[object Undefined]"
									: "[object Null]"
								: Qe && Qe in de(e)
								? (function (e) {
										var t = Ce.call(e, Qe),
											n = e[Qe];
										try {
											e[Qe] = void 0;
											var r = !0;
										} catch (e) {}
										var i = Pe.call(e);
										r && (t ? (e[Qe] = n) : delete e[Qe]);
										return i;
								  })(e)
								: (function (e) {
										return Pe.call(e);
								  })(e);
						}
						function yr(e, t) {
							return e > t;
						}
						function mr(e, t) {
							return null != e && Ce.call(e, t);
						}
						function vr(e, t) {
							return null != e && t in de(e);
						}
						function gr(e, t, n) {
							for (
								var i = n ? ht : ft,
									o = e[0].length,
									a = e.length,
									s = a,
									l = r(a),
									u = 1 / 0,
									c = [];
								s--;

							) {
								var f = e[s];
								s && t && (f = pt(f, It(t))),
									(u = ln(f.length, u)),
									(l[s] =
										!n &&
										(t || (o >= 120 && f.length >= 120))
											? new Bn(s && f)
											: void 0);
							}
							f = e[0];
							var h = -1,
								p = l[0];
							e: for (; ++h < o && c.length < u; ) {
								var d = f[h],
									y = t ? t(d) : d;
								if (
									((d = n || 0 !== d ? d : 0),
									!(p ? Dt(p, y) : i(c, y, n)))
								) {
									for (s = a; --s; ) {
										var m = l[s];
										if (!(m ? Dt(m, y) : i(e[s], y, n)))
											continue e;
									}
									p && p.push(y), c.push(d);
								}
							}
							return c;
						}
						function _r(e, t, n) {
							var r =
								null == (e = vo(e, (t = li(t, e))))
									? e
									: e[Eo(No(t))];
							return null == r ? void 0 : ot(r, e, n);
						}
						function br(e) {
							return qa(e) && dr(e) == l;
						}
						function xr(e, t, n, r, i) {
							return (
								e === t ||
								(null == e || null == t || (!qa(e) && !qa(t))
									? e != e && t != t
									: (function (e, t, n, r, i, o) {
											var a = Oa(e),
												s = Oa(t),
												p = a ? u : ro(e),
												d = s ? u : ro(t),
												w = (p = p == l ? v : p) == v,
												k = (d = d == l ? v : d) == v,
												P = p == d;
											if (P && ja(e)) {
												if (!ja(t)) return !1;
												(a = !0), (w = !1);
											}
											if (P && !w)
												return (
													o || (o = new jn()),
													a || $a(e)
														? Gi(e, t, n, r, i, o)
														: (function (
																e,
																t,
																n,
																r,
																i,
																o,
																a
														  ) {
																switch (n) {
																	case T:
																		if (
																			e.byteLength !=
																				t.byteLength ||
																			e.byteOffset !=
																				t.byteOffset
																		)
																			return !1;
																		(e =
																			e.buffer),
																			(t =
																				t.buffer);
																	case C:
																		return !(
																			e.byteLength !=
																				t.byteLength ||
																			!o(
																				new Oe(
																					e
																				),
																				new Oe(
																					t
																				)
																			)
																		);
																	case c:
																	case f:
																	case m:
																		return Ma(
																			+e,
																			+t
																		);
																	case h:
																		return (
																			e.name ==
																				t.name &&
																			e.message ==
																				t.message
																		);
																	case g:
																	case b:
																		return (
																			e ==
																			t +
																				""
																		);
																	case y:
																		var s =
																			Vt;
																	case _:
																		var l =
																			1 &
																			r;
																		if (
																			(s ||
																				(s =
																					Gt),
																			e.size !=
																				t.size &&
																				!l)
																		)
																			return !1;
																		var u =
																			a.get(
																				e
																			);
																		if (u)
																			return (
																				u ==
																				t
																			);
																		(r |= 2),
																			a.set(
																				e,
																				t
																			);
																		var p =
																			Gi(
																				s(
																					e
																				),
																				s(
																					t
																				),
																				r,
																				i,
																				o,
																				a
																			);
																		return (
																			a.delete(
																				e
																			),
																			p
																		);
																	case x:
																		if (En)
																			return (
																				En.call(
																					e
																				) ==
																				En.call(
																					t
																				)
																			);
																}
																return !1;
														  })(
																e,
																t,
																p,
																n,
																r,
																i,
																o
														  )
												);
											if (!(1 & n)) {
												var E =
														w &&
														Ce.call(
															e,
															"__wrapped__"
														),
													S =
														k &&
														Ce.call(
															t,
															"__wrapped__"
														);
												if (E || S) {
													var A = E ? e.value() : e,
														M = S ? t.value() : t;
													return (
														o || (o = new jn()),
														i(A, M, n, r, o)
													);
												}
											}
											if (!P) return !1;
											return (
												o || (o = new jn()),
												(function (e, t, n, r, i, o) {
													var a = 1 & n,
														s = Wi(e),
														l = s.length,
														u = Wi(t).length;
													if (l != u && !a) return !1;
													var c = l;
													for (; c--; ) {
														var f = s[c];
														if (
															!(a
																? f in t
																: Ce.call(t, f))
														)
															return !1;
													}
													var h = o.get(e),
														p = o.get(t);
													if (h && p)
														return h == t && p == e;
													var d = !0;
													o.set(e, t), o.set(t, e);
													var y = a;
													for (; ++c < l; ) {
														f = s[c];
														var m = e[f],
															v = t[f];
														if (r)
															var g = a
																? r(
																		v,
																		m,
																		f,
																		t,
																		e,
																		o
																  )
																: r(
																		m,
																		v,
																		f,
																		e,
																		t,
																		o
																  );
														if (
															!(void 0 === g
																? m === v ||
																  i(
																		m,
																		v,
																		n,
																		r,
																		o
																  )
																: g)
														) {
															d = !1;
															break;
														}
														y ||
															(y =
																"constructor" ==
																f);
													}
													if (d && !y) {
														var _ = e.constructor,
															b = t.constructor;
														_ == b ||
															!(
																"constructor" in
																e
															) ||
															!(
																"constructor" in
																t
															) ||
															("function" ==
																typeof _ &&
																_ instanceof
																	_ &&
																"function" ==
																	typeof b &&
																b instanceof
																	b) ||
															(d = !1);
													}
													return (
														o.delete(e),
														o.delete(t),
														d
													);
												})(e, t, n, r, i, o)
											);
									  })(e, t, n, r, xr, i))
							);
						}
						function wr(e, t, n, r) {
							var i = n.length,
								o = i,
								a = !r;
							if (null == e) return !o;
							for (e = de(e); i--; ) {
								var s = n[i];
								if (a && s[2] ? s[1] !== e[s[0]] : !(s[0] in e))
									return !1;
							}
							for (; ++i < o; ) {
								var l = (s = n[i])[0],
									u = e[l],
									c = s[1];
								if (a && s[2]) {
									if (void 0 === u && !(l in e)) return !1;
								} else {
									var f = new jn();
									if (r) var h = r(u, c, l, e, t, f);
									if (!(void 0 === h ? xr(c, u, 3, r, f) : h))
										return !1;
								}
							}
							return !0;
						}
						function Cr(e) {
							return (
								!(!Ga(e) || ((t = e), ke && ke in t)) &&
								(Va(e) ? Ae : ae).test(So(e))
							);
							var t;
						}
						function Tr(e) {
							return "function" == typeof e
								? e
								: null == e
								? Zs
								: "object" == typeof e
								? Oa(e)
									? Mr(e[0], e[1])
									: Ar(e)
								: nl(e);
						}
						function kr(e) {
							if (!ho(e)) return an(e);
							var t = [];
							for (var n in de(e))
								Ce.call(e, n) &&
									"constructor" != n &&
									t.push(n);
							return t;
						}
						function Pr(e) {
							if (!Ga(e))
								return (function (e) {
									var t = [];
									if (null != e)
										for (var n in de(e)) t.push(n);
									return t;
								})(e);
							var t = ho(e),
								n = [];
							for (var r in e)
								("constructor" != r || (!t && Ce.call(e, r))) &&
									n.push(r);
							return n;
						}
						function Er(e, t) {
							return e < t;
						}
						function Sr(e, t) {
							var n = -1,
								i = Ra(e) ? r(e.length) : [];
							return (
								tr(e, function (e, r, o) {
									i[++n] = t(e, r, o);
								}),
								i
							);
						}
						function Ar(e) {
							var t = $i(e);
							return 1 == t.length && t[0][2]
								? yo(t[0][0], t[0][1])
								: function (n) {
										return n === e || wr(n, e, t);
								  };
						}
						function Mr(e, t) {
							return uo(e) && po(t)
								? yo(Eo(e), t)
								: function (n) {
										var r = ms(n, e);
										return void 0 === r && r === t
											? vs(n, e)
											: xr(t, r, 3);
								  };
						}
						function Ir(e, t, n, r, i) {
							e !== t &&
								sr(
									t,
									function (o, a) {
										if ((i || (i = new jn()), Ga(o)))
											!(function (e, t, n, r, i, o, a) {
												var s = _o(e, n),
													l = _o(t, n),
													u = a.get(l);
												if (u) return void Hn(e, n, u);
												var c = o
														? o(
																s,
																l,
																n + "",
																e,
																t,
																a
														  )
														: void 0,
													f = void 0 === c;
												if (f) {
													var h = Oa(l),
														p = !h && ja(l),
														d = !h && !p && $a(l);
													(c = l),
														h || p || d
															? Oa(s)
																? (c = s)
																: Ba(s)
																? (c = gi(s))
																: p
																? ((f = !1),
																  (c = hi(
																		l,
																		!0
																  )))
																: d
																? ((f = !1),
																  (c = di(
																		l,
																		!0
																  )))
																: (c = [])
															: Ya(l) || Da(l)
															? ((c = s),
															  Da(s)
																	? (c =
																			ss(
																				s
																			))
																	: (Ga(s) &&
																			!Va(
																				s
																			)) ||
																	  (c =
																			oo(
																				l
																			)))
															: (f = !1);
												}
												f &&
													(a.set(l, c),
													i(c, l, r, o, a),
													a.delete(l));
												Hn(e, n, c);
											})(e, t, a, n, Ir, r, i);
										else {
											var s = r
												? r(
														_o(e, a),
														o,
														a + "",
														e,
														t,
														i
												  )
												: void 0;
											void 0 === s && (s = o),
												Hn(e, a, s);
										}
									},
									ws
								);
						}
						function Lr(e, t) {
							var n = e.length;
							if (n)
								return so((t += t < 0 ? n : 0), n)
									? e[t]
									: void 0;
						}
						function Dr(e, t, n) {
							t = t.length
								? pt(t, function (e) {
										return Oa(e)
											? function (t) {
													return hr(
														t,
														1 === e.length
															? e[0]
															: e
													);
											  }
											: e;
								  })
								: [Zs];
							var r = -1;
							return (
								(t = pt(t, It(Ji()))),
								(function (e, t) {
									var n = e.length;
									for (e.sort(t); n--; ) e[n] = e[n].value;
									return e;
								})(
									Sr(e, function (e, n, i) {
										return {
											criteria: pt(t, function (t) {
												return t(e);
											}),
											index: ++r,
											value: e,
										};
									}),
									function (e, t) {
										return (function (e, t, n) {
											var r = -1,
												i = e.criteria,
												o = t.criteria,
												a = i.length,
												s = n.length;
											for (; ++r < a; ) {
												var l = yi(i[r], o[r]);
												if (l) {
													if (r >= s) return l;
													var u = n[r];
													return (
														l *
														("desc" == u ? -1 : 1)
													);
												}
											}
											return e.index - t.index;
										})(e, t, n);
									}
								)
							);
						}
						function Or(e, t, n) {
							for (var r = -1, i = t.length, o = {}; ++r < i; ) {
								var a = t[r],
									s = hr(e, a);
								n(s, a) && Ur(o, li(a, e), s);
							}
							return o;
						}
						function zr(e, t, n, r) {
							var i = r ? wt : xt,
								o = -1,
								a = t.length,
								s = e;
							for (
								e === t && (t = gi(t)), n && (s = pt(e, It(n)));
								++o < a;

							)
								for (
									var l = 0, u = t[o], c = n ? n(u) : u;
									(l = i(s, c, l, r)) > -1;

								)
									s !== e && Ye.call(s, l, 1),
										Ye.call(e, l, 1);
							return e;
						}
						function Rr(e, t) {
							for (var n = e ? t.length : 0, r = n - 1; n--; ) {
								var i = t[n];
								if (n == r || i !== o) {
									var o = i;
									so(i) ? Ye.call(e, i, 1) : ei(e, i);
								}
							}
							return e;
						}
						function Br(e, t) {
							return e + en(fn() * (t - e + 1));
						}
						function jr(e, t) {
							var n = "";
							if (!e || t < 1 || t > 9007199254740991) return n;
							do {
								t % 2 && (n += e), (t = en(t / 2)) && (e += e);
							} while (t);
							return n;
						}
						function Fr(e, t) {
							return wo(mo(e, t, Zs), e + "");
						}
						function Nr(e) {
							return Nn(Ms(e));
						}
						function Vr(e, t) {
							var n = Ms(e);
							return ko(n, Xn(t, 0, n.length));
						}
						function Ur(e, t, n, r) {
							if (!Ga(e)) return e;
							for (
								var i = -1,
									o = (t = li(t, e)).length,
									a = o - 1,
									s = e;
								null != s && ++i < o;

							) {
								var l = Eo(t[i]),
									u = n;
								if (
									"__proto__" === l ||
									"constructor" === l ||
									"prototype" === l
								)
									return e;
								if (i != a) {
									var c = s[l];
									void 0 === (u = r ? r(c, l, s) : void 0) &&
										(u = Ga(c)
											? c
											: so(t[i + 1])
											? []
											: {});
								}
								Gn(s, l, u), (s = s[l]);
							}
							return e;
						}
						var Hr = _n
								? function (e, t) {
										return _n.set(e, t), e;
								  }
								: Zs,
							Gr = gt
								? function (e, t) {
										return gt(e, "toString", {
											configurable: !0,
											enumerable: !1,
											value: Gs(t),
											writable: !0,
										});
								  }
								: Zs;
						function qr(e) {
							return ko(Ms(e));
						}
						function Wr(e, t, n) {
							var i = -1,
								o = e.length;
							t < 0 && (t = -t > o ? 0 : o + t),
								(n = n > o ? o : n) < 0 && (n += o),
								(o = t > n ? 0 : (n - t) >>> 0),
								(t >>>= 0);
							for (var a = r(o); ++i < o; ) a[i] = e[i + t];
							return a;
						}
						function Zr(e, t) {
							var n;
							return (
								tr(e, function (e, r, i) {
									return !(n = t(e, r, i));
								}),
								!!n
							);
						}
						function Yr(e, t, n) {
							var r = 0,
								i = null == e ? r : e.length;
							if (
								"number" == typeof t &&
								t == t &&
								i <= 2147483647
							) {
								for (; r < i; ) {
									var o = (r + i) >>> 1,
										a = e[o];
									null !== a && !Qa(a) && (n ? a <= t : a < t)
										? (r = o + 1)
										: (i = o);
								}
								return i;
							}
							return Kr(e, t, Zs, n);
						}
						function Kr(e, t, n, r) {
							var i = 0,
								o = null == e ? 0 : e.length;
							if (0 === o) return 0;
							for (
								var a = (t = n(t)) != t,
									s = null === t,
									l = Qa(t),
									u = void 0 === t;
								i < o;

							) {
								var c = en((i + o) / 2),
									f = n(e[c]),
									h = void 0 !== f,
									p = null === f,
									d = f == f,
									y = Qa(f);
								if (a) var m = r || d;
								else
									m = u
										? d && (r || h)
										: s
										? d && h && (r || !p)
										: l
										? d && h && !p && (r || !y)
										: !p && !y && (r ? f <= t : f < t);
								m ? (i = c + 1) : (o = c);
							}
							return ln(o, 4294967294);
						}
						function Xr(e, t) {
							for (
								var n = -1, r = e.length, i = 0, o = [];
								++n < r;

							) {
								var a = e[n],
									s = t ? t(a) : a;
								if (!n || !Ma(s, l)) {
									var l = s;
									o[i++] = 0 === a ? 0 : a;
								}
							}
							return o;
						}
						function Jr(e) {
							return "number" == typeof e ? e : Qa(e) ? NaN : +e;
						}
						function Qr(e) {
							if ("string" == typeof e) return e;
							if (Oa(e)) return pt(e, Qr) + "";
							if (Qa(e)) return Sn ? Sn.call(e) : "";
							var t = e + "";
							return "0" == t && 1 / e == -1 / 0 ? "-0" : t;
						}
						function $r(e, t, n) {
							var r = -1,
								i = ft,
								o = e.length,
								a = !0,
								s = [],
								l = s;
							if (n) (a = !1), (i = ht);
							else if (o >= 200) {
								var u = t ? null : ji(e);
								if (u) return Gt(u);
								(a = !1), (i = Dt), (l = new Bn());
							} else l = t ? [] : s;
							e: for (; ++r < o; ) {
								var c = e[r],
									f = t ? t(c) : c;
								if (((c = n || 0 !== c ? c : 0), a && f == f)) {
									for (var h = l.length; h--; )
										if (l[h] === f) continue e;
									t && l.push(f), s.push(c);
								} else
									i(l, f, n) ||
										(l !== s && l.push(f), s.push(c));
							}
							return s;
						}
						function ei(e, t) {
							return (
								null == (e = vo(e, (t = li(t, e)))) ||
								delete e[Eo(No(t))]
							);
						}
						function ti(e, t, n, r) {
							return Ur(e, t, n(hr(e, t)), r);
						}
						function ni(e, t, n, r) {
							for (
								var i = e.length, o = r ? i : -1;
								(r ? o-- : ++o < i) && t(e[o], o, e);

							);
							return n
								? Wr(e, r ? 0 : o, r ? o + 1 : i)
								: Wr(e, r ? o + 1 : 0, r ? i : o);
						}
						function ri(e, t) {
							var n = e;
							return (
								n instanceof Dn && (n = n.value()),
								yt(
									t,
									function (e, t) {
										return t.func.apply(
											t.thisArg,
											dt([e], t.args)
										);
									},
									n
								)
							);
						}
						function ii(e, t, n) {
							var i = e.length;
							if (i < 2) return i ? $r(e[0]) : [];
							for (var o = -1, a = r(i); ++o < i; )
								for (var s = e[o], l = -1; ++l < i; )
									l != o &&
										(a[o] = er(a[o] || s, e[l], t, n));
							return $r(ar(a, 1), t, n);
						}
						function oi(e, t, n) {
							for (
								var r = -1, i = e.length, o = t.length, a = {};
								++r < i;

							) {
								var s = r < o ? t[r] : void 0;
								n(a, e[r], s);
							}
							return a;
						}
						function ai(e) {
							return Ba(e) ? e : [];
						}
						function si(e) {
							return "function" == typeof e ? e : Zs;
						}
						function li(e, t) {
							return Oa(e) ? e : uo(e, t) ? [e] : Po(ls(e));
						}
						var ui = Fr;
						function ci(e, t, n) {
							var r = e.length;
							return (
								(n = void 0 === n ? r : n),
								!t && n >= r ? e : Wr(e, t, n)
							);
						}
						var fi =
							Pt ||
							function (e) {
								return Ze.clearTimeout(e);
							};
						function hi(e, t) {
							if (t) return e.slice();
							var n = e.length,
								r = Re ? Re(n) : new e.constructor(n);
							return e.copy(r), r;
						}
						function pi(e) {
							var t = new e.constructor(e.byteLength);
							return new Oe(t).set(new Oe(e)), t;
						}
						function di(e, t) {
							var n = t ? pi(e.buffer) : e.buffer;
							return new e.constructor(n, e.byteOffset, e.length);
						}
						function yi(e, t) {
							if (e !== t) {
								var n = void 0 !== e,
									r = null === e,
									i = e == e,
									o = Qa(e),
									a = void 0 !== t,
									s = null === t,
									l = t == t,
									u = Qa(t);
								if (
									(!s && !u && !o && e > t) ||
									(o && a && l && !s && !u) ||
									(r && a && l) ||
									(!n && l) ||
									!i
								)
									return 1;
								if (
									(!r && !o && !u && e < t) ||
									(u && n && i && !r && !o) ||
									(s && n && i) ||
									(!a && i) ||
									!l
								)
									return -1;
							}
							return 0;
						}
						function mi(e, t, n, i) {
							for (
								var o = -1,
									a = e.length,
									s = n.length,
									l = -1,
									u = t.length,
									c = sn(a - s, 0),
									f = r(u + c),
									h = !i;
								++l < u;

							)
								f[l] = t[l];
							for (; ++o < s; ) (h || o < a) && (f[n[o]] = e[o]);
							for (; c--; ) f[l++] = e[o++];
							return f;
						}
						function vi(e, t, n, i) {
							for (
								var o = -1,
									a = e.length,
									s = -1,
									l = n.length,
									u = -1,
									c = t.length,
									f = sn(a - l, 0),
									h = r(f + c),
									p = !i;
								++o < f;

							)
								h[o] = e[o];
							for (var d = o; ++u < c; ) h[d + u] = t[u];
							for (; ++s < l; )
								(p || o < a) && (h[d + n[s]] = e[o++]);
							return h;
						}
						function gi(e, t) {
							var n = -1,
								i = e.length;
							for (t || (t = r(i)); ++n < i; ) t[n] = e[n];
							return t;
						}
						function _i(e, t, n, r) {
							var i = !n;
							n || (n = {});
							for (var o = -1, a = t.length; ++o < a; ) {
								var s = t[o],
									l = r ? r(n[s], e[s], s, n, e) : void 0;
								void 0 === l && (l = e[s]),
									i ? Yn(n, s, l) : Gn(n, s, l);
							}
							return n;
						}
						function bi(e, t) {
							return function (n, r) {
								var i = Oa(n) ? at : Wn,
									o = t ? t() : {};
								return i(n, e, Ji(r, 2), o);
							};
						}
						function xi(e) {
							return Fr(function (t, n) {
								var r = -1,
									i = n.length,
									o = i > 1 ? n[i - 1] : void 0,
									a = i > 2 ? n[2] : void 0;
								for (
									o =
										e.length > 3 && "function" == typeof o
											? (i--, o)
											: void 0,
										a &&
											lo(n[0], n[1], a) &&
											((o = i < 3 ? void 0 : o), (i = 1)),
										t = de(t);
									++r < i;

								) {
									var s = n[r];
									s && e(t, s, r, o);
								}
								return t;
							});
						}
						function wi(e, t) {
							return function (n, r) {
								if (null == n) return n;
								if (!Ra(n)) return e(n, r);
								for (
									var i = n.length, o = t ? i : -1, a = de(n);
									(t ? o-- : ++o < i) && !1 !== r(a[o], o, a);

								);
								return n;
							};
						}
						function Ci(e) {
							return function (t, n, r) {
								for (
									var i = -1,
										o = de(t),
										a = r(t),
										s = a.length;
									s--;

								) {
									var l = a[e ? s : ++i];
									if (!1 === n(o[l], l, o)) break;
								}
								return t;
							};
						}
						function Ti(e) {
							return function (t) {
								var n = Nt((t = ls(t))) ? Zt(t) : void 0,
									r = n ? n[0] : t.charAt(0),
									i = n ? ci(n, 1).join("") : t.slice(1);
								return r[e]() + i;
							};
						}
						function ki(e) {
							return function (t) {
								return yt(Vs(Ds(t).replace(Le, "")), e, "");
							};
						}
						function Pi(e) {
							return function () {
								var t = arguments;
								switch (t.length) {
									case 0:
										return new e();
									case 1:
										return new e(t[0]);
									case 2:
										return new e(t[0], t[1]);
									case 3:
										return new e(t[0], t[1], t[2]);
									case 4:
										return new e(t[0], t[1], t[2], t[3]);
									case 5:
										return new e(
											t[0],
											t[1],
											t[2],
											t[3],
											t[4]
										);
									case 6:
										return new e(
											t[0],
											t[1],
											t[2],
											t[3],
											t[4],
											t[5]
										);
									case 7:
										return new e(
											t[0],
											t[1],
											t[2],
											t[3],
											t[4],
											t[5],
											t[6]
										);
								}
								var n = Mn(e.prototype),
									r = e.apply(n, t);
								return Ga(r) ? r : n;
							};
						}
						function Ei(e) {
							return function (t, n, r) {
								var i = de(t);
								if (!Ra(t)) {
									var o = Ji(n, 3);
									(t = xs(t)),
										(n = function (e) {
											return o(i[e], e, i);
										});
								}
								var a = e(t, n, r);
								return a > -1 ? i[o ? t[a] : a] : void 0;
							};
						}
						function Si(e) {
							return qi(function (t) {
								var n = t.length,
									r = n,
									i = Ln.prototype.thru;
								for (e && t.reverse(); r--; ) {
									var a = t[r];
									if ("function" != typeof a) throw new ve(o);
									if (i && !s && "wrapper" == Ki(a))
										var s = new Ln([], !0);
								}
								for (r = s ? r : n; ++r < n; ) {
									var l = Ki((a = t[r])),
										u = "wrapper" == l ? Yi(a) : void 0;
									s =
										u &&
										co(u[0]) &&
										424 == u[1] &&
										!u[4].length &&
										1 == u[9]
											? s[Ki(u[0])].apply(s, u[3])
											: 1 == a.length && co(a)
											? s[l]()
											: s.thru(a);
								}
								return function () {
									var e = arguments,
										r = e[0];
									if (s && 1 == e.length && Oa(r))
										return s.plant(r).value();
									for (
										var i = 0,
											o = n ? t[i].apply(this, e) : r;
										++i < n;

									)
										o = t[i].call(this, o);
									return o;
								};
							});
						}
						function Ai(e, t, n, i, o, a, s, l, u, c) {
							var f = 128 & t,
								h = 1 & t,
								p = 2 & t,
								d = 24 & t,
								y = 512 & t,
								m = p ? void 0 : Pi(e);
							return function v() {
								for (
									var g = arguments.length, _ = r(g), b = g;
									b--;

								)
									_[b] = arguments[b];
								if (d)
									var x = Xi(v),
										w = Rt(_, x);
								if (
									(i && (_ = mi(_, i, o, d)),
									a && (_ = vi(_, a, s, d)),
									(g -= w),
									d && g < c)
								) {
									var C = Ht(_, x);
									return Ri(
										e,
										t,
										Ai,
										v.placeholder,
										n,
										_,
										C,
										l,
										u,
										c - g
									);
								}
								var T = h ? n : this,
									k = p ? T[e] : e;
								return (
									(g = _.length),
									l
										? (_ = go(_, l))
										: y && g > 1 && _.reverse(),
									f && u < g && (_.length = u),
									this &&
										this !== Ze &&
										this instanceof v &&
										(k = m || Pi(k)),
									k.apply(T, _)
								);
							};
						}
						function Mi(e, t) {
							return function (n, r) {
								return (function (e, t, n, r) {
									return (
										ur(e, function (e, i, o) {
											t(r, n(e), i, o);
										}),
										r
									);
								})(n, e, t(r), {});
							};
						}
						function Ii(e, t) {
							return function (n, r) {
								var i;
								if (void 0 === n && void 0 === r) return t;
								if ((void 0 !== n && (i = n), void 0 !== r)) {
									if (void 0 === i) return r;
									"string" == typeof n || "string" == typeof r
										? ((n = Qr(n)), (r = Qr(r)))
										: ((n = Jr(n)), (r = Jr(r))),
										(i = e(n, r));
								}
								return i;
							};
						}
						function Li(e) {
							return qi(function (t) {
								return (
									(t = pt(t, It(Ji()))),
									Fr(function (n) {
										var r = this;
										return e(t, function (e) {
											return ot(e, r, n);
										});
									})
								);
							});
						}
						function Di(e, t) {
							var n = (t = void 0 === t ? " " : Qr(t)).length;
							if (n < 2) return n ? jr(t, e) : t;
							var r = jr(t, $t(e / Wt(t)));
							return Nt(t)
								? ci(Zt(r), 0, e).join("")
								: r.slice(0, e);
						}
						function Oi(e) {
							return function (t, n, i) {
								return (
									i &&
										"number" != typeof i &&
										lo(t, n, i) &&
										(n = i = void 0),
									(t = rs(t)),
									void 0 === n
										? ((n = t), (t = 0))
										: (n = rs(n)),
									(function (e, t, n, i) {
										for (
											var o = -1,
												a = sn(
													$t((t - e) / (n || 1)),
													0
												),
												s = r(a);
											a--;

										)
											(s[i ? a : ++o] = e), (e += n);
										return s;
									})(
										t,
										n,
										(i =
											void 0 === i
												? t < n
													? 1
													: -1
												: rs(i)),
										e
									)
								);
							};
						}
						function zi(e) {
							return function (t, n) {
								return (
									("string" == typeof t &&
										"string" == typeof n) ||
										((t = as(t)), (n = as(n))),
									e(t, n)
								);
							};
						}
						function Ri(e, t, n, r, i, o, a, s, l, u) {
							var c = 8 & t;
							(t |= c ? 32 : 64),
								4 & (t &= ~(c ? 64 : 32)) || (t &= -4);
							var f = [
									e,
									t,
									i,
									c ? o : void 0,
									c ? a : void 0,
									c ? void 0 : o,
									c ? void 0 : a,
									s,
									l,
									u,
								],
								h = n.apply(void 0, f);
							return (
								co(e) && bo(h, f),
								(h.placeholder = r),
								Co(h, e, t)
							);
						}
						function Bi(e) {
							var t = pe[e];
							return function (e, n) {
								if (
									((e = as(e)),
									(n = null == n ? 0 : ln(is(n), 292)) &&
										rn(e))
								) {
									var r = (ls(e) + "e").split("e");
									return +(
										(r = (
											ls(t(r[0] + "e" + (+r[1] + n))) +
											"e"
										).split("e"))[0] +
										"e" +
										(+r[1] - n)
									);
								}
								return t(e);
							};
						}
						var ji =
							mn && 1 / Gt(new mn([, -0]))[1] == 1 / 0
								? function (e) {
										return new mn(e);
								  }
								: Qs;
						function Fi(e) {
							return function (t) {
								var n = ro(t);
								return n == y
									? Vt(t)
									: n == _
									? qt(t)
									: (function (e, t) {
											return pt(t, function (t) {
												return [t, e[t]];
											});
									  })(t, e(t));
							};
						}
						function Ni(e, t, n, i, s, l, u, c) {
							var f = 2 & t;
							if (!f && "function" != typeof e) throw new ve(o);
							var h = i ? i.length : 0;
							if (
								(h || ((t &= -97), (i = s = void 0)),
								(u = void 0 === u ? u : sn(is(u), 0)),
								(c = void 0 === c ? c : is(c)),
								(h -= s ? s.length : 0),
								64 & t)
							) {
								var p = i,
									d = s;
								i = s = void 0;
							}
							var y = f ? void 0 : Yi(e),
								m = [e, t, n, i, s, p, d, l, u, c];
							if (
								(y &&
									(function (e, t) {
										var n = e[1],
											r = t[1],
											i = n | r,
											o = i < 131,
											s =
												(128 == r && 8 == n) ||
												(128 == r &&
													256 == n &&
													e[7].length <= t[8]) ||
												(384 == r &&
													t[7].length <= t[8] &&
													8 == n);
										if (!o && !s) return e;
										1 & r &&
											((e[2] = t[2]),
											(i |= 1 & n ? 0 : 4));
										var l = t[3];
										if (l) {
											var u = e[3];
											(e[3] = u ? mi(u, l, t[4]) : l),
												(e[4] = u ? Ht(e[3], a) : t[4]);
										}
										(l = t[5]) &&
											((u = e[5]),
											(e[5] = u ? vi(u, l, t[6]) : l),
											(e[6] = u ? Ht(e[5], a) : t[6]));
										(l = t[7]) && (e[7] = l);
										128 & r &&
											(e[8] =
												null == e[8]
													? t[8]
													: ln(e[8], t[8]));
										null == e[9] && (e[9] = t[9]);
										(e[0] = t[0]), (e[1] = i);
									})(m, y),
								(e = m[0]),
								(t = m[1]),
								(n = m[2]),
								(i = m[3]),
								(s = m[4]),
								!(c = m[9] =
									void 0 === m[9]
										? f
											? 0
											: e.length
										: sn(m[9] - h, 0)) &&
									24 & t &&
									(t &= -25),
								t && 1 != t)
							)
								v =
									8 == t || 16 == t
										? (function (e, t, n) {
												var i = Pi(e);
												return function o() {
													for (
														var a =
																arguments.length,
															s = r(a),
															l = a,
															u = Xi(o);
														l--;

													)
														s[l] = arguments[l];
													var c =
														a < 3 &&
														s[0] !== u &&
														s[a - 1] !== u
															? []
															: Ht(s, u);
													if ((a -= c.length) < n)
														return Ri(
															e,
															t,
															Ai,
															o.placeholder,
															void 0,
															s,
															c,
															void 0,
															void 0,
															n - a
														);
													var f =
														this &&
														this !== Ze &&
														this instanceof o
															? i
															: e;
													return ot(f, this, s);
												};
										  })(e, t, c)
										: (32 != t && 33 != t) || s.length
										? Ai.apply(void 0, m)
										: (function (e, t, n, i) {
												var o = 1 & t,
													a = Pi(e);
												return function t() {
													for (
														var s = -1,
															l =
																arguments.length,
															u = -1,
															c = i.length,
															f = r(c + l),
															h =
																this &&
																this !== Ze &&
																this instanceof
																	t
																	? a
																	: e;
														++u < c;

													)
														f[u] = i[u];
													for (; l--; )
														f[u++] = arguments[++s];
													return ot(
														h,
														o ? n : this,
														f
													);
												};
										  })(e, t, n, i);
							else
								var v = (function (e, t, n) {
									var r = 1 & t,
										i = Pi(e);
									return function t() {
										var o =
											this &&
											this !== Ze &&
											this instanceof t
												? i
												: e;
										return o.apply(r ? n : this, arguments);
									};
								})(e, t, n);
							return Co((y ? Hr : bo)(v, m), e, t);
						}
						function Vi(e, t, n, r) {
							return void 0 === e ||
								(Ma(e, be[n]) && !Ce.call(r, n))
								? t
								: e;
						}
						function Ui(e, t, n, r, i, o) {
							return (
								Ga(e) &&
									Ga(t) &&
									(o.set(t, e),
									Ir(e, t, void 0, Ui, o),
									o.delete(t)),
								e
							);
						}
						function Hi(e) {
							return Ya(e) ? void 0 : e;
						}
						function Gi(e, t, n, r, i, o) {
							var a = 1 & n,
								s = e.length,
								l = t.length;
							if (s != l && !(a && l > s)) return !1;
							var u = o.get(e),
								c = o.get(t);
							if (u && c) return u == t && c == e;
							var f = -1,
								h = !0,
								p = 2 & n ? new Bn() : void 0;
							for (o.set(e, t), o.set(t, e); ++f < s; ) {
								var d = e[f],
									y = t[f];
								if (r)
									var m = a
										? r(y, d, f, t, e, o)
										: r(d, y, f, e, t, o);
								if (void 0 !== m) {
									if (m) continue;
									h = !1;
									break;
								}
								if (p) {
									if (
										!vt(t, function (e, t) {
											if (
												!Dt(p, t) &&
												(d === e || i(d, e, n, r, o))
											)
												return p.push(t);
										})
									) {
										h = !1;
										break;
									}
								} else if (d !== y && !i(d, y, n, r, o)) {
									h = !1;
									break;
								}
							}
							return o.delete(e), o.delete(t), h;
						}
						function qi(e) {
							return wo(mo(e, void 0, zo), e + "");
						}
						function Wi(e) {
							return pr(e, xs, to);
						}
						function Zi(e) {
							return pr(e, ws, no);
						}
						var Yi = _n
							? function (e) {
									return _n.get(e);
							  }
							: Qs;
						function Ki(e) {
							for (
								var t = e.name + "",
									n = bn[t],
									r = Ce.call(bn, t) ? n.length : 0;
								r--;

							) {
								var i = n[r],
									o = i.func;
								if (null == o || o == e) return i.name;
							}
							return t;
						}
						function Xi(e) {
							return (Ce.call(An, "placeholder") ? An : e)
								.placeholder;
						}
						function Ji() {
							var e = An.iteratee || Ys;
							return (
								(e = e === Ys ? Tr : e),
								arguments.length
									? e(arguments[0], arguments[1])
									: e
							);
						}
						function Qi(e, t) {
							var n,
								r,
								i = e.__data__;
							return (
								"string" == (r = typeof (n = t)) ||
								"number" == r ||
								"symbol" == r ||
								"boolean" == r
									? "__proto__" !== n
									: null === n
							)
								? i["string" == typeof t ? "string" : "hash"]
								: i.map;
						}
						function $i(e) {
							for (var t = xs(e), n = t.length; n--; ) {
								var r = t[n],
									i = e[r];
								t[n] = [r, i, po(i)];
							}
							return t;
						}
						function eo(e, t) {
							var n = (function (e, t) {
								return null == e ? void 0 : e[t];
							})(e, t);
							return Cr(n) ? n : void 0;
						}
						var to = tn
								? function (e) {
										return null == e
											? []
											: ((e = de(e)),
											  ct(tn(e), function (t) {
													return We.call(e, t);
											  }));
								  }
								: ol,
							no = tn
								? function (e) {
										for (var t = []; e; )
											dt(t, to(e)), (e = Ue(e));
										return t;
								  }
								: ol,
							ro = dr;
						function io(e, t, n) {
							for (
								var r = -1, i = (t = li(t, e)).length, o = !1;
								++r < i;

							) {
								var a = Eo(t[r]);
								if (!(o = null != e && n(e, a))) break;
								e = e[a];
							}
							return o || ++r != i
								? o
								: !!(i = null == e ? 0 : e.length) &&
										Ha(i) &&
										so(a, i) &&
										(Oa(e) || Da(e));
						}
						function oo(e) {
							return "function" != typeof e.constructor || ho(e)
								? {}
								: Mn(Ue(e));
						}
						function ao(e) {
							return Oa(e) || Da(e) || !!(Ke && e && e[Ke]);
						}
						function so(e, t) {
							var n = typeof e;
							return (
								!!(t = null == t ? 9007199254740991 : t) &&
								("number" == n ||
									("symbol" != n && le.test(e))) &&
								e > -1 &&
								e % 1 == 0 &&
								e < t
							);
						}
						function lo(e, t, n) {
							if (!Ga(n)) return !1;
							var r = typeof t;
							return (
								!!("number" == r
									? Ra(n) && so(t, n.length)
									: "string" == r && t in n) && Ma(n[t], e)
							);
						}
						function uo(e, t) {
							if (Oa(e)) return !1;
							var n = typeof e;
							return (
								!(
									"number" != n &&
									"symbol" != n &&
									"boolean" != n &&
									null != e &&
									!Qa(e)
								) ||
								G.test(e) ||
								!H.test(e) ||
								(null != t && e in de(t))
							);
						}
						function co(e) {
							var t = Ki(e),
								n = An[t];
							if ("function" != typeof n || !(t in Dn.prototype))
								return !1;
							if (e === n) return !0;
							var r = Yi(n);
							return !!r && e === r[0];
						}
						((pn && ro(new pn(new ArrayBuffer(1))) != T) ||
							(dn && ro(new dn()) != y) ||
							(yn && "[object Promise]" != ro(yn.resolve())) ||
							(mn && ro(new mn()) != _) ||
							(vn && ro(new vn()) != w)) &&
							(ro = function (e) {
								var t = dr(e),
									n = t == v ? e.constructor : void 0,
									r = n ? So(n) : "";
								if (r)
									switch (r) {
										case xn:
											return T;
										case wn:
											return y;
										case Cn:
											return "[object Promise]";
										case Tn:
											return _;
										case kn:
											return w;
									}
								return t;
							});
						var fo = xe ? Va : al;
						function ho(e) {
							var t = e && e.constructor;
							return (
								e ===
								(("function" == typeof t && t.prototype) || be)
							);
						}
						function po(e) {
							return e == e && !Ga(e);
						}
						function yo(e, t) {
							return function (n) {
								return (
									null != n &&
									n[e] === t &&
									(void 0 !== t || e in de(n))
								);
							};
						}
						function mo(e, t, n) {
							return (
								(t = sn(void 0 === t ? e.length - 1 : t, 0)),
								function () {
									for (
										var i = arguments,
											o = -1,
											a = sn(i.length - t, 0),
											s = r(a);
										++o < a;

									)
										s[o] = i[t + o];
									o = -1;
									for (var l = r(t + 1); ++o < t; )
										l[o] = i[o];
									return (l[t] = n(s)), ot(e, this, l);
								}
							);
						}
						function vo(e, t) {
							return t.length < 2 ? e : hr(e, Wr(t, 0, -1));
						}
						function go(e, t) {
							for (
								var n = e.length,
									r = ln(t.length, n),
									i = gi(e);
								r--;

							) {
								var o = t[r];
								e[r] = so(o, n) ? i[o] : void 0;
							}
							return e;
						}
						function _o(e, t) {
							if (
								("constructor" !== t ||
									"function" != typeof e[t]) &&
								"__proto__" != t
							)
								return e[t];
						}
						var bo = To(Hr),
							xo =
								Qt ||
								function (e, t) {
									return Ze.setTimeout(e, t);
								},
							wo = To(Gr);
						function Co(e, t, n) {
							var r = t + "";
							return wo(
								e,
								(function (e, t) {
									var n = t.length;
									if (!n) return e;
									var r = n - 1;
									return (
										(t[r] = (n > 1 ? "& " : "") + t[r]),
										(t = t.join(n > 2 ? ", " : " ")),
										e.replace(
											X,
											"{\n/* [wrapped with " +
												t +
												"] */\n"
										)
									);
								})(
									r,
									(function (e, t) {
										return (
											st(s, function (n) {
												var r = "_." + n[0];
												t & n[1] &&
													!ft(e, r) &&
													e.push(r);
											}),
											e.sort()
										);
									})(
										(function (e) {
											var t = e.match(J);
											return t ? t[1].split(Q) : [];
										})(r),
										n
									)
								)
							);
						}
						function To(e) {
							var t = 0,
								n = 0;
							return function () {
								var r = un(),
									i = 16 - (r - n);
								if (((n = r), i > 0)) {
									if (++t >= 800) return arguments[0];
								} else t = 0;
								return e.apply(void 0, arguments);
							};
						}
						function ko(e, t) {
							var n = -1,
								r = e.length,
								i = r - 1;
							for (t = void 0 === t ? r : t; ++n < t; ) {
								var o = Br(n, i),
									a = e[o];
								(e[o] = e[n]), (e[n] = a);
							}
							return (e.length = t), e;
						}
						var Po = (function (e) {
							var t = Ta(e, function (e) {
									return 500 === n.size && n.clear(), e;
								}),
								n = t.cache;
							return t;
						})(function (e) {
							var t = [];
							return (
								46 === e.charCodeAt(0) && t.push(""),
								e.replace(q, function (e, n, r, i) {
									t.push(r ? i.replace(te, "$1") : n || e);
								}),
								t
							);
						});
						function Eo(e) {
							if ("string" == typeof e || Qa(e)) return e;
							var t = e + "";
							return "0" == t && 1 / e == -1 / 0 ? "-0" : t;
						}
						function So(e) {
							if (null != e) {
								try {
									return we.call(e);
								} catch (e) {}
								try {
									return e + "";
								} catch (e) {}
							}
							return "";
						}
						function Ao(e) {
							if (e instanceof Dn) return e.clone();
							var t = new Ln(e.__wrapped__, e.__chain__);
							return (
								(t.__actions__ = gi(e.__actions__)),
								(t.__index__ = e.__index__),
								(t.__values__ = e.__values__),
								t
							);
						}
						var Mo = Fr(function (e, t) {
								return Ba(e) ? er(e, ar(t, 1, Ba, !0)) : [];
							}),
							Io = Fr(function (e, t) {
								var n = No(t);
								return (
									Ba(n) && (n = void 0),
									Ba(e)
										? er(e, ar(t, 1, Ba, !0), Ji(n, 2))
										: []
								);
							}),
							Lo = Fr(function (e, t) {
								var n = No(t);
								return (
									Ba(n) && (n = void 0),
									Ba(e)
										? er(e, ar(t, 1, Ba, !0), void 0, n)
										: []
								);
							});
						function Do(e, t, n) {
							var r = null == e ? 0 : e.length;
							if (!r) return -1;
							var i = null == n ? 0 : is(n);
							return (
								i < 0 && (i = sn(r + i, 0)), bt(e, Ji(t, 3), i)
							);
						}
						function Oo(e, t, n) {
							var r = null == e ? 0 : e.length;
							if (!r) return -1;
							var i = r - 1;
							return (
								void 0 !== n &&
									((i = is(n)),
									(i = n < 0 ? sn(r + i, 0) : ln(i, r - 1))),
								bt(e, Ji(t, 3), i, !0)
							);
						}
						function zo(e) {
							return (null == e ? 0 : e.length) ? ar(e, 1) : [];
						}
						function Ro(e) {
							return e && e.length ? e[0] : void 0;
						}
						var Bo = Fr(function (e) {
								var t = pt(e, ai);
								return t.length && t[0] === e[0] ? gr(t) : [];
							}),
							jo = Fr(function (e) {
								var t = No(e),
									n = pt(e, ai);
								return (
									t === No(n) ? (t = void 0) : n.pop(),
									n.length && n[0] === e[0]
										? gr(n, Ji(t, 2))
										: []
								);
							}),
							Fo = Fr(function (e) {
								var t = No(e),
									n = pt(e, ai);
								return (
									(t = "function" == typeof t ? t : void 0) &&
										n.pop(),
									n.length && n[0] === e[0]
										? gr(n, void 0, t)
										: []
								);
							});
						function No(e) {
							var t = null == e ? 0 : e.length;
							return t ? e[t - 1] : void 0;
						}
						var Vo = Fr(Uo);
						function Uo(e, t) {
							return e && e.length && t && t.length
								? zr(e, t)
								: e;
						}
						var Ho = qi(function (e, t) {
							var n = null == e ? 0 : e.length,
								r = Kn(e, t);
							return (
								Rr(
									e,
									pt(t, function (e) {
										return so(e, n) ? +e : e;
									}).sort(yi)
								),
								r
							);
						});
						function Go(e) {
							return null == e ? e : hn.call(e);
						}
						var qo = Fr(function (e) {
								return $r(ar(e, 1, Ba, !0));
							}),
							Wo = Fr(function (e) {
								var t = No(e);
								return (
									Ba(t) && (t = void 0),
									$r(ar(e, 1, Ba, !0), Ji(t, 2))
								);
							}),
							Zo = Fr(function (e) {
								var t = No(e);
								return (
									(t = "function" == typeof t ? t : void 0),
									$r(ar(e, 1, Ba, !0), void 0, t)
								);
							});
						function Yo(e) {
							if (!e || !e.length) return [];
							var t = 0;
							return (
								(e = ct(e, function (e) {
									if (Ba(e)) return (t = sn(e.length, t)), !0;
								})),
								At(t, function (t) {
									return pt(e, kt(t));
								})
							);
						}
						function Ko(e, t) {
							if (!e || !e.length) return [];
							var n = Yo(e);
							return null == t
								? n
								: pt(n, function (e) {
										return ot(t, void 0, e);
								  });
						}
						var Xo = Fr(function (e, t) {
								return Ba(e) ? er(e, t) : [];
							}),
							Jo = Fr(function (e) {
								return ii(ct(e, Ba));
							}),
							Qo = Fr(function (e) {
								var t = No(e);
								return (
									Ba(t) && (t = void 0),
									ii(ct(e, Ba), Ji(t, 2))
								);
							}),
							$o = Fr(function (e) {
								var t = No(e);
								return (
									(t = "function" == typeof t ? t : void 0),
									ii(ct(e, Ba), void 0, t)
								);
							}),
							ea = Fr(Yo);
						var ta = Fr(function (e) {
							var t = e.length,
								n = t > 1 ? e[t - 1] : void 0;
							return (
								(n =
									"function" == typeof n
										? (e.pop(), n)
										: void 0),
								Ko(e, n)
							);
						});
						function na(e) {
							var t = An(e);
							return (t.__chain__ = !0), t;
						}
						function ra(e, t) {
							return t(e);
						}
						var ia = qi(function (e) {
							var t = e.length,
								n = t ? e[0] : 0,
								r = this.__wrapped__,
								i = function (t) {
									return Kn(t, e);
								};
							return !(t > 1 || this.__actions__.length) &&
								r instanceof Dn &&
								so(n)
								? ((r = r.slice(
										n,
										+n + (t ? 1 : 0)
								  )).__actions__.push({
										func: ra,
										args: [i],
										thisArg: void 0,
								  }),
								  new Ln(r, this.__chain__).thru(function (e) {
										return (
											t && !e.length && e.push(void 0), e
										);
								  }))
								: this.thru(i);
						});
						var oa = bi(function (e, t, n) {
							Ce.call(e, n) ? ++e[n] : Yn(e, n, 1);
						});
						var aa = Ei(Do),
							sa = Ei(Oo);
						function la(e, t) {
							return (Oa(e) ? st : tr)(e, Ji(t, 3));
						}
						function ua(e, t) {
							return (Oa(e) ? lt : nr)(e, Ji(t, 3));
						}
						var ca = bi(function (e, t, n) {
							Ce.call(e, n) ? e[n].push(t) : Yn(e, n, [t]);
						});
						var fa = Fr(function (e, t, n) {
								var i = -1,
									o = "function" == typeof t,
									a = Ra(e) ? r(e.length) : [];
								return (
									tr(e, function (e) {
										a[++i] = o ? ot(t, e, n) : _r(e, t, n);
									}),
									a
								);
							}),
							ha = bi(function (e, t, n) {
								Yn(e, n, t);
							});
						function pa(e, t) {
							return (Oa(e) ? pt : Sr)(e, Ji(t, 3));
						}
						var da = bi(
							function (e, t, n) {
								e[n ? 0 : 1].push(t);
							},
							function () {
								return [[], []];
							}
						);
						var ya = Fr(function (e, t) {
								if (null == e) return [];
								var n = t.length;
								return (
									n > 1 && lo(e, t[0], t[1])
										? (t = [])
										: n > 2 &&
										  lo(t[0], t[1], t[2]) &&
										  (t = [t[0]]),
									Dr(e, ar(t, 1), [])
								);
							}),
							ma =
								Jt ||
								function () {
									return Ze.Date.now();
								};
						function va(e, t, n) {
							return (
								(t = n ? void 0 : t),
								Ni(
									e,
									128,
									void 0,
									void 0,
									void 0,
									void 0,
									(t = e && null == t ? e.length : t)
								)
							);
						}
						function ga(e, t) {
							var n;
							if ("function" != typeof t) throw new ve(o);
							return (
								(e = is(e)),
								function () {
									return (
										--e > 0 &&
											(n = t.apply(this, arguments)),
										e <= 1 && (t = void 0),
										n
									);
								}
							);
						}
						var _a = Fr(function (e, t, n) {
								var r = 1;
								if (n.length) {
									var i = Ht(n, Xi(_a));
									r |= 32;
								}
								return Ni(e, r, t, n, i);
							}),
							ba = Fr(function (e, t, n) {
								var r = 3;
								if (n.length) {
									var i = Ht(n, Xi(ba));
									r |= 32;
								}
								return Ni(t, r, e, n, i);
							});
						function xa(e, t, n) {
							var r,
								i,
								a,
								s,
								l,
								u,
								c = 0,
								f = !1,
								h = !1,
								p = !0;
							if ("function" != typeof e) throw new ve(o);
							function d(t) {
								var n = r,
									o = i;
								return (
									(r = i = void 0),
									(c = t),
									(s = e.apply(o, n))
								);
							}
							function y(e) {
								return (c = e), (l = xo(v, t)), f ? d(e) : s;
							}
							function m(e) {
								var n = e - u;
								return (
									void 0 === u ||
									n >= t ||
									n < 0 ||
									(h && e - c >= a)
								);
							}
							function v() {
								var e = ma();
								if (m(e)) return g(e);
								l = xo(
									v,
									(function (e) {
										var n = t - (e - u);
										return h ? ln(n, a - (e - c)) : n;
									})(e)
								);
							}
							function g(e) {
								return (
									(l = void 0),
									p && r ? d(e) : ((r = i = void 0), s)
								);
							}
							function _() {
								var e = ma(),
									n = m(e);
								if (((r = arguments), (i = this), (u = e), n)) {
									if (void 0 === l) return y(u);
									if (h) return fi(l), (l = xo(v, t)), d(u);
								}
								return void 0 === l && (l = xo(v, t)), s;
							}
							return (
								(t = as(t) || 0),
								Ga(n) &&
									((f = !!n.leading),
									(a = (h = "maxWait" in n)
										? sn(as(n.maxWait) || 0, t)
										: a),
									(p = "trailing" in n ? !!n.trailing : p)),
								(_.cancel = function () {
									void 0 !== l && fi(l),
										(c = 0),
										(r = u = i = l = void 0);
								}),
								(_.flush = function () {
									return void 0 === l ? s : g(ma());
								}),
								_
							);
						}
						var wa = Fr(function (e, t) {
								return $n(e, 1, t);
							}),
							Ca = Fr(function (e, t, n) {
								return $n(e, as(t) || 0, n);
							});
						function Ta(e, t) {
							if (
								"function" != typeof e ||
								(null != t && "function" != typeof t)
							)
								throw new ve(o);
							var n = function () {
								var r = arguments,
									i = t ? t.apply(this, r) : r[0],
									o = n.cache;
								if (o.has(i)) return o.get(i);
								var a = e.apply(this, r);
								return (n.cache = o.set(i, a) || o), a;
							};
							return (n.cache = new (Ta.Cache || Rn)()), n;
						}
						function ka(e) {
							if ("function" != typeof e) throw new ve(o);
							return function () {
								var t = arguments;
								switch (t.length) {
									case 0:
										return !e.call(this);
									case 1:
										return !e.call(this, t[0]);
									case 2:
										return !e.call(this, t[0], t[1]);
									case 3:
										return !e.call(this, t[0], t[1], t[2]);
								}
								return !e.apply(this, t);
							};
						}
						Ta.Cache = Rn;
						var Pa = ui(function (e, t) {
								var n = (t =
									1 == t.length && Oa(t[0])
										? pt(t[0], It(Ji()))
										: pt(ar(t, 1), It(Ji()))).length;
								return Fr(function (r) {
									for (
										var i = -1, o = ln(r.length, n);
										++i < o;

									)
										r[i] = t[i].call(this, r[i]);
									return ot(e, this, r);
								});
							}),
							Ea = Fr(function (e, t) {
								return Ni(e, 32, void 0, t, Ht(t, Xi(Ea)));
							}),
							Sa = Fr(function (e, t) {
								return Ni(e, 64, void 0, t, Ht(t, Xi(Sa)));
							}),
							Aa = qi(function (e, t) {
								return Ni(e, 256, void 0, void 0, void 0, t);
							});
						function Ma(e, t) {
							return e === t || (e != e && t != t);
						}
						var Ia = zi(yr),
							La = zi(function (e, t) {
								return e >= t;
							}),
							Da = br(
								(function () {
									return arguments;
								})()
							)
								? br
								: function (e) {
										return (
											qa(e) &&
											Ce.call(e, "callee") &&
											!We.call(e, "callee")
										);
								  },
							Oa = r.isArray,
							za = $e
								? It($e)
								: function (e) {
										return qa(e) && dr(e) == C;
								  };
						function Ra(e) {
							return null != e && Ha(e.length) && !Va(e);
						}
						function Ba(e) {
							return qa(e) && Ra(e);
						}
						var ja = nn || al,
							Fa = et
								? It(et)
								: function (e) {
										return qa(e) && dr(e) == f;
								  };
						function Na(e) {
							if (!qa(e)) return !1;
							var t = dr(e);
							return (
								t == h ||
								"[object DOMException]" == t ||
								("string" == typeof e.message &&
									"string" == typeof e.name &&
									!Ya(e))
							);
						}
						function Va(e) {
							if (!Ga(e)) return !1;
							var t = dr(e);
							return (
								t == p ||
								t == d ||
								"[object AsyncFunction]" == t ||
								"[object Proxy]" == t
							);
						}
						function Ua(e) {
							return "number" == typeof e && e == is(e);
						}
						function Ha(e) {
							return (
								"number" == typeof e &&
								e > -1 &&
								e % 1 == 0 &&
								e <= 9007199254740991
							);
						}
						function Ga(e) {
							var t = typeof e;
							return (
								null != e && ("object" == t || "function" == t)
							);
						}
						function qa(e) {
							return null != e && "object" == typeof e;
						}
						var Wa = tt
							? It(tt)
							: function (e) {
									return qa(e) && ro(e) == y;
							  };
						function Za(e) {
							return (
								"number" == typeof e || (qa(e) && dr(e) == m)
							);
						}
						function Ya(e) {
							if (!qa(e) || dr(e) != v) return !1;
							var t = Ue(e);
							if (null === t) return !0;
							var n = Ce.call(t, "constructor") && t.constructor;
							return (
								"function" == typeof n &&
								n instanceof n &&
								we.call(n) == Ee
							);
						}
						var Ka = nt
							? It(nt)
							: function (e) {
									return qa(e) && dr(e) == g;
							  };
						var Xa = rt
							? It(rt)
							: function (e) {
									return qa(e) && ro(e) == _;
							  };
						function Ja(e) {
							return (
								"string" == typeof e ||
								(!Oa(e) && qa(e) && dr(e) == b)
							);
						}
						function Qa(e) {
							return (
								"symbol" == typeof e || (qa(e) && dr(e) == x)
							);
						}
						var $a = it
							? It(it)
							: function (e) {
									return qa(e) && Ha(e.length) && !!Ne[dr(e)];
							  };
						var es = zi(Er),
							ts = zi(function (e, t) {
								return e <= t;
							});
						function ns(e) {
							if (!e) return [];
							if (Ra(e)) return Ja(e) ? Zt(e) : gi(e);
							if (Je && e[Je])
								return (function (e) {
									for (var t, n = []; !(t = e.next()).done; )
										n.push(t.value);
									return n;
								})(e[Je]());
							var t = ro(e);
							return (t == y ? Vt : t == _ ? Gt : Ms)(e);
						}
						function rs(e) {
							return e
								? (e = as(e)) === 1 / 0 || e === -1 / 0
									? 17976931348623157e292 * (e < 0 ? -1 : 1)
									: e == e
									? e
									: 0
								: 0 === e
								? e
								: 0;
						}
						function is(e) {
							var t = rs(e),
								n = t % 1;
							return t == t ? (n ? t - n : t) : 0;
						}
						function os(e) {
							return e ? Xn(is(e), 0, 4294967295) : 0;
						}
						function as(e) {
							if ("number" == typeof e) return e;
							if (Qa(e)) return NaN;
							if (Ga(e)) {
								var t =
									"function" == typeof e.valueOf
										? e.valueOf()
										: e;
								e = Ga(t) ? t + "" : t;
							}
							if ("string" != typeof e) return 0 === e ? e : +e;
							e = Mt(e);
							var n = oe.test(e);
							return n || se.test(e)
								? Ge(e.slice(2), n ? 2 : 8)
								: ie.test(e)
								? NaN
								: +e;
						}
						function ss(e) {
							return _i(e, ws(e));
						}
						function ls(e) {
							return null == e ? "" : Qr(e);
						}
						var us = xi(function (e, t) {
								if (ho(t) || Ra(t)) _i(t, xs(t), e);
								else
									for (var n in t)
										Ce.call(t, n) && Gn(e, n, t[n]);
							}),
							cs = xi(function (e, t) {
								_i(t, ws(t), e);
							}),
							fs = xi(function (e, t, n, r) {
								_i(t, ws(t), e, r);
							}),
							hs = xi(function (e, t, n, r) {
								_i(t, xs(t), e, r);
							}),
							ps = qi(Kn);
						var ds = Fr(function (e, t) {
								e = de(e);
								var n = -1,
									r = t.length,
									i = r > 2 ? t[2] : void 0;
								for (
									i && lo(t[0], t[1], i) && (r = 1);
									++n < r;

								)
									for (
										var o = t[n],
											a = ws(o),
											s = -1,
											l = a.length;
										++s < l;

									) {
										var u = a[s],
											c = e[u];
										(void 0 === c ||
											(Ma(c, be[u]) && !Ce.call(e, u))) &&
											(e[u] = o[u]);
									}
								return e;
							}),
							ys = Fr(function (e) {
								return e.push(void 0, Ui), ot(Ts, void 0, e);
							});
						function ms(e, t, n) {
							var r = null == e ? void 0 : hr(e, t);
							return void 0 === r ? n : r;
						}
						function vs(e, t) {
							return null != e && io(e, t, vr);
						}
						var gs = Mi(function (e, t, n) {
								null != t &&
									"function" != typeof t.toString &&
									(t = Pe.call(t)),
									(e[t] = n);
							}, Gs(Zs)),
							_s = Mi(function (e, t, n) {
								null != t &&
									"function" != typeof t.toString &&
									(t = Pe.call(t)),
									Ce.call(e, t) ? e[t].push(n) : (e[t] = [n]);
							}, Ji),
							bs = Fr(_r);
						function xs(e) {
							return Ra(e) ? Fn(e) : kr(e);
						}
						function ws(e) {
							return Ra(e) ? Fn(e, !0) : Pr(e);
						}
						var Cs = xi(function (e, t, n) {
								Ir(e, t, n);
							}),
							Ts = xi(function (e, t, n, r) {
								Ir(e, t, n, r);
							}),
							ks = qi(function (e, t) {
								var n = {};
								if (null == e) return n;
								var r = !1;
								(t = pt(t, function (t) {
									return (
										(t = li(t, e)),
										r || (r = t.length > 1),
										t
									);
								})),
									_i(e, Zi(e), n),
									r && (n = Jn(n, 7, Hi));
								for (var i = t.length; i--; ) ei(n, t[i]);
								return n;
							});
						var Ps = qi(function (e, t) {
							return null == e
								? {}
								: (function (e, t) {
										return Or(e, t, function (t, n) {
											return vs(e, n);
										});
								  })(e, t);
						});
						function Es(e, t) {
							if (null == e) return {};
							var n = pt(Zi(e), function (e) {
								return [e];
							});
							return (
								(t = Ji(t)),
								Or(e, n, function (e, n) {
									return t(e, n[0]);
								})
							);
						}
						var Ss = Fi(xs),
							As = Fi(ws);
						function Ms(e) {
							return null == e ? [] : Lt(e, xs(e));
						}
						var Is = ki(function (e, t, n) {
							return (t = t.toLowerCase()), e + (n ? Ls(t) : t);
						});
						function Ls(e) {
							return Ns(ls(e).toLowerCase());
						}
						function Ds(e) {
							return (
								(e = ls(e)) && e.replace(ue, Bt).replace(De, "")
							);
						}
						var Os = ki(function (e, t, n) {
								return e + (n ? "-" : "") + t.toLowerCase();
							}),
							zs = ki(function (e, t, n) {
								return e + (n ? " " : "") + t.toLowerCase();
							}),
							Rs = Ti("toLowerCase");
						var Bs = ki(function (e, t, n) {
							return e + (n ? "_" : "") + t.toLowerCase();
						});
						var js = ki(function (e, t, n) {
							return e + (n ? " " : "") + Ns(t);
						});
						var Fs = ki(function (e, t, n) {
								return e + (n ? " " : "") + t.toUpperCase();
							}),
							Ns = Ti("toUpperCase");
						function Vs(e, t, n) {
							return (
								(e = ls(e)),
								void 0 === (t = n ? void 0 : t)
									? (function (e) {
											return Be.test(e);
									  })(e)
										? (function (e) {
												return e.match(ze) || [];
										  })(e)
										: (function (e) {
												return e.match($) || [];
										  })(e)
									: e.match(t) || []
							);
						}
						var Us = Fr(function (e, t) {
								try {
									return ot(e, void 0, t);
								} catch (e) {
									return Na(e) ? e : new K(e);
								}
							}),
							Hs = qi(function (e, t) {
								return (
									st(t, function (t) {
										(t = Eo(t)), Yn(e, t, _a(e[t], e));
									}),
									e
								);
							});
						function Gs(e) {
							return function () {
								return e;
							};
						}
						var qs = Si(),
							Ws = Si(!0);
						function Zs(e) {
							return e;
						}
						function Ys(e) {
							return Tr("function" == typeof e ? e : Jn(e, 1));
						}
						var Ks = Fr(function (e, t) {
								return function (n) {
									return _r(n, e, t);
								};
							}),
							Xs = Fr(function (e, t) {
								return function (n) {
									return _r(e, n, t);
								};
							});
						function Js(e, t, n) {
							var r = xs(t),
								i = fr(t, r);
							null != n ||
								(Ga(t) && (i.length || !r.length)) ||
								((n = t),
								(t = e),
								(e = this),
								(i = fr(t, xs(t))));
							var o = !(Ga(n) && "chain" in n && !n.chain),
								a = Va(e);
							return (
								st(i, function (n) {
									var r = t[n];
									(e[n] = r),
										a &&
											(e.prototype[n] = function () {
												var t = this.__chain__;
												if (o || t) {
													var n = e(this.__wrapped__),
														i = (n.__actions__ = gi(
															this.__actions__
														));
													return (
														i.push({
															func: r,
															args: arguments,
															thisArg: e,
														}),
														(n.__chain__ = t),
														n
													);
												}
												return r.apply(
													e,
													dt(
														[this.value()],
														arguments
													)
												);
											});
								}),
								e
							);
						}
						function Qs() {}
						var $s = Li(pt),
							el = Li(ut),
							tl = Li(vt);
						function nl(e) {
							return uo(e)
								? kt(Eo(e))
								: (function (e) {
										return function (t) {
											return hr(t, e);
										};
								  })(e);
						}
						var rl = Oi(),
							il = Oi(!0);
						function ol() {
							return [];
						}
						function al() {
							return !1;
						}
						var sl = Ii(function (e, t) {
								return e + t;
							}, 0),
							ll = Bi("ceil"),
							ul = Ii(function (e, t) {
								return e / t;
							}, 1),
							cl = Bi("floor");
						var fl,
							hl = Ii(function (e, t) {
								return e * t;
							}, 1),
							pl = Bi("round"),
							dl = Ii(function (e, t) {
								return e - t;
							}, 0);
						return (
							(An.after = function (e, t) {
								if ("function" != typeof t) throw new ve(o);
								return (
									(e = is(e)),
									function () {
										if (--e < 1)
											return t.apply(this, arguments);
									}
								);
							}),
							(An.ary = va),
							(An.assign = us),
							(An.assignIn = cs),
							(An.assignInWith = fs),
							(An.assignWith = hs),
							(An.at = ps),
							(An.before = ga),
							(An.bind = _a),
							(An.bindAll = Hs),
							(An.bindKey = ba),
							(An.castArray = function () {
								if (!arguments.length) return [];
								var e = arguments[0];
								return Oa(e) ? e : [e];
							}),
							(An.chain = na),
							(An.chunk = function (e, t, n) {
								t = (n ? lo(e, t, n) : void 0 === t)
									? 1
									: sn(is(t), 0);
								var i = null == e ? 0 : e.length;
								if (!i || t < 1) return [];
								for (
									var o = 0, a = 0, s = r($t(i / t));
									o < i;

								)
									s[a++] = Wr(e, o, (o += t));
								return s;
							}),
							(An.compact = function (e) {
								for (
									var t = -1,
										n = null == e ? 0 : e.length,
										r = 0,
										i = [];
									++t < n;

								) {
									var o = e[t];
									o && (i[r++] = o);
								}
								return i;
							}),
							(An.concat = function () {
								var e = arguments.length;
								if (!e) return [];
								for (
									var t = r(e - 1), n = arguments[0], i = e;
									i--;

								)
									t[i - 1] = arguments[i];
								return dt(Oa(n) ? gi(n) : [n], ar(t, 1));
							}),
							(An.cond = function (e) {
								var t = null == e ? 0 : e.length,
									n = Ji();
								return (
									(e = t
										? pt(e, function (e) {
												if ("function" != typeof e[1])
													throw new ve(o);
												return [n(e[0]), e[1]];
										  })
										: []),
									Fr(function (n) {
										for (var r = -1; ++r < t; ) {
											var i = e[r];
											if (ot(i[0], this, n))
												return ot(i[1], this, n);
										}
									})
								);
							}),
							(An.conforms = function (e) {
								return (function (e) {
									var t = xs(e);
									return function (n) {
										return Qn(n, e, t);
									};
								})(Jn(e, 1));
							}),
							(An.constant = Gs),
							(An.countBy = oa),
							(An.create = function (e, t) {
								var n = Mn(e);
								return null == t ? n : Zn(n, t);
							}),
							(An.curry = function e(t, n, r) {
								var i = Ni(
									t,
									8,
									void 0,
									void 0,
									void 0,
									void 0,
									void 0,
									(n = r ? void 0 : n)
								);
								return (i.placeholder = e.placeholder), i;
							}),
							(An.curryRight = function e(t, n, r) {
								var i = Ni(
									t,
									16,
									void 0,
									void 0,
									void 0,
									void 0,
									void 0,
									(n = r ? void 0 : n)
								);
								return (i.placeholder = e.placeholder), i;
							}),
							(An.debounce = xa),
							(An.defaults = ds),
							(An.defaultsDeep = ys),
							(An.defer = wa),
							(An.delay = Ca),
							(An.difference = Mo),
							(An.differenceBy = Io),
							(An.differenceWith = Lo),
							(An.drop = function (e, t, n) {
								var r = null == e ? 0 : e.length;
								return r
									? Wr(
											e,
											(t =
												n || void 0 === t ? 1 : is(t)) <
												0
												? 0
												: t,
											r
									  )
									: [];
							}),
							(An.dropRight = function (e, t, n) {
								var r = null == e ? 0 : e.length;
								return r
									? Wr(
											e,
											0,
											(t =
												r -
												(t =
													n || void 0 === t
														? 1
														: is(t))) < 0
												? 0
												: t
									  )
									: [];
							}),
							(An.dropRightWhile = function (e, t) {
								return e && e.length
									? ni(e, Ji(t, 3), !0, !0)
									: [];
							}),
							(An.dropWhile = function (e, t) {
								return e && e.length ? ni(e, Ji(t, 3), !0) : [];
							}),
							(An.fill = function (e, t, n, r) {
								var i = null == e ? 0 : e.length;
								return i
									? (n &&
											"number" != typeof n &&
											lo(e, t, n) &&
											((n = 0), (r = i)),
									  (function (e, t, n, r) {
											var i = e.length;
											for (
												(n = is(n)) < 0 &&
													(n = -n > i ? 0 : i + n),
													(r =
														void 0 === r || r > i
															? i
															: is(r)) < 0 &&
														(r += i),
													r = n > r ? 0 : os(r);
												n < r;

											)
												e[n++] = t;
											return e;
									  })(e, t, n, r))
									: [];
							}),
							(An.filter = function (e, t) {
								return (Oa(e) ? ct : or)(e, Ji(t, 3));
							}),
							(An.flatMap = function (e, t) {
								return ar(pa(e, t), 1);
							}),
							(An.flatMapDeep = function (e, t) {
								return ar(pa(e, t), 1 / 0);
							}),
							(An.flatMapDepth = function (e, t, n) {
								return (
									(n = void 0 === n ? 1 : is(n)),
									ar(pa(e, t), n)
								);
							}),
							(An.flatten = zo),
							(An.flattenDeep = function (e) {
								return (null == e ? 0 : e.length)
									? ar(e, 1 / 0)
									: [];
							}),
							(An.flattenDepth = function (e, t) {
								return (null == e ? 0 : e.length)
									? ar(e, (t = void 0 === t ? 1 : is(t)))
									: [];
							}),
							(An.flip = function (e) {
								return Ni(e, 512);
							}),
							(An.flow = qs),
							(An.flowRight = Ws),
							(An.fromPairs = function (e) {
								for (
									var t = -1,
										n = null == e ? 0 : e.length,
										r = {};
									++t < n;

								) {
									var i = e[t];
									r[i[0]] = i[1];
								}
								return r;
							}),
							(An.functions = function (e) {
								return null == e ? [] : fr(e, xs(e));
							}),
							(An.functionsIn = function (e) {
								return null == e ? [] : fr(e, ws(e));
							}),
							(An.groupBy = ca),
							(An.initial = function (e) {
								return (null == e ? 0 : e.length)
									? Wr(e, 0, -1)
									: [];
							}),
							(An.intersection = Bo),
							(An.intersectionBy = jo),
							(An.intersectionWith = Fo),
							(An.invert = gs),
							(An.invertBy = _s),
							(An.invokeMap = fa),
							(An.iteratee = Ys),
							(An.keyBy = ha),
							(An.keys = xs),
							(An.keysIn = ws),
							(An.map = pa),
							(An.mapKeys = function (e, t) {
								var n = {};
								return (
									(t = Ji(t, 3)),
									ur(e, function (e, r, i) {
										Yn(n, t(e, r, i), e);
									}),
									n
								);
							}),
							(An.mapValues = function (e, t) {
								var n = {};
								return (
									(t = Ji(t, 3)),
									ur(e, function (e, r, i) {
										Yn(n, r, t(e, r, i));
									}),
									n
								);
							}),
							(An.matches = function (e) {
								return Ar(Jn(e, 1));
							}),
							(An.matchesProperty = function (e, t) {
								return Mr(e, Jn(t, 1));
							}),
							(An.memoize = Ta),
							(An.merge = Cs),
							(An.mergeWith = Ts),
							(An.method = Ks),
							(An.methodOf = Xs),
							(An.mixin = Js),
							(An.negate = ka),
							(An.nthArg = function (e) {
								return (
									(e = is(e)),
									Fr(function (t) {
										return Lr(t, e);
									})
								);
							}),
							(An.omit = ks),
							(An.omitBy = function (e, t) {
								return Es(e, ka(Ji(t)));
							}),
							(An.once = function (e) {
								return ga(2, e);
							}),
							(An.orderBy = function (e, t, n, r) {
								return null == e
									? []
									: (Oa(t) || (t = null == t ? [] : [t]),
									  Oa((n = r ? void 0 : n)) ||
											(n = null == n ? [] : [n]),
									  Dr(e, t, n));
							}),
							(An.over = $s),
							(An.overArgs = Pa),
							(An.overEvery = el),
							(An.overSome = tl),
							(An.partial = Ea),
							(An.partialRight = Sa),
							(An.partition = da),
							(An.pick = Ps),
							(An.pickBy = Es),
							(An.property = nl),
							(An.propertyOf = function (e) {
								return function (t) {
									return null == e ? void 0 : hr(e, t);
								};
							}),
							(An.pull = Vo),
							(An.pullAll = Uo),
							(An.pullAllBy = function (e, t, n) {
								return e && e.length && t && t.length
									? zr(e, t, Ji(n, 2))
									: e;
							}),
							(An.pullAllWith = function (e, t, n) {
								return e && e.length && t && t.length
									? zr(e, t, void 0, n)
									: e;
							}),
							(An.pullAt = Ho),
							(An.range = rl),
							(An.rangeRight = il),
							(An.rearg = Aa),
							(An.reject = function (e, t) {
								return (Oa(e) ? ct : or)(e, ka(Ji(t, 3)));
							}),
							(An.remove = function (e, t) {
								var n = [];
								if (!e || !e.length) return n;
								var r = -1,
									i = [],
									o = e.length;
								for (t = Ji(t, 3); ++r < o; ) {
									var a = e[r];
									t(a, r, e) && (n.push(a), i.push(r));
								}
								return Rr(e, i), n;
							}),
							(An.rest = function (e, t) {
								if ("function" != typeof e) throw new ve(o);
								return Fr(e, (t = void 0 === t ? t : is(t)));
							}),
							(An.reverse = Go),
							(An.sampleSize = function (e, t, n) {
								return (
									(t = (n ? lo(e, t, n) : void 0 === t)
										? 1
										: is(t)),
									(Oa(e) ? Vn : Vr)(e, t)
								);
							}),
							(An.set = function (e, t, n) {
								return null == e ? e : Ur(e, t, n);
							}),
							(An.setWith = function (e, t, n, r) {
								return (
									(r = "function" == typeof r ? r : void 0),
									null == e ? e : Ur(e, t, n, r)
								);
							}),
							(An.shuffle = function (e) {
								return (Oa(e) ? Un : qr)(e);
							}),
							(An.slice = function (e, t, n) {
								var r = null == e ? 0 : e.length;
								return r
									? (n && "number" != typeof n && lo(e, t, n)
											? ((t = 0), (n = r))
											: ((t = null == t ? 0 : is(t)),
											  (n = void 0 === n ? r : is(n))),
									  Wr(e, t, n))
									: [];
							}),
							(An.sortBy = ya),
							(An.sortedUniq = function (e) {
								return e && e.length ? Xr(e) : [];
							}),
							(An.sortedUniqBy = function (e, t) {
								return e && e.length ? Xr(e, Ji(t, 2)) : [];
							}),
							(An.split = function (e, t, n) {
								return (
									n &&
										"number" != typeof n &&
										lo(e, t, n) &&
										(t = n = void 0),
									(n = void 0 === n ? 4294967295 : n >>> 0)
										? (e = ls(e)) &&
										  ("string" == typeof t ||
												(null != t && !Ka(t))) &&
										  !(t = Qr(t)) &&
										  Nt(e)
											? ci(Zt(e), 0, n)
											: e.split(t, n)
										: []
								);
							}),
							(An.spread = function (e, t) {
								if ("function" != typeof e) throw new ve(o);
								return (
									(t = null == t ? 0 : sn(is(t), 0)),
									Fr(function (n) {
										var r = n[t],
											i = ci(n, 0, t);
										return r && dt(i, r), ot(e, this, i);
									})
								);
							}),
							(An.tail = function (e) {
								var t = null == e ? 0 : e.length;
								return t ? Wr(e, 1, t) : [];
							}),
							(An.take = function (e, t, n) {
								return e && e.length
									? Wr(
											e,
											0,
											(t =
												n || void 0 === t ? 1 : is(t)) <
												0
												? 0
												: t
									  )
									: [];
							}),
							(An.takeRight = function (e, t, n) {
								var r = null == e ? 0 : e.length;
								return r
									? Wr(
											e,
											(t =
												r -
												(t =
													n || void 0 === t
														? 1
														: is(t))) < 0
												? 0
												: t,
											r
									  )
									: [];
							}),
							(An.takeRightWhile = function (e, t) {
								return e && e.length
									? ni(e, Ji(t, 3), !1, !0)
									: [];
							}),
							(An.takeWhile = function (e, t) {
								return e && e.length ? ni(e, Ji(t, 3)) : [];
							}),
							(An.tap = function (e, t) {
								return t(e), e;
							}),
							(An.throttle = function (e, t, n) {
								var r = !0,
									i = !0;
								if ("function" != typeof e) throw new ve(o);
								return (
									Ga(n) &&
										((r = "leading" in n ? !!n.leading : r),
										(i =
											"trailing" in n
												? !!n.trailing
												: i)),
									xa(e, t, {
										leading: r,
										maxWait: t,
										trailing: i,
									})
								);
							}),
							(An.thru = ra),
							(An.toArray = ns),
							(An.toPairs = Ss),
							(An.toPairsIn = As),
							(An.toPath = function (e) {
								return Oa(e)
									? pt(e, Eo)
									: Qa(e)
									? [e]
									: gi(Po(ls(e)));
							}),
							(An.toPlainObject = ss),
							(An.transform = function (e, t, n) {
								var r = Oa(e),
									i = r || ja(e) || $a(e);
								if (((t = Ji(t, 4)), null == n)) {
									var o = e && e.constructor;
									n = i
										? r
											? new o()
											: []
										: Ga(e) && Va(o)
										? Mn(Ue(e))
										: {};
								}
								return (
									(i ? st : ur)(e, function (e, r, i) {
										return t(n, e, r, i);
									}),
									n
								);
							}),
							(An.unary = function (e) {
								return va(e, 1);
							}),
							(An.union = qo),
							(An.unionBy = Wo),
							(An.unionWith = Zo),
							(An.uniq = function (e) {
								return e && e.length ? $r(e) : [];
							}),
							(An.uniqBy = function (e, t) {
								return e && e.length ? $r(e, Ji(t, 2)) : [];
							}),
							(An.uniqWith = function (e, t) {
								return (
									(t = "function" == typeof t ? t : void 0),
									e && e.length ? $r(e, void 0, t) : []
								);
							}),
							(An.unset = function (e, t) {
								return null == e || ei(e, t);
							}),
							(An.unzip = Yo),
							(An.unzipWith = Ko),
							(An.update = function (e, t, n) {
								return null == e ? e : ti(e, t, si(n));
							}),
							(An.updateWith = function (e, t, n, r) {
								return (
									(r = "function" == typeof r ? r : void 0),
									null == e ? e : ti(e, t, si(n), r)
								);
							}),
							(An.values = Ms),
							(An.valuesIn = function (e) {
								return null == e ? [] : Lt(e, ws(e));
							}),
							(An.without = Xo),
							(An.words = Vs),
							(An.wrap = function (e, t) {
								return Ea(si(t), e);
							}),
							(An.xor = Jo),
							(An.xorBy = Qo),
							(An.xorWith = $o),
							(An.zip = ea),
							(An.zipObject = function (e, t) {
								return oi(e || [], t || [], Gn);
							}),
							(An.zipObjectDeep = function (e, t) {
								return oi(e || [], t || [], Ur);
							}),
							(An.zipWith = ta),
							(An.entries = Ss),
							(An.entriesIn = As),
							(An.extend = cs),
							(An.extendWith = fs),
							Js(An, An),
							(An.add = sl),
							(An.attempt = Us),
							(An.camelCase = Is),
							(An.capitalize = Ls),
							(An.ceil = ll),
							(An.clamp = function (e, t, n) {
								return (
									void 0 === n && ((n = t), (t = void 0)),
									void 0 !== n &&
										(n = (n = as(n)) == n ? n : 0),
									void 0 !== t &&
										(t = (t = as(t)) == t ? t : 0),
									Xn(as(e), t, n)
								);
							}),
							(An.clone = function (e) {
								return Jn(e, 4);
							}),
							(An.cloneDeep = function (e) {
								return Jn(e, 5);
							}),
							(An.cloneDeepWith = function (e, t) {
								return Jn(
									e,
									5,
									(t = "function" == typeof t ? t : void 0)
								);
							}),
							(An.cloneWith = function (e, t) {
								return Jn(
									e,
									4,
									(t = "function" == typeof t ? t : void 0)
								);
							}),
							(An.conformsTo = function (e, t) {
								return null == t || Qn(e, t, xs(t));
							}),
							(An.deburr = Ds),
							(An.defaultTo = function (e, t) {
								return null == e || e != e ? t : e;
							}),
							(An.divide = ul),
							(An.endsWith = function (e, t, n) {
								(e = ls(e)), (t = Qr(t));
								var r = e.length,
									i = (n =
										void 0 === n ? r : Xn(is(n), 0, r));
								return (
									(n -= t.length) >= 0 && e.slice(n, i) == t
								);
							}),
							(An.eq = Ma),
							(An.escape = function (e) {
								return (e = ls(e)) && F.test(e)
									? e.replace(B, jt)
									: e;
							}),
							(An.escapeRegExp = function (e) {
								return (e = ls(e)) && Z.test(e)
									? e.replace(W, "\\$&")
									: e;
							}),
							(An.every = function (e, t, n) {
								var r = Oa(e) ? ut : rr;
								return (
									n && lo(e, t, n) && (t = void 0),
									r(e, Ji(t, 3))
								);
							}),
							(An.find = aa),
							(An.findIndex = Do),
							(An.findKey = function (e, t) {
								return _t(e, Ji(t, 3), ur);
							}),
							(An.findLast = sa),
							(An.findLastIndex = Oo),
							(An.findLastKey = function (e, t) {
								return _t(e, Ji(t, 3), cr);
							}),
							(An.floor = cl),
							(An.forEach = la),
							(An.forEachRight = ua),
							(An.forIn = function (e, t) {
								return null == e ? e : sr(e, Ji(t, 3), ws);
							}),
							(An.forInRight = function (e, t) {
								return null == e ? e : lr(e, Ji(t, 3), ws);
							}),
							(An.forOwn = function (e, t) {
								return e && ur(e, Ji(t, 3));
							}),
							(An.forOwnRight = function (e, t) {
								return e && cr(e, Ji(t, 3));
							}),
							(An.get = ms),
							(An.gt = Ia),
							(An.gte = La),
							(An.has = function (e, t) {
								return null != e && io(e, t, mr);
							}),
							(An.hasIn = vs),
							(An.head = Ro),
							(An.identity = Zs),
							(An.includes = function (e, t, n, r) {
								(e = Ra(e) ? e : Ms(e)),
									(n = n && !r ? is(n) : 0);
								var i = e.length;
								return (
									n < 0 && (n = sn(i + n, 0)),
									Ja(e)
										? n <= i && e.indexOf(t, n) > -1
										: !!i && xt(e, t, n) > -1
								);
							}),
							(An.indexOf = function (e, t, n) {
								var r = null == e ? 0 : e.length;
								if (!r) return -1;
								var i = null == n ? 0 : is(n);
								return i < 0 && (i = sn(r + i, 0)), xt(e, t, i);
							}),
							(An.inRange = function (e, t, n) {
								return (
									(t = rs(t)),
									void 0 === n
										? ((n = t), (t = 0))
										: (n = rs(n)),
									(function (e, t, n) {
										return e >= ln(t, n) && e < sn(t, n);
									})((e = as(e)), t, n)
								);
							}),
							(An.invoke = bs),
							(An.isArguments = Da),
							(An.isArray = Oa),
							(An.isArrayBuffer = za),
							(An.isArrayLike = Ra),
							(An.isArrayLikeObject = Ba),
							(An.isBoolean = function (e) {
								return (
									!0 === e ||
									!1 === e ||
									(qa(e) && dr(e) == c)
								);
							}),
							(An.isBuffer = ja),
							(An.isDate = Fa),
							(An.isElement = function (e) {
								return qa(e) && 1 === e.nodeType && !Ya(e);
							}),
							(An.isEmpty = function (e) {
								if (null == e) return !0;
								if (
									Ra(e) &&
									(Oa(e) ||
										"string" == typeof e ||
										"function" == typeof e.splice ||
										ja(e) ||
										$a(e) ||
										Da(e))
								)
									return !e.length;
								var t = ro(e);
								if (t == y || t == _) return !e.size;
								if (ho(e)) return !kr(e).length;
								for (var n in e) if (Ce.call(e, n)) return !1;
								return !0;
							}),
							(An.isEqual = function (e, t) {
								return xr(e, t);
							}),
							(An.isEqualWith = function (e, t, n) {
								var r = (n =
									"function" == typeof n ? n : void 0)
									? n(e, t)
									: void 0;
								return void 0 === r ? xr(e, t, void 0, n) : !!r;
							}),
							(An.isError = Na),
							(An.isFinite = function (e) {
								return "number" == typeof e && rn(e);
							}),
							(An.isFunction = Va),
							(An.isInteger = Ua),
							(An.isLength = Ha),
							(An.isMap = Wa),
							(An.isMatch = function (e, t) {
								return e === t || wr(e, t, $i(t));
							}),
							(An.isMatchWith = function (e, t, n) {
								return (
									(n = "function" == typeof n ? n : void 0),
									wr(e, t, $i(t), n)
								);
							}),
							(An.isNaN = function (e) {
								return Za(e) && e != +e;
							}),
							(An.isNative = function (e) {
								if (fo(e))
									throw new K(
										"Unsupported core-js use. Try https://npms.io/search?q=ponyfill."
									);
								return Cr(e);
							}),
							(An.isNil = function (e) {
								return null == e;
							}),
							(An.isNull = function (e) {
								return null === e;
							}),
							(An.isNumber = Za),
							(An.isObject = Ga),
							(An.isObjectLike = qa),
							(An.isPlainObject = Ya),
							(An.isRegExp = Ka),
							(An.isSafeInteger = function (e) {
								return (
									Ua(e) &&
									e >= -9007199254740991 &&
									e <= 9007199254740991
								);
							}),
							(An.isSet = Xa),
							(An.isString = Ja),
							(An.isSymbol = Qa),
							(An.isTypedArray = $a),
							(An.isUndefined = function (e) {
								return void 0 === e;
							}),
							(An.isWeakMap = function (e) {
								return qa(e) && ro(e) == w;
							}),
							(An.isWeakSet = function (e) {
								return qa(e) && "[object WeakSet]" == dr(e);
							}),
							(An.join = function (e, t) {
								return null == e ? "" : on.call(e, t);
							}),
							(An.kebabCase = Os),
							(An.last = No),
							(An.lastIndexOf = function (e, t, n) {
								var r = null == e ? 0 : e.length;
								if (!r) return -1;
								var i = r;
								return (
									void 0 !== n &&
										(i =
											(i = is(n)) < 0
												? sn(r + i, 0)
												: ln(i, r - 1)),
									t == t
										? (function (e, t, n) {
												for (var r = n + 1; r--; )
													if (e[r] === t) return r;
												return r;
										  })(e, t, i)
										: bt(e, Ct, i, !0)
								);
							}),
							(An.lowerCase = zs),
							(An.lowerFirst = Rs),
							(An.lt = es),
							(An.lte = ts),
							(An.max = function (e) {
								return e && e.length ? ir(e, Zs, yr) : void 0;
							}),
							(An.maxBy = function (e, t) {
								return e && e.length
									? ir(e, Ji(t, 2), yr)
									: void 0;
							}),
							(An.mean = function (e) {
								return Tt(e, Zs);
							}),
							(An.meanBy = function (e, t) {
								return Tt(e, Ji(t, 2));
							}),
							(An.min = function (e) {
								return e && e.length ? ir(e, Zs, Er) : void 0;
							}),
							(An.minBy = function (e, t) {
								return e && e.length
									? ir(e, Ji(t, 2), Er)
									: void 0;
							}),
							(An.stubArray = ol),
							(An.stubFalse = al),
							(An.stubObject = function () {
								return {};
							}),
							(An.stubString = function () {
								return "";
							}),
							(An.stubTrue = function () {
								return !0;
							}),
							(An.multiply = hl),
							(An.nth = function (e, t) {
								return e && e.length ? Lr(e, is(t)) : void 0;
							}),
							(An.noConflict = function () {
								return Ze._ === this && (Ze._ = Se), this;
							}),
							(An.noop = Qs),
							(An.now = ma),
							(An.pad = function (e, t, n) {
								e = ls(e);
								var r = (t = is(t)) ? Wt(e) : 0;
								if (!t || r >= t) return e;
								var i = (t - r) / 2;
								return Di(en(i), n) + e + Di($t(i), n);
							}),
							(An.padEnd = function (e, t, n) {
								e = ls(e);
								var r = (t = is(t)) ? Wt(e) : 0;
								return t && r < t ? e + Di(t - r, n) : e;
							}),
							(An.padStart = function (e, t, n) {
								e = ls(e);
								var r = (t = is(t)) ? Wt(e) : 0;
								return t && r < t ? Di(t - r, n) + e : e;
							}),
							(An.parseInt = function (e, t, n) {
								return (
									n || null == t ? (t = 0) : t && (t = +t),
									cn(ls(e).replace(Y, ""), t || 0)
								);
							}),
							(An.random = function (e, t, n) {
								if (
									(n &&
										"boolean" != typeof n &&
										lo(e, t, n) &&
										(t = n = void 0),
									void 0 === n &&
										("boolean" == typeof t
											? ((n = t), (t = void 0))
											: "boolean" == typeof e &&
											  ((n = e), (e = void 0))),
									void 0 === e && void 0 === t
										? ((e = 0), (t = 1))
										: ((e = rs(e)),
										  void 0 === t
												? ((t = e), (e = 0))
												: (t = rs(t))),
									e > t)
								) {
									var r = e;
									(e = t), (t = r);
								}
								if (n || e % 1 || t % 1) {
									var i = fn();
									return ln(
										e +
											i *
												(t -
													e +
													He(
														"1e-" +
															((i + "").length -
																1)
													)),
										t
									);
								}
								return Br(e, t);
							}),
							(An.reduce = function (e, t, n) {
								var r = Oa(e) ? yt : Et,
									i = arguments.length < 3;
								return r(e, Ji(t, 4), n, i, tr);
							}),
							(An.reduceRight = function (e, t, n) {
								var r = Oa(e) ? mt : Et,
									i = arguments.length < 3;
								return r(e, Ji(t, 4), n, i, nr);
							}),
							(An.repeat = function (e, t, n) {
								return (
									(t = (n ? lo(e, t, n) : void 0 === t)
										? 1
										: is(t)),
									jr(ls(e), t)
								);
							}),
							(An.replace = function () {
								var e = arguments,
									t = ls(e[0]);
								return e.length < 3 ? t : t.replace(e[1], e[2]);
							}),
							(An.result = function (e, t, n) {
								var r = -1,
									i = (t = li(t, e)).length;
								for (i || ((i = 1), (e = void 0)); ++r < i; ) {
									var o = null == e ? void 0 : e[Eo(t[r])];
									void 0 === o && ((r = i), (o = n)),
										(e = Va(o) ? o.call(e) : o);
								}
								return e;
							}),
							(An.round = pl),
							(An.runInContext = e),
							(An.sample = function (e) {
								return (Oa(e) ? Nn : Nr)(e);
							}),
							(An.size = function (e) {
								if (null == e) return 0;
								if (Ra(e)) return Ja(e) ? Wt(e) : e.length;
								var t = ro(e);
								return t == y || t == _ ? e.size : kr(e).length;
							}),
							(An.snakeCase = Bs),
							(An.some = function (e, t, n) {
								var r = Oa(e) ? vt : Zr;
								return (
									n && lo(e, t, n) && (t = void 0),
									r(e, Ji(t, 3))
								);
							}),
							(An.sortedIndex = function (e, t) {
								return Yr(e, t);
							}),
							(An.sortedIndexBy = function (e, t, n) {
								return Kr(e, t, Ji(n, 2));
							}),
							(An.sortedIndexOf = function (e, t) {
								var n = null == e ? 0 : e.length;
								if (n) {
									var r = Yr(e, t);
									if (r < n && Ma(e[r], t)) return r;
								}
								return -1;
							}),
							(An.sortedLastIndex = function (e, t) {
								return Yr(e, t, !0);
							}),
							(An.sortedLastIndexBy = function (e, t, n) {
								return Kr(e, t, Ji(n, 2), !0);
							}),
							(An.sortedLastIndexOf = function (e, t) {
								if (null == e ? 0 : e.length) {
									var n = Yr(e, t, !0) - 1;
									if (Ma(e[n], t)) return n;
								}
								return -1;
							}),
							(An.startCase = js),
							(An.startsWith = function (e, t, n) {
								return (
									(e = ls(e)),
									(n =
										null == n ? 0 : Xn(is(n), 0, e.length)),
									(t = Qr(t)),
									e.slice(n, n + t.length) == t
								);
							}),
							(An.subtract = dl),
							(An.sum = function (e) {
								return e && e.length ? St(e, Zs) : 0;
							}),
							(An.sumBy = function (e, t) {
								return e && e.length ? St(e, Ji(t, 2)) : 0;
							}),
							(An.template = function (e, t, n) {
								var r = An.templateSettings;
								n && lo(e, t, n) && (t = void 0),
									(e = ls(e)),
									(t = fs({}, t, r, Vi));
								var i,
									o,
									a = fs({}, t.imports, r.imports, Vi),
									s = xs(a),
									l = Lt(a, s),
									u = 0,
									c = t.interpolate || ce,
									f = "__p += '",
									h = ye(
										(t.escape || ce).source +
											"|" +
											c.source +
											"|" +
											(c === U ? ne : ce).source +
											"|" +
											(t.evaluate || ce).source +
											"|$",
										"g"
									),
									p =
										"//# sourceURL=" +
										(Ce.call(t, "sourceURL")
											? (t.sourceURL + "").replace(
													/\s/g,
													" "
											  )
											: "lodash.templateSources[" +
											  ++Fe +
											  "]") +
										"\n";
								e.replace(h, function (t, n, r, a, s, l) {
									return (
										r || (r = a),
										(f += e.slice(u, l).replace(fe, Ft)),
										n &&
											((i = !0),
											(f += "' +\n__e(" + n + ") +\n'")),
										s &&
											((o = !0),
											(f += "';\n" + s + ";\n__p += '")),
										r &&
											(f +=
												"' +\n((__t = (" +
												r +
												")) == null ? '' : __t) +\n'"),
										(u = l + t.length),
										t
									);
								}),
									(f += "';\n");
								var d = Ce.call(t, "variable") && t.variable;
								if (d) {
									if (ee.test(d))
										throw new K(
											"Invalid `variable` option passed into `_.template`"
										);
								} else f = "with (obj) {\n" + f + "\n}\n";
								(f = (o ? f.replace(D, "") : f)
									.replace(O, "$1")
									.replace(z, "$1;")),
									(f =
										"function(" +
										(d || "obj") +
										") {\n" +
										(d ? "" : "obj || (obj = {});\n") +
										"var __t, __p = ''" +
										(i ? ", __e = _.escape" : "") +
										(o
											? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"
											: ";\n") +
										f +
										"return __p\n}");
								var y = Us(function () {
									return he(s, p + "return " + f).apply(
										void 0,
										l
									);
								});
								if (((y.source = f), Na(y))) throw y;
								return y;
							}),
							(An.times = function (e, t) {
								if ((e = is(e)) < 1 || e > 9007199254740991)
									return [];
								var n = 4294967295,
									r = ln(e, 4294967295);
								e -= 4294967295;
								for (var i = At(r, (t = Ji(t))); ++n < e; )
									t(n);
								return i;
							}),
							(An.toFinite = rs),
							(An.toInteger = is),
							(An.toLength = os),
							(An.toLower = function (e) {
								return ls(e).toLowerCase();
							}),
							(An.toNumber = as),
							(An.toSafeInteger = function (e) {
								return e
									? Xn(
											is(e),
											-9007199254740991,
											9007199254740991
									  )
									: 0 === e
									? e
									: 0;
							}),
							(An.toString = ls),
							(An.toUpper = function (e) {
								return ls(e).toUpperCase();
							}),
							(An.trim = function (e, t, n) {
								if ((e = ls(e)) && (n || void 0 === t))
									return Mt(e);
								if (!e || !(t = Qr(t))) return e;
								var r = Zt(e),
									i = Zt(t);
								return ci(r, Ot(r, i), zt(r, i) + 1).join("");
							}),
							(An.trimEnd = function (e, t, n) {
								if ((e = ls(e)) && (n || void 0 === t))
									return e.slice(0, Yt(e) + 1);
								if (!e || !(t = Qr(t))) return e;
								var r = Zt(e);
								return ci(r, 0, zt(r, Zt(t)) + 1).join("");
							}),
							(An.trimStart = function (e, t, n) {
								if ((e = ls(e)) && (n || void 0 === t))
									return e.replace(Y, "");
								if (!e || !(t = Qr(t))) return e;
								var r = Zt(e);
								return ci(r, Ot(r, Zt(t))).join("");
							}),
							(An.truncate = function (e, t) {
								var n = 30,
									r = "...";
								if (Ga(t)) {
									var i = "separator" in t ? t.separator : i;
									(n = "length" in t ? is(t.length) : n),
										(r =
											"omission" in t
												? Qr(t.omission)
												: r);
								}
								var o = (e = ls(e)).length;
								if (Nt(e)) {
									var a = Zt(e);
									o = a.length;
								}
								if (n >= o) return e;
								var s = n - Wt(r);
								if (s < 1) return r;
								var l = a
									? ci(a, 0, s).join("")
									: e.slice(0, s);
								if (void 0 === i) return l + r;
								if ((a && (s += l.length - s), Ka(i))) {
									if (e.slice(s).search(i)) {
										var u,
											c = l;
										for (
											i.global ||
												(i = ye(
													i.source,
													ls(re.exec(i)) + "g"
												)),
												i.lastIndex = 0;
											(u = i.exec(c));

										)
											var f = u.index;
										l = l.slice(0, void 0 === f ? s : f);
									}
								} else if (e.indexOf(Qr(i), s) != s) {
									var h = l.lastIndexOf(i);
									h > -1 && (l = l.slice(0, h));
								}
								return l + r;
							}),
							(An.unescape = function (e) {
								return (e = ls(e)) && j.test(e)
									? e.replace(R, Kt)
									: e;
							}),
							(An.uniqueId = function (e) {
								var t = ++Te;
								return ls(e) + t;
							}),
							(An.upperCase = Fs),
							(An.upperFirst = Ns),
							(An.each = la),
							(An.eachRight = ua),
							(An.first = Ro),
							Js(
								An,
								((fl = {}),
								ur(An, function (e, t) {
									Ce.call(An.prototype, t) || (fl[t] = e);
								}),
								fl),
								{ chain: !1 }
							),
							(An.VERSION = "4.17.21"),
							st(
								[
									"bind",
									"bindKey",
									"curry",
									"curryRight",
									"partial",
									"partialRight",
								],
								function (e) {
									An[e].placeholder = An;
								}
							),
							st(["drop", "take"], function (e, t) {
								(Dn.prototype[e] = function (n) {
									n = void 0 === n ? 1 : sn(is(n), 0);
									var r =
										this.__filtered__ && !t
											? new Dn(this)
											: this.clone();
									return (
										r.__filtered__
											? (r.__takeCount__ = ln(
													n,
													r.__takeCount__
											  ))
											: r.__views__.push({
													size: ln(n, 4294967295),
													type:
														e +
														(r.__dir__ < 0
															? "Right"
															: ""),
											  }),
										r
									);
								}),
									(Dn.prototype[e + "Right"] = function (t) {
										return this.reverse()[e](t).reverse();
									});
							}),
							st(["filter", "map", "takeWhile"], function (e, t) {
								var n = t + 1,
									r = 1 == n || 3 == n;
								Dn.prototype[e] = function (e) {
									var t = this.clone();
									return (
										t.__iteratees__.push({
											iteratee: Ji(e, 3),
											type: n,
										}),
										(t.__filtered__ = t.__filtered__ || r),
										t
									);
								};
							}),
							st(["head", "last"], function (e, t) {
								var n = "take" + (t ? "Right" : "");
								Dn.prototype[e] = function () {
									return this[n](1).value()[0];
								};
							}),
							st(["initial", "tail"], function (e, t) {
								var n = "drop" + (t ? "" : "Right");
								Dn.prototype[e] = function () {
									return this.__filtered__
										? new Dn(this)
										: this[n](1);
								};
							}),
							(Dn.prototype.compact = function () {
								return this.filter(Zs);
							}),
							(Dn.prototype.find = function (e) {
								return this.filter(e).head();
							}),
							(Dn.prototype.findLast = function (e) {
								return this.reverse().find(e);
							}),
							(Dn.prototype.invokeMap = Fr(function (e, t) {
								return "function" == typeof e
									? new Dn(this)
									: this.map(function (n) {
											return _r(n, e, t);
									  });
							})),
							(Dn.prototype.reject = function (e) {
								return this.filter(ka(Ji(e)));
							}),
							(Dn.prototype.slice = function (e, t) {
								e = is(e);
								var n = this;
								return n.__filtered__ && (e > 0 || t < 0)
									? new Dn(n)
									: (e < 0
											? (n = n.takeRight(-e))
											: e && (n = n.drop(e)),
									  void 0 !== t &&
											(n =
												(t = is(t)) < 0
													? n.dropRight(-t)
													: n.take(t - e)),
									  n);
							}),
							(Dn.prototype.takeRightWhile = function (e) {
								return this.reverse().takeWhile(e).reverse();
							}),
							(Dn.prototype.toArray = function () {
								return this.take(4294967295);
							}),
							ur(Dn.prototype, function (e, t) {
								var n =
										/^(?:filter|find|map|reject)|While$/.test(
											t
										),
									r = /^(?:head|last)$/.test(t),
									i =
										An[
											r
												? "take" +
												  ("last" == t ? "Right" : "")
												: t
										],
									o = r || /^find/.test(t);
								i &&
									(An.prototype[t] = function () {
										var t = this.__wrapped__,
											a = r ? [1] : arguments,
											s = t instanceof Dn,
											l = a[0],
											u = s || Oa(t),
											c = function (e) {
												var t = i.apply(An, dt([e], a));
												return r && f ? t[0] : t;
											};
										u &&
											n &&
											"function" == typeof l &&
											1 != l.length &&
											(s = u = !1);
										var f = this.__chain__,
											h = !!this.__actions__.length,
											p = o && !f,
											d = s && !h;
										if (!o && u) {
											t = d ? t : new Dn(this);
											var y = e.apply(t, a);
											return (
												y.__actions__.push({
													func: ra,
													args: [c],
													thisArg: void 0,
												}),
												new Ln(y, f)
											);
										}
										return p && d
											? e.apply(this, a)
											: ((y = this.thru(c)),
											  p
													? r
														? y.value()[0]
														: y.value()
													: y);
									});
							}),
							st(
								[
									"pop",
									"push",
									"shift",
									"sort",
									"splice",
									"unshift",
								],
								function (e) {
									var t = ge[e],
										n = /^(?:push|sort|unshift)$/.test(e)
											? "tap"
											: "thru",
										r = /^(?:pop|shift)$/.test(e);
									An.prototype[e] = function () {
										var e = arguments;
										if (r && !this.__chain__) {
											var i = this.value();
											return t.apply(Oa(i) ? i : [], e);
										}
										return this[n](function (n) {
											return t.apply(Oa(n) ? n : [], e);
										});
									};
								}
							),
							ur(Dn.prototype, function (e, t) {
								var n = An[t];
								if (n) {
									var r = n.name + "";
									Ce.call(bn, r) || (bn[r] = []),
										bn[r].push({ name: t, func: n });
								}
							}),
							(bn[Ai(void 0, 2).name] = [
								{ name: "wrapper", func: void 0 },
							]),
							(Dn.prototype.clone = function () {
								var e = new Dn(this.__wrapped__);
								return (
									(e.__actions__ = gi(this.__actions__)),
									(e.__dir__ = this.__dir__),
									(e.__filtered__ = this.__filtered__),
									(e.__iteratees__ = gi(this.__iteratees__)),
									(e.__takeCount__ = this.__takeCount__),
									(e.__views__ = gi(this.__views__)),
									e
								);
							}),
							(Dn.prototype.reverse = function () {
								if (this.__filtered__) {
									var e = new Dn(this);
									(e.__dir__ = -1), (e.__filtered__ = !0);
								} else (e = this.clone()).__dir__ *= -1;
								return e;
							}),
							(Dn.prototype.value = function () {
								var e = this.__wrapped__.value(),
									t = this.__dir__,
									n = Oa(e),
									r = t < 0,
									i = n ? e.length : 0,
									o = (function (e, t, n) {
										var r = -1,
											i = n.length;
										for (; ++r < i; ) {
											var o = n[r],
												a = o.size;
											switch (o.type) {
												case "drop":
													e += a;
													break;
												case "dropRight":
													t -= a;
													break;
												case "take":
													t = ln(t, e + a);
													break;
												case "takeRight":
													e = sn(e, t - a);
											}
										}
										return { start: e, end: t };
									})(0, i, this.__views__),
									a = o.start,
									s = o.end,
									l = s - a,
									u = r ? s : a - 1,
									c = this.__iteratees__,
									f = c.length,
									h = 0,
									p = ln(l, this.__takeCount__);
								if (!n || (!r && i == l && p == l))
									return ri(e, this.__actions__);
								var d = [];
								e: for (; l-- && h < p; ) {
									for (
										var y = -1, m = e[(u += t)];
										++y < f;

									) {
										var v = c[y],
											g = v.iteratee,
											_ = v.type,
											b = g(m);
										if (2 == _) m = b;
										else if (!b) {
											if (1 == _) continue e;
											break e;
										}
									}
									d[h++] = m;
								}
								return d;
							}),
							(An.prototype.at = ia),
							(An.prototype.chain = function () {
								return na(this);
							}),
							(An.prototype.commit = function () {
								return new Ln(this.value(), this.__chain__);
							}),
							(An.prototype.next = function () {
								void 0 === this.__values__ &&
									(this.__values__ = ns(this.value()));
								var e =
									this.__index__ >= this.__values__.length;
								return {
									done: e,
									value: e
										? void 0
										: this.__values__[this.__index__++],
								};
							}),
							(An.prototype.plant = function (e) {
								for (var t, n = this; n instanceof In; ) {
									var r = Ao(n);
									(r.__index__ = 0),
										(r.__values__ = void 0),
										t ? (i.__wrapped__ = r) : (t = r);
									var i = r;
									n = n.__wrapped__;
								}
								return (i.__wrapped__ = e), t;
							}),
							(An.prototype.reverse = function () {
								var e = this.__wrapped__;
								if (e instanceof Dn) {
									var t = e;
									return (
										this.__actions__.length &&
											(t = new Dn(this)),
										(t = t.reverse()).__actions__.push({
											func: ra,
											args: [Go],
											thisArg: void 0,
										}),
										new Ln(t, this.__chain__)
									);
								}
								return this.thru(Go);
							}),
							(An.prototype.toJSON =
								An.prototype.valueOf =
								An.prototype.value =
									function () {
										return ri(
											this.__wrapped__,
											this.__actions__
										);
									}),
							(An.prototype.first = An.prototype.head),
							Je &&
								(An.prototype[Je] = function () {
									return this;
								}),
							An
						);
					})();
					(Ze._ = Xt),
						void 0 ===
							(i = function () {
								return Xt;
							}.call(t, n, t, r)) || (r.exports = i);
				}.call(this));
			}.call(this, n(114), n(221)(e)));
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(229)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t) {
							"use strict";
							var r = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = r(t));
							var i = {
									version: "1.0.0",
									createTime: "2018.6.19",
									author: "xupinhui",
								},
								o = "doublearrow",
								a = 0.25,
								s = 0.3,
								l = 0.85,
								u = 0.15,
								c = {
									headHeightFactor: 0.18,
									headWidthFactor: 0.3,
									neckHeightFactor: 0.85,
									neckWidthFactor: 0.15,
									tailWidthFactor: 0.1,
									headTailFactor: 0.8,
									swallowTailFactor: 1,
								},
								f = {
									tailWidthFactor: 0.15,
									neckWidthFactor: 0.2,
									headWidthFactor: 0.25,
									headAngle: Math.PI / 8.5,
									neckAngle: Math.PI / 13,
								};
							(i.algorithm = {}),
								(i.algorithm.doubleArrow = function (e) {
									(this.connPoint = null),
										(this.tempPoint4 = null),
										(this.points = e);
									var n = {
										controlPoint: null,
										polygonalPoint: null,
									};
									if (!((u = e.length) < 2)) {
										if (2 == u) return e;
										var r,
											o,
											a = this.points[0],
											s = this.points[1],
											l = this.points[2],
											u = e.length;
										(this.tempPoint4 =
											3 == u
												? i.algorithm.getTempPoint4(
														a,
														s,
														l
												  )
												: this.points[3]),
											(this.connPoint =
												3 == u || 4 == u
													? t.default.PlotUtils.mid(
															a,
															s
													  )
													: this.points[4]),
											t.default.PlotUtils.isClockWise(
												a,
												s,
												l
											)
												? ((r =
														i.algorithm.getArrowPoints(
															a,
															this.connPoint,
															this.tempPoint4,
															!1
														)),
												  (o =
														i.algorithm.getArrowPoints(
															this.connPoint,
															s,
															l,
															!0
														)))
												: ((r =
														i.algorithm.getArrowPoints(
															s,
															this.connPoint,
															l,
															!1
														)),
												  (o =
														i.algorithm.getArrowPoints(
															this.connPoint,
															a,
															this.tempPoint4,
															!0
														)));
										var c = r.length,
											f = (c - 5) / 2,
											h = r.slice(0, f),
											p = r.slice(f, f + 5),
											d = r.slice(f + 5, c),
											y = o.slice(0, f),
											m = o.slice(f, f + 5),
											v = o.slice(f + 5, c);
										y =
											t.default.PlotUtils.getBezierPoints(
												y
											);
										var g =
											t.default.PlotUtils.getBezierPoints(
												v.concat(h.slice(1))
											);
										d =
											t.default.PlotUtils.getBezierPoints(
												d
											);
										var _ = y.concat(m, g, p, d),
											b = i.algorithm.array2Dto1D(_);
										(n.controlPoint = [
											a,
											s,
											l,
											this.tempPoint4,
											this.connPoint,
										]),
											(n.polygonalPoint =
												Cesium.Cartesian3.fromDegreesArray(
													b
												));
									}
									return n;
								}),
								(i.algorithm.threeArrow = function (e) {
									(this.connPoint = null),
										(this.tempPoint4 = null),
										(this.tempPoint5 = null),
										(this.points = e);
									var n = {
										controlPoint: null,
										polygonalPoint: null,
									};
									if ((r = e.length) >= 2) {
										if (2 == r) return e;
										var r,
											o,
											a,
											s = this.points[0],
											l = this.points[1],
											u = this.points[2];
										3 == (r = e.length)
											? ((this.tempPoint4 =
													i.algorithm.getTempPoint4(
														s,
														l,
														u
													)),
											  (this.tempPoint5 =
													t.default.PlotUtils.mid(
														u,
														this.tempPoint4
													)))
											: ((this.tempPoint4 =
													this.points[3]),
											  (this.tempPoint5 =
													this.points[4])),
											(this.connPoint =
												r < 6
													? t.default.PlotUtils.mid(
															s,
															l
													  )
													: this.points[5]),
											t.default.PlotUtils.isClockWise(
												s,
												l,
												u
											)
												? ((o =
														i.algorithm.getArrowPoints(
															s,
															this.connPoint,
															this.tempPoint4,
															!1
														)),
												  (a =
														i.algorithm.getArrowPoints(
															this.connPoint,
															l,
															u,
															!0
														)))
												: ((o =
														i.algorithm.getArrowPoints(
															l,
															this.connPoint,
															u,
															!1
														)),
												  (a =
														i.algorithm.getArrowPoints(
															this.connPoint,
															s,
															this.tempPoint4,
															!0
														)));
										var c = o.length,
											f = (c - 5) / 2,
											h = o.slice(0, f),
											p = o.slice(f, f + 5),
											d = o.slice(f + 5, c),
											y = a.slice(0, f),
											m = a.slice(f, f + 5),
											v = a.slice(f + 5, c);
										y =
											t.default.PlotUtils.getBezierPoints(
												y
											);
										var g =
											t.default.PlotUtils.getBezierPoints(
												v.concat(h.slice(1))
											);
										d =
											t.default.PlotUtils.getBezierPoints(
												d
											);
										var _ = y.concat(m, g, p, d),
											b = i.algorithm.array2Dto1D(_);
										(n.controlPoint = [
											s,
											l,
											u,
											this.tempPoint4,
											this.tempPoint5,
											this.connPoint,
										]),
											(n.polygonalPoint =
												Cesium.Cartesian3.fromDegreesArray(
													b
												));
									}
									return n;
								}),
								(i.algorithm.array2Dto1D = function (e) {
									var t = [];
									return (
										e.forEach(function (e) {
											t.push(e[0]), t.push(e[1]);
										}),
										t
									);
								}),
								(i.algorithm.getArrowPoints = function (
									e,
									n,
									r,
									c
								) {
									(this.type = o),
										(this.headHeightFactor = a),
										(this.headWidthFactor = s),
										(this.neckHeightFactor = l),
										(this.neckWidthFactor = u);
									var f = t.default.PlotUtils.mid(e, n),
										h = t.default.PlotUtils.distance(f, r),
										p = t.default.PlotUtils.getThirdPoint(
											r,
											f,
											0,
											0.3 * h,
											!0
										),
										d = t.default.PlotUtils.getThirdPoint(
											r,
											f,
											0,
											0.5 * h,
											!0
										),
										y = [
											f,
											(p =
												t.default.PlotUtils.getThirdPoint(
													f,
													p,
													t.default.Constants.HALF_PI,
													h / 5,
													c
												)),
											(d =
												t.default.PlotUtils.getThirdPoint(
													f,
													d,
													t.default.Constants.HALF_PI,
													h / 4,
													c
												)),
											r,
										],
										m = i.algorithm.getArrowHeadPoints(
											y,
											this.headHeightFactor,
											this.headWidthFactor,
											this.neckHeightFactor,
											this.neckWidthFactor
										),
										v = m[0],
										g = m[4],
										_ =
											t.default.PlotUtils.distance(e, n) /
											t.default.PlotUtils.getBaseLength(
												y
											) /
											2,
										b = i.algorithm.getArrowBodyPoints(
											y,
											v,
											g,
											_
										),
										x = b.length,
										w = b.slice(0, x / 2),
										C = b.slice(x / 2, x);
									return (
										w.push(v),
										C.push(g),
										(w = w.reverse()).push(n),
										(C = C.reverse()).push(e),
										w.reverse().concat(m, C)
									);
								}),
								(i.algorithm.getArrowHeadPoints = function (
									e,
									n,
									r
								) {
									(this.type = o),
										(this.headHeightFactor = a),
										(this.headWidthFactor = s),
										(this.neckHeightFactor = l),
										(this.neckWidthFactor = u);
									var i =
											t.default.PlotUtils.getBaseLength(
												e
											) * this.headHeightFactor,
										c = e[e.length - 1],
										f =
											(t.default.PlotUtils.distance(n, r),
											i * this.headWidthFactor),
										h = i * this.neckWidthFactor,
										p = i * this.neckHeightFactor,
										d = t.default.PlotUtils.getThirdPoint(
											e[e.length - 2],
											c,
											0,
											i,
											!0
										),
										y = t.default.PlotUtils.getThirdPoint(
											e[e.length - 2],
											c,
											0,
											p,
											!0
										),
										m = t.default.PlotUtils.getThirdPoint(
											c,
											d,
											t.default.Constants.HALF_PI,
											f,
											!1
										),
										v = t.default.PlotUtils.getThirdPoint(
											c,
											d,
											t.default.Constants.HALF_PI,
											f,
											!0
										);
									return [
										t.default.PlotUtils.getThirdPoint(
											c,
											y,
											t.default.Constants.HALF_PI,
											h,
											!1
										),
										m,
										c,
										v,
										t.default.PlotUtils.getThirdPoint(
											c,
											y,
											t.default.Constants.HALF_PI,
											h,
											!0
										),
									];
								}),
								(i.algorithm.getArrowBodyPoints = function (
									e,
									n,
									r,
									i
								) {
									for (
										var o =
												t.default.PlotUtils.wholeDistance(
													e
												),
											a =
												t.default.PlotUtils.getBaseLength(
													e
												) * i,
											s =
												(a -
													t.default.PlotUtils.distance(
														n,
														r
													)) /
												2,
											l = 0,
											u = [],
											c = [],
											f = 1;
										f < e.length - 1;
										f++
									) {
										var h =
												t.default.PlotUtils.getAngleOfThreePoints(
													e[f - 1],
													e[f],
													e[f + 1]
												) / 2,
											p =
												(a / 2 -
													((l +=
														t.default.PlotUtils.distance(
															e[f - 1],
															e[f]
														)) /
														o) *
														s) /
												Math.sin(h),
											d =
												t.default.PlotUtils.getThirdPoint(
													e[f - 1],
													e[f],
													Math.PI - h,
													p,
													!0
												),
											y =
												t.default.PlotUtils.getThirdPoint(
													e[f - 1],
													e[f],
													h,
													p,
													!1
												);
										u.push(d), c.push(y);
									}
									return u.concat(c);
								}),
								(i.algorithm.getTempPoint4 = function (
									e,
									n,
									r
								) {
									var i,
										o,
										a,
										s,
										l = t.default.PlotUtils.mid(e, n),
										u = t.default.PlotUtils.distance(l, r),
										c =
											t.default.PlotUtils.getAngleOfThreePoints(
												e,
												l,
												r
											);
									return (
										c < t.default.Constants.HALF_PI
											? ((o = u * Math.sin(c)),
											  (a = u * Math.cos(c)),
											  (s =
													t.default.PlotUtils.getThirdPoint(
														e,
														l,
														t.default.Constants
															.HALF_PI,
														o,
														!1
													)),
											  (i =
													t.default.PlotUtils.getThirdPoint(
														l,
														s,
														t.default.Constants
															.HALF_PI,
														a,
														!0
													)))
											: c >=
													t.default.Constants
														.HALF_PI && c < Math.PI
											? ((o = u * Math.sin(Math.PI - c)),
											  (a = u * Math.cos(Math.PI - c)),
											  (s =
													t.default.PlotUtils.getThirdPoint(
														e,
														l,
														t.default.Constants
															.HALF_PI,
														o,
														!1
													)),
											  (i =
													t.default.PlotUtils.getThirdPoint(
														l,
														s,
														t.default.Constants
															.HALF_PI,
														a,
														!1
													)))
											: c >= Math.PI && c < 1.5 * Math.PI
											? ((o = u * Math.sin(c - Math.PI)),
											  (a = u * Math.cos(c - Math.PI)),
											  (s =
													t.default.PlotUtils.getThirdPoint(
														e,
														l,
														t.default.Constants
															.HALF_PI,
														o,
														!0
													)),
											  (i =
													t.default.PlotUtils.getThirdPoint(
														l,
														s,
														t.default.Constants
															.HALF_PI,
														a,
														!0
													)))
											: ((o =
													u *
													Math.sin(2 * Math.PI - c)),
											  (a =
													u *
													Math.cos(2 * Math.PI - c)),
											  (s =
													t.default.PlotUtils.getThirdPoint(
														e,
														l,
														t.default.Constants
															.HALF_PI,
														o,
														!0
													)),
											  (i =
													t.default.PlotUtils.getThirdPoint(
														l,
														s,
														t.default.Constants
															.HALF_PI,
														a,
														!1
													))),
										i
									);
								}),
								(i.algorithm.tailedAttackArrow = function (e) {
									(e = i.algorithm.dereplication(e)),
										(this.tailWidthFactor =
											c.tailWidthFactor),
										(this.swallowTailFactor =
											c.swallowTailFactor),
										(this.swallowTailPnt =
											c.swallowTailPnt);
									var n = {
										controlPoint: null,
										polygonalPoint: null,
									};
									if (
										((n.controlPoint = e),
										!((v = e.length) < 2))
									) {
										if (2 == e.length)
											return (n.polygonalPoint = e), n;
										var r = e,
											o = r[0],
											a = r[1];
										t.default.PlotUtils.isClockWise(
											r[0],
											r[1],
											r[2]
										) && ((o = r[1]), (a = r[0]));
										var s = [
												t.default.PlotUtils.mid(o, a),
											].concat(r.slice(2)),
											l =
												i.algorithm.getAttackArrowHeadPoints(
													s,
													o,
													a,
													c
												),
											u = l[0],
											f = l[4],
											h = t.default.PlotUtils.distance(
												o,
												a
											),
											p =
												t.default.PlotUtils.getBaseLength(
													s
												),
											d =
												p *
												this.tailWidthFactor *
												this.swallowTailFactor;
										this.swallowTailPnt =
											t.default.PlotUtils.getThirdPoint(
												s[1],
												s[0],
												0,
												d,
												!0
											);
										var y = h / p,
											m =
												i.algorithm.getAttackArrowBodyPoints(
													s,
													u,
													f,
													y
												),
											v = m.length,
											g = [o].concat(m.slice(0, v / 2));
										g.push(u);
										var _,
											b = [a].concat(m.slice(v / 2, v));
										b.push(f),
											(g =
												t.default.PlotUtils.getQBSplinePoints(
													g
												)),
											(b =
												t.default.PlotUtils.getQBSplinePoints(
													b
												)),
											(_ = i.algorithm.array2Dto1D(
												g.concat(l, b.reverse(), [
													this.swallowTailPnt,
													g[0],
												])
											)),
											(n.polygonalPoint =
												Cesium.Cartesian3.fromDegreesArray(
													_
												));
									}
									return n;
								}),
								(i.algorithm.getAttackArrowHeadPoints =
									function (e, n, r, i) {
										(this.headHeightFactor =
											i.headHeightFactor),
											(this.headTailFactor =
												i.headTailFactor),
											(this.headWidthFactor =
												i.headWidthFactor),
											(this.neckWidthFactor =
												i.neckWidthFactor),
											(this.neckHeightFactor =
												i.neckHeightFactor);
										var o =
												t.default.PlotUtils.getBaseLength(
													e
												),
											a = o * this.headHeightFactor,
											s = e[e.length - 1];
										o = t.default.PlotUtils.distance(
											s,
											e[e.length - 2]
										);
										var l = t.default.PlotUtils.distance(
											n,
											r
										);
										a > l * this.headTailFactor &&
											(a = l * this.headTailFactor);
										var u = a * this.headWidthFactor,
											c = a * this.neckWidthFactor,
											f =
												(a = a > o ? o : a) *
												this.neckHeightFactor,
											h =
												t.default.PlotUtils.getThirdPoint(
													e[e.length - 2],
													s,
													0,
													a,
													!0
												),
											p =
												t.default.PlotUtils.getThirdPoint(
													e[e.length - 2],
													s,
													0,
													f,
													!0
												),
											d =
												t.default.PlotUtils.getThirdPoint(
													s,
													h,
													t.default.Constants.HALF_PI,
													u,
													!1
												),
											y =
												t.default.PlotUtils.getThirdPoint(
													s,
													h,
													t.default.Constants.HALF_PI,
													u,
													!0
												);
										return [
											t.default.PlotUtils.getThirdPoint(
												s,
												p,
												t.default.Constants.HALF_PI,
												c,
												!1
											),
											d,
											s,
											y,
											t.default.PlotUtils.getThirdPoint(
												s,
												p,
												t.default.Constants.HALF_PI,
												c,
												!0
											),
										];
									}),
								(i.algorithm.getAttackArrowBodyPoints =
									function (e, n, r, i) {
										for (
											var o =
													t.default.PlotUtils.wholeDistance(
														e
													),
												a =
													t.default.PlotUtils.getBaseLength(
														e
													) * i,
												s =
													(a -
														t.default.PlotUtils.distance(
															n,
															r
														)) /
													2,
												l = 0,
												u = [],
												c = [],
												f = 1;
											f < e.length - 1;
											f++
										) {
											var h =
													t.default.PlotUtils.getAngleOfThreePoints(
														e[f - 1],
														e[f],
														e[f + 1]
													) / 2,
												p =
													(a / 2 -
														((l +=
															t.default.PlotUtils.distance(
																e[f - 1],
																e[f]
															)) /
															o) *
															s) /
													Math.sin(h),
												d =
													t.default.PlotUtils.getThirdPoint(
														e[f - 1],
														e[f],
														Math.PI - h,
														p,
														!0
													),
												y =
													t.default.PlotUtils.getThirdPoint(
														e[f - 1],
														e[f],
														h,
														p,
														!1
													);
											u.push(d), c.push(y);
										}
										return u.concat(c);
									}),
								(i.algorithm.dereplication = function (e) {
									var t = e[e.length - 1],
										n = !1,
										r = [];
									return (
										(r = e.filter(function (e) {
											if (e[0] != t[0] && e[1] != t[1])
												return e;
											n = !0;
										})),
										n && r.push(t),
										r
									);
								}),
								(i.algorithm.fineArrow = function (e, n) {
									if (!(e.length < 2 || n.length < 2)) {
										var r = f.tailWidthFactor,
											i = f.neckWidthFactor,
											o = f.headWidthFactor,
											a = f.headAngle,
											s = f.neckAngle,
											l = [e, n],
											u = l[0],
											c = l[1],
											h =
												t.default.PlotUtils.getBaseLength(
													l
												),
											p = h * r,
											d = h * i,
											y = h * o,
											m =
												t.default.PlotUtils.getThirdPoint(
													c,
													u,
													t.default.Constants.HALF_PI,
													p,
													!0
												),
											v =
												t.default.PlotUtils.getThirdPoint(
													c,
													u,
													t.default.Constants.HALF_PI,
													p,
													!1
												),
											g =
												t.default.PlotUtils.getThirdPoint(
													u,
													c,
													a,
													y,
													!1
												),
											_ =
												t.default.PlotUtils.getThirdPoint(
													u,
													c,
													a,
													y,
													!0
												),
											b =
												t.default.PlotUtils.getThirdPoint(
													u,
													c,
													s,
													d,
													!1
												),
											x =
												t.default.PlotUtils.getThirdPoint(
													u,
													c,
													s,
													d,
													!0
												),
											w = [];
										return (
											w.push(
												m[0],
												m[1],
												b[0],
												b[1],
												g[0],
												g[1],
												c[0],
												c[1],
												_[0],
												_[1],
												x[0],
												x[1],
												v[0],
												v[1],
												u[0],
												u[1]
											),
											Cesium.Cartesian3.fromDegreesArray(
												w
											)
										);
									}
								});
							var h = i;
							e.default = h;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			e.exports = n(239);
		},
		function (e, t, n) {
			e.exports = n(160);
		},
		function (e, t, n) {
			"use strict";
			function r(e) {
				if (void 0 === e)
					throw new ReferenceError(
						"this hasn't been initialised - super() hasn't been called"
					);
				return e;
			}
			n.r(t),
				n.d(t, "default", function () {
					return r;
				});
		},
		function (e, t, n) {
			"use strict";
			var r = n(4),
				i = n(19),
				o = n(14),
				a = n(2),
				s = n(69),
				l = n(25).KEY,
				u = n(20),
				c = n(70),
				f = n(46),
				h = n(53),
				p = n(7),
				d = n(54),
				y = n(71),
				m = n(135),
				v = n(98),
				g = n(11),
				_ = n(3),
				b = n(33),
				x = n(22),
				w = n(68),
				C = n(44),
				T = n(49),
				k = n(100),
				P = n(50),
				E = n(57),
				S = n(16),
				A = n(39),
				M = P.f,
				I = S.f,
				L = k.f,
				D = r.Symbol,
				O = r.JSON,
				z = O && O.stringify,
				R = p("_hidden"),
				B = p("toPrimitive"),
				j = {}.propertyIsEnumerable,
				F = c("symbol-registry"),
				N = c("symbols"),
				V = c("op-symbols"),
				U = Object.prototype,
				H = "function" == typeof D && !!E.f,
				G = r.QObject,
				q = !G || !G.prototype || !G.prototype.findChild,
				W =
					o &&
					u(function () {
						return (
							7 !=
							T(
								I({}, "a", {
									get: function () {
										return I(this, "a", { value: 7 }).a;
									},
								})
							).a
						);
					})
						? function (e, t, n) {
								var r = M(U, t);
								r && delete U[t],
									I(e, t, n),
									r && e !== U && I(U, t, r);
						  }
						: I,
				Z = function (e) {
					var t = (N[e] = T(D.prototype));
					return (t._k = e), t;
				},
				Y =
					H && "symbol" == typeof D.iterator
						? function (e) {
								return "symbol" == typeof e;
						  }
						: function (e) {
								return e instanceof D;
						  },
				K = function (e, t, n) {
					return (
						e === U && K(V, t, n),
						g(e),
						(t = w(t, !0)),
						g(n),
						i(N, t)
							? (n.enumerable
									? (i(e, R) && e[R][t] && (e[R][t] = !1),
									  (n = T(n, { enumerable: C(0, !1) })))
									: (i(e, R) || I(e, R, C(1, {})),
									  (e[R][t] = !0)),
							  W(e, t, n))
							: I(e, t, n)
					);
				},
				X = function (e, t) {
					g(e);
					for (var n, r = m((t = x(t))), i = 0, o = r.length; o > i; )
						K(e, (n = r[i++]), t[n]);
					return e;
				},
				J = function (e) {
					var t = j.call(this, (e = w(e, !0)));
					return (
						!(this === U && i(N, e) && !i(V, e)) &&
						(!(
							t ||
							!i(this, e) ||
							!i(N, e) ||
							(i(this, R) && this[R][e])
						) ||
							t)
					);
				},
				Q = function (e, t) {
					if (
						((e = x(e)),
						(t = w(t, !0)),
						e !== U || !i(N, t) || i(V, t))
					) {
						var n = M(e, t);
						return (
							!n ||
								!i(N, t) ||
								(i(e, R) && e[R][t]) ||
								(n.enumerable = !0),
							n
						);
					}
				},
				$ = function (e) {
					for (var t, n = L(x(e)), r = [], o = 0; n.length > o; )
						i(N, (t = n[o++])) || t == R || t == l || r.push(t);
					return r;
				},
				ee = function (e) {
					for (
						var t, n = e === U, r = L(n ? V : x(e)), o = [], a = 0;
						r.length > a;

					)
						!i(N, (t = r[a++])) || (n && !i(U, t)) || o.push(N[t]);
					return o;
				};
			H ||
				(s(
					(D = function () {
						if (this instanceof D)
							throw TypeError("Symbol is not a constructor!");
						var e = h(arguments.length > 0 ? arguments[0] : void 0),
							t = function (n) {
								this === U && t.call(V, n),
									i(this, R) &&
										i(this[R], e) &&
										(this[R][e] = !1),
									W(this, e, C(1, n));
							};
						return (
							o && q && W(U, e, { configurable: !0, set: t }),
							Z(e)
						);
					}).prototype,
					"toString",
					function () {
						return this._k;
					}
				),
				(P.f = Q),
				(S.f = K),
				(n(76).f = k.f = $),
				(n(48).f = J),
				(E.f = ee),
				o && !n(45) && s(U, "propertyIsEnumerable", J, !0),
				(d.f = function (e) {
					return Z(p(e));
				})),
				a(a.G + a.W + a.F * !H, { Symbol: D });
			for (
				var te =
						"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(
							","
						),
					ne = 0;
				te.length > ne;

			)
				p(te[ne++]);
			for (var re = A(p.store), ie = 0; re.length > ie; ) y(re[ie++]);
			a(a.S + a.F * !H, "Symbol", {
				for: function (e) {
					return i(F, (e += "")) ? F[e] : (F[e] = D(e));
				},
				keyFor: function (e) {
					if (!Y(e)) throw TypeError(e + " is not a symbol!");
					for (var t in F) if (F[t] === e) return t;
				},
				useSetter: function () {
					q = !0;
				},
				useSimple: function () {
					q = !1;
				},
			}),
				a(a.S + a.F * !H, "Object", {
					create: function (e, t) {
						return void 0 === t ? T(e) : X(T(e), t);
					},
					defineProperty: K,
					defineProperties: X,
					getOwnPropertyDescriptor: Q,
					getOwnPropertyNames: $,
					getOwnPropertySymbols: ee,
				});
			var oe = u(function () {
				E.f(1);
			});
			a(a.S + a.F * oe, "Object", {
				getOwnPropertySymbols: function (e) {
					return E.f(b(e));
				},
			}),
				O &&
					a(
						a.S +
							a.F *
								(!H ||
									u(function () {
										var e = D();
										return (
											"[null]" != z([e]) ||
											"{}" != z({ a: e }) ||
											"{}" != z(Object(e))
										);
									})),
						"JSON",
						{
							stringify: function (e) {
								for (
									var t, n, r = [e], i = 1;
									arguments.length > i;

								)
									r.push(arguments[i++]);
								if (
									((n = t = r[1]),
									(_(t) || void 0 !== e) && !Y(e))
								)
									return (
										v(t) ||
											(t = function (e, t) {
												if (
													("function" == typeof n &&
														(t = n.call(
															this,
															e,
															t
														)),
													!Y(t))
												)
													return t;
											}),
										(r[1] = t),
										z.apply(O, r)
									);
							},
						}
					),
				D.prototype[B] || n(24)(D.prototype, B, D.prototype.valueOf),
				f(D, "Symbol"),
				f(Math, "Math", !0),
				f(r.JSON, "JSON", !0);
		},
		function (e, t, n) {
			e.exports =
				!n(14) &&
				!n(20)(function () {
					return (
						7 !=
						Object.defineProperty(n(67)("div"), "a", {
							get: function () {
								return 7;
							},
						}).a
					);
				});
		},
		function (e, t, n) {
			var r = n(19),
				i = n(22),
				o = n(136)(!1),
				a = n(74)("IE_PROTO");
			e.exports = function (e, t) {
				var n,
					s = i(e),
					l = 0,
					u = [];
				for (n in s) n != a && r(s, n) && u.push(n);
				for (; t.length > l; )
					r(s, (n = t[l++])) && (~o(u, n) || u.push(n));
				return u;
			};
		},
		function (e, t, n) {
			var r = n(47);
			e.exports =
				Array.isArray ||
				function (e) {
					return "Array" == r(e);
				};
		},
		function (e, t, n) {
			var r = n(4).document;
			e.exports = r && r.documentElement;
		},
		function (e, t, n) {
			var r = n(22),
				i = n(76).f,
				o = {}.toString,
				a =
					"object" == typeof window &&
					window &&
					Object.getOwnPropertyNames
						? Object.getOwnPropertyNames(window)
						: [];
			e.exports.f = function (e) {
				return a && "[object Window]" == o.call(e)
					? (function (e) {
							try {
								return i(e);
							} catch (e) {
								return a.slice();
							}
					  })(e)
					: i(r(e));
			};
		},
		function (e, t) {
			e.exports = function (e, t) {
				return { value: t, done: !!e };
			};
		},
		function (e, t, n) {
			"use strict";
			var r = n(14),
				i = n(39),
				o = n(57),
				a = n(48),
				s = n(33),
				l = n(72),
				u = Object.assign;
			e.exports =
				!u ||
				n(20)(function () {
					var e = {},
						t = {},
						n = Symbol(),
						r = "abcdefghijklmnopqrst";
					return (
						(e[n] = 7),
						r.split("").forEach(function (e) {
							t[e] = e;
						}),
						7 != u({}, e)[n] || Object.keys(u({}, t)).join("") != r
					);
				})
					? function (e, t) {
							for (
								var n = s(e),
									u = arguments.length,
									c = 1,
									f = o.f,
									h = a.f;
								u > c;

							)
								for (
									var p,
										d = l(arguments[c++]),
										y = f ? i(d).concat(f(d)) : i(d),
										m = y.length,
										v = 0;
									m > v;

								)
									(p = y[v++]),
										(r && !h.call(d, p)) || (n[p] = d[p]);
							return n;
					  }
					: u;
		},
		function (e, t, n) {
			"use strict";
			var r = n(58),
				i = n(25).getWeak,
				o = n(11),
				a = n(3),
				s = n(59),
				l = n(41),
				u = n(80),
				c = n(19),
				f = n(36),
				h = u(5),
				p = u(6),
				d = 0,
				y = function (e) {
					return e._l || (e._l = new m());
				},
				m = function () {
					this.a = [];
				},
				v = function (e, t) {
					return h(e.a, function (e) {
						return e[0] === t;
					});
				};
			(m.prototype = {
				get: function (e) {
					var t = v(this, e);
					if (t) return t[1];
				},
				has: function (e) {
					return !!v(this, e);
				},
				set: function (e, t) {
					var n = v(this, e);
					n ? (n[1] = t) : this.a.push([e, t]);
				},
				delete: function (e) {
					var t = p(this.a, function (t) {
						return t[0] === e;
					});
					return ~t && this.a.splice(t, 1), !!~t;
				},
			}),
				(e.exports = {
					getConstructor: function (e, t, n, o) {
						var u = e(function (e, r) {
							s(e, u, t, "_i"),
								(e._t = t),
								(e._i = d++),
								(e._l = void 0),
								null != r && l(r, n, e[o], e);
						});
						return (
							r(u.prototype, {
								delete: function (e) {
									if (!a(e)) return !1;
									var n = i(e);
									return !0 === n
										? y(f(this, t)).delete(e)
										: n &&
												c(n, this._i) &&
												delete n[this._i];
								},
								has: function (e) {
									if (!a(e)) return !1;
									var n = i(e);
									return !0 === n
										? y(f(this, t)).has(e)
										: n && c(n, this._i);
								},
							}),
							u
						);
					},
					def: function (e, t, n) {
						var r = i(o(t), !0);
						return !0 === r ? y(e).set(t, n) : (r[e._i] = n), e;
					},
					ufstore: y,
				});
		},
		function (e, t, n) {
			var r = n(11);
			e.exports = function (e, t, n, i) {
				try {
					return i ? t(r(n)[0], n[1]) : t(n);
				} catch (t) {
					var o = e.return;
					throw (void 0 !== o && r(o.call(e)), t);
				}
			};
		},
		function (e, t, n) {
			var r = n(40),
				i = n(7)("iterator"),
				o = Array.prototype;
			e.exports = function (e) {
				return void 0 !== e && (r.Array === e || o[i] === e);
			};
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(37), n(82)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r) {
							"use strict";
							var i = n(0);
							function o(e) {
								if (!e) throw new Error("未传入viewer对象");
								this._viewer = e;
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = i(t)),
								(r = i(r)),
								(o.prototype.cartesian3ToDegrees = function (
									e,
									t
								) {
									return o.cartesian3ToDegrees(
										e,
										this._viewer,
										t
									);
								}),
								(o.prototype.windowPositionToCartographic =
									function (e, t) {
										return o.windowPositionToCartographic(
											e,
											this._viewer,
											t
										);
									}),
								(o.prototype.windowPositionToCartesian3 =
									function (e, t) {
										return o.windowPositionToCartesian3(
											e,
											this._viewer,
											t
										);
									}),
								(o.prototype.windowPositionToDegrees =
									function (e, t) {
										return o.windowPositionToDegrees(
											e,
											this._viewer,
											t
										);
									}),
								(o.prototype.cartesian3ToWindowPosition =
									function (e, t) {
										return o.cartesian3ToWindowPosition(
											e,
											this._viewer,
											t
										);
									}),
								(o.cartesian3ToDegrees = function (e, t, n) {
									if (!(e instanceof Cesium.Cartesian3))
										throw new Error(
											"传入的inCartesians3参数不是Cartesians3类型"
										);
									if (!t) throw new Error("未传入viewer对象");
									var r =
											t.scene.globe.ellipsoid.cartesianToCartographic(
												e
											),
										i = Cesium.Math.toDegrees(r.latitude),
										o = Cesium.Math.toDegrees(r.longitude),
										a = r.height;
									return (
										n || (n = [0, 0, 0]),
										(n[0] = o),
										(n[1] = i),
										(n[2] = a),
										n
									);
								}),
								(o.windowPositionToCartographic = function (
									e,
									t,
									n
								) {
									var r = o.windowPositionToCartesian3(e, t);
									return (
										t.scene.globe.ellipsoid.cartesianToCartographic(
											r,
											n
										),
										n
									);
								}),
								(o.windowPositionToDegrees = function (
									e,
									t,
									n
								) {
									var r = o.windowPositionToCartesian3(e, t);
									if (r)
										return o.cartesian3ToDegrees(r, t, n);
								}),
								(o.windowPositionToCartesian3 = function (
									e,
									t,
									n
								) {
									if (!(e instanceof Cesium.Cartesian2))
										throw new Error(
											"传入的inCartesians2参数不是Cartesians2类型"
										);
									if (!t) throw new Error("未传入viewer对象");
									return (
										t.scene.pickPosition(e, n),
										n ||
											(n = t.scene.globe.pick(
												t.camera.getPickRay(e),
												t.scene,
												n
											)),
										n
									);
								}),
								(o.cartesian3ToWindowPosition = function (
									e,
									t,
									n
								) {
									if (!(e instanceof Cesium.Cartesian3))
										throw new Error(
											"传入的inCartesians3参数不是Cartesians3类型"
										);
									if (!t) throw new Error("未传入viewer对象");
									var r = t.scene;
									return (
										r.cartesianToCanvasCoordinates
											? r.cartesianToCanvasCoordinates(
													e,
													n
											  )
											: Cesium.SceneTransforms.wgs84ToWindowCoordinates(
													r,
													e,
													n
											  ),
										n
									);
								}),
								(o.degreesToWindowPosition = function (
									e,
									t,
									n
								) {
									var r = e.lon,
										i = e.lat,
										a = e.height,
										s = Cesium.Cartesian3.fromDegrees(
											r,
											i,
											a
										);
									return o.cartesian3ToWindowPosition(
										s,
										t,
										n
									);
								}),
								(o.cartograhphicToWindowPosition = function (
									e,
									t,
									n
								) {
									var r =
										t.scene.globe.ellipsoid.cartographicToCartesian(
											e
										);
									return o.cartesian3ToWindowPosition(
										r,
										t,
										n
									);
								}),
								(o.translate = function (e, t, n, r) {
									if (e instanceof Cesium.Cartographic)
										e = Cesium.Cartesian3.fromRadians(
											e.longitude,
											e.latitude,
											e.height
										);
									else if (e instanceof Array) {
										if (e.length < 2)
											throw new Error(
												"传入的坐标长度至少有两位"
											);
										e = Cesium.Cartesian3.fromDegrees(
											e[0],
											e[1],
											e[2]
										);
									}
									return (
										n ||
											(n =
												Cesium.Transforms.eastNorthUpToFixedFrame(
													e
												)),
										Cesium.Matrix4.multiplyByPoint(n, t, r),
										r
									);
								}),
								(o.rotation = function (e, t, n) {
									var r,
										i =
											Cesium.Transforms.eastNorthUpToFixedFrame(
												e
											);
									if (
										((t = Cesium.Math.toRadians(t)),
										!n || n === Cesium.Cartesian3.ZERO)
									)
										return e;
									var o = Cesium.Quaternion.fromAxisAngle(
										n,
										t
									);
									return (
										(r = Cesium.Matrix3.fromQuaternion(o)),
										Cesium.Matrix4.multiplyByMatrix3(
											i,
											r,
											i
										),
										Cesium.Matrix4.getTranslation(i)
									);
								}),
								(o.rotationAndTranlationEntity = function (
									e,
									t,
									n
								) {
									if (!e) throw new Error("entity 未定义");
									if (!(e instanceof Cesium.Entity))
										throw new Error(
											"传入的entity参数不是Cesium.Entity类型的"
										);
									var r = e.position,
										i = e.orientation;
									if (r) {
										var a = Cesium.JulianDate.now(),
											s =
												Cesium.Property.getValueOrUndefined(
													r,
													a
												);
										if (s) {
											var l = new Cesium.HeadingPitchRoll(
												Cesium.Math.toRadians(t)
											);
											if (i) {
												var u =
													Cesium.Property.getValueOrUndefined(
														i,
														a
													);
												if (u) {
													var c =
															Cesium.Matrix3.fromQuaternion(
																u
															),
														f =
															Cesium.Matrix3.fromHeadingPitchRoll(
																l
															);
													Cesium.Matrix3.multiply(
														c,
														f,
														c
													),
														(l =
															Cesium.Quaternion.fromRotationMatrix(
																c,
																new Cesium.Quaternion()
															));
												}
											} else
												l =
													Cesium.Transforms.headingPitchRollQuaternion(
														s,
														l
													);
											(e.orientation = l),
												n &&
													!Cesium.Cartesian3.ZERO.equals(
														n
													) &&
													o.translate(
														s,
														n,
														void 0,
														s
													),
												(e.position = s);
										}
									}
									return e;
								}),
								(o.getHeading = function (e, t) {
									if (e.equals(t)) return 0;
									var n =
											Cesium.Transforms.eastNorthUpToFixedFrame(
												e
											),
										r = Cesium.Cartesian3.subtract(
											t,
											e,
											new Cesium.Cartesian3()
										),
										i =
											Cesium.Matrix4.multiplyByPointAsVector(
												Cesium.Matrix4.inverse(n, n),
												r,
												r
											),
										o = Cesium.Cartesian3.normalize(i, i),
										a =
											Math.atan2(o.y, o.x) -
											Cesium.Math.PI_OVER_TWO;
									return (
										Cesium.Math.TWO_PI -
										Cesium.Math.zeroToTwoPi(a)
									);
								}),
								(o.getPitch = function (e, t) {
									if (e.equals(t)) return 0;
									var n =
											Cesium.Transforms.eastNorthUpToFixedFrame(
												e
											),
										r = Cesium.Cartesian3.subtract(
											t,
											e,
											new Cesium.Cartesian3()
										),
										i =
											Cesium.Matrix4.multiplyByPointAsVector(
												Cesium.Matrix4.inverse(n, n),
												r,
												r
											);
									return (
										Cesium.Cartesian3.normalize(i, i),
										Cesium.Math.PI_OVER_TWO -
											Cesium.Math.acosClamped(i.z)
									);
								}),
								(o.getHeadingPitch = function (e, t) {
									if (!e.equals(t)) {
										var n =
												Cesium.Transforms.eastNorthUpToFixedFrame(
													e
												),
											r = Cesium.Cartesian3.subtract(
												t,
												e,
												new Cesium.Cartesian3()
											),
											i =
												Cesium.Matrix4.multiplyByPointAsVector(
													Cesium.Matrix4.inverse(
														n,
														n
													),
													r,
													r
												);
										Cesium.Cartesian3.normalize(i, i);
										var o =
											Math.atan2(i.y, i.x) -
											Cesium.Math.PI_OVER_TWO;
										return {
											heading: (o =
												Cesium.Math.TWO_PI -
												Cesium.Math.zeroToTwoPi(o)),
											pitch:
												Cesium.Math.PI_OVER_TWO -
												Cesium.Math.acosClamped(i.z),
										};
									}
								}),
								(o.getHeadingPitchRoll = function (e, t) {
									var n = Cesium.Cartesian3.subtract(
											t,
											e,
											new Cesium.Cartesian3()
										),
										r = Cesium.Cartesian3.normalize(
											n,
											new Cesium.Cartesian3()
										),
										i =
											Cesium.Transforms.rotationMatrixFromPositionVelocity(
												e,
												r,
												Cesium.Ellipsoid.WGS84
											),
										o =
											Cesium.Quaternion.fromRotationMatrix(
												i
											);
									return Cesium.HeadingPitchRoll.fromQuaternion(
										o
									);
								}),
								(o.getDistanceByTwoPoint = function (e, t) {
									var n = e,
										r = t,
										i = {};
									Cesium.Cartesian3.normalize(r, i);
									var o = new Cesium.Plane(
											i,
											-Cesium.Cartesian3.distance(
												r,
												new Cesium.Cartesian3(0, 0, 0)
											)
										),
										a = new Cesium.Cartesian3(0, 0, 0),
										s = Cesium.Plane.getPointDistance(o, n),
										l = new Cesium.Cartesian3(0, 0, 0),
										u = new Cesium.Cartesian3(0, 0, 0),
										c = new Cesium.Cartesian3(0, 0, 0),
										f = {};
									if (s >= 0)
										Cesium.Plane.projectPointOntoPlane(
											o,
											n,
											a
										),
											Cesium.Cartesian3.midpoint(n, a, l),
											Cesium.Cartesian3.midpoint(r, a, u),
											(f.distanceH =
												Cesium.Cartesian3.distance(
													r,
													a
												));
									else {
										Cesium.Cartesian3.normalize(n, {});
										var h = new Cesium.Plane(
											i,
											-Cesium.Cartesian3.distance(
												n,
												new Cesium.Cartesian3(0, 0, 0)
											)
										);
										Cesium.Plane.projectPointOntoPlane(
											h,
											r,
											a
										),
											Cesium.Cartesian3.midpoint(r, a, l),
											Cesium.Cartesian3.midpoint(n, a, u),
											(f.distanceH =
												Cesium.Cartesian3.distance(
													n,
													a
												));
									}
									return (
										(f.distanceS =
											Cesium.Cartesian3.distance(r, n)),
										Cesium.Cartesian3.midpoint(r, n, c),
										(f.height = Math.abs(s)),
										(f.distanceH = Math.abs(f.distanceH)),
										(f.positions = [r, a, n, r]),
										(f.labelPositonHeight = l),
										(f.labelPositonH = u),
										(f.labelPositonS = c),
										(f.startPoint = r),
										(f.endPoint = n),
										(f.hypPoint = a),
										f
									);
								}),
								(o.getMinDistanceToLine = function (e, t) {
									var n = Number.MAX_VALUE,
										i = new Cesium.Cartesian3(),
										o = new Cesium.Cartesian3(),
										a = new Cesium.Cartesian3(),
										s = new Cesium.Cartesian3(),
										l = new Cesium.Cartesian3();
									return (
										e.forEach(function (u, c) {
											if (c !== e.length - 1) {
												var f = u,
													h = e[c + 1],
													p = t;
												Cesium.Cartesian3.subtract(
													f,
													p,
													i
												),
													Cesium.Cartesian3.subtract(
														f,
														h,
														o
													);
												var d = Cesium.Cartesian3.dot(
														i,
														o
													),
													y =
														Cesium.Cartesian3.magnitude(
															i
														),
													m =
														Cesium.Cartesian3.magnitude(
															o
														),
													v = Math.acos(d / (y * m));
												Cesium.Cartesian3.multiplyByScalar(
													o,
													-1,
													s
												),
													Cesium.Cartesian3.subtract(
														h,
														p,
														a
													);
												var g =
														Cesium.Cartesian3.magnitude(
															a
														),
													_ = m,
													b = Cesium.Cartesian3.dot(
														a,
														s
													),
													x = Math.acos(b / (g * _)),
													w = 0;
												if (
													v < Math.PI / 2 &&
													x < Math.PI / 2
												) {
													if (
														((w = Math.sin(v) * y),
														(0, r.default)(w))
													)
														return;
													if (w < n) {
														var C = Math.cos(v) * y;
														Cesium.Cartesian3.lerp(
															f,
															h,
															C / _,
															l
														);
													}
												} else {
													if (
														((w = Math.min(y, g)),
														(0, r.default)(w))
													)
														return;
													w < n &&
														(l =
															y < g
																? f.clone()
																: h.clone());
												}
												n = Math.min(w, n);
											}
										}),
										{ distance: n, position: l }
									);
								}),
								(o.getLineLength = function (e) {
									var t =
										arguments.length > 1 &&
										void 0 !== arguments[1] &&
										arguments[1];
									if (Array.isArray(e)) {
										var n = e.reduce(function (e, n, r, i) {
											if (t && r < i.length - 1) {
												var a = i[r + 1];
												(n.heading = o.getHeading(
													n,
													a
												)),
													(n.pitch = o.getPitch(
														n,
														a
													));
											}
											if (0 === r)
												return t && (n.distance = e), e;
											var s = i[r - 1],
												l =
													e +
													Cesium.Cartesian3.distance(
														n,
														s
													);
											return t && (n.distance = l), l;
										}, 0);
										return n;
									}
								}),
								(o.alongLine = function (e, n) {
									try {
										var r = (function () {
											for (
												var t = o.getLineLength(e, !0),
													r = n,
													i = Math.floor(t / r),
													a = 0,
													s = [
														{
															position: e[0],
															heading:
																o.getHeading(
																	e[0],
																	e[1]
																),
															pitch: o.getPitch(
																e[0],
																e[1]
															),
														},
													],
													l = 0;
												l < i;
												l++
											) {
												a += r;
												var u = e.findIndex(function (
														e
													) {
														return e.distance >= a;
													}),
													c = e[u - 1],
													f = e[u],
													h = a - c.distance,
													p = f.distance - c.distance,
													d = Cesium.Cartesian3.lerp(
														c,
														f,
														h / p,
														new Cesium.Cartesian3()
													);
												s.push({
													position: d,
													heading: c.heading,
													pitch: c.pitch,
												});
											}
											return (
												s.push({
													position: e[e.length - 1],
													heading: 0,
													pitch: 0,
												}),
												{ v: s }
											);
										})();
										if ("object" === (0, t.default)(r))
											return r.v;
									} catch (e) {
										console.error(e);
									}
								}),
								(o.getAlongLineDistancePoint = function (e, t) {
									if (Array.isArray(e)) {
										var n = o.getLineLength(e, !0);
										if (n) {
											if (t > n)
												return {
													position: e[e.length - 1],
													heading: 0,
													pitch: 0,
												};
											var r = e.findIndex(function (e) {
													return e.distance >= t;
												}),
												i = e[r - 1],
												a = e[r],
												s = t - i.distance,
												l = a.distance - i.distance;
											return {
												position:
													Cesium.Cartesian3.lerp(
														i,
														a,
														s / l,
														new Cesium.Cartesian3()
													),
												heading: i.heading,
												pitch: i.pitch,
											};
										}
									}
								});
							var a = o;
							e.default = a;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r = n(11),
				i = n(32),
				o = n(7)("species");
			e.exports = function (e, t) {
				var n,
					a = r(e).constructor;
				return void 0 === a || null == (n = r(a)[o]) ? t : i(n);
			};
		},
		function (e, t, n) {
			var r,
				i,
				o,
				a = n(21),
				s = n(109),
				l = n(99),
				u = n(67),
				c = n(4),
				f = c.process,
				h = c.setImmediate,
				p = c.clearImmediate,
				d = c.MessageChannel,
				y = c.Dispatch,
				m = 0,
				v = {},
				g = function () {
					var e = +this;
					if (v.hasOwnProperty(e)) {
						var t = v[e];
						delete v[e], t();
					}
				},
				_ = function (e) {
					g.call(e.data);
				};
			(h && p) ||
				((h = function (e) {
					for (var t = [], n = 1; arguments.length > n; )
						t.push(arguments[n++]);
					return (
						(v[++m] = function () {
							s("function" == typeof e ? e : Function(e), t);
						}),
						r(m),
						m
					);
				}),
				(p = function (e) {
					delete v[e];
				}),
				"process" == n(47)(f)
					? (r = function (e) {
							f.nextTick(a(g, e, 1));
					  })
					: y && y.now
					? (r = function (e) {
							y.now(a(g, e, 1));
					  })
					: d
					? ((o = (i = new d()).port2),
					  (i.port1.onmessage = _),
					  (r = a(o.postMessage, o, 1)))
					: c.addEventListener &&
					  "function" == typeof postMessage &&
					  !c.importScripts
					? ((r = function (e) {
							c.postMessage(e + "", "*");
					  }),
					  c.addEventListener("message", _, !1))
					: (r =
							"onreadystatechange" in u("script")
								? function (e) {
										l.appendChild(
											u("script")
										).onreadystatechange = function () {
											l.removeChild(this), g.call(e);
										};
								  }
								: function (e) {
										setTimeout(a(g, e, 1), 0);
								  })),
				(e.exports = { set: h, clear: p });
		},
		function (e, t) {
			e.exports = function (e, t, n) {
				var r = void 0 === n;
				switch (t.length) {
					case 0:
						return r ? e() : e.call(n);
					case 1:
						return r ? e(t[0]) : e.call(n, t[0]);
					case 2:
						return r ? e(t[0], t[1]) : e.call(n, t[0], t[1]);
					case 3:
						return r
							? e(t[0], t[1], t[2])
							: e.call(n, t[0], t[1], t[2]);
					case 4:
						return r
							? e(t[0], t[1], t[2], t[3])
							: e.call(n, t[0], t[1], t[2], t[3]);
				}
				return e.apply(n, t);
			};
		},
		function (e, t) {
			e.exports = function (e) {
				try {
					return { e: !1, v: e() };
				} catch (e) {
					return { e: !0, v: e };
				}
			};
		},
		function (e, t, n) {
			var r = n(11),
				i = n(3),
				o = n(84);
			e.exports = function (e, t) {
				if ((r(e), i(t) && t.constructor === e)) return t;
				var n = o.f(e);
				return (0, n.resolve)(t), n.promise;
			};
		},
		function (e, t, n) {
			"use strict";
			var r = n(4),
				i = n(1),
				o = n(16),
				a = n(14),
				s = n(7)("species");
			e.exports = function (e) {
				var t = "function" == typeof i[e] ? i[e] : r[e];
				a &&
					t &&
					!t[s] &&
					o.f(t, s, {
						configurable: !0,
						get: function () {
							return this;
						},
					});
			};
		},
		function (e, t, n) {
			var r = n(7)("iterator"),
				i = !1;
			try {
				var o = [7][r]();
				(o.return = function () {
					i = !0;
				}),
					Array.from(o, function () {
						throw 2;
					});
			} catch (e) {}
			e.exports = function (e, t) {
				if (!t && !i) return !1;
				var n = !1;
				try {
					var o = [7],
						a = o[r]();
					(a.next = function () {
						return { done: (n = !0) };
					}),
						(o[r] = function () {
							return a;
						}),
						e(o);
				} catch (e) {}
				return n;
			};
		},
		function (e, t) {
			var n;
			n = (function () {
				return this;
			})();
			try {
				n = n || new Function("return this")();
			} catch (e) {
				"object" == typeof window && (n = window);
			}
			e.exports = n;
		},
		function (e, t, n) {
			"use strict";
			var r = n(16),
				i = n(44);
			e.exports = function (e, t, n) {
				t in e ? r.f(e, t, i(0, n)) : (e[t] = n);
			};
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0);
							var t = { FLY_CIRCLE: 0, PAUSE: 1 };
							e.default = t;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(5), n(191), n(88), n(198), n(199), n(12)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a, s) {
							"use strict";
							var l = n(0);
							function u(e) {
								var t = Cesium,
									n = t.defined,
									r = t.defaultValue,
									i = t.DeveloperError,
									o = t.Cartesian3,
									a = t.AssociativeArray;
								if (
									!n((e = r(e, r.EMPTY_OBJECT)).gltf) &&
									!n(e.url)
								)
									throw new i(
										"Either options.gltf or options.url is required."
									);
								if (n(e.gltf) && n(e.url))
									throw new i(
										"Cannot pass in both options.gltf and options.url."
									);
								(this._url = e.url),
									(this._gltf = e.gltf),
									(this._show = r(e.show, !0)),
									(this._instancingSupported = !1),
									(this._allowPicking = r(
										e.allowPicking,
										!0
									)),
									(this._instanceMaxModelCount = r(
										e.instanceMaxModelCount,
										1e3
									)),
									(this._ready = !1),
									(this._readyPromise = (0, s.defer)()),
									(this._state = f.NEEDS_LOAD),
									(this._dirty = !1),
									(this._instanceList = new a()),
									(this._allstateboundingSphere =
										new Cesium.BoundingSphere()),
									(this._boundingSphere =
										new Cesium.BoundingSphere()),
									(this._center =
										void 0 === this._boundingSphere
											? o.ZERO
											: o.clone(
													this._boundingSphere.center
											  )),
									(this._show = r(e.show, !0)),
									(this._modelStates =
										new Cesium.AssociativeArray()),
									(this.modelOptions = Cesium.defaultValue(
										e.modelOptions,
										{}
									)),
									(this._hightLightColor =
										Cesium.defaultValue(
											e.highlightColor,
											Cesium.Color.RED
										)),
									(this.useWorker = Cesium.defaultValue(
										e.useWorker,
										!0
									)),
									(this.modelState = 0),
									(this.uuid = Cesium.createGuid()),
									(this._doVisibleFunc = Cesium.defaultValue(
										e.doVisibleFunc,
										!0
									)),
									(this._updateStatesEnd = !1);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = l(t)),
								(r = l(r)),
								(i = l(i)),
								(o = l(o)),
								(a = l(a));
							var c = {};
							(u.DbName = "ModelDb"),
								(u.TableName = "ModelTable");
							var f = {
								NEEDS_LOAD: 0,
								LOADING: 1,
								LOADED: 2,
								FAILED: 3,
							};
							function h(e, t) {
								t &&
									t.length > 0 &&
									t.forEach(function (t) {
										e.addModelState(t);
									});
							}
							Object.defineProperties(u.prototype, {
								ready: {
									get: function () {
										return this._ready;
									},
								},
								readyPromise: {
									get: function () {
										return this._readyPromise.promise;
									},
								},
								allowPicking: {
									get: function () {
										return this._allowPicking;
									},
									set: function (e) {
										this._allowPicking !== e &&
											(this._allowPicking = e);
									},
								},
								show: {
									get: function () {
										return this._show;
									},
									set: function (e) {
										this._show = e;
									},
								},
								doVisibleFunc: {
									get: function () {
										return this._doVisibleFunc;
									},
									set: function (e) {
										this._doVisibleFunc = e;
									},
								},
								updateStatesEnd: {
									get: function () {
										return this._updateStatesEnd;
									},
									set: function (e) {
										this._updateStatesEnd = e;
									},
								},
							}),
								(u.prototype.update = function (e) {
									var n = this;
									if (
										!this.isDestroyed() &&
										e.mode !== Cesium.SceneMode.MORPHING &&
										this.show
									)
										if (
											this._model ||
											0 !== this.modelState
										) {
											if (
												this._model &&
												0 !== this._instanceList.length
											) {
												var i = e.context;
												if (
													this._state === f.NEEDS_LOAD
												) {
													if (
														((this._state =
															f.LOADING),
														(this._instancingSupported =
															i.instancedArrays),
														!this
															._instancingSupported)
													)
														throw new Error(
															"浏览器不支持实例化方式加载模型"
														);
													var o = [],
														s = this;
													this._instanceList.values.forEach(
														function (e) {
															o.push(
																e.readyPromise
															);
														}
													),
														t.default
															.all(o)
															.then(function (e) {
																(s._state =
																	f.LOADED),
																	s._readyPromise.resolve(
																		n
																	),
																	(s._ready =
																		!0);
															})
															.catch(function (
																e
															) {
																(s._state =
																	f.FAILED),
																	s._readyPromise.reject(
																		e
																	);
															});
												}
												var l =
														this._instanceList
															._hash,
													u = [];
												for (var p in l)
													if (
														Object.hasOwnProperty.call(
															l,
															p
														)
													) {
														var d = l[p];
														d.update(e),
															0 ===
																d._modelStates
																	.length &&
																(d.isDestroyed() ||
																	d.destroy(),
																u.push(p));
													}
												if (u.length > 0) {
													var y = this;
													u.forEach(function (e) {
														y._instanceList.remove(
															e
														);
													});
												}
											}
										} else {
											var m = e.camera;
											(function (e, t, n) {
												for (
													var r = 0;
													r < e._modelStates.length;
													r++
												) {
													var i =
															e._modelStates
																.values[r],
														o =
															new Cesium.BoundingSphere(
																i.position,
																50
															);
													if (
														t.computeVisibility(
															o
														) !==
														Cesium.Intersect.OUTSIDE
													) {
														var a =
															Cesium.BoundingSphere.distanceSquaredTo(
																o,
																n.positionWC
															);
														if (
															(a = Math.sqrt(a)) <
																i
																	.distanceDisplayCondition
																	.near ||
															i
																.distanceDisplayCondition
																.far < a
														)
															continue;
														return !0;
													}
												}
												return !1;
											})(
												this,
												e.cullingVolume ||
													m.frustum.computeCullingVolume(
														m.positionWC,
														m.directionWC,
														m.upWC
													),
												m
											) &&
												((function (e) {
													var n = e._url;
													if (e._url)
														if (c[n])
															t.default
																.resolve(c[n])
																.then(function (
																	t
																) {
																	t.data ||
																		(t =
																			c[
																				n
																			]),
																		(e._model =
																			{
																				gltf: t.data,
																				ignoreCommands:
																					!0,
																			}),
																		t.uuids.add(
																			e.uuid
																		),
																		h(
																			e,
																			e
																				._modelStates
																				.values
																		);
																});
														else {
															if (e.useWorker) {
																var i =
																	new a.default(
																		{
																			url: e._url,
																			type: "arraybuffer",
																			useWorker:
																				!0,
																			transform:
																				!0,
																		}
																	);
																(c[n] =
																	i.readyPromise.promise),
																	i.doRequest();
															} else {
																var o =
																	Cesium.Resource.fetchArrayBuffer(
																		e._url
																	);
																c[n] = o;
															}
															t.default
																.resolve(c[n])
																.then(function (
																	t
																) {
																	var i =
																		new r.default();
																	(c[n] = {
																		data: t,
																		uuids: i.add(
																			e.uuid
																		),
																	}),
																		(e._model =
																			{
																				gltf: t,
																				ignoreCommands:
																					!0,
																			}),
																		h(
																			e,
																			e
																				._modelStates
																				.values
																		);
																});
														}
													else
														e._gltf &&
															((e._model = {
																gltf: e._gltf,
																ignoreCommands:
																	!0,
															}),
															h(
																e,
																e._modelStates
																	.values
															));
													e.modelState;
												})(this),
												(this.modelState = 1));
										}
								}),
								(u.prototype.addModelState = function (e) {
									if (!this.isDestroyed())
										return (
											this._model
												? (function (e, t) {
														t =
															i.default.getCacheKey(
																t
															);
														var n =
															e._instanceList.get(
																t._cacheKey
															);
														n
															? n.addModelState(t)
															: ((n =
																	new o.default(
																		{
																			model: e
																				._model
																				.gltf,
																			modelStates:
																				[
																					t,
																				],
																			collection:
																				e,
																		}
																	)),
															  e._instanceList.set(
																	t._cacheKey,
																	n
															  )),
															e._modelStates.get(
																t._id
															) ||
																e._modelStates.set(
																	t._id,
																	t
																);
												  })(this, e)
												: this._modelStates.set(
														e._id,
														e
												  ),
											this
										);
								}),
								(u.prototype.setModelStates = function (e) {
									if (!this.isDestroyed()) {
										var t = this._instanceList.values;
										return (
											t.length > 0 &&
												t.forEach(function (e) {
													e.removeAllModelStates();
												}),
											h(this, e),
											this
										);
									}
								}),
								(u.prototype.updateModelStates = function (e) {
									if (!this.isDestroyed())
										for (var t = 0, n = e.length; t < n; )
											this.updateModelState(e[t]), t++;
								}),
								(u.prototype.updateModelState = function (e) {
									if (!this.isDestroyed()) {
										var t = this._modelStates.get(e._id);
										if (t) {
											var n = this.getInstanceByState(t);
											n && n.updateModelState(e), (t = e);
										} else this.addModelState(e);
										return this;
									}
								}),
								(u.prototype.getInstanceByState = function (e) {
									return (
										(e = i.default.getCacheKey(e)),
										this._instanceList.get(e._cacheKey)
									);
								}),
								(u.prototype.removeModelStates = function (e) {
									if (!this.isDestroyed()) {
										for (
											var t, n = 0, r = e.length;
											n < r;

										)
											(t = e[n]),
												this.removeModelState(t),
												n++;
										return this;
									}
								}),
								(u.prototype.removeModelState = function (e) {
									if (!this.isDestroyed()) {
										e = i.default.getCacheKey(e);
										var t = this._instanceList.get(
											e._cacheKey
										);
										return (
											t &&
												(t.removeModelState(e),
												0 === t.modelStates.length &&
													this._instanceList.remove(
														e._cacheKey
													)),
											this._modelStates.remove(e._id),
											this
										);
									}
								}),
								(u.prototype.isDestroyed = function () {
									return !1;
								}),
								(u.prototype.releaseAllInstance = function () {
									this.isDestroyed() ||
										(this._instanceList.values.forEach(
											function (e) {
												e.destroy();
											}
										),
										this._instanceList.removeAll());
								}),
								(u.prototype.reload = function () {
									this.isDestroyed() ||
										(this.releaseAllInstance(),
										h(this, this._modelStates.values));
								}),
								(u.prototype.destroy = function () {
									for (var e in (this.releaseAllInstance(),
									this._modelStates.removeAll(),
									c))
										if (Object.hasOwnProperty.call(c, e)) {
											var t = c[e];
											t &&
												t.uuids.has &&
												t.uuids.has(this.uuid) &&
												(t.uuids.delete(this.uuid),
												0 === t.uuids.size &&
													delete c[e]);
										}
									delete this._model,
										Cesium.destroyObject(
											this,
											"无法调用已经销毁的ModelInstanceCollection对象"
										);
								}),
								(u.prototype.getBoundingSphere = function () {
									if (!this.isDestroyed())
										return (
											(function (e) {
												var t = e._instanceList,
													n = [];
												t.values.forEach(function (e) {
													e._boundingSphere &&
														n.push(
															e._boundingSphere
														);
												});
												var r =
													Cesium.BoundingSphere.fromBoundingSpheres(
														n
													);
												e._boundingSphere = r;
											})(this),
											this._boundingSphere
										);
								}),
								(u.prototype.findState = function (e) {
									var t = this._modelStates.values.find(
										function (t) {
											return (
												t.properties && e(t.properties)
											);
										}
									);
									if (t)
										return {
											state: t,
											instance:
												this.getInstanceByState(t),
											collection: this,
										};
								});
							var p = u;
							e.default = p;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			"use strict";
			var r = n(16).f,
				i = n(49),
				o = n(58),
				a = n(21),
				s = n(59),
				l = n(41),
				u = n(77),
				c = n(101),
				f = n(112),
				h = n(14),
				p = n(25).fastKey,
				d = n(36),
				y = h ? "_s" : "size",
				m = function (e, t) {
					var n,
						r = p(t);
					if ("F" !== r) return e._i[r];
					for (n = e._f; n; n = n.n) if (n.k == t) return n;
				};
			e.exports = {
				getConstructor: function (e, t, n, u) {
					var c = e(function (e, r) {
						s(e, c, t, "_i"),
							(e._t = t),
							(e._i = i(null)),
							(e._f = void 0),
							(e._l = void 0),
							(e[y] = 0),
							null != r && l(r, n, e[u], e);
					});
					return (
						o(c.prototype, {
							clear: function () {
								for (
									var e = d(this, t), n = e._i, r = e._f;
									r;
									r = r.n
								)
									(r.r = !0),
										r.p && (r.p = r.p.n = void 0),
										delete n[r.i];
								(e._f = e._l = void 0), (e[y] = 0);
							},
							delete: function (e) {
								var n = d(this, t),
									r = m(n, e);
								if (r) {
									var i = r.n,
										o = r.p;
									delete n._i[r.i],
										(r.r = !0),
										o && (o.n = i),
										i && (i.p = o),
										n._f == r && (n._f = i),
										n._l == r && (n._l = o),
										n[y]--;
								}
								return !!r;
							},
							forEach: function (e) {
								d(this, t);
								for (
									var n,
										r = a(
											e,
											arguments.length > 1
												? arguments[1]
												: void 0,
											3
										);
									(n = n ? n.n : this._f);

								)
									for (r(n.v, n.k, this); n && n.r; ) n = n.p;
							},
							has: function (e) {
								return !!m(d(this, t), e);
							},
						}),
						h &&
							r(c.prototype, "size", {
								get: function () {
									return d(this, t)[y];
								},
							}),
						c
					);
				},
				def: function (e, t, n) {
					var r,
						i,
						o = m(e, t);
					return (
						o
							? (o.v = n)
							: ((e._l = o =
									{
										i: (i = p(t, !0)),
										k: t,
										v: n,
										p: (r = e._l),
										n: void 0,
										r: !1,
									}),
							  e._f || (e._f = o),
							  r && (r.n = o),
							  e[y]++,
							  "F" !== i && (e._i[i] = o)),
						e
					);
				},
				getEntry: m,
				setStrong: function (e, t, n) {
					u(
						e,
						t,
						function (e, n) {
							(this._t = d(e, t)),
								(this._k = n),
								(this._l = void 0);
						},
						function () {
							for (var e = this._k, t = this._l; t && t.r; )
								t = t.p;
							return this._t &&
								(this._l = t = t ? t.n : this._t._f)
								? c(
										0,
										"keys" == e
											? t.k
											: "values" == e
											? t.v
											: [t.k, t.v]
								  )
								: ((this._t = void 0), c(1));
						},
						n ? "entries" : "values",
						!n,
						!0
					),
						f(t);
				},
			};
		},
		function (e, t, n) {
			var r = n(60),
				i = n(195);
			e.exports = function (e) {
				return function () {
					if (r(this) != e)
						throw TypeError(e + "#toJSON isn't generic");
					return i(this);
				};
			};
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0);
							var t = {
								IMG_W: "img_w",
								IMG_C: "img_c",
								CIA_W: "cia_w",
								CIA_C: "cia_c",
								VEC_W: "vec_w",
								VEC_C: "vec_c",
								TER_W: "ter_w",
								TER_C: "ter_c",
								CVA_W: "cva_w",
								CVA_C: "cva_c",
								CTA_W: "cta_w",
								CTA_C: "cta_c",
								EIA_W: "eia_w",
								EIA_C: "eia_c",
								EVA_W: "eva_w",
								EVA_C: "eva_c",
							};
							e.default = t;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r = n(2),
				i = n(55),
				o = n(20),
				a = n(89),
				s = "[" + a + "]",
				l = RegExp("^" + s + s + "*"),
				u = RegExp(s + s + "*$"),
				c = function (e, t, n) {
					var i = {},
						s = o(function () {
							return !!a[e]() || "​" != "​"[e]();
						}),
						l = (i[e] = s ? t(f) : a[e]);
					n && (i[n] = l), r(r.P + r.F * s, "String", i);
				},
				f = (c.trim = function (e, t) {
					return (
						(e = String(i(e))),
						1 & t && (e = e.replace(l, "")),
						2 & t && (e = e.replace(u, "")),
						e
					);
				});
			e.exports = c;
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(27), n(10), n(18), n(13)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o) {
							"use strict";
							var a = n(0);
							function s(e, n) {
								var i = e.positions,
									o = e.dis3d,
									a = new Cesium.PolylineDashMaterialProperty(
										{
											dashLength: 16,
											color: Cesium.Color.fromCssColorString(
												"#00f"
											).withAlpha(0.7),
										}
									),
									s = (0, t.default)(
										{
											positions: i,
											clampToGround: !0,
											width: 3,
											material: a,
										},
										n.polyline
									),
									l = {
										layerId: "measure",
										drawType:
											r.DrawType.MEASURE_STICKDISTANCE,
										id: Cesium.createGuid(),
										position:
											i[Math.round((i.length - 1) / 2)],
										polyline: s,
										label: {
											text: "".concat(o),
											font: '16px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
											fillColor: Cesium.Color.RED,
											outlineColor: Cesium.Color.SKYBLUE,
											outlineWidth: 1,
											style: Cesium.LabelStyle
												.FILL_AND_OUTLINE,
											disableDepthTestDistance:
												Number.POSITIVE_INFINITY,
										},
									};
								return this.dataSource.entities.add(l);
							}
							function l(e, n) {
								var i = e.positions,
									o = e.dis3d,
									a = new Cesium.PolylineDashMaterialProperty(
										{
											dashLength: 16,
											color: Cesium.Color.fromCssColorString(
												"#00f"
											).withAlpha(0.7),
										}
									),
									s = (0, t.default)(
										{
											positions: i,
											width: 3,
											material: a,
											clampToGround: !1,
											classificationType:
												Cesium.ClassificationType
													.TERRAIN,
										},
										n.polyline
									),
									l = {
										layerId: "measure",
										drawType:
											r.DrawType.MEASURE_STICKDISTANCE,
										id: Cesium.createGuid(),
										position:
											i[Math.round((i.length - 1) / 2)],
										polyline: s,
										label: {
											text: "".concat(o),
											font: '16px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
											fillColor: Cesium.Color.RED,
											outlineColor: Cesium.Color.SKYBLUE,
											outlineWidth: 1,
											style: Cesium.LabelStyle
												.FILL_AND_OUTLINE,
											disableDepthTestDistance:
												Number.POSITIVE_INFINITY,
										},
									};
								return this.dataSource.entities.add(l);
							}
							function u(e, t) {
								var n,
									i,
									o = e.positions,
									a = e.area,
									s = e.dis3d;
								console.log(o);
								var l =
										Cesium.Color.fromCssColorString(
											"#ff0"
										).withAlpha(0.5),
									u = new Cesium.PolylineDashMaterialProperty(
										{
											dashLength: 16,
											color: Cesium.Color.fromCssColorString(
												"#00f"
											).withAlpha(0.7),
										}
									),
									c =
										Cesium.BoundingSphere.fromPoints(
											o
										).center,
									f = Cesium.clone(o, !0);
								f.push(o[0]);
								var h = {
									layerId: "measure",
									drawType: r.DrawType.MEASURE_AREA,
									id: Cesium.createGuid(),
									position: c,
									polyline: {
										positions: f,
										clampToGround: !1,
										width: 2,
										material:
											null !==
												(n = t.polyline.material) &&
											void 0 !== n
												? n
												: u,
										classificationType:
											Cesium.ClassificationType.TERRAIN,
									},
									polygon: {
										hierarchy: o,
										material:
											null !== (i = t.polygon.material) &&
											void 0 !== i
												? i
												: l,
										perPositionHeight: !0,
										classificationType:
											Cesium.ClassificationType.TERRAIN,
									},
									label: {
										text: "面积："
											.concat(a, "\n周长：")
											.concat(s),
										font: '16px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
										fillColor: Cesium.Color.RED,
										outlineColor: Cesium.Color.SKYBLUE,
										outlineWidth: 1,
										style: Cesium.LabelStyle
											.FILL_AND_OUTLINE,
										disableDepthTestDistance:
											Number.POSITIVE_INFINITY,
									},
									point: {
										pixelSize: 6,
										color: Cesium.Color.RED,
										disableDepthTestDistance:
											Number.MAX_VALUE,
									},
								};
								return this.dataSource.entities.add(h);
							}
							function c(e, n) {
								var i = new Cesium.PolylineDashMaterialProperty(
										{
											dashLength: 16,
											color: Cesium.Color.fromCssColorString(
												"#00f"
											).withAlpha(0.7),
										}
									),
									a = (0, t.default)(
										{
											positions: e.positions,
											width: 2,
											material: i,
											depthFailMaterial: i,
										},
										n.polyline
									),
									s = {
										layerId: "measure",
										drawType: r.DrawType.MEASURE_HEIGHT,
										position: e.labelPositonHeight,
										polyline: a,
										label: {
											text: e.height,
											font: '16px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
											fillColor: Cesium.Color.RED,
											outlineColor: Cesium.Color.SKYBLUE,
											outlineWidth: 1,
											style: Cesium.LabelStyle
												.FILL_AND_OUTLINE,
											disableDepthTestDistance:
												Number.POSITIVE_INFINITY,
										},
									};
								this.dataSource.entities.add(s),
									this.dataSource.entities.add({
										layerId: "measure",
										drawType: r.DrawType.MEASURE_HEIGHT,
										position: e.labelPositonH,
										label: {
											text: e.distanceH,
											font: '16px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
											fillColor: Cesium.Color.RED,
											outlineColor: Cesium.Color.SKYBLUE,
											outlineWidth: 1,
											style: Cesium.LabelStyle
												.FILL_AND_OUTLINE,
											disableDepthTestDistance:
												Number.POSITIVE_INFINITY,
										},
									}),
									this.dataSource.entities.add({
										layerId: "measure",
										drawType: r.DrawType.MEASURE_HEIGHT,
										position: e.labelPositonS,
										label: {
											text: e.distanceS,
											font: '16px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
											fillColor: Cesium.Color.RED,
											outlineColor: Cesium.Color.SKYBLUE,
											outlineWidth: 1,
											style: Cesium.LabelStyle
												.FILL_AND_OUTLINE,
											disableDepthTestDistance:
												Number.POSITIVE_INFINITY,
										},
									});
								var l = o.default;
								this.dataSource.entities.add({
									layerId: "measure",
									drawType: r.DrawType.MEASURE_HEIGHT,
									position: e.startPoint,
									billboard: {
										image: l,
										scale: 1,
										color: Cesium.Color.WHITE,
										disableDepthTestDistance:
											Number.POSITIVE_INFINITY,
									},
								}),
									this.dataSource.entities.add({
										layerId: "measure",
										drawType: r.DrawType.MEASURE_HEIGHT,
										position: e.endPoint,
										billboard: {
											image: l,
											scale: 1,
											color: Cesium.Color.WHITE,
											disableDepthTestDistance:
												Number.POSITIVE_INFINITY,
										},
									});
							}
							function f(e, t, n) {
								var o,
									a,
									s,
									l =
										Cesium.Color.fromCssColorString(
											"#ff0"
										).withAlpha(0.5),
									u = new Cesium.PolylineDashMaterialProperty(
										{
											dashLength: 16,
											color: Cesium.Color.fromCssColorString(
												"#00f"
											).withAlpha(0.7),
										}
									),
									c =
										Cesium.BoundingSphere.fromPoints(
											e
										).center,
									f = [].concat(e);
								f.push(e[0]);
								var h = {
										layerId: this.dataSource.name,
										drawType: r.DrawType.DRAW_POLYGON,
										oldPositions: e,
										id: null != n ? n : Cesium.createGuid(),
										position: c,
										label: {
											text:
												t && t.name
													? t.name
													: r.drawTypeName[
															r.DrawType
																.DRAW_POLYGON
													  ],
											eyeOffset:
												new Cesium.ConstantProperty(
													new Cesium.Cartesian3(
														0,
														0,
														-500
													)
												),
											heightReference:
												Cesium.HeightReference
													.CLAMP_TO_GROUND,
											font: "14px sans-serif",
											verticalOrigin: 1,
											fillColor: Cesium.Color.WHITE,
											style: 2,
											outlineColor: Cesium.Color.GREEN,
											outlineWidth: 1,
											show:
												!t ||
												null === (o = t.showLabel) ||
												void 0 === o ||
												o,
										},
										polyline: {
											positions: f,
											clampToGround: !0,
											width: 2,
											material:
												null !==
													(a = t.polyline.material) &&
												void 0 !== a
													? a
													: u,
										},
										polygon: new Cesium.PolygonGraphics({
											hierarchy: e,
											asynchronous: !1,
											material:
												null !==
													(s = t.polygon.material) &&
												void 0 !== s
													? s
													: l,
										}),
										endEdit: function (e) {
											this.polygon.hierarchy = e;
											var t = Cesium.clone(e, !0);
											t.push(t[0]),
												(this.polyline.positions = t),
												(this.show = !0),
												(this.oldPositions = e);
										},
									},
									p = this.dataSource.entities.add(h);
								return t && (0, i.updateStyle)(p, t), p;
							}
							function h(e, n, o) {
								var a,
									s =
										Cesium.Color.fromCssColorString(
											"#00f"
										).withAlpha(0.9),
									l = (0, t.default)(
										{
											positions: e,
											clampToGround:
												this.drawType ===
												r.DrawType.DRAW_POLYLINE,
											width: 1,
											material: s,
										},
										n.polyline
									),
									u = {
										layerId: this.dataSource.name,
										drawType: this.drawType,
										oldPositions: e,
										id: null != o ? o : Cesium.createGuid(),
										position: e[Math.round(e.length / 2)],
										label: {
											text:
												n && n.name
													? n.name
													: this.drawType,
											eyeOffset:
												new Cesium.ConstantProperty(
													new Cesium.Cartesian3(
														0,
														0,
														-500
													)
												),
											heightReference:
												Cesium.HeightReference
													.CLAMP_TO_GROUND,
											font: "14px sans-serif",
											verticalOrigin: 1,
											fillColor: Cesium.Color.WHITE,
											style: 2,
											outlineColor: Cesium.Color.GREEN,
											outlineWidth: 1,
											show:
												!n ||
												null === (a = n.showLabel) ||
												void 0 === a ||
												a,
										},
										polyline: l,
										endEdit: function (e) {
											(this.polyline.positions = e),
												(this.position =
													e[
														Math.round(e.length / 2)
													]),
												(this.show = !0),
												(this.oldPositions = e);
										},
									},
									c = this.dataSource.entities.add(u);
								return n && (0, i.updateStyle)(c, n), c;
							}
							function p(e, t, n) {
								var a,
									s = o.default,
									l = {
										layerId: this.dataSource.name,
										drawType: r.DrawType.DRAW_POINT,
										oldPositions: e,
										id: null != n ? n : Cesium.createGuid(),
										position: e,
										label: {
											text:
												t && t.name
													? t.name
													: r.drawTypeName[
															r.DrawType
																.DRAW_POINT
													  ],
											heightReference:
												Cesium.HeightReference
													.CLAMP_TO_GROUND,
											font: "14px sans-serif",
											verticalOrigin: 1,
											fillColor: Cesium.Color.WHITE,
											style: 2,
											outlineColor: Cesium.Color.GREEN,
											outlineWidth: 1,
											show:
												!t ||
												null === (a = t.showLabel) ||
												void 0 === a ||
												a,
											pixelOffset: new Cesium.Cartesian2(
												0,
												-15
											),
										},
										billboard: {
											image: s,
											scale: 1,
											color: Cesium.Color.WHITE,
											verticalOrigin: 1,
											heightReference:
												Cesium.HeightReference
													.CLAMP_TO_GROUND,
										},
										endEdit: function (e) {
											(this.position = e),
												(this.show = !0),
												(this.oldPositions = e);
										},
									},
									u = this.dataSource.entities.add(l);
								return t && (0, i.updateStyle)(u, t), u;
							}
							function d(e, t, n) {
								var o = {
										layerId: this.dataSource.name,
										drawType: r.DrawType.DRAW_TEXT,
										oldPositions: e,
										id: null != n ? n : Cesium.createGuid(),
										position: e,
										label: {
											text: "文字标注",
											eyeOffset:
												new Cesium.ConstantProperty(
													new Cesium.Cartesian3(
														0,
														0,
														-500
													)
												),
											heightReference:
												Cesium.HeightReference
													.CLAMP_TO_GROUND,
											font: "14px sans-serif",
											verticalOrigin: 1,
											fillColor: Cesium.Color.WHITE,
											style: 2,
											outlineColor: Cesium.Color.GREEN,
											outlineWidth: 1,
											show: !0,
										},
										endEdit: function (e) {
											(this.position = e),
												(this.show = !0),
												(this.oldPositions = e);
										},
									},
									a = this.dataSource.entities.add(o);
								return t && (0, i.updateStyle)(a, t), a;
							}
							function y(e, t, n) {
								var o,
									a =
										Cesium.Color.fromCssColorString(
											"#ff0"
										).withAlpha(0.5),
									s = new Cesium.PolylineDashMaterialProperty(
										{
											dashLength: 16,
											color: Cesium.Color.fromCssColorString(
												"#f00"
											).withAlpha(0.7),
										}
									),
									l =
										this.circleDrawer._computeCirclePolygon(
											e
										),
									u = {
										layerId: this.dataSource.name,
										drawType: r.DrawType.DRAW_CIRCLE,
										oldPositions: e,
										id: null != n ? n : Cesium.createGuid(),
										position: e[0],
										label: {
											text:
												t && t.name
													? t.name
													: r.drawTypeName[
															r.DrawType
																.DRAW_CIRCLE
													  ],
											eyeOffset:
												new Cesium.ConstantProperty(
													new Cesium.Cartesian3(
														0,
														0,
														-500
													)
												),
											heightReference:
												Cesium.HeightReference
													.CLAMP_TO_GROUND,
											font: "14px sans-serif",
											verticalOrigin: 1,
											fillColor: Cesium.Color.WHITE,
											style: 2,
											outlineColor: Cesium.Color.GREEN,
											outlineWidth: 1,
											show:
												!t ||
												null === (o = t.showLabel) ||
												void 0 === o ||
												o,
										},
										polyline: {
											positions: l,
											clampToGround: !0,
											width: 2,
											material: s,
										},
										polygon: new Cesium.PolygonGraphics({
											hierarchy: l,
											asynchronous: !1,
											material: a,
										}),
										endEdit: function (e) {
											var t =
												this.circleDrawer._computeCirclePolygon(
													e
												);
											(this.position = e[0]),
												(this.polygon.hierarchy = t),
												(this.polyline.positions = t),
												(this.show = !0),
												(this.oldPositions = e);
										},
									},
									c = this.dataSource.entities.add(u);
								return t && (0, i.updateStyle)(c, t), c;
							}
							function m(e) {
								var t = Cesium.Rectangle.fromCartesianArray(e),
									n = [
										t.west,
										t.north,
										t.east,
										t.north,
										t.east,
										t.south,
										t.west,
										t.south,
										t.west,
										t.north,
									];
								return {
									rect: t,
									outlinePositions:
										Cesium.Cartesian3.fromRadiansArray(n),
								};
							}
							function v(e, t, n) {
								var o,
									a =
										Cesium.Color.fromCssColorString(
											"#ff0"
										).withAlpha(0.5),
									s = new Cesium.PolylineDashMaterialProperty(
										{
											dashLength: 16,
											color: Cesium.Color.fromCssColorString(
												"#00f"
											).withAlpha(0.7),
										}
									),
									l = m(e),
									u = Cesium.BoundingSphere.fromPoints(
										l.positions
									).center,
									c = {
										layerId: this.dataSource.name,
										drawType: r.DrawType.DRAW_RECTANGLE,
										oldPositions: e,
										id: null != n ? n : Cesium.createGuid(),
										position: u,
										label: {
											text:
												t && t.name
													? t.name
													: r.drawTypeName[
															r.DrawType
																.DRAW_RECTANGLE
													  ],
											eyeOffset:
												new Cesium.ConstantProperty(
													new Cesium.Cartesian3(
														0,
														0,
														-500
													)
												),
											heightReference:
												Cesium.HeightReference
													.CLAMP_TO_GROUND,
											font: "14px sans-serif",
											verticalOrigin: 1,
											fillColor: Cesium.Color.WHITE,
											style: 2,
											outlineColor: Cesium.Color.GREEN,
											outlineWidth: 1,
											show:
												!t ||
												null === (o = t.showLabel) ||
												void 0 === o ||
												o,
										},
										polyline: {
											positions: l.outlinePositions,
											clampToGround: !0,
											width: 2,
											material: s,
										},
										rectangle: {
											coordinates: l.rect,
											material: a,
										},
										endEdit: function (e) {
											var t = m(e);
											(this.polyline.positions =
												t.outlinePositions),
												(this.rectangle.coordinates =
													t.rect);
											var n =
												Cesium.BoundingSphere.fromPoints(
													t.positions
												).center;
											(this.position = n),
												(this.show = !0),
												(this.oldPositions = e);
										},
									},
									f = this.dataSource.entities.add(c);
								return t && (0, i.updateStyle)(f, t), f;
							}
							function g(e, t, n) {
								var o,
									a =
										Cesium.Color.fromCssColorString(
											"#ff0"
										).withAlpha(0.5),
									s = new Cesium.PolylineDashMaterialProperty(
										{
											dashLength: 16,
											color: Cesium.Color.fromCssColorString(
												"#f00"
											).withAlpha(0.7),
										}
									),
									l = e.positions,
									u =
										Cesium.BoundingSphere.fromPoints(
											l
										).center,
									c = [].concat(l);
								c.push(l[0]);
								var f = {
										layerId: this.dataSource.name,
										drawType: r.DrawType.DRAW_ATTACK_ARROW,
										oldPositions: e,
										id: null != n ? n : Cesium.createGuid(),
										position: u,
										label: {
											text:
												t && t.name
													? t.name
													: r.drawTypeName[
															r.DrawType
																.DRAW_ATTACK_ARROW
													  ],
											eyeOffset:
												new Cesium.ConstantProperty(
													new Cesium.Cartesian3(
														0,
														0,
														-500
													)
												),
											heightReference:
												Cesium.HeightReference
													.CLAMP_TO_GROUND,
											font: "14px sans-serif",
											verticalOrigin: 1,
											fillColor: Cesium.Color.WHITE,
											style: 2,
											outlineColor: Cesium.Color.GREEN,
											outlineWidth: 1,
											show:
												!t ||
												null === (o = t.showLabel) ||
												void 0 === o ||
												o,
										},
										polyline: {
											positions: c,
											clampToGround: !0,
											width: 2,
											material: s,
										},
										polygon: new Cesium.PolygonGraphics({
											hierarchy: l,
											asynchronous: !1,
											material: a,
										}),
										endEdit: function (e) {
											var t = e.positions,
												n = [].concat(t);
											n.push(t[0]),
												(this.polyline.positions = n),
												(this.polygon.hierarchy = t);
											var r =
												Cesium.BoundingSphere.fromPoints(
													t
												).center;
											(this.position = r),
												(this.show = !0),
												(this.oldPositions = e);
										},
									},
									h = this.dataSource.entities.add(f);
								return t && (0, i.updateStyle)(h, t), h;
							}
							function _(e, t, n) {
								var o,
									a =
										Cesium.Color.fromCssColorString(
											"#ff0"
										).withAlpha(0.5),
									s = new Cesium.PolylineDashMaterialProperty(
										{
											dashLength: 16,
											color: Cesium.Color.fromCssColorString(
												"#00f"
											).withAlpha(0.7),
										}
									),
									l =
										Cesium.BoundingSphere.fromPoints(
											e
										).center,
									u = [].concat(e);
								u.push(e[0]);
								var c = {
										layerId: this.dataSource.name,
										drawType:
											r.DrawType.DRAW_STRAIGHT_ARROW,
										oldPositions: e,
										id: null != n ? n : Cesium.createGuid(),
										position: l,
										label: {
											text:
												t && t.name
													? t.name
													: r.drawTypeName[
															r.DrawType
																.DRAW_STRAIGHT_ARROW
													  ],
											eyeOffset:
												new Cesium.ConstantProperty(
													new Cesium.Cartesian3(
														0,
														0,
														-500
													)
												),
											heightReference:
												Cesium.HeightReference
													.CLAMP_TO_GROUND,
											font: "14px sans-serif",
											verticalOrigin: 1,
											fillColor: Cesium.Color.WHITE,
											style: 2,
											outlineColor: Cesium.Color.GREEN,
											outlineWidth: 1,
											show:
												!t ||
												null === (o = t.showLabel) ||
												void 0 === o ||
												o,
										},
										polyline: {
											positions: u,
											clampToGround: !0,
											width: 2,
											material: s,
										},
										polygon: new Cesium.PolygonGraphics({
											hierarchy: e,
											asynchronous: !1,
											material: a,
										}),
										endEdit: function (e) {
											this.polygon.hierarchy = e;
											var t = Cesium.clone(e, !0);
											t.push(e[0]),
												(this.polyline.positions = t);
											var n =
												Cesium.BoundingSphere.fromPoints(
													e
												).center;
											(this.position = n),
												(this.show = !0),
												(this.oldPositions = e);
										},
									},
									f = this.dataSource.entities.add(c);
								return t && (0, i.updateStyle)(f, t), f;
							}
							function b(e, t, n) {
								var o,
									a =
										Cesium.Color.fromCssColorString(
											"#ff0"
										).withAlpha(0.5),
									s = new Cesium.PolylineDashMaterialProperty(
										{
											dashLength: 16,
											color: Cesium.Color.fromCssColorString(
												"#f00"
											).withAlpha(0.7),
										}
									),
									l = e.positions,
									u =
										Cesium.BoundingSphere.fromPoints(
											l
										).center,
									c = [].concat(l);
								c.push(l[0]);
								var f = {
										layerId: this.dataSource.name,
										drawType: r.DrawType.DRAW_PINCER_ARROW,
										oldPositions: e,
										id: null != n ? n : Cesium.createGuid(),
										position: u,
										label: {
											text:
												t && t.name
													? t.name
													: r.drawTypeName[
															r.DrawType
																.DRAW_PINCER_ARROW
													  ],
											eyeOffset:
												new Cesium.ConstantProperty(
													new Cesium.Cartesian3(
														0,
														0,
														-500
													)
												),
											heightReference:
												Cesium.HeightReference
													.CLAMP_TO_GROUND,
											font: "14px sans-serif",
											verticalOrigin: 1,
											fillColor: Cesium.Color.WHITE,
											style: 2,
											outlineColor: Cesium.Color.GREEN,
											outlineWidth: 1,
											show:
												!t ||
												null === (o = t.showLabel) ||
												void 0 === o ||
												o,
										},
										polyline: {
											positions: c,
											clampToGround: !0,
											width: 2,
											material: s,
										},
										polygon: new Cesium.PolygonGraphics({
											hierarchy: l,
											asynchronous: !1,
											material: a,
										}),
										endEdit: function (e) {
											var t = e.positions,
												n = [].concat(t);
											n.push(t[0]),
												(this.polyline.positions = n),
												(this.polygon.hierarchy = t);
											var r =
												Cesium.BoundingSphere.fromPoints(
													t
												).center;
											(this.position = r),
												(this.show = !0),
												(this.oldPositions = e);
										},
									},
									h = this.dataSource.entities.add(f);
								return t && (0, i.updateStyle)(h, t), h;
							}
							function x(e, t, n) {
								var o,
									a = e.positions,
									s = e.radius,
									l = this.bufferLineDrawer.computeBufferLine(
										a,
										s
									),
									u =
										Cesium.Color.fromCssColorString(
											"#ff0"
										).withAlpha(0.5),
									c = new Cesium.PolylineDashMaterialProperty(
										{
											dashLength: 16,
											color: Cesium.Color.fromCssColorString(
												"#00f"
											).withAlpha(0.7),
										}
									),
									f = {
										layerId: this.dataSource.name,
										drawType: r.DrawType.DRAW_BUFFERLINE,
										oldPositions: e,
										id: null != n ? n : Cesium.createGuid(),
										position: a[Math.round(a.length / 2)],
										label: {
											text:
												t && t.name
													? t.name
													: r.drawTypeName[
															r.DrawType
																.DRAW_BUFFERLINE
													  ],
											eyeOffset:
												new Cesium.ConstantProperty(
													new Cesium.Cartesian3(
														0,
														0,
														-500
													)
												),
											heightReference:
												Cesium.HeightReference
													.CLAMP_TO_GROUND,
											font: "14px sans-serif",
											verticalOrigin: 1,
											fillColor: Cesium.Color.WHITE,
											style: 2,
											outlineColor: Cesium.Color.GREEN,
											outlineWidth: 1,
											show:
												!t ||
												null === (o = t.showLabel) ||
												void 0 === o ||
												o,
										},
										polygon: new Cesium.PolygonGraphics({
											hierarchy: l,
											asynchronous: !1,
											material: u,
										}),
										polyline: {
											positions: a,
											clampToGround: !0,
											width: 2,
											material: c,
										},
										endEdit: function (e) {
											var t = e.positions,
												n = e.radius,
												r =
													this.bufferLineDrawer.computeBufferLine(
														t,
														n
													);
											(this.polyline.positions = t),
												(this.position =
													e[Math.ceil(e.length / 2)]),
												(this.polygon.hierarchy = r),
												(this.show = !0),
												(this.oldPositions = e);
										},
									},
									h = this.dataSource.entities.add(f);
								return t && (0, i.updateStyle)(h, t), h;
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.addDraw = function (e, t, n) {
									if (e) {
										var i;
										switch (e) {
											case r.DrawType.DRAW_POLYGON:
												i = f.apply(t, n);
												break;
											case r.DrawType.DRAW_POLYLINE:
											case r.DrawType.DRAW_SPACE_POLYLINE:
												i = h.apply(t, n);
												break;
											case r.DrawType.DRAW_POINT:
												i = p.apply(t, n);
												break;
											case r.DrawType.DRAW_TEXT:
												i = d.apply(t, n);
												break;
											case r.DrawType.DRAW_CIRCLE:
												i = y.apply(t, n);
												break;
											case r.DrawType.DRAW_RECTANGLE:
												i = v.apply(t, n);
												break;
											case r.DrawType.DRAW_ATTACK_ARROW:
												i = g.apply(t, n);
												break;
											case r.DrawType.DRAW_STRAIGHT_ARROW:
												i = _.apply(t, n);
												break;
											case r.DrawType.DRAW_PINCER_ARROW:
												i = b.apply(t, n);
												break;
											case r.DrawType.DRAW_BUFFERLINE:
												i = x.apply(t, n);
										}
										return i;
									}
								}),
								(e.drawMeasure = function (e, t, n) {
									switch (e) {
										case r.DrawType.MEASURE_STICKDISTANCE:
											s.apply(t, n);
											break;
										case r.DrawType.MEASURE_SPACEDISTANCE:
											l.apply(t, n);
											break;
										case r.DrawType.MEASURE_AREA:
											u.apply(t, n);
											break;
										case r.DrawType.MEASURE_HEIGHT:
											c.apply(t, n);
									}
								}),
								(t = a(t)),
								(o = a(o));
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(92), n(8), n(9), n(243)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o) {
							"use strict";
							var a = n(0);
							function s(e, t) {
								!(function (e, t) {
									if (t.has(e))
										throw new TypeError(
											"Cannot initialize the same private elements twice on an object"
										);
								})(e, t),
									t.add(e);
							}
							function l(e, t, n) {
								if (!t.has(e))
									throw new TypeError(
										"attempted to get private field on non-instance"
									);
								return n;
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = a(t)),
								(r = a(r)),
								(i = a(i)),
								(o = a(o));
							var u = new t.default(),
								c = new t.default();
							function f() {
								this.createShdowMap(),
									this.debugFrustum &&
										this.createFrustumGeometry(),
									this.createPostProcess(),
									this.viewer.scene.primitives.add(this);
							}
							function h() {
								this.postProcess &&
									this.viewer.scene.postProcessStages.remove(
										this.postProcess
									),
									this.cameraFrustum &&
										this.viewer.scene.primitives.remove(
											this.cameraFrustum
										),
									this.viewShadowMap.destroy(),
									(this.viewShadowMap = null),
									this.createShdowMap(),
									this.debugFrustum &&
										this.createFrustumGeometry(),
									this.createPostProcess();
							}
							var p = (function () {
								function e(t) {
									if (
										((0, r.default)(this, e),
										s(this, c),
										s(this, u),
										(this.viewer = t.viewer),
										!this.viewer)
									)
										throw new Error("viewer is required");
									(this.viewPosition = t.viewPosition),
										(this.position = t.position),
										(this.horizontalViewAngle =
											t.horizontalViewAngle || 90),
										(this.verticalViewAngle =
											t.verticalViewAngle || 60),
										(this.alpha = t.alpha),
										(this.type = t.type),
										(this.visibleAreaColor =
											t.visibleAreaColor ||
											Cesium.Color.GREEN),
										(this.invisibleAreaColor =
											t.invisibleAreaColor ||
											Cesium.Color.RED),
										(this.texture =
											t.texturenew ||
											new Cesium.Texture({
												context:
													this.viewer.scene.context,
												source: {
													width: 1,
													height: 1,
													arrayBufferView:
														new Uint8Array(
															this.visibleAreaColor.toBytes()
														),
												},
												flipY: !1,
											})),
										(this.horizontalViewAngle =
											t.horizontalViewAngle || 90),
										(this.verticalViewAngle =
											t.verticalViewAngle || 60),
										(this.debugFrustum =
											t.debugFrustum || !1),
										l(this, u, f).call(this);
								}
								return (
									(0, i.default)(e, [
										{
											key: "show",
											get: function () {
												return !0;
											},
										},
										{
											key: "update",
											value: function (e) {
												this.viewShadowMap &&
													e.shadowMaps.push(
														this.viewShadowMap
													);
											},
										},
										{
											key: "updatePosition",
											value: function (e) {
												(this.position = e),
													l(this, c, h).call(this);
											},
										},
										{
											key: "updateViewPosition",
											value: function (e) {
												(this.viewPosition = e),
													l(this, c, h).call(this);
											},
										},
										{
											key: "updateViewAngle",
											value: function (e, t) {
												var n = !1;
												e &&
													((this.horizontalViewAngle =
														e),
													(n = !0)),
													t &&
														((this.verticalViewAngle =
															t),
														(n = !0)),
													n &&
														l(this, c, h).call(
															this
														);
											},
										},
										{
											key: "remove",
											value: function () {
												this.viewer.scene.primitives.remove(
													this
												);
											},
										},
										{
											key: "destroy",
											value: function () {
												this.viewer.scene.postProcessStages.remove(
													this.postProcess
												),
													this.viewer.scene.primitives.remove(
														this.cameraFrustum
													),
													this.activeVideoListener &&
														this.viewer.clock.onTick.removeEventListener(
															this
																.activeVideoListener
														),
													this.activeVideoListener &&
														delete this
															.activeVideoListener,
													delete this.postProcess,
													delete this.viewShadowMap,
													delete this.viewDis,
													delete this.cameraPosition,
													delete this.position,
													delete this.alpha,
													this.videoTexture &&
														this.videoTexture.destroy() &&
														delete this
															.videoTexture,
													delete this.cameraFrustum,
													delete this._videoEle,
													delete this._debugFrustum,
													delete this.orientation,
													delete this.texture,
													delete this.videoId,
													delete this.type,
													delete this.viewer;
											},
										},
										{
											key: "createTexture",
											value: function () {
												return this.texture;
											},
										},
										{
											key: "createShdowMap",
											value: function () {
												var e = this.viewPosition,
													t = this.position,
													n = this.viewer.scene,
													r = new Cesium.Camera(n),
													i = new Cesium.Cartesian3(),
													o =
														Cesium.Cartesian3.normalize(
															Cesium.Cartesian3.subtract(
																t,
																e,
																i
															),
															i
														),
													a =
														Cesium.Cartesian3.normalize(
															e,
															new Cesium.Cartesian3()
														);
												(r.position = e),
													(r.direction = o),
													(r.up = a);
												var s =
													Cesium.Cartesian3.distance(
														t,
														e
													);
												this.viewDis = s;
												var l = Cesium.Math.toRadians(
														this.horizontalViewAngle
													),
													u = Cesium.Math.toRadians(
														this.verticalViewAngle
													),
													c =
														(this.viewDis *
															Math.tan(l / 2) *
															2) /
														(this.viewDis *
															Math.tan(u / 2) *
															2),
													f = l;
												(f = l > u ? l : u),
													(r.frustum =
														new Cesium.PerspectiveFrustum(
															{
																fov: Cesium.Math.clamp(
																	f,
																	0,
																	Cesium.Math
																		.PI
																),
																aspectRatio: c,
																near: 0.001 * s,
																far: s,
															}
														)),
													(this.viewShadowMap =
														new Cesium.ShadowMap({
															lightCamera: r,
															enable: !1,
															isPointLight: !1,
															isSpotLight: !0,
															cascadesEnabled: !1,
															context: n.context,
															pointLightRadius: s,
															darkness: 0.99,
														}));
												var h = r.directionWC,
													p = r.upWC,
													d = r.rightWC,
													y = new Cesium.Cartesian3(),
													m = new Cesium.Matrix3(),
													v = new Cesium.Quaternion();
												d = Cesium.Cartesian3.negate(
													d,
													y
												);
												var g = m;
												Cesium.Matrix3.setColumn(
													g,
													0,
													d,
													g
												),
													Cesium.Matrix3.setColumn(
														g,
														1,
														p,
														g
													),
													Cesium.Matrix3.setColumn(
														g,
														2,
														h,
														g
													);
												var _ =
													Cesium.Quaternion.fromRotationMatrix(
														g,
														v
													);
												this.orientation = _;
											},
										},
										{
											key: "createFrustumGeometry",
											value: function () {
												(this.cameraFrustum =
													new Cesium.Primitive({
														geometryInstances: [
															new Cesium.GeometryInstance(
																{
																	geometry:
																		new Cesium.FrustumOutlineGeometry(
																			{
																				origin: this
																					.viewPosition,
																				orientation:
																					this
																						.orientation,
																				frustum:
																					this
																						.viewShadowMap
																						._lightCamera
																						.frustum,
																				_drawNearPlane:
																					!0,
																			}
																		),
																	attributes:
																		{
																			color: Cesium.ColorGeometryInstanceAttribute.fromColor(
																				new Cesium.Color(
																					0,
																					0.5,
																					0.5
																				)
																			),
																		},
																}
															),
														],
														appearance:
															new Cesium.PerInstanceColorAppearance(
																{
																	translucent:
																		!1,
																	flat: !0,
																}
															),
														asynchronous: !1,
														show:
															this.debugFrustum &&
															this.show,
													})),
													this.viewer.scene.primitives.add(
														this.cameraFrustum
													);
											},
										},
										{
											key: "createPostProcess",
											value: function () {
												var e = this,
													t = e.viewShadowMap
														._isPointLight
														? e.viewShadowMap
																._pointBias
														: e.viewShadowMap
																._primitiveBias;
												(this.postProcess =
													new Cesium.PostProcessStage(
														{
															fragmentShader:
																o.default,
															uniforms: {
																mixNum: function () {
																	return e.alpha;
																},
																stcshadow:
																	function () {
																		return e
																			.viewShadowMap
																			._shadowMapTexture;
																	},
																mapTexture:
																	function () {
																		return e.createTexture();
																	},
																_shadowMap_matrix:
																	function () {
																		return e
																			.viewShadowMap
																			._shadowMapMatrix;
																	},
																shadowMap_lightPositionEC:
																	function () {
																		return e
																			.viewShadowMap
																			._lightPositionEC;
																	},
																shadowMap_texelSizeDepthBiasAndNormalShadingSmooth:
																	function () {
																		var n =
																			new Cesium.Cartesian2();
																		return (
																			(n.x =
																				1 /
																				e
																					.viewShadowMap
																					._textureSize
																					.x),
																			(n.y =
																				1 /
																				e
																					.viewShadowMap
																					._textureSize
																					.y),
																			Cesium.Cartesian4.fromElements(
																				n.x,
																				n.y,
																				t.depthBias,
																				t.normalShadingSmooth,
																				new Cesium.Cartesian4()
																			)
																		);
																	},
																shadowMap_normalOffsetScaleDistanceMaxDistanceAndDarkness:
																	function () {
																		return Cesium.Cartesian4.fromElements(
																			t.normalOffsetScale,
																			e
																				.viewShadowMap
																				._distance,
																			e
																				.viewShadowMap
																				.maximumDistance,
																			e
																				.viewShadowMap
																				._darkness,
																			new Cesium.Cartesian4()
																		);
																	},
																showType:
																	function () {
																		return e.type;
																	},
																vc_invisibleAreaColor:
																	function () {
																		return e.invisibleAreaColor;
																	},
															},
														}
													)),
													this.viewer.scene.postProcessStages.add(
														this.postProcess
													);
											},
										},
										{
											key: "flyToviewPosition",
											value: function () {
												var e = this.viewPosition,
													t = this.position,
													n = new Cesium.Cartesian3(),
													r =
														Cesium.Cartesian3.normalize(
															Cesium.Cartesian3.subtract(
																t,
																e,
																n
															),
															n
														),
													i =
														Cesium.Cartesian3.normalize(
															e,
															new Cesium.Cartesian3()
														);
												this.viewer.camera.flyTo({
													destination:
														this.viewPosition,
													orientation: {
														up: i,
														direction: r,
													},
													duration: 1,
												});
											},
										},
									]),
									e
								);
							})();
							e.default = p;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			e.exports = n(245);
		},
		function (e, t, n) {
			e.exports = n(254);
		},
		function (e, t, n) {
			e.exports = n(296);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(29)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t) {
							"use strict";
							var r = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0);
							var i = (0, (t = r(t)).default)({
								UNLOADED: 0,
								LOADING: 1,
								PARSING: 2,
								READY: 3,
								FAILED: 4,
							});
							e.default = i;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t() {
								(this.ambientColor = new Cesium.Color()),
									(this.diffuseColor = new Cesium.Color()),
									(this.specularColor = new Cesium.Color(
										0,
										0,
										0,
										0
									)),
									(this.shininess = 50),
									(this.bTransparentSorting = !1),
									(this.texMatrix = Cesium.Matrix4.clone(
										Cesium.Matrix4.IDENTITY,
										new Cesium.Matrix4()
									)),
									(this.textures = []);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t.prototype.isDestroyed = function () {
									return !1;
								}),
								(t.prototype.destroy = function () {
									for (
										var e = this.textures.length, t = 0;
										t < e;
										t++
									)
										this.textures[t].destroy();
									return (
										(this.textures.length = 0),
										(this.ambientColor = void 0),
										(this.diffuseColor = void 0),
										(this.specularColor = void 0),
										Cesium.destroyObject(this)
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(28), n(345), n(346), n(347), n(128)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a) {
							"use strict";
							var s = n(0);
							function l(e) {
								var t, n;
								for (
									this.layer = e.layer,
										this.vertexPackage = e.vertexPackage,
										this.arrIndexPackage =
											e.arrIndexPackage,
										this.vertexBufferToCreate =
											new Cesium.Queue(),
										this.indexBufferToCreate =
											new Cesium.Queue(),
										this.shaderProgramToCreate =
											new Cesium.Queue(),
										t = 0,
										n =
											this.vertexPackage.vertexAttributes
												.length;
									t < n;
									t++
								)
									this.vertexBufferToCreate.enqueue(t);
								for (
									t = 0, n = this.arrIndexPackage.length;
									t < n;
									t++
								)
									this.indexBufferToCreate.enqueue(t);
								this.shaderProgramToCreate.enqueue(0),
									(this.boundingVolume = e.boundingVolume),
									(this.material = Cesium.defaultValue(
										e.material,
										new a.default()
									)),
									(this.geoName = e.geoName),
									(this.modelMatrix = e.modelMatrix),
									(this.geoMatrix = e.geoMatrix),
									(this.invGeoMatrix = Cesium.Matrix4.inverse(
										this.geoMatrix,
										new Cesium.Matrix4()
									)),
									(this.instanceCount =
										e.vertexPackage.instanceCount),
									(this.attributeLocations =
										e.vertexPackage.attrLocation),
									(this.shaderProgram = void 0),
									(this.vertexArray = void 0),
									(this.colorCommand = void 0),
									(this.pickInfo = Cesium.defaultValue(
										e.pickInfo,
										{}
									)),
									(this.selectionInfoMap =
										new Cesium.AssociativeArray()),
									(this.batchTable = void 0),
									(this.batchTableDirty = !1),
									(this.idsOperationMap =
										new Cesium.AssociativeArray()),
									(this.pickColorIdentifier = "vSecondColor"),
									this.createBoundingBoxForInstance(),
									(this.ready = !1);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = s(t)),
								(r = s(r)),
								(i = s(i)),
								(o = s(o)),
								(a = s(a));
							var u = new r.default(),
								c = new i.default(),
								f = new o.default();
							(l.prototype.createBuffers = function (e) {
								!(function (e, t) {
									for (
										var n = e.layer.context,
											r = e.vertexBufferToCreate;
										r.length;

									) {
										var i = r.peek();
										if (
											(u.set(n, e, i),
											!t.jobScheduler.execute(
												u,
												Cesium.JobType.BUFFER
											))
										)
											break;
										r.dequeue();
									}
								})(this, e),
									(function (e, t) {
										for (
											var n = e.layer.context,
												r = e.indexBufferToCreate;
											r.length;

										) {
											var i = r.peek();
											if (
												(c.set(n, e, i),
												!t.jobScheduler.execute(
													c,
													Cesium.JobType.BUFFER
												))
											)
												break;
											r.dequeue();
										}
									})(this, e);
							}),
								(l.prototype.createShaderProgram = function (
									e
								) {
									!(function (e, t) {
										for (
											var n = e.layer.context,
												r = e.shaderProgramToCreate;
											r.length &&
											(r.peek(),
											f.set(n, e),
											t.jobScheduler.execute(
												f,
												Cesium.JobType.PROGRAM
											));

										)
											r.dequeue();
									})(this, e);
								}),
								(l.prototype.createBatchTable = function (e) {
									!(function (e, n) {
										if (
											!Cesium.defined(e.batchTable) &&
											e.pickInfo
										) {
											var r = e.layer.context,
												i = [];
											i.push(
												{
													functionName:
														"batchTable_operation",
													componentDatatype:
														Cesium.ComponentDatatype
															.UNSIGNED_BYTE,
													componentsPerAttribute: 4,
												},
												{
													functionName:
														"batchTable_pickColor",
													componentDatatype:
														Cesium.ComponentDatatype
															.UNSIGNED_BYTE,
													componentsPerAttribute: 4,
													normalize: !0,
												}
											);
											var o = e.pickInfo,
												a = (0, t.default)(o),
												s =
													e.instanceCount > 0
														? e.instanceCount
														: a.length;
											e.batchTable =
												new Cesium.BatchTable(r, i, s);
										}
									})(this);
								});
							var h = new Cesium.Cartesian3();
							(l.prototype.createBoundingBoxForInstance =
								function () {
									var e = this.vertexPackage;
									if (
										Cesium.defined(e) &&
										-1 !== e.instanceIndex &&
										Cesium.defined(e.instanceBounds)
									) {
										var t = e.instanceBounds,
											n = new Cesium.Cartesian3(
												t[0],
												t[1],
												t[2]
											),
											r = new Cesium.Cartesian3(
												t[3],
												t[4],
												t[5]
											),
											i = Cesium.Cartesian3.lerp(
												n,
												r,
												0.5,
												h
											),
											o = Cesium.Cartesian3.distance(
												i,
												n
											),
											a = new Cesium.Cartesian3();
										Cesium.Matrix4.multiplyByPoint(
											this.modelMatrix,
											i,
											a
										),
											(this.boundingVolume.center = a),
											(this.boundingVolume.radius = o),
											(e.instanceBounds = void 0);
									}
								}),
								(l.prototype.initLayerSetting = function (e) {
									(0, t.default)(e._objsOperationList)
										.length > 0 &&
										this.updateObjsOperation(
											e._objsOperationList
										);
								});
							var p = new Cesium.Cartesian4();
							(l.prototype.createPickIds = function () {
								var e = this.layer,
									t = e.context,
									n = this.pickInfo;
								if (Cesium.defined(n)) {
									for (var r in n)
										n.hasOwnProperty(r) &&
											this.selectionInfoMap.set(r, n[r]);
									var i = this.batchTable,
										o = this.selectionInfoMap,
										a = o._hash;
									for (var s in a)
										if (a.hasOwnProperty(s)) {
											var l = o.get(s),
												u = void 0;
											Cesium.defined(u) ||
												(u = t.createPickId({
													primitive: e,
													id: s,
												}));
											var c = u.color;
											(p.x = Cesium.Color.floatToByte(
												c.red
											)),
												(p.y = Cesium.Color.floatToByte(
													c.green
												)),
												(p.z = Cesium.Color.floatToByte(
													c.blue
												)),
												(p.w = Cesium.Color.floatToByte(
													c.alpha
												));
											var f = l.instanceIds;
											if (this.instanceCount > 0)
												f.map(function (e) {
													i.setBatchedAttribute(
														e,
														1,
														p
													);
												});
											else {
												var h = l[0].batchId;
												i.setBatchedAttribute(h, 1, p);
											}
										}
									this.pickInfo = void 0;
								}
							}),
								(l.prototype.updateBatchTableAttributes =
									function () {
										for (
											var e = this,
												t = this,
												n = this.idsOperationMap,
												r = function (r, i) {
													var o = n.values[r];
													if (!o.dirty)
														return "continue";
													(o.dirty = !1),
														e.instanceCount > 0
															? Array.isArray(
																	o.instanceIds
															  ) &&
															  o.instanceIds.map(
																	function (
																		e
																	) {
																		t.batchTable.setBatchedAttribute(
																			e,
																			0,
																			o.operationValue
																		);
																	}
															  )
															: Cesium.defined(
																	o.batchId
															  ) &&
															  e.batchTable.setBatchedAttribute(
																	o.batchId,
																	0,
																	o.operationValue
															  );
												},
												i = 0,
												o = n.length;
											i < o;
											i++
										)
											r(i);
									}),
								(l.prototype.updateObjsOperation = function (
									e
								) {
									if (
										this.ready &&
										!(this.selectionInfoMap.length < 1)
									) {
										var t = this.selectionInfoMap._hash;
										for (var n in t) {
											var r;
											if (t.hasOwnProperty(n)) {
												var i = e[n];
												if (Cesium.defined(i)) {
													var o = t[n],
														a =
															null ===
																(r = o[0]) ||
															void 0 === r
																? void 0
																: r.batchId,
														s = o.instanceIds,
														l =
															this.idsOperationMap.get(
																n
															);
													Cesium.defined(l) ||
														(l = {
															batchId: a,
															instanceIds: s,
															operationValue:
																new Cesium.Cartesian4(),
															dirty: !0,
														}),
														(l.dirty = !0),
														(l.operationValue.x =
															(1 &
																l.operationValue
																	.x) |
															i),
														this.idsOperationMap.set(
															n,
															l
														),
														(this.batchTableDirty =
															!0);
												}
											}
										}
									}
								}),
								(l.prototype.createCommand =
									Cesium.DeveloperError.throwInstantiationError),
								(l.prototype.update =
									Cesium.DeveloperError.throwInstantiationError),
								(l.prototype.isDestroyed =
									Cesium.DeveloperError.throwInstantiationError),
								(l.prototype.destroy =
									Cesium.DeveloperError.throwInstantiationError);
							var d = l;
							e.default = d;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(29)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t) {
							"use strict";
							var r = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0);
							var i = (0, (t = r(t)).default)({
								SVC_Vertex: 1,
								SVC_Normal: 2,
								SVC_VertexColor: 4,
								SVC_SecondColor: 8,
								SVC_TexutreCoord: 16,
								SVC_TexutreCoordIsW: 32,
							});
							e.default = i;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(29)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t) {
							"use strict";
							var r = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0);
							var i = (0, (t = r(t)).default)({
								Distance: 0,
								Pixel: 1,
							});
							e.default = i;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t() {
								(this._fillForeColor = new Cesium.Color()),
									(this._lineColor = new Cesium.Color()),
									(this._lineWidth = 1),
									(this._bottomAltitude = 0),
									(this._pointSize = 1),
									(this._pointColor = new Cesium.Color());
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								Object.defineProperties(t.prototype, {
									fillForeColor: {
										get: function () {
											return this._fillForeColor;
										},
										set: function (e) {
											Cesium.Check.typeOf.object(
												"fillForeColor value",
												e
											),
												Cesium.Color.clone(
													e,
													this._fillForeColor
												);
										},
									},
									bottomAltitude: {
										get: function () {
											return this._bottomAltitude;
										},
										set: function (e) {
											Cesium.Check.typeOf.number(
												"bottomAltitude value",
												e
											),
												this._bottomAltitude !== e &&
													((this._bottomAltitude = e),
													(this._dirty = !0));
										},
									},
									altitudeMode: {
										get: function () {
											return this._altitudeMode;
										},
										set: function (e) {
											Cesium.Check.typeOf.number(
												"altitudeMode value",
												e
											),
												(this._altitudeMode = e);
										},
									},
									lineColor: {
										get: function () {
											return this._lineColor;
										},
										set: function (e) {
											Cesium.Check.typeOf.object(
												"line color",
												e
											),
												Cesium.Color.clone(
													e,
													this._lineColor
												);
										},
									},
									lineWidth: {
										get: function () {
											return this._lineWidth;
										},
										set: function (e) {
											Cesium.Check.typeOf.number(
												"line width",
												e
											),
												(this._lineWidth = e);
										},
									},
									pointSize: {
										get: function () {
											return this._pointSize;
										},
										set: function (e) {
											Cesium.Check.typeOf.number(
												"point size",
												e
											),
												(this._pointSize = e);
										},
									},
									pointColor: {
										get: function () {
											return this._pointColor;
										},
										set: function (e) {
											Cesium.Check.typeOf.object(
												"point color",
												e
											),
												Cesium.Color.clone(
													e,
													this._pointColor
												);
										},
									},
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r,
				i,
				o,
				a = n(52),
				s = n(79),
				l = n(42);
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [
					t,
					n(106),
					n(156),
					n(180),
					n(182),
					n(183),
					n(190),
					n(117),
					n(88),
					n(200),
					n(203),
					n(204),
					n(120),
					n(205),
					n(206),
					n(207),
					n(215),
					n(6),
					n(219),
					n(232),
					n(10),
					n(238),
					n(123),
					n(244),
					n(250),
					n(251),
					n(252),
					n(253),
					n(299),
					n(300),
					n(301),
					n(302),
					n(303),
					n(304),
					n(305),
					n(306),
					n(307),
					n(308),
					n(309),
					n(310),
					n(311),
					n(312),
					n(313),
					n(314),
					n(315),
					n(316),
					n(317),
					n(318),
					n(319),
					n(320),
					n(321),
					n(322),
					n(323),
					n(324),
					n(325),
					n(326),
					n(327),
					n(328),
					n(329),
					n(330),
					n(331),
					n(332),
					n(333),
					n(334),
					n(132),
				]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (
							e,
							t,
							r,
							i,
							o,
							u,
							c,
							f,
							h,
							p,
							d,
							y,
							m,
							v,
							g,
							_,
							b,
							x,
							w,
							C,
							T,
							k,
							P,
							E,
							S,
							A,
							M,
							I,
							L,
							D,
							O,
							z,
							R,
							B,
							j,
							F,
							N,
							V,
							U,
							H,
							G,
							q,
							W,
							Z,
							Y,
							K,
							X,
							J,
							Q,
							$,
							ee,
							te,
							ne,
							re,
							ie,
							oe,
							ae,
							se,
							le,
							ue,
							ce,
							fe,
							he,
							pe,
							de
						) {
							"use strict";
							var ye = n(0);
							function me(e) {
								if ("function" != typeof s) return null;
								var t = new s(),
									n = new s();
								return (me = function (e) {
									return e ? n : t;
								})(e);
							}
							function ve(e, t) {
								if (!t && e && e.__esModule) return e;
								if (
									null === e ||
									("object" !== a(e) &&
										"function" != typeof e)
								)
									return { default: e };
								var n = me(t);
								if (n && n.has(e)) return n.get(e);
								var r = {},
									i = Object.defineProperty && l;
								for (var o in e)
									if (
										"default" !== o &&
										Object.prototype.hasOwnProperty.call(
											e,
											o
										)
									) {
										var s = i ? l(e, o) : null;
										s && (s.get || s.set)
											? Object.defineProperty(r, o, s)
											: (r[o] = e[o]);
									}
								return (r.default = e), n && n.set(e, r), r;
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = ye(t)),
								(r = ye(r)),
								(i = ye(i)),
								(o = ye(o)),
								(u = ye(u)),
								(c = ye(c)),
								(f = ye(f)),
								(h = ye(h)),
								(p = ye(p)),
								(d = ye(d)),
								(y = ye(y)),
								(m = ye(m)),
								(v = ye(v)),
								(g = ye(g)),
								(_ = ye(_)),
								(b = ye(b)),
								(x = ye(x)),
								(w = ye(w)),
								(C = ye(C)),
								(k = ye(k)),
								(P = ye(P)),
								(E = ye(E)),
								(S = ye(S)),
								(A = ye(A)),
								(M = ye(M)),
								(I = ye(I)),
								(L = ye(L)),
								(D = ve(D)),
								(O = ve(O)),
								(z = ve(z)),
								(R = ve(R)),
								(B = ve(B)),
								(j = ve(j)),
								(F = ve(F)),
								(N = ve(N)),
								(V = ve(V)),
								(U = ve(U)),
								(H = ve(H)),
								(G = ve(G)),
								(q = ve(q)),
								(W = ve(W)),
								(Z = ve(Z)),
								(Y = ve(Y)),
								(K = ve(K)),
								(X = ve(X)),
								(J = ve(J)),
								(Q = ve(Q)),
								($ = ve($)),
								(ee = ve(ee)),
								(te = ve(te)),
								(ne = ve(ne)),
								(re = ve(re)),
								(ie = ve(ie)),
								(oe = ve(oe)),
								(ae = ve(ae)),
								(se = ve(se)),
								(le = ve(le)),
								(ue = ve(ue)),
								(ce = ve(ce)),
								(fe = ve(fe)),
								(he = ve(he)),
								(pe = ye(pe)),
								(de = ye(de));
							var ge = {
								CoordinatesTransform: t.default,
								JsonConverter: r.default,
								MapPoup: i.default,
								Location: o.default,
								ModelInstanceCollection: f.default,
								ModelInstanceManager: c.default,
								ModelState: h.default,
								TiandituMapsStyle: m.default,
								TiandituImageryProvider: p.default,
								BaiduImageryProvider: d.default,
								ArcGisMapServerImageryProvider: y.default,
								ImageryThemeGL: v.default,
								ImageryFactory: g.default,
								ToolTip: x.default,
								Draw: w.default,
								Measure: C.default,
								Scene: b.default,
								DrawType: T.DrawType,
								FlyRoute: u.default,
								BimHelper: k.default,
								ViewShed: P.default,
								VideoShed3D: E.default,
								SightLine: S.default,
								SkyLine: A.default,
								ProductData: M.default,
								ModelEditUtil: L.default,
								MVTMapManager: I.default,
								GisEyeDiffusionCircleMaterialProperty:
									D.default,
								GisEyeFlowingImageMaterialProperty: O.default,
								GisEyeFlowingImagePolylineMaterialProperty:
									z.default,
								GisEyeGradientColorMaterialProperty: R.default,
								GisEyeFlowingColorLightMaterialProperty:
									B.default,
								GisEyeElectroLightMaterialProperty: j.default,
								GisEyeFlowingStarsLightMaterialProperty:
									F.default,
								GisEyeLightSourceMaterialProperty: N.default,
								GisEyeBlocksFallMaterialProperty: V.default,
								GisEyeBlocksFallLineMaterialProperty: U.default,
								GisEyeLightBandMaterialProperty: G.default,
								GisEyeScanBandMaterialProperty: q.default,
								GisEyeSquareGlowDanceMaterialProperty:
									W.default,
								GisEyeLightRingMaterialProperty: Z.default,
								GisEyeImageLightRingMaterialProperty: Y.default,
								GisEyeLightSpotMaterialProperty: K.default,
								GisEyeStarsBackgroundMaterialProperty:
									X.default,
								GisEyeMoveFlowLightMaterialProperty: J.default,
								GisEyeGradualLightRingMaterialProperty:
									Q.default,
								GisEyeSeawaterMaterialProperty: $.default,
								GisEyeWaterCausticMaterialProperty: ee.default,
								GisEyePureColorLightMaterialProperty:
									te.default,
								GisEyeLightSweepMaterialProperty: ne.default,
								GisEyeSquaresBackgroundMaterialProperty:
									re.default,
								GisEyePulseCircleMaterialProperty: ie.default,
								GisEyeFlowingColorMaterialProperty: oe.default,
								GisEyePolylineTrailMaterialProperty: H.default,
								GisEyeElectroLight2MaterialProperty: ae.default,
								GisEyeLightiningMaterialProperty: se.default,
								GisEyeWindyMaterialProperty: le.default,
								GisEyeMapGISSymbolMaterialProperty: ue.default,
								GisEyeMapGISSymbolFillMaterialProperty:
									ce.default,
								GisEyeMapGISSymbolBasicDrawMaterialProperty:
									fe.default,
								GisEyeDarrowMaterialProperty: he.default,
								install: function (e) {
									(0, D.install)(e),
										(0, O.install)(e),
										(0, z.install)(e),
										(0, R.install)(e),
										(0, B.install)(e),
										(0, j.install)(e),
										(0, F.install)(e),
										(0, N.install)(e),
										(0, V.install)(e),
										(0, U.install)(e),
										(0, G.install)(e),
										(0, q.install)(e),
										(0, W.install)(e),
										(0, Z.install)(e),
										(0, Y.install)(e),
										(0, K.install)(e),
										(0, X.install)(e),
										(0, J.install)(e),
										(0, Q.install)(e),
										(0, $.install)(e),
										(0, ee.install)(e),
										(0, te.install)(e),
										(0, ne.install)(e),
										(0, re.install)(e),
										(0, ie.install)(e),
										(0, oe.install)(e),
										(0, H.install)(e),
										(0, ae.install)(e),
										(0, se.install)(e),
										(0, le.install)(e),
										(0, ue.install)(e),
										(0, ce.install)(e),
										(0, fe.install)(e),
										(0, he.install)(e);
								},
								SupermapImageryProvider: _.default,
								S3MTilesLayer: pe.default,
								Style3D: de.default,
							};
							e.default = ge;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			n(95), n(34), n(139), n(140), (e.exports = n(1).Symbol);
		},
		function (e, t, n) {
			var r = n(39),
				i = n(57),
				o = n(48);
			e.exports = function (e) {
				var t = r(e),
					n = i.f;
				if (n)
					for (var a, s = n(e), l = o.f, u = 0; s.length > u; )
						l.call(e, (a = s[u++])) && t.push(a);
				return t;
			};
		},
		function (e, t, n) {
			var r = n(22),
				i = n(56),
				o = n(137);
			e.exports = function (e) {
				return function (t, n, a) {
					var s,
						l = r(t),
						u = i(l.length),
						c = o(a, u);
					if (e && n != n) {
						for (; u > c; ) if ((s = l[c++]) != s) return !0;
					} else
						for (; u > c; c++)
							if ((e || c in l) && l[c] === n) return e || c || 0;
					return !e && -1;
				};
			};
		},
		function (e, t, n) {
			var r = n(73),
				i = Math.max,
				o = Math.min;
			e.exports = function (e, t) {
				return (e = r(e)) < 0 ? i(e + t, 0) : o(e, t);
			};
		},
		function (e, t, n) {
			var r = n(16),
				i = n(11),
				o = n(39);
			e.exports = n(14)
				? Object.defineProperties
				: function (e, t) {
						i(e);
						for (var n, a = o(t), s = a.length, l = 0; s > l; )
							r.f(e, (n = a[l++]), t[n]);
						return e;
				  };
		},
		function (e, t, n) {
			n(71)("asyncIterator");
		},
		function (e, t, n) {
			n(71)("observable");
		},
		function (e, t, n) {
			n(35), n(26), (e.exports = n(54).f("iterator"));
		},
		function (e, t, n) {
			var r = n(73),
				i = n(55);
			e.exports = function (e) {
				return function (t, n) {
					var o,
						a,
						s = String(i(t)),
						l = r(n),
						u = s.length;
					return l < 0 || l >= u
						? e
							? ""
							: void 0
						: (o = s.charCodeAt(l)) < 55296 ||
						  o > 56319 ||
						  l + 1 === u ||
						  (a = s.charCodeAt(l + 1)) < 56320 ||
						  a > 57343
						? e
							? s.charAt(l)
							: o
						: e
						? s.slice(l, l + 2)
						: a - 56320 + ((o - 55296) << 10) + 65536;
				};
			};
		},
		function (e, t, n) {
			"use strict";
			var r = n(49),
				i = n(44),
				o = n(46),
				a = {};
			n(24)(a, n(7)("iterator"), function () {
				return this;
			}),
				(e.exports = function (e, t, n) {
					(e.prototype = r(a, { next: i(1, n) })),
						o(e, t + " Iterator");
				});
		},
		function (e, t, n) {
			"use strict";
			var r = n(145),
				i = n(101),
				o = n(40),
				a = n(22);
			(e.exports = n(77)(
				Array,
				"Array",
				function (e, t) {
					(this._t = a(e)), (this._i = 0), (this._k = t);
				},
				function () {
					var e = this._t,
						t = this._k,
						n = this._i++;
					return !e || n >= e.length
						? ((this._t = void 0), i(1))
						: i(
								0,
								"keys" == t
									? n
									: "values" == t
									? e[n]
									: [n, e[n]]
						  );
				},
				"values"
			)),
				(o.Arguments = o.Array),
				r("keys"),
				r("values"),
				r("entries");
		},
		function (e, t) {
			e.exports = function () {};
		},
		function (e, t, n) {
			n(34), n(26), n(147), n(150), n(151), (e.exports = n(1).WeakMap);
		},
		function (e, t, n) {
			"use strict";
			var r,
				i = n(4),
				o = n(80)(0),
				a = n(69),
				s = n(25),
				l = n(102),
				u = n(103),
				c = n(3),
				f = n(36),
				h = n(36),
				p = !i.ActiveXObject && "ActiveXObject" in i,
				d = s.getWeak,
				y = Object.isExtensible,
				m = u.ufstore,
				v = function (e) {
					return function () {
						return e(
							this,
							arguments.length > 0 ? arguments[0] : void 0
						);
					};
				},
				g = {
					get: function (e) {
						if (c(e)) {
							var t = d(e);
							return !0 === t
								? m(f(this, "WeakMap")).get(e)
								: t
								? t[this._i]
								: void 0;
						}
					},
					set: function (e, t) {
						return u.def(f(this, "WeakMap"), e, t);
					},
				},
				_ = (e.exports = n(61)("WeakMap", v, g, u, !0, !0));
			h &&
				p &&
				(l((r = u.getConstructor(v, "WeakMap")).prototype, g),
				(s.NEED = !0),
				o(["delete", "has", "get", "set"], function (e) {
					var t = _.prototype,
						n = t[e];
					a(t, e, function (t, i) {
						if (c(t) && !y(t)) {
							this._f || (this._f = new r());
							var o = this._f[e](t, i);
							return "set" == e ? this : o;
						}
						return n.call(this, t, i);
					});
				}));
		},
		function (e, t, n) {
			var r = n(149);
			e.exports = function (e, t) {
				return new (r(e))(t);
			};
		},
		function (e, t, n) {
			var r = n(3),
				i = n(98),
				o = n(7)("species");
			e.exports = function (e) {
				var t;
				return (
					i(e) &&
						("function" != typeof (t = e.constructor) ||
							(t !== Array && !i(t.prototype)) ||
							(t = void 0),
						r(t) && null === (t = t[o]) && (t = void 0)),
					void 0 === t ? Array : t
				);
			};
		},
		function (e, t, n) {
			n(62)("WeakMap");
		},
		function (e, t, n) {
			n(63)("WeakMap");
		},
		function (e, t, n) {
			n(153);
			var r = n(1).Object;
			e.exports = function (e, t) {
				return r.getOwnPropertyDescriptor(e, t);
			};
		},
		function (e, t, n) {
			var r = n(22),
				i = n(50).f;
			n(17)("getOwnPropertyDescriptor", function () {
				return function (e, t) {
					return i(r(e), t);
				};
			});
		},
		function (e, t, n) {
			n(155), (e.exports = n(1).Number.isNaN);
		},
		function (e, t, n) {
			var r = n(2);
			r(r.S, "Number", {
				isNaN: function (e) {
					return e != e;
				},
			});
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [
					t,
					n(83),
					n(37),
					n(85),
					n(5),
					n(27),
					n(28),
					n(64),
					n(178),
					n(179),
					n(12),
				]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a, s, l, u, c, f) {
							"use strict";
							var h = n(0);
							function p(e) {
								var t = this;
								(this._json = Cesium.defaultValue(
									e.json,
									void 0
								)),
									(this.translate = Cesium.defaultValue(
										e.translate,
										!1
									)),
									(this._readyPromise = (0, f.defer)());
								var n = this._json;
								this._json instanceof Cesium.Resource
									? (n = this._json)
									: "string" == typeof this._json &&
									  (n = Cesium.Resource.fetchJson({
											url: this._json,
									  })),
									o.default.resolve(n).then(function (e) {
										(t._json = e),
											t._readyPromise.resolve(t);
									});
							}
							function d(e) {
								if (!e.geometry)
									throw new Error(
										"传入数据必须要有geometry属性"
									);
								var t;
								if (Cesium.defined(e.geometry.coordinates))
									return e;
								if (!(t = (0, u.arcgisToGeoJSON)(e)))
									throw new Error(
										"传入的数据不符合数据规范，必须为geojson或者esrijson格式的单要素"
									);
								return t;
							}
							function y(e, t, n, r) {
								var i = {};
								if (
									((i.properties = t.properties),
									(0, a.default)(i, n),
									e instanceof Cesium.Cartesian3)
								)
									n.position &&
									"function" == typeof n.position
										? (i.position = n.position(e))
										: (i.position = e);
								else if (e instanceof Array)
									i.polyline && (i.polyline.positions = e),
										i.polylineVolume &&
											(i.polylineVolume.positions = e),
										i.wall && (i.wall.positions = e),
										(n.label ||
											n.billboard ||
											n.point ||
											n.box ||
											n.cylinder) &&
											(i.position =
												e[Math.round(e.length / 2)]);
								else if (e instanceof Cesium.PolygonHierarchy) {
									if (
										(n.polygon &&
											(i.polygon ||
												(i.polygon =
													new Cesium.PolygonGraphics()),
											(i.polygon.hierarchy = e)),
										n.polyline && i.polyline)
									) {
										var o = Cesium.clone(e.positions, !0);
										o.push(o[0]),
											(i.polyline.positions = o);
									}
									(n.label ||
										n.billboard ||
										n.point ||
										n.box ||
										n.cylinder) &&
										(i.position =
											Cesium.BoundingSphere.fromPoints(
												e.positions
											).center);
								}
								r.entities.add(i);
							}
							function m(e, t, n) {
								var r, i, o, s, l;
								if (e instanceof Cesium.Cartesian3)
									n.billboard &&
										((r = (function (e, t) {
											var n = {};
											return (
												(n.position = e),
												(0, a.default)(n, t),
												n
											);
										})(e, n.billboard)).id = t.properties),
										n.label &&
											((i = (function (e, t) {
												var n = {};
												return (
													(n.position = e),
													(0, a.default)(n, t),
													n
												);
											})(e, n.label)).id = t.properties),
										n.point &&
											((o = (function (e, t) {
												var n = { position: e };
												return (0, a.default)(n, t), n;
											})(e, n.point)).id = t.properties);
								else if (e instanceof Array) {
									var u = m(
										e[Math.round(e.length / 2)],
										t,
										n
									);
									u.label && (i = u.label),
										u.point && (o = u.point),
										u.billboard && (r = u.billboard),
										n.polyline &&
											((s = (function (e, t) {
												var n = {
													positions: e,
													width: t.width,
												};
												n = new Cesium.PolylineGeometry(
													n
												);
												var r = {};
												return (
													t.distanceDisplayCondition &&
														(r.distanceDisplayCondition =
															Cesium.DistanceDisplayConditionGeometryInstanceAttribute.fromDistanceDisplayCondition(
																t.distanceDisplayCondition
															)),
													t.show &&
														(r.show =
															new Cesium.ShowGeometryInstanceAttribute(
																t.show
															)),
													new Cesium.GeometryInstance(
														{
															geometry: n,
															attributes: r,
														}
													)
												);
											})(e, n.polyline)).id =
												t.properties);
								} else if (
									e instanceof Cesium.PolygonHierarchy
								) {
									if (n.polyline && 0 === e.holes.length) {
										var c = e.positions.slice(0);
										c.push(e.positions[0]);
										var f = m(c, t, n);
										f.label && (i = f.label),
											f.point && (o = f.point),
											f.billboard && (r = f.billboard),
											f.polyline && (s = f.polyline);
									} else {
										var h = m(
											Cesium.BoundingSphere.fromPoints(
												e.positions
											).center,
											t,
											n
										);
										h.label && (i = h.label),
											h.point && (o = h.point),
											h.billboard && (r = h.billboard);
									}
									if (n.polygon) {
										var p,
											d = {
												polygonHierarchy: e,
												height: n.polygon.height,
												extrudedHeight:
													n.polygon.extrudedHeight,
												stRotation:
													n.polygon.stRotation,
												closeTop: n.polygon.closeTop,
												closeBottom:
													n.polygon.closeBottom,
												arcType: n.polygon.arcType,
												perPositionHeight:
													n.polygon.perPositionHeight,
											},
											y = Cesium,
											v = y.defined,
											g = y.CoplanarPolygonGeometry,
											_ = y.PolygonGeometry;
										p =
											d.perPositionHeight &&
											!v(d.extrudedHeight)
												? new g(d)
												: new _(d);
										var b = {};
										n.polygon.distanceDisplayCondition &&
											(b.distanceDisplayCondition =
												Cesium.DistanceDisplayConditionGeometryInstanceAttribute.fromDistanceDisplayCondition(
													n.polygon
														.distanceDisplayCondition
												)),
											n.polygon.show &&
												(b.show =
													new Cesium.ShowGeometryInstanceAttribute(
														n.polygon.show
													)),
											(l = new Cesium.GeometryInstance({
												geometry: p,
												id: t.properties,
												attributes: b,
											})),
											n.polygon.outline;
									}
								}
								return {
									billboard: r,
									label: i,
									point: o,
									polyline: s,
									polygon: l,
								};
							}
							function v(e) {
								var t = null == e ? void 0 : e.material;
								return (
									t ||
										(t = Cesium.Material.fromType("Color", {
											color: Cesium.Color.fromCssColorString(
												"#ffffff"
											),
										})),
									"string" == typeof t
										? (t = Cesium.Material.fromType(
												"Color",
												{
													color: Cesium.Color.fromCssColorString(
														t
													),
												}
										  ))
										: t instanceof Cesium.Color &&
										  (t = Cesium.Material.fromType(
												"Color",
												{ color: t }
										  )),
									t
								);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = h(t)),
								(r = h(r)),
								(i = h(i)),
								(o = h(o)),
								(a = h(a)),
								(s = h(s)),
								(l = h(l)),
								Object.defineProperties(p.prototype, {
									readyPromise: {
										get: function () {
											return this._readyPromise;
										},
									},
								}),
								(p.getPositions = function (e) {
									var t =
											arguments.length > 1 &&
											void 0 !== arguments[1] &&
											arguments[1],
										n =
											arguments.length > 2
												? arguments[2]
												: void 0;
									return (
										(e = d(e)),
										(0, c.processFeature)(
											e,
											function (e, r) {
												return t
													? Cesium.Cartesian3.fromDegrees(
															e[0],
															e[1],
															e[2]
													  )
													: n
													? n instanceof Array
														? ((i =
																r > n.length
																	? n[
																			n.length -
																				1
																	  ]
																	: n[r]),
														  Cesium.Cartesian3.fromDegrees(
																e[0],
																e[1],
																i
														  ))
														: "number" == typeof n
														? Cesium.Cartesian3.fromDegrees(
																e[0],
																e[1],
																n
														  )
														: Cesium.Cartesian3.fromDegrees(
																e[0],
																e[1],
																e[2]
														  )
													: Cesium.Cartesian3.fromDegrees(
															e[0],
															e[1]
													  );
												var i;
											}
										)
									);
								}),
								(p.prototype.getDataSource = (function () {
									var e = (0, i.default)(
										t.default.mark(function e(n, i, o) {
											var s, l, u;
											return t.default.wrap(
												function (e) {
													for (;;)
														switch (
															(e.prev = e.next)
														) {
															case 0:
																if (
																	this._json
																) {
																	e.next = 2;
																	break;
																}
																throw new Error(
																	"未初始化json数据"
																);
															case 2:
																return (
																	(e.next = 4),
																	this
																		.readyPromise
																		.promise
																);
															case 4:
																if (
																	!(s =
																		this
																			._json
																			.features)
																) {
																	e.next = 9;
																	break;
																}
																if (
																	((u =
																		(function () {
																			for (
																				var e =
																						new Cesium.CustomDataSource(
																							null !=
																							n
																								? n
																								: Cesium.createGuid()
																						),
																					t =
																						s.length,
																					r = 0,
																					u =
																						function () {
																							var t =
																								s[
																									r
																								];
																							if (
																								!(t =
																									d(
																										t
																									))
																							)
																								return (
																									r++,
																									"continue"
																								);
																							if (
																								i &&
																								!i(
																									t
																								)
																							)
																								return (
																									r++,
																									"continue"
																								);
																							var n =
																								{};
																							if (
																								(o
																									? "function" ==
																									  typeof o
																										? (n =
																												o(
																													t,
																													r
																												))
																										: (0,
																										  a.default)(
																												n,
																												o
																										  )
																									: (n =
																											{
																												usePerPositionHeight:
																													!1,
																											}),
																								(l =
																									p.getPositions(
																										t,
																										n.usePerPositionHeight,
																										n.height
																									)))
																							)
																								switch (
																									t
																										.geometry
																										.type
																								) {
																									case c
																										.featureType
																										.Point:
																									case c
																										.featureType
																										.Polygon:
																									case c
																										.featureType
																										.LineString:
																										y(
																											l,
																											t,
																											n,
																											e
																										);
																										break;
																									case c
																										.featureType
																										.MultiPoint:
																									case c
																										.featureType
																										.MultiLineString:
																									case c
																										.featureType
																										.MultiPolygon:
																										l.forEach(
																											function (
																												r
																											) {
																												y(
																													r,
																													t,
																													n,
																													e
																												);
																											}
																										);
																								}
																							r++;
																						};
																				r <
																				t;

																			)
																				u();
																			return {
																				v: e,
																			};
																		})()),
																	"object" !==
																		(0,
																		r.default)(
																			u
																		))
																) {
																	e.next = 9;
																	break;
																}
																return e.abrupt(
																	"return",
																	u.v
																);
															case 9:
																throw new Error(
																	"传入的数据不符合数据geojson或者esrijson的规范"
																);
															case 10:
															case "end":
																return e.stop();
														}
												},
												e,
												this
											);
										})
									);
									return function (t, n, r) {
										return e.apply(this, arguments);
									};
								})()),
								(p.prototype.getCollection = (function () {
									var e = (0, i.default)(
										t.default.mark(function e(n, i, o) {
											var u, f, h;
											return t.default.wrap(
												function (e) {
													for (;;)
														switch (
															(e.prev = e.next)
														) {
															case 0:
																if (
																	this._json
																) {
																	e.next = 2;
																	break;
																}
																throw new Error(
																	"未初始化json数据"
																);
															case 2:
																return (
																	(e.next = 4),
																	this
																		.readyPromise
																		.promise
																);
															case 4:
																if (
																	!(u =
																		this
																			._json
																			.features)
																) {
																	e.next = 9;
																	break;
																}
																if (
																	((h =
																		(function () {
																			for (
																				var e =
																						{
																							type: "FeatureCollection",
																							features:
																								[],
																						},
																					t =
																						new Cesium.PrimitiveCollection(),
																					r =
																						new Cesium.LabelCollection(
																							{
																								scene: i,
																							}
																						),
																					h =
																						new Cesium.BillboardCollection(
																							{
																								scene: i,
																							}
																						),
																					y =
																						new Cesium.PrimitiveCollection(),
																					g =
																						new Cesium.PointPrimitiveCollection(),
																					_ =
																						new Cesium.PrimitiveCollection(),
																					b =
																						u.length,
																					x = 0,
																					w =
																						[],
																					C =
																						{},
																					T =
																						{},
																					k =
																						function () {
																							var t =
																								u[
																									x
																								];
																							if (
																								((t =
																									d(
																										t
																									)),
																								e.features.push(
																									t
																								),
																								!t)
																							)
																								return "continue";
																							if (
																								o &&
																								!o(
																									t,
																									x
																								)
																							)
																								return (
																									x++,
																									"continue"
																								);
																							var i =
																								{};
																							if (
																								(n
																									? "function" ==
																									  typeof n
																										? (i =
																												n(
																													t,
																													x
																												))
																										: (0,
																										  a.default)(
																												i,
																												n
																										  )
																									: (i =
																											{
																												usePerPositionHeight:
																													!1,
																											}),
																								(f =
																									p.getPositions(
																										t,
																										i.usePerPositionHeight,
																										i.height
																									)))
																							)
																								switch (
																									t
																										.geometry
																										.type
																								) {
																									case c
																										.featureType
																										.Point:
																									case c
																										.featureType
																										.Polygon:
																									case c
																										.featureType
																										.LineString:
																										var s;
																										(s =
																											f instanceof
																											Cesium.PolygonHierarchy
																												? Cesium.BoundingSphere.fromPoints(
																														f.positions
																												  )
																												: Array.isArray(
																														f
																												  )
																												? Cesium.BoundingSphere.fromPoints(
																														f
																												  )
																												: Cesium.BoundingSphere.fromPoints(
																														[
																															f,
																														]
																												  )) &&
																											w.push(
																												s
																											);
																										var y =
																											m(
																												f,
																												t,
																												i
																											);
																										if (
																											y &&
																											(y.billboard &&
																												h.add(
																													y.billboard
																												),
																											y.label &&
																												r.add(
																													y.label
																												),
																											y.point &&
																												g.add(
																													y.point
																												),
																											y.polygon ||
																												y.polyline)
																										) {
																											if (
																												y.polygon
																											) {
																												var _ =
																														v(
																															i.polygon
																														),
																													b =
																														_.type +
																														(0,
																														l.default)(
																															_.uniforms
																														);
																												C[
																													b
																												]
																													? C[
																															b
																													  ].collection.push(
																															y.polygon
																													  )
																													: (C[
																															b
																													  ] =
																															{
																																material:
																																	_,
																																collection:
																																	[
																																		y.polygon,
																																	],
																															});
																											}
																											if (
																												y.polyline
																											) {
																												var k =
																														v(
																															i.polyline
																														),
																													P =
																														k.type +
																														(0,
																														l.default)(
																															k.uniforms
																														);
																												T[
																													P
																												]
																													? T[
																															P
																													  ].collection.push(
																															y.polyline
																													  )
																													: (T[
																															P
																													  ] =
																															{
																																material:
																																	k,
																																collection:
																																	[
																																		y.polyline,
																																	],
																															});
																											}
																										}
																										break;
																									case c
																										.featureType
																										.MultiPoint:
																									case c
																										.featureType
																										.MultiLineString:
																									case c
																										.featureType
																										.MultiPolygon:
																										f.forEach(
																											function (
																												e
																											) {
																												var n;
																												(n =
																													e instanceof
																													Cesium.PolygonHierarchy
																														? Cesium.BoundingSphere.fromPoints(
																																e.positions
																														  )
																														: Array.isArray(
																																e
																														  )
																														? Cesium.BoundingSphere.fromPoints(
																																e
																														  )
																														: Cesium.BoundingSphere.fromPoints(
																																[
																																	e,
																																]
																														  )) &&
																													w.push(
																														n
																													);
																												var o =
																													m(
																														e,
																														t,
																														i
																													);
																												if (
																													o &&
																													(o.billboard &&
																														h.add(
																															o.billboard
																														),
																													o.label &&
																														r.add(
																															o.label
																														),
																													o.point &&
																														g.add(
																															o.point
																														),
																													o.polygon ||
																														o.polyline)
																												) {
																													if (
																														o.polygon
																													) {
																														var a =
																																v(
																																	i.polygon
																																),
																															s =
																																a.type +
																																(0,
																																l.default)(
																																	a.uniforms
																																);
																														C[
																															s
																														]
																															? C[
																																	s
																															  ].collection.push(
																																	o.polygon
																															  )
																															: (C[
																																	s
																															  ] =
																																	{
																																		material:
																																			a,
																																		collection:
																																			[
																																				o.polygon,
																																			],
																																	});
																													}
																													if (
																														o.polyline
																													) {
																														var u =
																																v(
																																	i.polyline
																																),
																															c =
																																u.type +
																																(0,
																																l.default)(
																																	u.uniforms
																																);
																														T[
																															c
																														]
																															? T[
																																	c
																															  ].collection.push(
																																	o.polyline
																															  )
																															: (T[
																																	c
																															  ] =
																																	{
																																		material:
																																			u,
																																		collection:
																																			[
																																				o.polyline,
																																			],
																																	});
																													}
																												}
																											}
																										);
																								}
																							x++;
																						};
																				x <
																				b;

																			)
																				k();
																			if (
																				(r.length >
																					0 &&
																					t.add(
																						r
																					),
																				h.length >
																					0 &&
																					t.add(
																						h
																					),
																				(0,
																				s.default)(
																					T
																				)
																					.length >
																					0)
																			)
																				for (var P in T)
																					if (
																						Object.hasOwnProperty.call(
																							T,
																							P
																						)
																					) {
																						var E =
																							T[
																								P
																							];
																						y.add(
																							new Cesium.Primitive(
																								{
																									geometryInstances:
																										E.collection,
																									appearance:
																										E.material instanceof
																										Cesium.Material
																											? new Cesium.PolylineMaterialAppearance(
																													{
																														material:
																															E.material,
																													}
																											  )
																											: new Cesium.PolylineColorAppearance(
																													{
																														material:
																															E.material,
																													}
																											  ),
																								}
																							)
																						),
																							y.length >
																								0 &&
																								t.add(
																									y
																								);
																					}
																			if (
																				(g.length >
																					0 &&
																					t.add(
																						g
																					),
																				(0,
																				s.default)(
																					C
																				)
																					.length >
																					0)
																			)
																				for (var S in C)
																					if (
																						Object.hasOwnProperty.call(
																							C,
																							S
																						)
																					) {
																						var A =
																							C[
																								S
																							];
																						_.add(
																							new Cesium.Primitive(
																								{
																									geometryInstances:
																										A.collection,
																									appearance:
																										new Cesium.EllipsoidSurfaceAppearance(
																											{
																												material:
																													A.material,
																											}
																										),
																								}
																							)
																						),
																							_.length >
																								0 &&
																								t.add(
																									_
																								);
																					}
																			var M =
																				Cesium.BoundingSphere.fromBoundingSpheres(
																					w
																				);
																			return (
																				(t.boudingshphere =
																					M),
																				(C =
																					void 0),
																				(T =
																					void 0),
																				{
																					v: [
																						t,
																						M,
																					],
																				}
																			);
																		})()),
																	"object" !==
																		(0,
																		r.default)(
																			h
																		))
																) {
																	e.next = 9;
																	break;
																}
																return e.abrupt(
																	"return",
																	h.v
																);
															case 9:
																throw new Error(
																	"传入的数据不符合数据geojson或者esrijson的规范"
																);
															case 10:
															case "end":
																return e.stop();
														}
												},
												e,
												this
											);
										})
									);
									return function (t, n, r) {
										return e.apply(this, arguments);
									};
								})()),
								(p.prototype.getFeatures = (function () {
									var e = (0, i.default)(
										t.default.mark(function e(n) {
											var r, i, o, a, s;
											return t.default.wrap(
												function (e) {
													for (;;)
														switch (
															(e.prev = e.next)
														) {
															case 0:
																return (
																	(e.next = 2),
																	this
																		.readyPromise
																		.promise
																);
															case 2:
																if (
																	this._json
																) {
																	e.next = 4;
																	break;
																}
																throw new Error(
																	"未初始化json数据"
																);
															case 4:
																if (
																	((r =
																		this
																			._json
																			.features),
																	(i =
																		r.length),
																	(o = 0),
																	(a = []),
																	!n ||
																		"function" !=
																			typeof n)
																) {
																	e.next = 13;
																	break;
																}
																for (; o < i; )
																	(s =
																		r[o]) &&
																		n(s) &&
																		a.push(
																			s
																		),
																		o++;
																return e.abrupt(
																	"return",
																	a
																);
															case 13:
																return e.abrupt(
																	"return",
																	r
																);
															case 14:
															case "end":
																return e.stop();
														}
												},
												e,
												this
											);
										})
									);
									return function (t) {
										return e.apply(this, arguments);
									};
								})());
							var g = p;
							e.default = g;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r = n(52).default,
				i = n(30),
				o = n(31),
				a = n(93),
				s = n(51),
				l = n(38),
				u = n(5);
			function c() {
				"use strict";
				/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ (e.exports =
					c =
						function () {
							return t;
						}),
					(e.exports.__esModule = !0),
					(e.exports.default = e.exports);
				var t = {},
					n = Object.prototype,
					f = n.hasOwnProperty,
					h = "function" == typeof i ? i : {},
					p = h.iterator || "@@iterator",
					d = h.asyncIterator || "@@asyncIterator",
					y = h.toStringTag || "@@toStringTag";
				function m(e, t, n) {
					return (
						o(e, t, {
							value: n,
							enumerable: !0,
							configurable: !0,
							writable: !0,
						}),
						e[t]
					);
				}
				try {
					m({}, "");
				} catch (e) {
					m = function (e, t, n) {
						return (e[t] = n);
					};
				}
				function v(e, t, n, r) {
					var i = t && t.prototype instanceof b ? t : b,
						o = a(i.prototype),
						s = new I(r || []);
					return (
						(o._invoke = (function (e, t, n) {
							var r = "suspendedStart";
							return function (i, o) {
								if ("executing" === r)
									throw new Error(
										"Generator is already running"
									);
								if ("completed" === r) {
									if ("throw" === i) throw o;
									return D();
								}
								for (n.method = i, n.arg = o; ; ) {
									var a = n.delegate;
									if (a) {
										var s = S(a, n);
										if (s) {
											if (s === _) continue;
											return s;
										}
									}
									if ("next" === n.method)
										n.sent = n._sent = n.arg;
									else if ("throw" === n.method) {
										if ("suspendedStart" === r)
											throw ((r = "completed"), n.arg);
										n.dispatchException(n.arg);
									} else
										"return" === n.method &&
											n.abrupt("return", n.arg);
									r = "executing";
									var l = g(e, t, n);
									if ("normal" === l.type) {
										if (
											((r = n.done
												? "completed"
												: "suspendedYield"),
											l.arg === _)
										)
											continue;
										return { value: l.arg, done: n.done };
									}
									"throw" === l.type &&
										((r = "completed"),
										(n.method = "throw"),
										(n.arg = l.arg));
								}
							};
						})(e, n, s)),
						o
					);
				}
				function g(e, t, n) {
					try {
						return { type: "normal", arg: e.call(t, n) };
					} catch (e) {
						return { type: "throw", arg: e };
					}
				}
				t.wrap = v;
				var _ = {};
				function b() {}
				function x() {}
				function w() {}
				var C = {};
				m(C, p, function () {
					return this;
				});
				var T = s && s(s(L([])));
				T && T !== n && f.call(T, p) && (C = T);
				var k = (w.prototype = b.prototype = a(C));
				function P(e) {
					["next", "throw", "return"].forEach(function (t) {
						m(e, t, function (e) {
							return this._invoke(t, e);
						});
					});
				}
				function E(e, t) {
					var n;
					this._invoke = function (i, o) {
						function a() {
							return new t(function (n, a) {
								!(function n(i, o, a, s) {
									var l = g(e[i], e, o);
									if ("throw" !== l.type) {
										var u = l.arg,
											c = u.value;
										return c &&
											"object" == r(c) &&
											f.call(c, "__await")
											? t.resolve(c.__await).then(
													function (e) {
														n("next", e, a, s);
													},
													function (e) {
														n("throw", e, a, s);
													}
											  )
											: t.resolve(c).then(
													function (e) {
														(u.value = e), a(u);
													},
													function (e) {
														return n(
															"throw",
															e,
															a,
															s
														);
													}
											  );
									}
									s(l.arg);
								})(i, o, n, a);
							});
						}
						return (n = n ? n.then(a, a) : a());
					};
				}
				function S(e, t) {
					var n = e.iterator[t.method];
					if (void 0 === n) {
						if (((t.delegate = null), "throw" === t.method)) {
							if (
								e.iterator.return &&
								((t.method = "return"),
								(t.arg = void 0),
								S(e, t),
								"throw" === t.method)
							)
								return _;
							(t.method = "throw"),
								(t.arg = new TypeError(
									"The iterator does not provide a 'throw' method"
								));
						}
						return _;
					}
					var r = g(n, e.iterator, t.arg);
					if ("throw" === r.type)
						return (
							(t.method = "throw"),
							(t.arg = r.arg),
							(t.delegate = null),
							_
						);
					var i = r.arg;
					return i
						? i.done
							? ((t[e.resultName] = i.value),
							  (t.next = e.nextLoc),
							  "return" !== t.method &&
									((t.method = "next"), (t.arg = void 0)),
							  (t.delegate = null),
							  _)
							: i
						: ((t.method = "throw"),
						  (t.arg = new TypeError(
								"iterator result is not an object"
						  )),
						  (t.delegate = null),
						  _);
				}
				function A(e) {
					var t = { tryLoc: e[0] };
					1 in e && (t.catchLoc = e[1]),
						2 in e && ((t.finallyLoc = e[2]), (t.afterLoc = e[3])),
						this.tryEntries.push(t);
				}
				function M(e) {
					var t = e.completion || {};
					(t.type = "normal"), delete t.arg, (e.completion = t);
				}
				function I(e) {
					(this.tryEntries = [{ tryLoc: "root" }]),
						e.forEach(A, this),
						this.reset(!0);
				}
				function L(e) {
					if (e) {
						var t = e[p];
						if (t) return t.call(e);
						if ("function" == typeof e.next) return e;
						if (!isNaN(e.length)) {
							var n = -1,
								r = function t() {
									for (; ++n < e.length; )
										if (f.call(e, n))
											return (
												(t.value = e[n]),
												(t.done = !1),
												t
											);
									return (t.value = void 0), (t.done = !0), t;
								};
							return (r.next = r);
						}
					}
					return { next: D };
				}
				function D() {
					return { value: void 0, done: !0 };
				}
				return (
					(x.prototype = w),
					m(k, "constructor", w),
					m(w, "constructor", x),
					(x.displayName = m(w, y, "GeneratorFunction")),
					(t.isGeneratorFunction = function (e) {
						var t = "function" == typeof e && e.constructor;
						return (
							!!t &&
							(t === x ||
								"GeneratorFunction" ===
									(t.displayName || t.name))
						);
					}),
					(t.mark = function (e) {
						return (
							l
								? l(e, w)
								: ((e.__proto__ = w),
								  m(e, y, "GeneratorFunction")),
							(e.prototype = a(k)),
							e
						);
					}),
					(t.awrap = function (e) {
						return { __await: e };
					}),
					P(E.prototype),
					m(E.prototype, d, function () {
						return this;
					}),
					(t.AsyncIterator = E),
					(t.async = function (e, n, r, i, o) {
						void 0 === o && (o = u);
						var a = new E(v(e, n, r, i), o);
						return t.isGeneratorFunction(n)
							? a
							: a.next().then(function (e) {
									return e.done ? e.value : a.next();
							  });
					}),
					P(k),
					m(k, y, "Generator"),
					m(k, p, function () {
						return this;
					}),
					m(k, "toString", function () {
						return "[object Generator]";
					}),
					(t.keys = function (e) {
						var t = [];
						for (var n in e) t.push(n);
						return (
							t.reverse(),
							function n() {
								for (; t.length; ) {
									var r = t.pop();
									if (r in e)
										return (n.value = r), (n.done = !1), n;
								}
								return (n.done = !0), n;
							}
						);
					}),
					(t.values = L),
					(I.prototype = {
						constructor: I,
						reset: function (e) {
							if (
								((this.prev = 0),
								(this.next = 0),
								(this.sent = this._sent = void 0),
								(this.done = !1),
								(this.delegate = null),
								(this.method = "next"),
								(this.arg = void 0),
								this.tryEntries.forEach(M),
								!e)
							)
								for (var t in this)
									"t" === t.charAt(0) &&
										f.call(this, t) &&
										!isNaN(+t.slice(1)) &&
										(this[t] = void 0);
						},
						stop: function () {
							this.done = !0;
							var e = this.tryEntries[0].completion;
							if ("throw" === e.type) throw e.arg;
							return this.rval;
						},
						dispatchException: function (e) {
							if (this.done) throw e;
							var t = this;
							function n(n, r) {
								return (
									(o.type = "throw"),
									(o.arg = e),
									(t.next = n),
									r &&
										((t.method = "next"), (t.arg = void 0)),
									!!r
								);
							}
							for (
								var r = this.tryEntries.length - 1;
								r >= 0;
								--r
							) {
								var i = this.tryEntries[r],
									o = i.completion;
								if ("root" === i.tryLoc) return n("end");
								if (i.tryLoc <= this.prev) {
									var a = f.call(i, "catchLoc"),
										s = f.call(i, "finallyLoc");
									if (a && s) {
										if (this.prev < i.catchLoc)
											return n(i.catchLoc, !0);
										if (this.prev < i.finallyLoc)
											return n(i.finallyLoc);
									} else if (a) {
										if (this.prev < i.catchLoc)
											return n(i.catchLoc, !0);
									} else {
										if (!s)
											throw new Error(
												"try statement without catch or finally"
											);
										if (this.prev < i.finallyLoc)
											return n(i.finallyLoc);
									}
								}
							}
						},
						abrupt: function (e, t) {
							for (
								var n = this.tryEntries.length - 1;
								n >= 0;
								--n
							) {
								var r = this.tryEntries[n];
								if (
									r.tryLoc <= this.prev &&
									f.call(r, "finallyLoc") &&
									this.prev < r.finallyLoc
								) {
									var i = r;
									break;
								}
							}
							i &&
								("break" === e || "continue" === e) &&
								i.tryLoc <= t &&
								t <= i.finallyLoc &&
								(i = null);
							var o = i ? i.completion : {};
							return (
								(o.type = e),
								(o.arg = t),
								i
									? ((this.method = "next"),
									  (this.next = i.finallyLoc),
									  _)
									: this.complete(o)
							);
						},
						complete: function (e, t) {
							if ("throw" === e.type) throw e.arg;
							return (
								"break" === e.type || "continue" === e.type
									? (this.next = e.arg)
									: "return" === e.type
									? ((this.rval = this.arg = e.arg),
									  (this.method = "return"),
									  (this.next = "end"))
									: "normal" === e.type &&
									  t &&
									  (this.next = t),
								_
							);
						},
						finish: function (e) {
							for (
								var t = this.tryEntries.length - 1;
								t >= 0;
								--t
							) {
								var n = this.tryEntries[t];
								if (n.finallyLoc === e)
									return (
										this.complete(n.completion, n.afterLoc),
										M(n),
										_
									);
							}
						},
						catch: function (e) {
							for (
								var t = this.tryEntries.length - 1;
								t >= 0;
								--t
							) {
								var n = this.tryEntries[t];
								if (n.tryLoc === e) {
									var r = n.completion;
									if ("throw" === r.type) {
										var i = r.arg;
										M(n);
									}
									return i;
								}
							}
							throw new Error("illegal catch attempt");
						},
						delegateYield: function (e, t, n) {
							return (
								(this.delegate = {
									iterator: L(e),
									resultName: t,
									nextLoc: n,
								}),
								"next" === this.method && (this.arg = void 0),
								_
							);
						},
					}),
					t
				);
			}
			(e.exports = c),
				(e.exports.__esModule = !0),
				(e.exports.default = e.exports);
		},
		function (e, t, n) {
			n(159);
			var r = n(1).Object;
			e.exports = function (e, t, n) {
				return r.defineProperty(e, t, n);
			};
		},
		function (e, t, n) {
			var r = n(2);
			r(r.S + r.F * !n(14), "Object", { defineProperty: n(16).f });
		},
		function (e, t, n) {
			n(161);
			var r = n(1).Object;
			e.exports = function (e, t) {
				return r.create(e, t);
			};
		},
		function (e, t, n) {
			var r = n(2);
			r(r.S, "Object", { create: n(49) });
		},
		function (e, t, n) {
			n(163), (e.exports = n(1).Object.getPrototypeOf);
		},
		function (e, t, n) {
			var r = n(33),
				i = n(78);
			n(17)("getPrototypeOf", function () {
				return function (e) {
					return i(r(e));
				};
			});
		},
		function (e, t, n) {
			n(165), (e.exports = n(1).Object.setPrototypeOf);
		},
		function (e, t, n) {
			var r = n(2);
			r(r.S, "Object", { setPrototypeOf: n(166).set });
		},
		function (e, t, n) {
			var r = n(3),
				i = n(11),
				o = function (e, t) {
					if ((i(e), !r(t) && null !== t))
						throw TypeError(t + ": can't set as prototype!");
				};
			e.exports = {
				set:
					Object.setPrototypeOf ||
					("__proto__" in {}
						? (function (e, t, r) {
								try {
									(r = n(21)(
										Function.call,
										n(50).f(Object.prototype, "__proto__")
											.set,
										2
									))(e, []),
										(t = !(e instanceof Array));
								} catch (e) {
									t = !0;
								}
								return function (e, n) {
									return (
										o(e, n),
										t ? (e.__proto__ = n) : r(e, n),
										e
									);
								};
						  })({}, !1)
						: void 0),
				check: o,
			};
		},
		function (e, t, n) {
			n(34),
				n(35),
				n(26),
				n(168),
				n(171),
				n(172),
				(e.exports = n(1).Promise);
		},
		function (e, t, n) {
			"use strict";
			var r,
				i,
				o,
				a,
				s = n(45),
				l = n(4),
				u = n(21),
				c = n(60),
				f = n(2),
				h = n(3),
				p = n(32),
				d = n(59),
				y = n(41),
				m = n(107),
				v = n(108).set,
				g = n(169)(),
				_ = n(84),
				b = n(110),
				x = n(170),
				w = n(111),
				C = l.TypeError,
				T = l.process,
				k = T && T.versions,
				P = (k && k.v8) || "",
				E = l.Promise,
				S = "process" == c(T),
				A = function () {},
				M = (i = _.f),
				I = !!(function () {
					try {
						var e = E.resolve(1),
							t = ((e.constructor = {})[n(7)("species")] =
								function (e) {
									e(A, A);
								});
						return (
							(S || "function" == typeof PromiseRejectionEvent) &&
							e.then(A) instanceof t &&
							0 !== P.indexOf("6.6") &&
							-1 === x.indexOf("Chrome/66")
						);
					} catch (e) {}
				})(),
				L = function (e) {
					var t;
					return !(!h(e) || "function" != typeof (t = e.then)) && t;
				},
				D = function (e, t) {
					if (!e._n) {
						e._n = !0;
						var n = e._c;
						g(function () {
							for (
								var r = e._v,
									i = 1 == e._s,
									o = 0,
									a = function (t) {
										var n,
											o,
											a,
											s = i ? t.ok : t.fail,
											l = t.resolve,
											u = t.reject,
											c = t.domain;
										try {
											s
												? (i ||
														(2 == e._h && R(e),
														(e._h = 1)),
												  !0 === s
														? (n = r)
														: (c && c.enter(),
														  (n = s(r)),
														  c &&
																(c.exit(),
																(a = !0))),
												  n === t.promise
														? u(
																C(
																	"Promise-chain cycle"
																)
														  )
														: (o = L(n))
														? o.call(n, l, u)
														: l(n))
												: u(r);
										} catch (e) {
											c && !a && c.exit(), u(e);
										}
									};
								n.length > o;

							)
								a(n[o++]);
							(e._c = []), (e._n = !1), t && !e._h && O(e);
						});
					}
				},
				O = function (e) {
					v.call(l, function () {
						var t,
							n,
							r,
							i = e._v,
							o = z(e);
						if (
							(o &&
								((t = b(function () {
									S
										? T.emit("unhandledRejection", i, e)
										: (n = l.onunhandledrejection)
										? n({ promise: e, reason: i })
										: (r = l.console) &&
										  r.error &&
										  r.error(
												"Unhandled promise rejection",
												i
										  );
								})),
								(e._h = S || z(e) ? 2 : 1)),
							(e._a = void 0),
							o && t.e)
						)
							throw t.v;
					});
				},
				z = function (e) {
					return 1 !== e._h && 0 === (e._a || e._c).length;
				},
				R = function (e) {
					v.call(l, function () {
						var t;
						S
							? T.emit("rejectionHandled", e)
							: (t = l.onrejectionhandled) &&
							  t({ promise: e, reason: e._v });
					});
				},
				B = function (e) {
					var t = this;
					t._d ||
						((t._d = !0),
						((t = t._w || t)._v = e),
						(t._s = 2),
						t._a || (t._a = t._c.slice()),
						D(t, !0));
				},
				j = function (e) {
					var t,
						n = this;
					if (!n._d) {
						(n._d = !0), (n = n._w || n);
						try {
							if (n === e)
								throw C("Promise can't be resolved itself");
							(t = L(e))
								? g(function () {
										var r = { _w: n, _d: !1 };
										try {
											t.call(e, u(j, r, 1), u(B, r, 1));
										} catch (e) {
											B.call(r, e);
										}
								  })
								: ((n._v = e), (n._s = 1), D(n, !1));
						} catch (e) {
							B.call({ _w: n, _d: !1 }, e);
						}
					}
				};
			I ||
				((E = function (e) {
					d(this, E, "Promise", "_h"), p(e), r.call(this);
					try {
						e(u(j, this, 1), u(B, this, 1));
					} catch (e) {
						B.call(this, e);
					}
				}),
				((r = function (e) {
					(this._c = []),
						(this._a = void 0),
						(this._s = 0),
						(this._d = !1),
						(this._v = void 0),
						(this._h = 0),
						(this._n = !1);
				}).prototype = n(58)(E.prototype, {
					then: function (e, t) {
						var n = M(m(this, E));
						return (
							(n.ok = "function" != typeof e || e),
							(n.fail = "function" == typeof t && t),
							(n.domain = S ? T.domain : void 0),
							this._c.push(n),
							this._a && this._a.push(n),
							this._s && D(this, !1),
							n.promise
						);
					},
					catch: function (e) {
						return this.then(void 0, e);
					},
				})),
				(o = function () {
					var e = new r();
					(this.promise = e),
						(this.resolve = u(j, e, 1)),
						(this.reject = u(B, e, 1));
				}),
				(_.f = M =
					function (e) {
						return e === E || e === a ? new o(e) : i(e);
					})),
				f(f.G + f.W + f.F * !I, { Promise: E }),
				n(46)(E, "Promise"),
				n(112)("Promise"),
				(a = n(1).Promise),
				f(f.S + f.F * !I, "Promise", {
					reject: function (e) {
						var t = M(this);
						return (0, t.reject)(e), t.promise;
					},
				}),
				f(f.S + f.F * (s || !I), "Promise", {
					resolve: function (e) {
						return w(s && this === a ? E : this, e);
					},
				}),
				f(
					f.S +
						f.F *
							!(
								I &&
								n(113)(function (e) {
									E.all(e).catch(A);
								})
							),
					"Promise",
					{
						all: function (e) {
							var t = this,
								n = M(t),
								r = n.resolve,
								i = n.reject,
								o = b(function () {
									var n = [],
										o = 0,
										a = 1;
									y(e, !1, function (e) {
										var s = o++,
											l = !1;
										n.push(void 0),
											a++,
											t.resolve(e).then(function (e) {
												l ||
													((l = !0),
													(n[s] = e),
													--a || r(n));
											}, i);
									}),
										--a || r(n);
								});
							return o.e && i(o.v), n.promise;
						},
						race: function (e) {
							var t = this,
								n = M(t),
								r = n.reject,
								i = b(function () {
									y(e, !1, function (e) {
										t.resolve(e).then(n.resolve, r);
									});
								});
							return i.e && r(i.v), n.promise;
						},
					}
				);
		},
		function (e, t, n) {
			var r = n(4),
				i = n(108).set,
				o = r.MutationObserver || r.WebKitMutationObserver,
				a = r.process,
				s = r.Promise,
				l = "process" == n(47)(a);
			e.exports = function () {
				var e,
					t,
					n,
					u = function () {
						var r, i;
						for (l && (r = a.domain) && r.exit(); e; ) {
							(i = e.fn), (e = e.next);
							try {
								i();
							} catch (r) {
								throw (e ? n() : (t = void 0), r);
							}
						}
						(t = void 0), r && r.enter();
					};
				if (l)
					n = function () {
						a.nextTick(u);
					};
				else if (!o || (r.navigator && r.navigator.standalone))
					if (s && s.resolve) {
						var c = s.resolve(void 0);
						n = function () {
							c.then(u);
						};
					} else
						n = function () {
							i.call(r, u);
						};
				else {
					var f = !0,
						h = document.createTextNode("");
					new o(u).observe(h, { characterData: !0 }),
						(n = function () {
							h.data = f = !f;
						});
				}
				return function (r) {
					var i = { fn: r, next: void 0 };
					t && (t.next = i), e || ((e = i), n()), (t = i);
				};
			};
		},
		function (e, t, n) {
			var r = n(4).navigator;
			e.exports = (r && r.userAgent) || "";
		},
		function (e, t, n) {
			"use strict";
			var r = n(2),
				i = n(1),
				o = n(4),
				a = n(107),
				s = n(111);
			r(r.P + r.R, "Promise", {
				finally: function (e) {
					var t = a(this, i.Promise || o.Promise),
						n = "function" == typeof e;
					return this.then(
						n
							? function (n) {
									return s(t, e()).then(function () {
										return n;
									});
							  }
							: e,
						n
							? function (n) {
									return s(t, e()).then(function () {
										throw n;
									});
							  }
							: e
					);
				},
			});
		},
		function (e, t, n) {
			"use strict";
			var r = n(2),
				i = n(84),
				o = n(110);
			r(r.S, "Promise", {
				try: function (e) {
					var t = i.f(this),
						n = o(e);
					return (n.e ? t.reject : t.resolve)(n.v), t.promise;
				},
			});
		},
		function (e, t, n) {
			n(174), (e.exports = n(1).Object.assign);
		},
		function (e, t, n) {
			var r = n(2);
			r(r.S + r.F, "Object", { assign: n(102) });
		},
		function (e, t, n) {
			n(176), (e.exports = n(1).Object.keys);
		},
		function (e, t, n) {
			var r = n(33),
				i = n(39);
			n(17)("keys", function () {
				return function (e) {
					return i(r(e));
				};
			});
		},
		function (e, t, n) {
			var r = n(1),
				i = r.JSON || (r.JSON = { stringify: JSON.stringify });
			e.exports = function (e) {
				return i.stringify.apply(i, arguments);
			};
		},
		function (e, t, n) {
			"use strict";
			function r(e) {
				return (
					(function (e, t) {
						for (var n = 0; n < e.length; n++)
							if (e[n] !== t[n]) return !1;
						return !0;
					})(e[0], e[e.length - 1]) || e.push(e[0]),
					e
				);
			}
			function i(e) {
				for (
					var t, n = 0, r = 0, i = e.length, o = e[r];
					r < i - 1;
					r++
				)
					(n += ((t = e[r + 1])[0] - o[0]) * (t[1] + o[1])), (o = t);
				return n >= 0;
			}
			function o(e, t, n, r) {
				var i =
						(r[0] - n[0]) * (e[1] - n[1]) -
						(r[1] - n[1]) * (e[0] - n[0]),
					o =
						(t[0] - e[0]) * (e[1] - n[1]) -
						(t[1] - e[1]) * (e[0] - n[0]),
					a =
						(r[1] - n[1]) * (t[0] - e[0]) -
						(r[0] - n[0]) * (t[1] - e[1]);
				if (0 !== a) {
					var s = i / a,
						l = o / a;
					if (s >= 0 && s <= 1 && l >= 0 && l <= 1) return !0;
				}
				return !1;
			}
			function a(e, t) {
				for (var n = 0; n < e.length - 1; n++)
					for (var r = 0; r < t.length - 1; r++)
						if (o(e[n], e[n + 1], t[r], t[r + 1])) return !0;
				return !1;
			}
			function s(e, t) {
				var n = a(e, t),
					r = (function (e, t) {
						for (
							var n = !1, r = -1, i = e.length, o = i - 1;
							++r < i;
							o = r
						)
							((e[r][1] <= t[1] && t[1] < e[o][1]) ||
								(e[o][1] <= t[1] && t[1] < e[r][1])) &&
								t[0] <
									((e[o][0] - e[r][0]) * (t[1] - e[r][1])) /
										(e[o][1] - e[r][1]) +
										e[r][0] &&
								(n = !n);
						return n;
					})(e, t[0]);
				return !(n || !r);
			}
			function l(e) {
				var t = [],
					n = e.slice(0),
					o = r(n.shift().slice(0));
				if (o.length >= 4) {
					i(o) || o.reverse(), t.push(o);
					for (var a = 0; a < n.length; a++) {
						var s = r(n[a].slice(0));
						s.length >= 4 && (i(s) && s.reverse(), t.push(s));
					}
				}
				return t;
			}
			function u(e) {
				var t = {};
				for (var n in e) e.hasOwnProperty(n) && (t[n] = e[n]);
				return t;
			}
			function c(e, t) {
				var n = {};
				if (e.features) {
					(n.type = "FeatureCollection"), (n.features = []);
					for (var o = 0; o < e.features.length; o++)
						n.features.push(c(e.features[o], t));
				}
				if (
					("number" == typeof e.x &&
						"number" == typeof e.y &&
						((n.type = "Point"),
						(n.coordinates = [e.x, e.y]),
						"number" == typeof e.z && n.coordinates.push(e.z)),
					e.points &&
						((n.type = "MultiPoint"),
						(n.coordinates = e.points.slice(0))),
					e.paths &&
						(1 === e.paths.length
							? ((n.type = "LineString"),
							  (n.coordinates = e.paths[0].slice(0)))
							: ((n.type = "MultiLineString"),
							  (n.coordinates = e.paths.slice(0)))),
					e.rings &&
						(n = (function (e) {
							for (
								var t, n, o = [], l = [], u = 0;
								u < e.length;
								u++
							) {
								var c = r(e[u].slice(0));
								if (!(c.length < 4))
									if (i(c)) {
										var f = [c.slice().reverse()];
										o.push(f);
									} else l.push(c.slice().reverse());
							}
							for (var h = []; l.length; ) {
								n = l.pop();
								var p = !1;
								for (t = o.length - 1; t >= 0; t--)
									if (s(o[t][0], n)) {
										o[t].push(n), (p = !0);
										break;
									}
								p || h.push(n);
							}
							for (; h.length; ) {
								n = h.pop();
								var d = !1;
								for (t = o.length - 1; t >= 0; t--)
									if (a(o[t][0], n)) {
										o[t].push(n), (d = !0);
										break;
									}
								d || o.push([n.reverse()]);
							}
							return 1 === o.length
								? { type: "Polygon", coordinates: o[0] }
								: { type: "MultiPolygon", coordinates: o };
						})(e.rings.slice(0))),
					"number" == typeof e.xmin &&
						"number" == typeof e.ymin &&
						"number" == typeof e.xmax &&
						"number" == typeof e.ymax &&
						((n.type = "Polygon"),
						(n.coordinates = [
							[
								[e.xmax, e.ymax],
								[e.xmin, e.ymax],
								[e.xmin, e.ymin],
								[e.xmax, e.ymin],
								[e.xmax, e.ymax],
							],
						])),
					(e.geometry || e.attributes) &&
						((n.type = "Feature"),
						(n.geometry = e.geometry ? c(e.geometry) : null),
						(n.properties = e.attributes ? u(e.attributes) : null),
						e.attributes))
				)
					try {
						n.id = (function (e, t) {
							for (
								var n = t
										? [t, "OBJECTID", "FID"]
										: ["OBJECTID", "FID"],
									r = 0;
								r < n.length;
								r++
							) {
								var i = n[r];
								if (
									i in e &&
									("string" == typeof e[i] ||
										"number" == typeof e[i])
								)
									return e[i];
							}
							throw Error("No valid id attribute found");
						})(e.attributes, t);
					} catch (e) {}
				return (
					JSON.stringify(n.geometry) === JSON.stringify({}) &&
						(n.geometry = null),
					e.spatialReference &&
						e.spatialReference.wkid &&
						4326 !== e.spatialReference.wkid &&
						console.warn(
							"Object converted in non-standard crs - " +
								JSON.stringify(e.spatialReference)
						),
					n
				);
			}
			function f(e, t) {
				t = t || "OBJECTID";
				var n,
					r = { wkid: 4326 },
					i = {};
				switch (e.type) {
					case "Point":
						(i.x = e.coordinates[0]),
							(i.y = e.coordinates[1]),
							(i.spatialReference = r);
						break;
					case "MultiPoint":
						(i.points = e.coordinates.slice(0)),
							(i.spatialReference = r);
						break;
					case "LineString":
						(i.paths = [e.coordinates.slice(0)]),
							(i.spatialReference = r);
						break;
					case "MultiLineString":
						(i.paths = e.coordinates.slice(0)),
							(i.spatialReference = r);
						break;
					case "Polygon":
						(i.rings = l(e.coordinates.slice(0))),
							(i.spatialReference = r);
						break;
					case "MultiPolygon":
						(i.rings = (function (e) {
							for (var t = [], n = 0; n < e.length; n++)
								for (
									var r = l(e[n]), i = r.length - 1;
									i >= 0;
									i--
								) {
									var o = r[i].slice(0);
									t.push(o);
								}
							return t;
						})(e.coordinates.slice(0))),
							(i.spatialReference = r);
						break;
					case "Feature":
						e.geometry && (i.geometry = f(e.geometry, t)),
							(i.attributes = e.properties
								? u(e.properties)
								: {}),
							e.id && (i.attributes[t] = e.id);
						break;
					case "FeatureCollection":
						for (i = [], n = 0; n < e.features.length; n++)
							i.push(f(e.features[n], t));
						break;
					case "GeometryCollection":
						for (i = [], n = 0; n < e.geometries.length; n++)
							i.push(f(e.geometries[n], t));
				}
				return i;
			}
			n.r(t),
				n.d(t, "arcgisToGeoJSON", function () {
					return c;
				}),
				n.d(t, "geojsonToArcGIS", function () {
					return f;
				}),
				(t.default = { arcgisToGeoJSON: c, geojsonToArcGIS: f });
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								return Cesium.Cartesian3.fromDegrees(
									e[0],
									e[1],
									e[2]
								);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.featureType = void 0),
								(e.processFeature = r),
								(e.processFeatureCollection = function (
									e,
									t,
									n,
									i,
									o
								) {
									for (
										var a = t.features, s = 0, l = a.length;
										s < l;
										s++
									)
										r(e, a[s]);
								});
							var n = {
								LineString: function (e, t) {
									return a(t, e.coordinates);
								},
								MultiLineString: function (e, t) {
									for (
										var n = [], r = e.coordinates, i = 0;
										i < r.length;
										i++
									) {
										var o = a(t, r[i]);
										n.push(o);
									}
									return n;
								},
								MultiPoint: function (e, t) {
									for (
										var n = [], r = e.coordinates, i = 0;
										i < r.length;
										i++
									) {
										var o = s(t, r[i]);
										n.push(o);
									}
									return n;
								},
								MultiPolygon: function (e, t) {
									for (
										var n = [], r = e.coordinates, o = 0;
										o < r.length;
										o++
									)
										if (0 !== r[o].length) {
											var a = i(t, r[o]);
											a && n.push(a);
										}
									return n;
								},
								Point: function (e, t) {
									return s(t, e.coordinates);
								},
								Polygon: function (e, t) {
									return i(t, e.coordinates);
								},
							};
							function r(e, r) {
								if (null !== e.geometry) {
									if (!l(e.geometry))
										throw new Error(
											"feature.geometry is required."
										);
									var i = e.geometry.type,
										o = n[i];
									if (!l(o))
										throw new Error(
											"Unknown geometry type: " + i
										);
									r || (r = t);
									var a = o(e.geometry, r);
									return (
										i.indexOf("Line") > -1 &&
											(a instanceof Array || (a = [a])),
										a
									);
								}
							}
							function i(e, t) {
								for (
									var n = [], r = 1, i = t.length;
									r < i;
									r++
								)
									n.push(
										new Cesium.PolygonHierarchy(o(t[r], e))
									);
								var a = t[0];
								if (a)
									return new Cesium.PolygonHierarchy(
										o(a, e),
										n
									);
							}
							function o(e, t) {
								for (
									var n = new Array(e.length), r = 0;
									r < e.length;
									r++
								)
									n[r] = t(e[r], r);
								return n;
							}
							function a(e, t) {
								return o(t, e);
							}
							function s(e, t) {
								return e(t);
							}
							function l(e) {
								return Cesium.defined(e);
							}
							e.featureType = {
								LineString: "LineString",
								MultiLineString: "MultiLineString",
								MultiPoint: "MultiPoint",
								MultiPolygon: "MultiPolygon",
								Point: "Point",
								Polygon: "Polygon",
							};
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(5), n(8), n(9), n(43), n(106), n(181)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a, s) {
							"use strict";
							var l = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = l(t)),
								(r = l(r)),
								(i = l(i)),
								(o = l(o)),
								(a = l(a)),
								(s = l(s));
							var u = (function () {
								function e(t) {
									(0, r.default)(this, e),
										(this._archMode = Cesium.defaultValue(
											t.archMode,
											e.ARCHMODE.BOTTOMCENTER
										)),
										(this.width = 0),
										(this.height = 0),
										(this._leftOffset = Cesium.defaultValue(
											t.leftOffset,
											0
										)),
										(this._topOffset = Cesium.defaultValue(
											t.topOffset,
											0
										)),
										(this.viewer = Cesium.defaultValue(
											t.viewer,
											void 0
										)),
										t.closeFunc &&
											"function" == typeof t.closeFunc &&
											(this._closeFunc =
												Cesium.defaultValue(
													t.closeFunc,
													void 0
												)),
										(this.accurateSamplingDebounceTime = 250),
										(this.lastHeightSamplePosition =
											Cesium.Cartographic.ZERO),
										(this.tileRequestInFlight = void 0),
										(this.debounceSampleAccurateHeight = (0,
										s.default)(
											this.sampleAccurateHeight,
											this.accurateSamplingDebounceTime,
											{ leading: !1, maxWait: 500 }
										)),
										(this._shoudleTrack = !0);
								}
								return (
									(0, i.default)(e, [
										{
											key: "trackedEntity",
											get: function () {
												return this._trackedEntity;
											},
											set: function (e) {
												(this._trackedEntity = e),
													this._propertyChanged();
											},
										},
										{
											key: "archMode",
											set: function (e) {
												e !== this._archMode &&
													((this._archMode = e),
													this._propertyChanged());
											},
										},
										{
											key: "leftOffset",
											set: function (e) {
												e !== this._leftOffset &&
													((this._leftOffset = e),
													this._propertyChanged());
											},
										},
										{
											key: "topOffset",
											set: function (e) {
												e !== this._topOffset &&
													((this._topOffset = e),
													this._propertyChanged());
											},
										},
										{
											key: "_propertyChanged",
											value: function () {
												this.needUpdate = !0;
											},
										},
										{
											key: "update",
											value: function (e) {
												if (this.isDestroyed())
													return !1;
												if (!this._trackedEntity)
													return !1;
												var t = this._getNowPosition(
													e.time
												);
												if (
													t &&
													this.getElement() &&
													this.viewer
												) {
													var n = e.camera._scene;
													if (
														n.globe
															.terrainProvider instanceof
														Cesium.CesiumTerrainProvider
													)
														if (
															Cesium.sampleTerrainMostDetailed
														) {
															var r =
																a.default.cartograhphicToWindowPosition(
																	this
																		.lastHeightSamplePosition,
																	this.viewer,
																	new Cesium.Cartesian2()
																);
															this._setWindowsLoc(
																r.x,
																r.y
															),
																this.debounceSampleAccurateHeight(
																	n.globe
																		.terrainProvider,
																	Cesium.Cartographic.fromCartesian(
																		t
																	)
																);
														} else {
															var i =
																a.default.cartesian3ToWindowPosition(
																	t,
																	this.viewer,
																	new Cesium.Cartesian2()
																);
															this._setWindowsLoc(
																i.x,
																i.y
															);
														}
													else {
														var o =
															a.default.cartesian3ToWindowPosition(
																t,
																this.viewer,
																new Cesium.Cartesian2()
															);
														this._setWindowsLoc(
															o.x,
															o.y
														);
													}
												}
											},
										},
										{
											key: "cancleTrack",
											value: function () {
												this._shoudleTrack = !1;
											},
										},
										{
											key: "startTrack",
											value: function () {
												this._shoudleTrack = !0;
											},
										},
										{
											key: "showTrackWithEntity",
											value: function (e, t, n, r, i, o) {
												e && (this._trackedEntity = e),
													t && (this.elementId = t),
													n && (this.viewer = n),
													r && (this.leftOffset = r),
													i && (this.topOffset = i),
													o && (this.archMode = o),
													this.startTrack();
											},
										},
										{
											key: "_getNowPosition",
											value: function (e) {
												if (this._trackedEntity) {
													var t;
													if (
														this
															.trackedEntity instanceof
														Cesium.Entity
													)
														this.trackedEntity
															.position &&
															(t =
																this.trackedEntity.position.getValue(
																	e
																));
													else if (
														this
															.trackedEntity instanceof
														Cesium.Cartesian3
													)
														t = this.trackedEntity;
													else if (
														this
															.trackedEntity instanceof
														Cesium.Cartographic
													) {
														var n =
																this
																	.trackedEntity,
															r =
																Cesium.Math.toDegrees(
																	n.longitude
																),
															i =
																Cesium.Math.toDegrees(
																	n.latitude
																),
															o = n.height;
														t =
															Cesium.Cartesian3.fromDegrees(
																r,
																i,
																o
															);
													} else if (
														this
															.trackedEntity instanceof
														Array
													)
														t =
															Cesium.Cartesian3.fromDegrees(
																this
																	.trackedEntity[0],
																this
																	.trackedEntity[1],
																this
																	.trackedEntity[2]
															);
													else {
														if (
															this.trackedEntity
																.getValue
														)
															return this.trackedEntity.getValue(
																e
															);
														t =
															Cesium.Cartesian3.fromDegrees(
																this
																	.trackedEntity
																	.lon,
																this
																	.trackedEntity
																	.lat,
																this
																	.trackedEntity
																	.height
															);
													}
													return t;
												}
											},
										},
										{
											key: "_setWindowsLoc",
											value: function (e, t) {
												var n = this.getElement();
												if (n) {
													var r = n.clientWidth,
														i = n.clientHeight;
													"block" !==
														n.style.display &&
														(n.style.display =
															"block");
													var o = r - this.width,
														a = i - this.height;
													switch (
														((Math.abs(a) > 1 ||
															Math.abs(o) > 1) &&
															((this.width = r),
															(this.height = i)),
														this._archMode)
													) {
														case 0:
														default:
															(n.style.left =
																e -
																0.5 *
																	this.width +
																this
																	._leftOffset +
																"px"),
																(n.style.top =
																	t -
																	this
																		.height +
																	this
																		._topOffset +
																	"px");
															break;
														case 1:
															(n.style.left =
																e -
																0 * this.width +
																this
																	._leftOffset +
																"px"),
																(n.style.top =
																	t -
																	this
																		.height +
																	this
																		._topOffset +
																	"px");
															break;
														case 2:
															(n.style.left =
																e -
																1 * this.width +
																this
																	._leftOffset +
																"px"),
																(n.style.top =
																	t -
																	this
																		.height +
																	this
																		._topOffset +
																	"px");
															break;
														case 3:
															(n.style.left =
																e -
																0 * this.width +
																this
																	._leftOffset +
																"px"),
																(n.style.top =
																	t -
																	0.5 *
																		this
																			.height +
																	this
																		._topOffset +
																	"px");
															break;
														case 4:
															(n.style.left =
																e -
																1 * this.width +
																this
																	._leftOffset +
																"px"),
																(n.style.top =
																	t -
																	0.5 *
																		this
																			.height +
																	this
																		._topOffset +
																	"px");
															break;
														case 5:
															(n.style.left =
																e -
																0.5 *
																	this.width +
																this
																	._leftOffset +
																"px"),
																(n.style.top =
																	t -
																	0.5 *
																		this
																			.height +
																	this
																		._topOffset +
																	"px");
															break;
														case 6:
															(n.style.left =
																e -
																0.5 *
																	this.width +
																this
																	._leftOffset +
																"px"),
																(n.style.top =
																	t -
																	0 *
																		this
																			.height +
																	this
																		._topOffset +
																	"px");
															break;
														case 7:
															(n.style.left =
																e -
																0 * this.width +
																this
																	._leftOffset +
																"px"),
																(n.style.top =
																	t -
																	0 *
																		this
																			.height +
																	this
																		._topOffset +
																	"px");
															break;
														case 8:
															(n.style.left =
																e -
																1 * this.width +
																this
																	._leftOffset +
																"px"),
																(n.style.top =
																	t -
																	0 *
																		this
																			.height +
																	this
																		._topOffset +
																	"px");
													}
												}
											},
										},
										{
											key: "getElement",
											value: function () {
												return "string" ==
													typeof this.elementId
													? this.elementId
														? document.getElementById(
																this.elementId
														  )
														: document.getElementById(
																"poup"
														  )
													: this.elementId;
											},
										},
										{
											key: "isDestroyed",
											value: function () {
												return !1;
											},
										},
										{
											key: "destroy",
											value: function () {
												this.cancleTrack(),
													(this.trackedEntity =
														void 0);
												var e = this.getElement();
												e && (e.style.display = "none"),
													this
														.debounceSampleAccurateHeight &&
														this.debounceSampleAccurateHeight.cancel(),
													this
														.debounceSampleAccurateHeight &&
														this.debounceSampleAccurateHeight.flush(),
													(this.debounceSampleAccurateHeight =
														void 0),
													this._closeFunc &&
														"function" ==
															typeof this
																._closeFunc &&
														this._closeFunc(this),
													Cesium.destroyObject(
														this,
														"无法调用已经销毁的对象"
													);
											},
										},
										{
											key: "sampleAccurateHeight",
											value: function (e, n) {
												var r = this,
													i = Cesium,
													o = i.Cartographic,
													s =
														i.sampleTerrainMostDetailed;
												if (this.tileRequestInFlight)
													return (
														this.debounceSampleAccurateHeight.cancel(),
														void this.debounceSampleAccurateHeight(
															e,
															n
														)
													);
												var l = s(e, [o.clone(n)]);
												this.tileRequestInFlight =
													t.default
														.all([l])
														.then(function (e) {
															r.tileRequestInFlight =
																void 0;
															var t = e[0][0],
																n =
																	a.default.cartograhphicToWindowPosition(
																		t,
																		r.viewer,
																		new Cesium.Cartesian2()
																	);
															r._setWindowsLoc(
																n.x,
																n.y
															),
																(r.lastHeightSamplePosition =
																	t);
														})
														.catch(function () {
															r.tileRequestInFlight =
																void 0;
														});
											},
										},
									]),
									e
								);
							})();
							(0, o.default)(u, "ARCHMODE", {
								BOTTOMCENTER: 0,
								BOTTOMLEFT: 1,
								BOTTOMRIGHT: 2,
								CENTERLEFT: 3,
								CENTERRIGHT: 4,
								CENTERCENTER: 5,
								TOPCENTER: 6,
								TOPLEFT: 7,
								TOPRIGHT: 8,
							});
							var c = u;
							e.default = c;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			(function (t) {
				var n = /^\s+|\s+$/g,
					r = /^[-+]0x[0-9a-f]+$/i,
					i = /^0b[01]+$/i,
					o = /^0o[0-7]+$/i,
					a = parseInt,
					s = "object" == typeof t && t && t.Object === Object && t,
					l =
						"object" == typeof self &&
						self &&
						self.Object === Object &&
						self,
					u = s || l || Function("return this")(),
					c = Object.prototype.toString,
					f = Math.max,
					h = Math.min,
					p = function () {
						return u.Date.now();
					};
				function d(e) {
					var t = typeof e;
					return !!e && ("object" == t || "function" == t);
				}
				function y(e) {
					if ("number" == typeof e) return e;
					if (
						(function (e) {
							return (
								"symbol" == typeof e ||
								((function (e) {
									return !!e && "object" == typeof e;
								})(e) &&
									"[object Symbol]" == c.call(e))
							);
						})(e)
					)
						return NaN;
					if (d(e)) {
						var t =
							"function" == typeof e.valueOf ? e.valueOf() : e;
						e = d(t) ? t + "" : t;
					}
					if ("string" != typeof e) return 0 === e ? e : +e;
					e = e.replace(n, "");
					var s = i.test(e);
					return s || o.test(e)
						? a(e.slice(2), s ? 2 : 8)
						: r.test(e)
						? NaN
						: +e;
				}
				e.exports = function (e, t, n) {
					var r,
						i,
						o,
						a,
						s,
						l,
						u = 0,
						c = !1,
						m = !1,
						v = !0;
					if ("function" != typeof e)
						throw new TypeError("Expected a function");
					function g(t) {
						var n = r,
							o = i;
						return (r = i = void 0), (u = t), (a = e.apply(o, n));
					}
					function _(e) {
						return (u = e), (s = setTimeout(x, t)), c ? g(e) : a;
					}
					function b(e) {
						var n = e - l;
						return (
							void 0 === l || n >= t || n < 0 || (m && e - u >= o)
						);
					}
					function x() {
						var e = p();
						if (b(e)) return w(e);
						s = setTimeout(
							x,
							(function (e) {
								var n = t - (e - l);
								return m ? h(n, o - (e - u)) : n;
							})(e)
						);
					}
					function w(e) {
						return (
							(s = void 0), v && r ? g(e) : ((r = i = void 0), a)
						);
					}
					function C() {
						var e = p(),
							n = b(e);
						if (((r = arguments), (i = this), (l = e), n)) {
							if (void 0 === s) return _(l);
							if (m) return (s = setTimeout(x, t)), g(l);
						}
						return void 0 === s && (s = setTimeout(x, t)), a;
					}
					return (
						(t = y(t) || 0),
						d(n) &&
							((c = !!n.leading),
							(o = (m = "maxWait" in n)
								? f(y(n.maxWait) || 0, t)
								: o),
							(v = "trailing" in n ? !!n.trailing : v)),
						(C.cancel = function () {
							void 0 !== s && clearTimeout(s),
								(u = 0),
								(r = l = i = s = void 0);
						}),
						(C.flush = function () {
							return void 0 === s ? a : w(p());
						}),
						C
					);
				};
			}.call(this, n(114)));
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(5), n(12)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r) {
							"use strict";
							var i = n(0);
							function o() {}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = i(t)),
								(o.LocationTo = function (e, n) {
									var i = n.viewer,
										o = n.duration,
										a = n.offset,
										s = n.animation,
										l = n.lookAt;
									if (!i) throw new Error("未传入viewer对象");
									o || (o = 2), s || (s = !0), l || (l = !1);
									var u = new Cesium.Matrix4(),
										c = new Cesium.Cartesian3(),
										f = new Cesium.Cartesian3(),
										h = new Cesium.Cartesian3(),
										p = new Cesium.Cartesian3(),
										d = new Cesium.Cartesian4(),
										y = new Cesium.Quaternion(),
										m = new Cesium.Matrix3(),
										v = Cesium,
										g = v.SceneMode,
										_ = v.Math,
										b = v.Matrix4,
										x = v.Cartesian3,
										w = v.Transforms,
										C = v.Ellipsoid,
										T = v.Quaternion,
										k = v.Matrix3,
										P =
											i.camera._mode === g.SCENE2D ||
											i.camera._mode === g.COLUMBUS_VIEW;
									i.camera._setTransform(b.IDENTITY),
										(function (e, n) {
											var i = Cesium,
												o = i.Entity,
												a = i.BoundingSphere,
												s = i.BoundingSphereState,
												l = i.Cartographic,
												u = i.Cartesian3,
												c = (0, r.defer)(),
												f = new a(),
												h = [];
											return (
												t.default
													.resolve(e)
													.then(function (e) {
														var t;
														if (e instanceof o)
															var r =
																n.scene.postRender.addEventListener(
																	function () {
																		var t =
																			n._dataSourceDisplay.getBoundingSphere(
																				e,
																				!1,
																				f
																			);
																		t !==
																			s.PENDING &&
																			(t !==
																				s.FAILED &&
																				h.push(
																					a.clone(
																						f
																					)
																				),
																			0 ===
																				h.length &&
																				(r(),
																				c.reject()),
																			r());
																	}
																);
														else
															e instanceof l
																? (t =
																		n.scene.globe.ellipsoid.cartographicToCartesian(
																			e
																		))
																: e instanceof
																		u &&
																  (t = e),
																t
																	? h.push(
																			new a(
																				t,
																				500
																			)
																	  )
																	: c.reject();
														var i =
															a.fromBoundingSpheres(
																h
															);
														c.resolve(i);
													}),
												c
											);
										})(e, i).then(function (e) {
											var t;
											(a = (function (e, t, n) {
												var r = Cesium,
													i = r.HeadingPitchRange,
													o = r.Camera,
													a = r.OrthographicFrustum,
													s = r.SceneMode,
													l = r.defined,
													u = r.Math;
												n = i.clone(
													l(n) ? n : o.DEFAULT_OFFSET
												);
												var c =
														e._scene
															.screenSpaceCameraController
															.minimumZoomDistance,
													f =
														e._scene
															.screenSpaceCameraController
															.maximumZoomDistance,
													h = n.range;
												if (!l(h) || 0 === h) {
													var p = t.radius;
													0 === p
														? (n.range = 100)
														: e.frustum instanceof
																a ||
														  e._mode === s.SCENE2D
														? (n.range = (function (
																e,
																t
														  ) {
																var n,
																	r,
																	i =
																		e.frustum;
																l(
																	i._offCenterFrustum
																) &&
																	(i =
																		i._offCenterFrustum);
																var o =
																		i.right /
																		i.top,
																	a = t * o;
																return (
																	t > a
																		? (r =
																				(n =
																					t) /
																				o)
																		: ((r =
																				t),
																		  (n =
																				a)),
																	1.5 *
																		Math.max(
																			n,
																			r
																		)
																);
														  })(e, p))
														: (n.range = (function (
																e,
																t
														  ) {
																var n =
																		e.frustum,
																	r =
																		Math.tan(
																			0.5 *
																				n.fovy
																		),
																	i =
																		n.aspectRatio *
																		r;
																return Math.max(
																	t / i,
																	t / r
																);
														  })(e, p)),
														(n.range = u.clamp(
															n.range,
															c,
															f
														));
												}
												return n;
											})(i.camera, e, a)),
												(t = P
													? x.multiplyByScalar(
															x.UNIT_Z,
															a.range,
															c
													  )
													: (function (e, t, n) {
															var r = Cesium,
																i =
																	r.Quaternion,
																o =
																	r.Cartesian3,
																a = r.Matrix3,
																s = r.Math;
															(t = s.clamp(
																t,
																-s.PI_OVER_TWO,
																s.PI_OVER_TWO
															)),
																(e =
																	s.zeroToTwoPi(
																		e
																	) -
																	s.PI_OVER_TWO);
															var l =
																	i.fromAxisAngle(
																		o.UNIT_Y,
																		-t,
																		new Cesium.Quaternion()
																	),
																u =
																	i.fromAxisAngle(
																		o.UNIT_Z,
																		-e,
																		new Cesium.Quaternion()
																	),
																c = i.multiply(
																	u,
																	l,
																	u
																),
																f =
																	a.fromQuaternion(
																		c,
																		new Cesium.Matrix3()
																	),
																h = o.clone(
																	o.UNIT_X,
																	new Cesium.Cartesian3()
																);
															return (
																a.multiplyByVector(
																	f,
																	h,
																	h
																),
																o.negate(h, h),
																o.multiplyByScalar(
																	h,
																	n,
																	h
																),
																h
															);
													  })(
															a.heading,
															a.pitch,
															a.range
													  ));
											var r = w.eastNorthUpToFixedFrame(
												e.center,
												C.WGS84,
												u
											);
											b.multiplyByPoint(r, t, t);
											var v,
												g,
												E = n.cameraoffset,
												S = t;
											if (!P) {
												if (
													((v = x.subtract(
														e.center,
														t,
														f
													)),
													x.normalize(v, v),
													(g =
														b.multiplyByPointAsVector(
															r,
															x.UNIT_Z,
															h
														)),
													1 - Math.abs(x.dot(v, g)) <
														_.EPSILON6)
												) {
													var A = T.fromAxisAngle(
															v,
															a.heading,
															y
														),
														M = k.fromQuaternion(
															A,
															m
														);
													x.fromCartesian4(
														b.getColumn(r, 1, d),
														g
													),
														k.multiplyByVector(
															M,
															g,
															g
														);
												}
												var I = x.cross(v, g, p);
												if (
													(x.cross(I, v, g),
													x.normalize(g, g),
													E && !l)
												) {
													var L = new x();
													if (
														(0 !== E.x &&
															(x.multiplyByScalar(
																I,
																E.x,
																L
															),
															x.add(S, L, S)),
														0 !== E.y)
													) {
														var D = new x();
														x.multiplyByScalar(
															g,
															E.y,
															D
														),
															x.add(S, D, S);
													}
												}
											}
											s && 0 !== o
												? i.camera.flyTo({
														destination: S,
														orientation: {
															direction: v,
															up: g,
														},
														duration: n.duration,
														complete: function () {
															l &&
																i.camera.viewBoundingSphere(
																	e,
																	a
																),
																n.complete &&
																	"function" ==
																		typeof n.complete &&
																	n.complete();
														},
														cancel: n.cancel,
														endTransform:
															n.endTransform,
														maximumHeight:
															n.maximumHeight,
														easingFunction:
															n.easingFunction,
														flyOverLongitude:
															n.flyOverLongitude,
														flyOverLongitudeWeight:
															n.flyOverLongitudeWeight,
														pitchAdjustHeight:
															n.pitchAdjustHeight,
												  })
												: (i.camera.viewBoundingSphere(
														e,
														a
												  ),
												  l ||
														i.camera.lookAtTransform(
															b.IDENTITY
														),
												  n.complete &&
														"function" ==
															typeof n.complete &&
														n.complete());
										});
								});
							var a = o;
							e.default = a;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r,
				i,
				o,
				a = n(28),
				s = n(86),
				l = n(42),
				u = n(87);
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [
					t,
					n(83),
					n(27),
					n(5),
					n(85),
					n(43),
					n(8),
					n(9),
					n(188),
					n(189),
					n(116),
				]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, c, f, h, p, d, y) {
							"use strict";
							var m = n(0);
							function v(e, t) {
								var n = a(e);
								if (s) {
									var r = s(e);
									t &&
										(r = r.filter(function (t) {
											return l(e, t).enumerable;
										})),
										n.push.apply(n, r);
								}
								return n;
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = m(t)),
								(r = m(r)),
								(i = m(i)),
								(o = m(o)),
								(c = m(c)),
								(f = m(f)),
								(h = m(h)),
								(p = m(p)),
								(d = m(d)),
								(y = m(y));
							var g = (function () {
								function e(t) {
									if (
										((0, f.default)(this, e),
										!(
											t.viewer &&
											t.viewer instanceof Cesium.Viewer
										))
									)
										throw new Error("viewer对象必须传入");
									(this._viewer = t.viewer),
										(this._clock = this._viewer.clock),
										(this.routeData = t.routeData),
										(this.dataSource = Cesium.defaultValue(
											t.dataSource,
											this._viewer
										)),
										(this.routePoints =
											new Cesium.AssociativeArray()),
										(this.showRouteLables =
											Cesium.defaultValue(
												t.showRouteLables,
												!1
											)),
										(this.showRouteLine =
											Cesium.defaultValue(
												t.showRouteLine,
												!1
											)),
										(this.routeLineAsPath =
											Cesium.defaultValue(
												t.routeLineAsPath,
												!0
											)),
										(this.routeLineMaterail =
											Cesium.defaultValue(
												t.routeLineMaterail,
												Cesium.Color.RED
											)),
										(this.entityOptions =
											Cesium.defaultValue(
												t.entityOptions,
												{}
											)),
										(this._range = Cesium.defaultValue(
											t.range,
											50
										)),
										(this._isTiltFree = Cesium.defaultValue(
											t.isTiltFree,
											!0
										)),
										(this._isHeadingFree =
											Cesium.defaultValue(
												t.isHeadingFree,
												!0
											)),
										(this._isFreeLookAt =
											Cesium.defaultValue(
												t.isFreeLookAt,
												!0
											)),
										(this._isAlongLine =
											Cesium.defaultValue(
												t.isAlongLine,
												!0
											)),
										(this._isLoop = Cesium.defaultValue(
											t.isLoop,
											!0
										)),
										(this._isFirstView =
											Cesium.defaultValue(
												t.isFirstView,
												!1
											)),
										(this._startTime = Cesium.defaultValue(
											t.startTime,
											this._clock.currentTime
										)),
										(this._isDebuggerMode =
											Cesium.defaultValue(
												t.isDebuggerMode,
												!1
											)),
										(this._clock.currentTime =
											this._startTime),
										(this._currentPointIndex = 0),
										(this._playState = d.default.NONE),
										this.loadPoints(),
										(this._avgSpeed =
											this.getRouteLength() /
											this.routePoints.length),
										this.initTimeLine(),
										(this._onstepArrived =
											new Cesium.Event()),
										(this._onstepWaitEnd =
											new Cesium.Event()),
										(this._beforNextRout =
											new Cesium.Event()),
										(this._onEnd = new Cesium.Event());
								}
								var n;
								return (
									(0, h.default)(
										e,
										[
											{
												key: "isFirstView",
												get: function () {
													return this._isFirstView;
												},
												set: function (e) {
													this._isFirstView !== e &&
														((this._isFirstView =
															e),
														e &&
															this._viewer
																.trackedEntity &&
															(this._viewer.trackedEntity =
																void 0));
												},
											},
											{
												key: "isLoop",
												get: function () {
													return this._isLoop;
												},
												set: function (e) {
													this._isLoop !== e &&
														(this._isLoop = e);
												},
											},
											{
												key: "onstepArrived",
												get: function () {
													return this._onstepArrived;
												},
											},
											{
												key: "onstepWaitEnd",
												get: function () {
													return this._onstepWaitEnd;
												},
											},
											{
												key: "beforNextRout",
												get: function () {
													return this._beforNextRout;
												},
											},
											{
												key: "onEnd",
												get: function () {
													return this._onEnd;
												},
											},
											{
												key: "isHeadingFree",
												get: function () {
													return this._isHeadingFree;
												},
												set: function (e) {
													this._isHeadingFree !== e &&
														((this._isHeadingFree =
															e),
														(this._viewer.scene.screenSpaceCameraController.enableRotate =
															e));
												},
											},
											{
												key: "isTiltFree",
												get: function () {
													return this._isTiltFree;
												},
												set: function (e) {
													this._isTiltFree !== e &&
														((this._isTiltFree = e),
														(this._viewer.scene.screenSpaceCameraController.enableTilt =
															e));
												},
											},
											{
												key: "isFreeLookAt",
												get: function () {
													return this._isFreeLookAt;
												},
												set: function (e) {
													this._isLookAt !== e &&
														((this._isFreeLookAt =
															e),
														!1 === e &&
															(this._viewer.trackedEntity =
																void 0));
												},
											},
											{
												key: "isAlongLine",
												get: function () {
													return this._isAlongLine;
												},
												set: function (e) {
													this._isAlongLine !== e &&
														(this._isAlongLine = e);
												},
											},
											{
												key: "totalDuration",
												get: function () {
													if (
														!this.routePoints ||
														0 ===
															this.routePoints
																.length
													)
														return 0;
													var e = 0;
													return (
														this.routePoints.values.forEach(
															function (t) {
																(e +=
																	t.duration),
																	(e +=
																		t.delayTime);
															}
														),
														e
													);
												},
											},
											{
												key: "timeLineIndex",
												get: function () {
													return this._startTime
														? Cesium.JulianDate.secondsDifference(
																this._clock
																	.currentTime,
																this._startTime
														  )
														: 0;
												},
											},
											{
												key: "Range",
												get: function () {
													return this._range;
												},
												set: function (e) {
													(this._range = e),
														this._trackedEntity &&
															(this._trackedEntity.viewFrom =
																new Cesium.Cartesian3(
																	0,
																	0,
																	e
																)),
														this._viewer
															.trackedEntity &&
															((this._viewer.trackedEntity =
																void 0),
															(this._viewer.trackedEntity =
																this._trackedEntity));
												},
											},
											{
												key: "loadPoints",
												value: function () {
													var e = this;
													if (!this.routeData)
														throw new Error(
															"no route data!"
														);
													var t =
														this.routeData.stops;
													if (!t)
														throw new Error(
															" no stops data object"
														);
													t.forEach(function (t, n) {
														(t.orientation.heading =
															Cesium.Math.negativePiToPi(
																t.orientation
																	.heading
															)),
															e.addPoint(t, n);
													});
												},
											},
											{
												key: "addRouteLine",
												value: function (e) {
													var t = this,
														n =
															arguments.length >
																1 &&
															void 0 !==
																arguments[1] &&
															arguments[1];
													if (n) {
														var r =
															this.routePoints.values.map(
																function (e) {
																	return e.position;
																}
															);
														return this.dataSource.entities.add(
															{
																polyline: {
																	positions:
																		r,
																	width: 3,
																	material:
																		Cesium
																			.Color
																			.YELLOW,
																},
															}
														);
													}
													var i =
															new Cesium.SampledPositionProperty(),
														o = 2,
														a =
															this._viewer.clock
																.currentTime;
													return (
														e
															? e.forEach(
																	function (
																		t,
																		n
																	) {
																		var r =
																			Cesium.JulianDate.addSeconds(
																				a,
																				(o /
																					e.length) *
																					n,
																				new Cesium.JulianDate()
																			);
																		i.addSample(
																			r,
																			Cesium.Cartesian3.fromDegrees(
																				t.x,
																				t.y,
																				t.z
																			)
																		);
																	}
															  )
															: this.routePoints.values.forEach(
																	function (
																		e,
																		n
																	) {
																		var r =
																			Cesium.JulianDate.addSeconds(
																				a,
																				(o /
																					t
																						.routePoints
																						.length) *
																					n,
																				new Cesium.JulianDate()
																			);
																		i.addSample(
																			r,
																			e.position
																		);
																	}
															  ),
														(this._viewer.clock.shouldAnimate =
															!0),
														this.dataSource.entities.add(
															{
																position: i,
																path: {
																	show: !0,
																	leadTime: 0,
																	trailTime: 60,
																	width: 10,
																	resolution: 1,
																	material:
																		new Cesium.PolylineGlowMaterialProperty(
																			{
																				glowPower: 0.3,
																				taperPower: 0.3,
																				color: Cesium
																					.Color
																					.BLUE,
																			}
																		),
																},
															}
														)
													);
												},
											},
											{
												key: "getMiddleTime",
												value: function (e) {
													var t = Number(e.duration);
													return 0.2 * t < 2
														? 0.2 * t
														: 2;
												},
											},
											{
												key: "transAng",
												value: function (e, t) {
													var n = [e, t];
													return e - t < -180
														? this.transAng(
																e,
																t - 360
														  )
														: e - t > 180
														? this.transAng(
																e,
																t + 360
														  )
														: n;
												},
											},
											{
												key: "initTimeLine",
												value: function () {
													var e = this,
														t =
															new Cesium.CompositePositionProperty(),
														n =
															new Cesium.CompositeProperty(),
														r =
															this._viewer.clock
																.currentTime;
													this._startTime
														? (r = this._startTime)
														: (this._startTime = r);
													var i =
														new Cesium.TimeIntervalCollectionProperty();
													if (
														(this.routePoints.values.forEach(
															function (o, a) {
																var s = r;
																if (
																	((o.startTime =
																		r),
																	0 !== a)
																) {
																	var l =
																			e
																				.routePoints
																				.values[
																				a -
																					1
																			],
																		u =
																			e.getMiddleTime(
																				o
																			),
																		c =
																			Cesium.JulianDate.addSeconds(
																				r,
																				Number(
																					o.duration
																				) -
																					u,
																				new Cesium.JulianDate()
																			);
																	(s =
																		Cesium.JulianDate.addSeconds(
																			r,
																			Number(
																				o.duration
																			),
																			new Cesium.JulianDate()
																		)),
																		(o.stopTime =
																			s);
																	var f =
																		new Cesium.SampledPositionProperty();
																	f.addSample(
																		r,
																		l.position
																	),
																		f.addSample(
																			s,
																			o.position
																		),
																		t.intervals.addInterval(
																			new Cesium.TimeInterval(
																				{
																					start: r,
																					stop: s,
																					isStopIncluded:
																						0 ===
																						a,
																					data: f,
																				}
																			)
																		);
																	var h =
																		new Cesium.TimeIntervalCollectionProperty();
																	h.intervals.addInterval(
																		new Cesium.TimeInterval(
																			{
																				start: r,
																				stop: c,
																				isStopIncluded:
																					!1,
																				data: new Cesium.Cartesian3(
																					l.orientation.heading,
																					l.orientation.pitch,
																					l.orientation.roll
																				),
																			}
																		)
																	);
																	var p =
																			new Cesium.SampledProperty(
																				Cesium.Cartesian3
																			),
																		d =
																			e.transAng(
																				Cesium.Math.toDegrees(
																					l
																						.orientation
																						.heading
																				),
																				Cesium.Math.toDegrees(
																					o
																						.orientation
																						.heading
																				)
																			);
																	(o.orientation.heading =
																		Cesium.Math.toRadians(
																			d[1]
																		)),
																		p.addSample(
																			c,
																			new Cesium.Cartesian3(
																				l.orientation.heading,
																				l.orientation.pitch,
																				l.orientation.roll
																			)
																		),
																		p.addSample(
																			s,
																			new Cesium.Cartesian3(
																				o.orientation.heading,
																				o.orientation.pitch,
																				o.orientation.roll
																			)
																		);
																	var y =
																		new Cesium.SampledProperty(
																			Cesium.Cartesian3
																		);
																	y.addSample(
																		s,
																		new Cesium.Cartesian3(
																			o.orientation.heading,
																			o.orientation.pitch,
																			o.orientation.roll
																		)
																	),
																		n.intervals.addInterval(
																			new Cesium.TimeInterval(
																				{
																					start: r,
																					stop: c,
																					isStopIncluded:
																						0 ===
																						a,
																					data: h,
																				}
																			)
																		),
																		n.intervals.addInterval(
																			new Cesium.TimeInterval(
																				{
																					start: c,
																					stop: s,
																					isStopIncluded:
																						0 ===
																						a,
																					data: p,
																				}
																			)
																		),
																		n.intervals.addInterval(
																			new Cesium.TimeInterval(
																				{
																					start: s,
																					stop: s,
																					isStopIncluded:
																						!0,
																					data: y,
																				}
																			)
																		);
																} else
																	o.stopTime =
																		s;
																if (
																	o.delayTime &&
																	0 !==
																		Number(
																			o.delayTime
																		)
																) {
																	var m =
																		Cesium.JulianDate.addSeconds(
																			s,
																			Number(
																				o.delayTime
																			),
																			new Cesium.JulianDate()
																		);
																	o.delaystopTime =
																		m;
																	var v =
																		new Cesium.TimeIntervalCollectionPositionProperty();
																	v.intervals.addInterval(
																		new Cesium.TimeInterval(
																			{
																				start: s,
																				stop: m,
																				isStopIncluded:
																					!1,
																				data: o.position,
																			}
																		)
																	),
																		t.intervals.addInterval(
																			new Cesium.TimeInterval(
																				{
																					start: s,
																					stop: m,
																					isStopIncluded:
																						!1,
																					data: v,
																				}
																			)
																		);
																	var g =
																		new Cesium.TimeIntervalCollectionProperty();
																	g.intervals.addInterval(
																		new Cesium.TimeInterval(
																			{
																				start: s,
																				stop: m,
																				isStopIncluded:
																					!1,
																				data: new Cesium.Cartesian3(
																					o.orientation.heading,
																					o.orientation.pitch,
																					o.orientation.roll
																				),
																			}
																		)
																	),
																		n.intervals.addInterval(
																			new Cesium.TimeInterval(
																				{
																					start: s,
																					stop: m,
																					isStopIncluded:
																						!1,
																					data: g,
																				}
																			)
																		),
																		i.intervals.addInterval(
																			new Cesium.TimeInterval(
																				{
																					start: r,
																					stop: m,
																					isStopIncluded:
																						0 ===
																						a,
																					data: a,
																				}
																			)
																		),
																		(r = m);
																} else
																	i.intervals.addInterval(
																		new Cesium.TimeInterval(
																			{
																				start: r,
																				stop: s,
																				isStopIncluded:
																					0 ===
																					a,
																				data: a,
																			}
																		)
																	),
																		(r = s);
															}
														),
														(this._clock.startTime =
															this._startTime),
														(this._clock.stopTime =
															r),
														(this._clock.multiplier = 1),
														this._viewer.timeline &&
															this._viewer.timeline.zoomTo(
																this._startTime,
																r
															),
														(this._positionProperty =
															t),
														(this._indexProperty =
															i),
														(this._headingprProperty =
															n),
														(this._trackedEntity =
															this.dataSource.entities.add(
																(function (e) {
																	for (
																		var t = 1;
																		t <
																		arguments.length;
																		t++
																	) {
																		var n =
																			null !=
																			arguments[
																				t
																			]
																				? arguments[
																						t
																				  ]
																				: {};
																		t % 2
																			? v(
																					Object(
																						n
																					),
																					!0
																			  ).forEach(
																					function (
																						t
																					) {
																						(0,
																						c.default)(
																							e,
																							t,
																							n[
																								t
																							]
																						);
																					}
																			  )
																			: u
																			? Object.defineProperties(
																					e,
																					u(
																						n
																					)
																			  )
																			: v(
																					Object(
																						n
																					)
																			  ).forEach(
																					function (
																						t
																					) {
																						Object.defineProperty(
																							e,
																							t,
																							l(
																								n,
																								t
																							)
																						);
																					}
																			  );
																	}
																	return e;
																})(
																	{
																		position:
																			t,
																		viewFrom:
																			new Cesium.Cartesian3(
																				0,
																				0,
																				this._range
																			),
																		point: {
																			pixelSize: 0.01,
																			color: Cesium
																				.Color
																				.RED,
																		},
																	},
																	this
																		.entityOptions
																)
															)),
														this.routeLineAsPath)
													)
														this.dataSource.entities.add(
															{
																position: t,
																path: {
																	material:
																		this
																			.routeLineMaterail,
																	show: this
																		.showRouteLine,
																	leadTime: 0,
																	trailTime:
																		this
																			.totalDuration,
																},
															}
														);
													else {
														var o =
															this.routePoints.values.map(
																function (e) {
																	return e.position;
																}
															);
														this.dataSource.entities.add(
															{
																polyline: {
																	positions:
																		o,
																	material:
																		this
																			.routeLineMaterail,
																	show: this
																		.showRouteLine,
																},
															}
														);
													}
													this.isAlongLine &&
														this.isFirstView;
												},
											},
											{
												key: "addPoint",
												value: function (e, t) {
													var n = new p.default(e);
													this.routePoints.set(t, n),
														this._isDebuggerMode &&
															this.getLabel(n, t);
												},
											},
											{
												key: "getPoint",
												value: function (e) {
													return this.routePoints.get(
														e
													);
												},
											},
											{
												key: "getRouteLength",
												value: function () {
													for (
														var e = 0, t = 0;
														t <
														this.routePoints.length;
														t++
													) {
														var n =
															this.getPoint(t);
														if (
															t > 0 &&
															n.speed > 0
														) {
															var r =
																	this.getPoint(
																		t - 1
																	),
																i =
																	Cesium.Cartesian3.distance(
																		n.position,
																		r.position
																	);
															n.duration =
																Math.floor(
																	(i /
																		n.speed) *
																		100
																) / 100;
														}
														if (
															t + 1 !==
															this.routePoints
																.length
														) {
															var o =
																this.getPoint(
																	t + 1
																);
															e +=
																Cesium.Cartesian3.distance(
																	n.position,
																	o.position
																);
														}
													}
													return e;
												},
											},
											{
												key: "setCurrentIndex",
												value: function (e) {
													if (this._indexProperty) {
														var t =
															this._indexProperty.intervals._intervals.find(
																function (t) {
																	return (
																		t.data ===
																		e
																	);
																}
															);
														t &&
															(0 === e
																? this.setTime(
																		t.start
																  )
																: this.setTime(
																		t.stop
																  ));
													}
												},
											},
											{
												key: "setTime",
												value: function (e) {
													(this._clock.shouldAnimate =
														!1),
														this._canclePromise &&
															(this._canclePromise =
																void 0),
														(this._tweenjs =
															void 0),
														e instanceof String
															? ((e = new Date(
																	e
															  )),
															  (e =
																	Cesium.JulianDate.fromDate(
																		e
																	)))
															: "number" ==
															  typeof e
															? (e =
																	Cesium.JulianDate.addSeconds(
																		this
																			._startTime,
																		e,
																		new Cesium.JulianDate()
																	))
															: e instanceof Date
															? (e =
																	Cesium.JulianDate.fromDate(
																		e
																	))
															: Cesium.JulianDate;
													var t = e,
														n =
															this._indexProperty.getValue(
																t
															);
													(this._currentPointIndex =
														n),
														(this._clock.currentTime =
															t),
														(this._playState =
															d.default.PAUSE);
												},
											},
											{
												key: "setTimeAndPlay",
												value: function (e) {
													this.setTime(e);
													var t =
														this._clock.currentTime;
													(void 0 ===
														this
															._currentPointIndex ||
														this
															._currentPointIndex >=
															this.routePoints
																.length) &&
														(this._currentPointIndex =
															this.routePoints
																.length - 1);
													var n =
														this.routePoints.get(
															this
																._currentPointIndex
														);
													if (n) {
														var i = {};
														if (
															((0, r.default)(
																i,
																n
															),
															n.stopTime)
														)
															if (
																Cesium.JulianDate.greaterThanOrEquals(
																	n.stopTime,
																	t
																)
															) {
																var o =
																	Cesium.JulianDate.secondsDifference(
																		n.stopTime,
																		t
																	);
																i.duration = o;
															} else
																(i.duration = 0),
																	(i.delayTime =
																		Cesium.JulianDate.secondsDifference(
																			n.delaystopTime,
																			t
																		));
														this.play(i);
													}
												},
											},
											{
												key: "getCurrentPosition",
												value: function () {
													if (this._positionProperty)
														return this._positionProperty.getValue(
															this._clock
																.currentTime
														);
												},
											},
											{
												key: "play",
												value: function (e) {
													if (
														e ||
														this._playState !==
															d.default.PLAYING
													) {
														var t = this.getPoint(
															this
																._currentPointIndex
														);
														this.isAlongLine
															? this._alongLineHandle(
																	t,
																	e
															  )
															: this._flyHandle(
																	t,
																	e
															  );
													}
												},
											},
											{
												key: "_alongLineHandle",
												value: function (e, t) {
													if (
														((this._playState !==
															d.default.NONE &&
															this._playState !==
																d.default
																	.STOP) ||
															(this._clock.currentTime =
																this._startTime),
														(this._clock.clockRange =
															Cesium.ClockRange.CLAMPED),
														this._playState ===
															d.default.NONE ||
															this._playState ===
																d.default.STOP)
													);
													else if (
														((this._clock.shouldAnimate =
															!0),
														t)
													)
														this.doFly(t);
													else {
														if (
															this._playState ===
															d.default.PAUSE
														)
															return void this.setTimeAndPlay(
																Cesium.JulianDate.toDate(
																	this._clock
																		.currentTime
																)
															);
														if (
															this._playState ===
															d.default.PLAYING
														)
															return (
																(this._clock.currentTime =
																	this._startTime),
																void this.doFly(
																	e
																)
															);
													}
													if (
														0 ===
														this._currentPointIndex
													) {
														var n = this;
														this._viewer.camera.flyTo(
															{
																destination:
																	e.position,
																orientation:
																	e.orientation,
																complete:
																	function () {
																		window.setTimeout(
																			function () {
																				(n._playState !==
																					d
																						.default
																						.NONE &&
																					n._playState !==
																						d
																							.default
																							.STOP) ||
																					(n.doFly(
																						e
																					),
																					(n._clock.shouldAnimate =
																						!0)),
																					n.bindingView(),
																					(n._playState =
																						d.default.PLAYING);
																			},
																			1e3
																		);
																	},
															}
														);
													} else
														(this._clock.shouldAnimate =
															!0),
															this.bindingView(),
															(this._playState =
																d.default.PLAYING);
												},
											},
											{
												key: "_flyHandle",
												value:
													((n = (0, o.default)(
														t.default.mark(
															function e(n, r) {
																var i;
																return t.default.wrap(
																	function (
																		e
																	) {
																		for (;;)
																			switch (
																				(e.prev =
																					e.next)
																			) {
																				case 0:
																					if (
																						!this
																							._tweenjs
																					) {
																						e.next = 3;
																						break;
																					}
																					return (
																						this._tweenjs.play(),
																						e.abrupt(
																							"return"
																						)
																					);
																				case 3:
																					if (
																						this
																							._playState !==
																							d
																								.default
																								.NONE &&
																						this
																							._playState !==
																							d
																								.default
																								.STOP
																					) {
																						e.next = 9;
																						break;
																					}
																					return (
																						(e.next = 6),
																						this.doFly(
																							n
																						)
																					);
																				case 6:
																					(i =
																						e.sent),
																						(e.next = 18);
																					break;
																				case 9:
																					if (
																						!r
																					) {
																						e.next = 15;
																						break;
																					}
																					return (
																						(e.next = 12),
																						this.doFly(
																							r
																						)
																					);
																				case 12:
																					(i =
																						e.sent),
																						(e.next = 18);
																					break;
																				case 15:
																					return (
																						(e.next = 17),
																						this.doFly(
																							n
																						)
																					);
																				case 17:
																					i =
																						e.sent;
																				case 18:
																					(this._playState =
																						d.default.PLAYING),
																						this
																							._currentPointIndex++,
																						this
																							._currentPointIndex ===
																						this
																							.routePoints
																							.length
																							? (this.stop(),
																							  this
																									.isLoop
																									? ((this._currentPointIndex = 0),
																									  this.play())
																									: this.onEnd.raiseEvent(
																											{
																												index: this
																													._currentPointIndex,
																											}
																									  ))
																							: this
																									._playState ===
																									d
																										.default
																										.PLAYING &&
																							  i &&
																							  this.play();
																				case 21:
																				case "end":
																					return e.stop();
																			}
																	},
																	e,
																	this
																);
															}
														)
													)),
													function (e, t) {
														return n.apply(
															this,
															arguments
														);
													}),
											},
											{
												key: "bindingView",
												value: function () {
													var e = this;
													this._trackedEntity.point.show =
														new Cesium.CallbackProperty(
															function (t, n) {
																if (
																	e._playState ===
																	d.default
																		.PAUSE
																)
																	e._viewer.camera.lookAtTransform(
																		Cesium
																			.Matrix4
																			.IDENTITY
																	);
																else {
																	var r =
																			e._positionProperty.getValue(
																				t
																			),
																		i =
																			e._headingprProperty.getValue(
																				t
																			);
																	r &&
																		i &&
																		(e.isFirstView
																			? ((i =
																					new Cesium.HeadingPitchRoll(
																						i.x,
																						i.y,
																						i.z
																					)),
																			  e._viewer.camera.setView(
																					{
																						destination:
																							r,
																						orientation:
																							i,
																					}
																			  ),
																			  e._viewer.camera.lookAtTransform(
																					Cesium
																						.Matrix4
																						.IDENTITY
																			  ))
																			: e.isFreeLookAt
																			? e
																					._viewer
																					.trackedEntity ||
																			  (e._viewer.trackedEntity =
																					e._trackedEntity)
																			: ((i =
																					new Cesium.HeadingPitchRange(
																						i.x,
																						i.y,
																						e._range
																					)),
																			  e._viewer.camera.lookAt(
																					r,
																					i
																			  ),
																			  e._viewer.camera.lookAtTransform(
																					Cesium
																						.Matrix4
																						.IDENTITY
																			  )));
																}
																return (
																	e._playclock &&
																		((e.multiplier =
																			e._clock.multiplier),
																		(e._playclock.currentTime =
																			t),
																		e._playclock.tick()),
																	!0
																);
															},
															!1
														);
												},
											},
											{
												key: "removeBindingView",
												value: function () {
													this._trackedEntity &&
														(this._trackedEntity.point.show =
															!0),
														this._viewer
															.trackedEntity &&
															(this._viewer.trackedEntity =
																void 0);
												},
											},
											{
												key: "stop",
												value: function () {
													(this._playState =
														d.default.STOP),
														(this._clock.shouldAnimate =
															!1),
														(this._currentPointIndex = 0),
														this._canclePromise &&
															(this._canclePromise =
																void 0),
														(this.isHeadingFree =
															!0),
														(this.isTiltFree = !0),
														(this._viewer.trackedEntity =
															void 0),
														this.removeBindingView(),
														this._viewer.camera.lookAtTransform(
															Cesium.Matrix4
																.IDENTITY
														);
												},
											},
											{
												key: "pause",
												value: function () {
													this._playState !==
														d.default.PAUSE &&
														(this.isAlongLine &&
															(this._clock.shouldAnimate =
																!1),
														this._playState ===
															d.default.PLAYING &&
															this._viewer.camera.cancelFlight(),
														this.isFreeLookAt &&
															this._viewer
																.trackedEntity &&
															(this._viewer.trackedEntity =
																void 0),
														(this._playState =
															d.default.PAUSE));
												},
											},
											{
												key: "doFly",
												value: function (e) {
													var n = this,
														r = this,
														a = new i.default(
															function (i, a) {
																var s;
																r.isAlongLine
																	? r.alongLineFlyHandle(
																			e
																	  )
																	: (n.getLabel(
																			e,
																			n._currentPointIndex
																	  ),
																	  r._viewer.camera.flyTo(
																			{
																				destination:
																					e.position,
																				orientation:
																					e.orientation,
																				duration:
																					e.duration,
																				complete:
																					((s =
																						(0,
																						o.default)(
																							t.default.mark(
																								function n() {
																									return t.default.wrap(
																										function (
																											t
																										) {
																											for (;;)
																												switch (
																													(t.prev =
																														t.next)
																												) {
																													case 0:
																														return (
																															r.onstepArrived.raiseEvent(
																																{
																																	index: r._currentPointIndex,
																																	stop: r.routePoints.get(
																																		r._currentPointIndex
																																	),
																																}
																															),
																															(t.next = 3),
																															r.stepFlyEndHandle(
																																e
																															)
																														);
																													case 3:
																														i(
																															e
																														);
																													case 4:
																													case "end":
																														return t.stop();
																												}
																										},
																										n
																									);
																								}
																							)
																						)),
																					function () {
																						return s.apply(
																							this,
																							arguments
																						);
																					}),
																			}
																	  ));
															}
														);
													return (
														(this._canclePromise =
															a),
														a
													);
												},
											},
											{
												key: "destroy",
												value: function () {
													this.stop(),
														this.dataSource.entities.removeAll(),
														this._viewer.dataSources.remove(
															this.dataSource
														),
														Cesium.destroyObject(
															this
														),
														this._viewer.camera.lookAtTransform(
															Cesium.Matrix4
																.IDENTITY
														);
												},
											},
											{
												key: "stepFlyEndHandle",
												value: function (e) {
													var t = this;
													return new i.default(
														function (n, r) {
															if (
																e.delayTime &&
																Number(
																	e.delayTime
																) > 0
															) {
																var i;
																if (
																	e.stopPlayType ===
																	y.default
																		.FLY_CIRCLE
																) {
																	var o =
																			t._viewer,
																		a =
																			o.camera,
																		s =
																			o.scene,
																		l =
																			Cesium.Transforms.eastNorthUpToFixedFrame(
																				e.position,
																				Cesium
																					.Ellipsoid
																					.WGS84
																			);
																	a.lookAtTransform(
																		l
																	),
																		(i =
																			s.postRender.addEventListener(
																				function () {
																					a.lookAtTransform(
																						l
																					),
																						a.rotateLeft(
																							Cesium.Math.toRadians(
																								0.5
																							)
																						),
																						a.lookAtTransform(
																							Cesium
																								.Matrix4
																								.IDENTITY
																						);
																				}
																			));
																}
																t.getClock(e);
																var u =
																	t._playclock.onEnd.addEventListener(
																		function () {
																			u(),
																				i &&
																					i(),
																				t.onstepWaitEnd.raiseEvent(
																					{
																						index: t._currentPointIndex,
																						stop: t.routePoints.get(
																							t._currentPointIndex
																						),
																					}
																				),
																				n(
																					e
																				);
																		}
																	);
															} else n(e);
														}
													);
												},
											},
											{
												key: "getClock",
												value: function (e) {
													this._playclock
														? ((this._playclock.startTime =
																e.startTime),
														  (this._playclock.stopTime =
																e.stopTime),
														  (this._playclock.shouldAnimate =
																!0),
														  (this._playclock.multiplier =
																this._clock.multiplier))
														: (this._playclock =
																new Cesium.Clock(
																	{
																		startTime:
																			e.startTime,
																		stopTime:
																			e.stopTime,
																		clockRange:
																			Cesium
																				.ClockRange
																				.CLAMPED,
																		shouldAnimate:
																			!0,
																	}
																)),
														(this._playclock._listeners =
															[]),
														(this._playclock._scopes =
															[]),
														(this._playclock._toRemove =
															[]);
												},
											},
											{
												key: "alongLineFlyHandle",
												value: function (e) {
													var t = this;
													this.getClock(e);
													var n = this._playclock,
														r =
															n.onStop.addEventListener(
																function () {
																	function i() {
																		t._currentPointIndex++;
																		var e =
																			t.routePoints.get(
																				t._currentPointIndex
																			);
																		e
																			? t.alongLineFlyHandle(
																					e
																			  )
																			: t.isLoop
																			? ((t._currentPointIndex = 0),
																			  t.play())
																			: (t.stop(),
																			  t.onEnd.raiseEvent(
																					{
																						index: t._currentPointIndex,
																					}
																			  ));
																	}
																	r(),
																		t.onstepArrived.raiseEvent(
																			{
																				index: t._currentPointIndex,
																				stop: t.routePoints.get(
																					t._currentPointIndex
																				),
																			}
																		),
																		e.delaystopTime &&
																		e.delayTime &&
																		Number(
																			e.delayTime
																		) > 0
																			? ((n.stopTime =
																					e.delaystopTime),
																			  (r =
																					n.onStop.addEventListener(
																						function () {
																							t.onstepWaitEnd.raiseEvent(
																								{
																									index: t._currentPointIndex,
																									stop: t.routePoints.get(
																										t._currentPointIndex
																									),
																								}
																							),
																								r(),
																								i();
																						}
																					)))
																			: (t.onstepWaitEnd.raiseEvent(
																					{
																						index: t._currentPointIndex,
																						stop: t.routePoints.get(
																							t._currentPointIndex
																						),
																					}
																			  ),
																			  i());
																}
															);
												},
											},
											{
												key: "getLabel",
												value: function (e, t) {
													var n =
														this.dataSource.entities.getById(
															t
														);
													n
														? (n.show =
																e.showStopLabel &&
																this
																	.showRouteLables)
														: e.showStopLabel &&
														  this
																.showRouteLables &&
														  this.dataSource.entities.add(
																{
																	position:
																		e.position,
																	label: {
																		text:
																			e.stopName ||
																			t +
																				1 +
																				"",
																		pixelOffset:
																			new Cesium.Cartesian2(
																				0,
																				-5
																			),
																	},
																	point: {
																		pixelSize: 5,
																		color: Cesium
																			.Color
																			.GREEN,
																	},
																}
														  );
												},
											},
										],
										[
											{
												key: "loadRoute",
												value: function (t, n, r) {
													return new e({
														dataSource: r,
														routeData: n,
														viewer: t,
													});
												},
											},
										]
									),
									e
								);
							})();
							e.default = g;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			n(95), (e.exports = n(1).Object.getOwnPropertySymbols);
		},
		function (e, t, n) {
			n(186), (e.exports = n(1).Object.getOwnPropertyDescriptors);
		},
		function (e, t, n) {
			var r = n(2),
				i = n(187),
				o = n(22),
				a = n(50),
				s = n(115);
			r(r.S, "Object", {
				getOwnPropertyDescriptors: function (e) {
					for (
						var t, n, r = o(e), l = a.f, u = i(r), c = {}, f = 0;
						u.length > f;

					)
						void 0 !== (n = l(r, (t = u[f++]))) && s(c, t, n);
					return c;
				},
			});
		},
		function (e, t, n) {
			var r = n(76),
				i = n(57),
				o = n(11),
				a = n(4).Reflect;
			e.exports =
				(a && a.ownKeys) ||
				function (e) {
					var t = r.f(o(e)),
						n = i.f;
					return n ? t.concat(n(e)) : t;
				};
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(9), n(8), n(116)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i) {
							"use strict";
							var o = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = o(t)),
								(r = o(r)),
								(i = o(i));
							var a = (0, t.default)(function e(t) {
								(0, r.default)(this, e),
									Cesium.defaultValue(t, {}),
									(this._showStopLabel = Cesium.defaultValue(
										t.showStopLabel,
										!0
									)),
									(this._stopName = Cesium.defaultValue(
										t.name,
										""
									)),
									t.position &&
										t.position instanceof Array &&
										(t.position =
											Cesium.Cartesian3.fromDegrees(
												t.position[0],
												t.position[1],
												t.position[2]
											)),
									(this.position = Cesium.defaultValue(
										t.position,
										new Cesium.Cartesian3()
									)),
									(this.orientation = Cesium.defaultValue(
										t.orientation,
										new Cesium.HeadingPitchRoll()
									)),
									(this._duration = Number(t.duration || 5)),
									(this.speed = Cesium.defaultValue(
										t.speed,
										0
									)),
									(this.delayTime = Cesium.defaultValue(
										Number(t.delayTime),
										0
									)),
									(this._stopPlayType = Cesium.defaultValue(
										t.stopPlayType,
										i.default.FLY_CIRCLE
									)),
									(this.properties = Cesium.defaultValue(
										t.properties,
										{}
									));
							});
							Object.defineProperties(a.prototype, {
								showStopLabel: {
									get: function () {
										return this._showStopLabel;
									},
									set: function (e) {
										this._showStopLabel = e;
									},
								},
								duration: {
									get: function () {
										return this._duration;
									},
									set: function (e) {
										this._duration = e;
									},
								},
								stopPlayType: {
									get: function () {
										return this._stopPlayType;
									},
								},
								stopName: {
									get: function () {
										return this._stopName;
									},
								},
							});
							var s = a;
							e.default = s;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0);
							var t = { NONE: -1, PLAYING: 0, PAUSE: 1, STOP: 2 };
							e.default = t;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(5), n(27), n(117), n(88)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o) {
							"use strict";
							var a = n(0);
							function s(e) {
								e || (e = {}),
									(this._lastHightLight = {}),
									(this._modelIstanceCollections =
										new Cesium.AssociativeArray()),
									(this._hightLightColor = Cesium.Color.RED),
									(this._lastState = void 0),
									(this._show = Cesium.defaultValue(
										e.show,
										!0
									)),
									(this.options = e);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = a(t)),
								(r = a(r)),
								(i = a(i)),
								(o = a(o)),
								Object.defineProperties(s.prototype, {
									show: {
										get: function () {
											return this._show;
										},
										set: function (e) {
											this._show = e;
										},
									},
									readyPromise: {
										get: function () {
											var e =
												this._modelIstanceCollections.values.map(
													function (e) {
														return e.readyPromise;
													}
												);
											return t.default
												.all(e)
												.then(function (e) {
													return !0;
												});
										},
									},
								}),
								(s.prototype.addModelSates = function (
									e,
									t,
									n
								) {
									if (!Cesium.defined(e))
										throw new Error("未传入modelUrl");
									n || (n = {});
									var a =
										this._modelIstanceCollections.get(e);
									return (
										a ||
											((n = (0, r.default)(
												{
													url: e,
													useWorker:
														this.options.useWorker,
												},
												n
											)),
											(a = new i.default(n)),
											this._modelIstanceCollections.set(
												e,
												a
											)),
										t instanceof Array
											? t.forEach(a.addModelState)
											: t instanceof o.default &&
											  a.addModelState(t),
										a
									);
								}),
								(s.prototype.removeModelStates = function (
									e,
									t
								) {
									var n =
										this._modelIstanceCollections.get(e);
									n &&
										(Array.isArray(t)
											? n.removeModelStates(t)
											: t instanceof o.default &&
											  n.removeModelState(t));
								}),
								(s.prototype.updateModelStates = function (
									e,
									t
								) {
									var n =
										this._modelIstanceCollections.get(e);
									n &&
										(Array.isArray(t)
											? n.updateModelStates(t)
											: t instanceof o.default &&
											  n.updateModelState(t));
								}),
								(s.prototype.setHighLight = function (e, t, n) {
									e &&
										t &&
										(this.removeHighlight(),
										(this._lastState = {
											collection: e,
											state: t,
										}),
										(this._lastState.hightlightState =
											t.color.clone()),
										(t.color =
											null != n
												? n
												: this._hightLightColor),
										e.updateModelState(t));
								}),
								(s.prototype.removeHighlight = function () {
									if (this._lastState) {
										var e = this._lastState,
											t = e.collection,
											n = e.state,
											r = e.hightlightState;
										(n.color = r),
											n &&
												(null == t ||
													t.updateModelState(n)),
											(this._lastState = void 0);
									}
								}),
								(s.prototype.removeInstanceCollection =
									function (e) {
										var t =
											this._modelIstanceCollections.get(
												e
											);
										t &&
											(t.destroy(),
											this._modelIstanceCollections.remove(
												e
											));
									}),
								(s.prototype.releaseCollectionByUrl = function (
									e
								) {
									var t =
										this._modelIstanceCollections.get(e);
									t && t.releaseAllInstance();
								}),
								(s.prototype.reloadCollectionByUrl = function (
									e
								) {
									this.releaseCollectionByUrl(e);
									var t =
										this._modelIstanceCollections.get(e);
									t && t.reload();
								}),
								(s.prototype.update = function (e) {
									this.isDestroyed() ||
										(this.show &&
											this._modelIstanceCollections.values.forEach(
												function (t) {
													t.update(e);
												}
											));
								}),
								(s.prototype.getBoundingSphere = function () {
									var e = [];
									this._modelIstanceCollections.values.forEach(
										function (t) {
											e.push(t.getBoundingSphere());
										}
									);
									var t =
										Cesium.BoundingSphere.fromBoundingSpheres(
											e
										);
									return (this._boundingSphere = t), t;
								}),
								(s.prototype.releaseCollection = function () {
									(this.show = !1),
										this._modelIstanceCollections.values.forEach(
											function (e) {
												e.releaseAllInstance();
											}
										);
								}),
								(s.prototype.reload = function () {
									(this.show = !0),
										this._modelIstanceCollections.values.forEach(
											function (e) {
												e.reload();
											}
										);
								}),
								(s.prototype.removeAll = function () {
									this._modelIstanceCollections.values.forEach(
										function (e) {
											e.destroy();
										}
									),
										this._modelIstanceCollections.removeAll();
								}),
								(s.prototype.isDestroyed = function () {
									return !1;
								}),
								(s.prototype.destroy = function () {
									this.removeAll(),
										Cesium.destroyObject(
											this,
											"无法调用已经销毁的ModelInstanceManager对象"
										);
								}),
								(s.prototype.findState = function (e) {
									for (
										var t =
												this._modelIstanceCollections
													.length,
											n = 0;
										n < t;
										n++
									) {
										var r =
											this._modelIstanceCollections
												.values[n];
										if (r) {
											var i = r.findState(e);
											if (i) return i;
										}
									}
								});
							var l = s;
							e.default = l;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			e.exports = n(192);
		},
		function (e, t, n) {
			n(34),
				n(35),
				n(26),
				n(193),
				n(194),
				n(196),
				n(197),
				(e.exports = n(1).Set);
		},
		function (e, t, n) {
			"use strict";
			var r = n(118),
				i = n(36);
			e.exports = n(61)(
				"Set",
				function (e) {
					return function () {
						return e(
							this,
							arguments.length > 0 ? arguments[0] : void 0
						);
					};
				},
				{
					add: function (e) {
						return r.def(i(this, "Set"), (e = 0 === e ? 0 : e), e);
					},
				},
				r
			);
		},
		function (e, t, n) {
			var r = n(2);
			r(r.P + r.R, "Set", { toJSON: n(119)("Set") });
		},
		function (e, t, n) {
			var r = n(41);
			e.exports = function (e, t) {
				var n = [];
				return r(e, !1, n.push, n, t), n;
			};
		},
		function (e, t, n) {
			n(62)("Set");
		},
		function (e, t, n) {
			n(63)("Set");
		},
		function (e, t, n) {
			var r,
				i,
				o,
				a = n(28),
				s = n(86),
				l = n(42),
				u = n(87);
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(64), n(43), n(12)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i) {
							"use strict";
							var o = n(0);
							function c(e, t) {
								var n = a(e);
								if (s) {
									var r = s(e);
									t &&
										(r = r.filter(function (t) {
											return l(e, t).enumerable;
										})),
										n.push.apply(n, r);
								}
								return n;
							}
							function f(e) {
								if (!e.model) throw new Error("未传入模型对象");
								var t = Cesium,
									n = t.defaultValue,
									r = t.AssociativeArray,
									o = t.Matrix4,
									a = t.ColorBlendMode;
								if (
									((this._modelStates = e.modelStates),
									this._modelStates instanceof Array)
								) {
									var s = new r();
									this._modelStates.forEach(function (e) {
										s.set(e._id, e);
									}),
										(this._modelStates = s);
								}
								(this._primitive = n(e.collection, void 0)),
									(this._doVisibleFunc = Cesium.defaultValue(
										this._primitive.doVisibleFunc,
										!0
									)),
									(this._cull = n(e.cull, !1)),
									(this._needRebuild = n(e.show, !1)),
									(this._ready = !1),
									(this._mode = 0),
									(this._dynamic = n(e.dynamic, !1)),
									(this._dirty = !1),
									(this._readyPromise = (0, i.defer)()),
									(this.modelMatrix = o.clone(o.IDENTITY)),
									(this._modelMatrix = o.clone(
										this.modelMatrix
									)),
									(this._rtcTransform = new o()),
									(this._rtcModelView = new o()),
									(this._heightUpdates =
										new Cesium.AssociativeArray()),
									(this._vertexBufferTypedArray = []),
									(this._lastcullingVolume = void 0),
									(this._forceRender = !1),
									(this._showStates = []),
									(this.colorBlendMode = n(
										this._primitive.modelOptions
											.colorBlendMode,
										a.HIGHLIGHT
									)),
									(this.colorBlendAmount = n(
										this._primitive.modelOptions
											.colorBlendAmount,
										0.5
									));
							}
							function h(e, t) {
								var n = Cesium.clone(
									e._primitive.modelOptions,
									!0
								);
								delete n.colorBlendMode;
								var i = (function (e) {
									for (var t = 1; t < arguments.length; t++) {
										var n =
											null != arguments[t]
												? arguments[t]
												: {};
										t % 2
											? c(Object(n), !0).forEach(
													function (t) {
														(0, r.default)(
															e,
															t,
															n[t]
														);
													}
											  )
											: u
											? Object.defineProperties(e, u(n))
											: c(Object(n)).forEach(function (
													t
											  ) {
													Object.defineProperty(
														e,
														t,
														l(n, t)
													);
											  });
									}
									return e;
								})(
									{
										gltf: e._primitive._model.gltf,
										ignoreCommands: !0,
									},
									n
								);
								(e._boundingSphere = e.createBoundingSphere()),
									(e._center = Cesium.Cartesian3.clone(
										e._boundingSphere.center
									)),
									(e._vertexBufferTypedArray = []),
									(function (e, t) {
										var n = Cesium,
											r = n.Buffer,
											i = n.BufferUsage,
											o = e._dynamic,
											a =
												e._primitive
													._instanceMaxModelCount;
										(e._pickIdBuffer = r.createVertexBuffer(
											{
												context: t,
												usage: i.DYNAMIC_DRAW,
												sizeInBytes: 4 * a,
											}
										)),
											(e._vertexBuffer =
												r.createVertexBuffer({
													context: t,
													usage: o
														? i.STREAM_DRAW
														: i.DYNAMIC_DRAW,
													sizeInBytes: 48 * a,
												})),
											(e._modelColorBuffer =
												r.createVertexBuffer({
													context: t,
													usage: i.DYNAMIC_DRAW,
													sizeInBytes: 4 * a,
												}));
									})(e, t);
								var o,
									a,
									s = Cesium.ComponentDatatype.getSizeInBytes(
										Cesium.ComponentDatatype.FLOAT
									),
									f = {
										czm_modelMatrixRow0: {
											index: 0,
											vertexBuffer: e._vertexBuffer,
											componentsPerAttribute: 4,
											componentDatatype:
												Cesium.ComponentDatatype.FLOAT,
											normalize: !1,
											offsetInBytes: 0,
											strideInBytes: 12 * s,
											instanceDivisor: 1,
										},
										czm_modelMatrixRow1: {
											index: 0,
											vertexBuffer: e._vertexBuffer,
											componentsPerAttribute: 4,
											componentDatatype:
												Cesium.ComponentDatatype.FLOAT,
											normalize: !1,
											offsetInBytes: 4 * s,
											strideInBytes: 12 * s,
											instanceDivisor: 1,
										},
										czm_modelMatrixRow2: {
											index: 0,
											vertexBuffer: e._vertexBuffer,
											componentsPerAttribute: 4,
											componentDatatype:
												Cesium.ComponentDatatype.FLOAT,
											normalize: !1,
											offsetInBytes: 8 * s,
											strideInBytes: 12 * s,
											instanceDivisor: 1,
										},
									};
								(f.pickColor = {
									index: 0,
									vertexBuffer: e._pickIdBuffer,
									componentsPerAttribute: 4,
									componentDatatype:
										Cesium.ComponentDatatype.UNSIGNED_BYTE,
									normalize: !0,
									offsetInBytes: 0,
									strideInBytes: 0,
									instanceDivisor: 1,
								}),
									(f.modelColor = {
										index: 0,
										vertexBuffer: e._modelColorBuffer,
										componentsPerAttribute: 4,
										componentDatatype:
											Cesium.ComponentDatatype
												.UNSIGNED_BYTE,
										normalize: !0,
										offsetInBytes: 0,
										strideInBytes: 0,
										instanceDivisor: 1,
									}),
									(i.precreatedAttributes = f),
									(i.vertexShaderLoaded =
										((o = e),
										(a = Cesium.ShaderSource),
										function (e, t) {
											var n = d(o, t),
												r = a.replaceMain(
													e,
													"czm_instancing_main"
												),
												i = "",
												s = "";
											for (var l in n)
												if (n.hasOwnProperty(l)) {
													var u,
														c = n[l];
													"MODELVIEW" === c ||
													"CESIUM_RTC_MODELVIEW" === c
														? (u =
																"czm_instanced_modelView")
														: "MODELVIEWPROJECTION" ===
														  c
														? ((u =
																"czm_instanced_modelViewProjection"),
														  (i +=
																"mat4 czm_instanced_modelViewProjection;\n"),
														  (s +=
																"czm_instanced_modelViewProjection = czm_projection * czm_instanced_modelView;\n"))
														: "MODELVIEWINVERSETRANSPOSE" ===
																c &&
														  ((u =
																"czm_instanced_modelViewInverseTranspose"),
														  (i +=
																"mat3 czm_instanced_modelViewInverseTranspose;\n"),
														  (s +=
																"czm_instanced_modelViewInverseTranspose = mat3(czm_instanced_modelView);\n"));
													var f = new RegExp(
														"uniform.*" + l + ".*"
													);
													(r = r.replace(f, "")),
														(f = new RegExp(
															l + "\\b",
															"g"
														)),
														(r = r.replace(f, u));
												}
											return (
												"uniform mat4 czm_instanced_modifiedModelView;\nuniform mat4 czm_instanced_nodeTransform;\n" +
												i +
												"mat4 czm_instanced_modelView;\nattribute vec4 czm_modelMatrixRow0;\nattribute vec4 czm_modelMatrixRow1;\nattribute vec4 czm_modelMatrixRow2;\nattribute vec4 pickColor;\nvarying vec4 v_pickColor;\nattribute vec4 modelColor;\nvarying vec4 v_modelColor;\n" +
												r +
												"void main()\n{\n    mat4 czm_instanced_model = mat4(czm_modelMatrixRow0.x, czm_modelMatrixRow1.x, czm_modelMatrixRow2.x, 0.0, czm_modelMatrixRow0.y, czm_modelMatrixRow1.y, czm_modelMatrixRow2.y, 0.0, czm_modelMatrixRow0.z, czm_modelMatrixRow1.z, czm_modelMatrixRow2.z, 0.0, czm_modelMatrixRow0.w, czm_modelMatrixRow1.w, czm_modelMatrixRow2.w, 1.0);\n    czm_instanced_modelView = czm_instanced_modifiedModelView * czm_instanced_model * czm_instanced_nodeTransform;\n" +
												s +
												"    czm_instancing_main();\n    v_pickColor = pickColor;\n    v_modelColor = modelColor;\n}\n"
											);
										})),
									(i.fragmentShaderLoaded = function (e, t) {
										var n = Cesium.ShaderSource.replaceMain(
											e,
											"czm_instancing_color_main"
										);
										return (n +=
											"varying vec4 v_pickColor;\nvarying vec4 v_modelColor;\nuniform float gltf_colorBlend; \nvoid main() \n{ \n    czm_instancing_color_main(); \n    gl_FragColor.rgb = mix(gl_FragColor.rgb, v_modelColor.rgb, gltf_colorBlend); \n    float highlight = ceil(gltf_colorBlend); \n    gl_FragColor.rgb *= mix(v_modelColor.rgb, vec3(1.0), highlight); \n    gl_FragColor.a *= v_modelColor.a; \n} \n");
									}),
									(i.uniformMapLoaded = (function (e, t) {
										return function (n, r, i) {
											var o;
											((n =
												Cesium.clone(
													n
												)).czm_instanced_modifiedModelView =
												(function (e, t) {
													return function () {
														return Cesium.Matrix4.multiply(
															t.uniformState.view,
															e._rtcTransform,
															e._rtcModelView
														);
													};
												})(e, t)),
												(n.czm_instanced_nodeTransform =
													(function (e) {
														return function () {
															return e.computedMatrix;
														};
													})(i)),
												(n.gltf_colorBlend =
													((o = e),
													function () {
														return Cesium.ColorBlendMode.getColorBlend(
															o.colorBlendMode,
															o.colorBlendAmount
														);
													}));
											var a = d(e, r);
											for (var s in a)
												a.hasOwnProperty(s) &&
													delete n[s];
											return n;
										};
									})(e, t));
								try {
									var h = new Cesium.Model(i);
									(e._model = h),
										h.readyPromise.then(function (e) {
											e.activeAnimations.addAll({
												loop: Cesium.ModelAnimationLoop
													.REPEAT,
											});
										});
								} catch (t) {
									e.destroy(),
										console.error(
											"加载模型路径为".concat(
												e._primitive._url,
												"出错"
											)
										);
								}
							}
							function p(e, t, n, r) {
								var i = Cesium,
									o = i.defined,
									a = i.RuntimeError;
								return function (i, s) {
									var l = i.semantic;
									if (o(l) && e.indexOf(l) > -1) {
										if (!(t.indexOf(l) > -1))
											throw new a(
												'Shader program cannot be optimized for instancing. Uniform "' +
													s +
													'" in program "' +
													n +
													'" uses unsupported semantic "' +
													l +
													'"'
											);
										r[s] = l;
									}
								};
							}
							function d(e, t) {
								var n = Cesium,
									r = n.defined,
									i = n.ForEach;
								if (r(e._instancedUniformsByProgram))
									return e._instancedUniformsByProgram[t];
								var o = {};
								e._instancedUniformsByProgram = o;
								var a = [
										"MODEL",
										"MODELVIEW",
										"CESIUM_RTC_MODELVIEW",
										"MODELVIEWPROJECTION",
										"MODELINVERSE",
										"MODELVIEWINVERSE",
										"MODELVIEWPROJECTIONINVERSE",
										"MODELINVERSETRANSPOSE",
										"MODELVIEWINVERSETRANSPOSE",
									],
									s = [
										"MODELVIEW",
										"CESIUM_RTC_MODELVIEW",
										"MODELVIEWPROJECTION",
										"MODELVIEWINVERSETRANSPOSE",
									],
									l = e._model._sourceTechniques;
								for (var u in l)
									if (l.hasOwnProperty(u)) {
										var c = l[u],
											f = c.program;
										if (!r(o[f])) {
											var h = {};
											(o[f] = h),
												i.techniqueUniform(
													c,
													p(a, s, t, h)
												);
										}
									}
								return o[t];
							}
							function y(e) {
								(e._drawCommands = []),
									(function (e, t) {
										for (
											var n = t.length,
												r =
													e._vertexBufferTypedArray
														.length / 12,
												i = e._boundingSphere,
												o = e._cull,
												a = 0;
											a < n;
											++a
										) {
											var s =
												Cesium.DrawCommand.shallowClone(
													t[a]
												);
											(s.instanceCount = r),
												(s.boundingVolume = i),
												(s.cull = o),
												(s.pickId = "v_pickColor"),
												e._drawCommands.push(s);
										}
									})(
										e,
										(function (e) {
											for (
												var t = e._nodeCommands,
													n = t.length,
													r = [],
													i = 0;
												i < n;
												++i
											) {
												var o = t[i];
												o.show && r.push(o.command);
											}
											return r;
										})(e._model)
									);
							}
							function m(e) {
								for (
									var t = e._drawCommands,
										n = t.length,
										r = 0;
									r < n;
									++r
								)
									t[r].debugShowBoundingVolume = !0;
							}
							function v(e, t) {
								if (e._heightUpdates.length > 0) {
									var n = e._center;
									if (e._vertexBuffer)
										for (var r in e._heightUpdates._hash)
											if (
												e._heightUpdates._hash.hasOwnProperty(
													r
												)
											) {
												var i =
														e._heightUpdates._hash[
															r
														]._modelMatrix,
													o = new Float32Array(12);
												(i[12] -= n.x),
													(i[13] -= n.y),
													(i[14] -= n.z),
													(o[0] = i[0]),
													(o[1] = i[4]),
													(o[2] = i[8]),
													(o[3] = i[12]),
													(o[4] = i[1]),
													(o[5] = i[5]),
													(o[6] = i[9]),
													(o[7] = i[13]),
													(o[8] = i[2]),
													(o[9] = i[6]),
													(o[10] = i[10]),
													(o[11] = i[14]),
													e._vertexBuffer.copyFromArrayView(
														o,
														12 * r * 4
													);
											}
								} else {
									var a = (function (e) {
										for (
											var t = Cesium.Matrix4,
												n = e._showStates,
												r = n.length,
												i = new Uint8Array(4 * r),
												o = e._center,
												a = [],
												s = new t(),
												l = new Cesium.Cartesian3(),
												u = 0;
											u < r;
											++u
										) {
											var c = n[u]._modelMatrix;
											if (
												(t.clone(c, s),
												(s[12] -= o.x),
												(s[13] -= o.y),
												(s[14] -= o.z),
												!n[u]._boundingSphere)
											) {
												var f =
														Cesium.HeadingPitchRoll.fromDegrees(
															-n[u].heading,
															-n[u].pitch,
															-n[u].roll
														),
													h =
														Cesium.Transforms.headingPitchRollToFixedFrame(
															Cesium.Cartesian3
																.ZERO,
															f
														);
												Cesium.Matrix4.multiplyByPoint(
													h,
													e._model.boundingSphere
														.center,
													l
												),
													Cesium.Matrix4.multiplyByPoint(
														c,
														l,
														l
													),
													(n[u]._boundingSphere =
														new Cesium.BoundingSphere(
															l,
															e._model.boundingSphere.radius
														));
											}
											if (!1 !== n[u].visible) {
												var p = 4 * u;
												(i[p] =
													Cesium.Color.floatToByte(
														n[u].color.red
													)),
													(i[p + 1] =
														Cesium.Color.floatToByte(
															n[u].color.green
														)),
													(i[p + 2] =
														Cesium.Color.floatToByte(
															n[u].color.blue
														)),
													(i[p + 3] =
														Cesium.Color.floatToByte(
															n[u].color.alpha
														)),
													a.push(s[0]),
													a.push(s[4]),
													a.push(s[8]),
													a.push(s[12]),
													a.push(s[1]),
													a.push(s[5]),
													a.push(s[9]),
													a.push(s[13]),
													a.push(s[2]),
													a.push(s[6]),
													a.push(s[10]),
													a.push(s[14]);
											}
										}
										return (
											(e._vertexBufferTypedArray = a),
											e._modelColorBuffer.copyFromArrayView(
												i
											),
											new Float32Array(a)
										);
									})(e);
									e._vertexBuffer.copyFromArrayView(a);
								}
							}
							function g(e, t) {
								if (e._primitive._allowPicking)
									if (e._heightUpdates.length > 0) {
										var n = Cesium.Color;
										if (e._pickIds)
											for (var r in e._heightUpdates
												._hash)
												if (
													e._heightUpdates._hash.hasOwnProperty(
														r
													)
												) {
													var i =
															e._heightUpdates
																._hash[r],
														o = t.createPickId({
															state: i,
															collection:
																e._primitive,
														});
													e._pickIds[r] = o;
													var a = o.color,
														s = new Uint8Array(4);
													(s[0] = n.floatToByte(
														a.red
													)),
														(s[1] = n.floatToByte(
															a.green
														)),
														(s[2] = n.floatToByte(
															a.blue
														)),
														(s[3] = n.floatToByte(
															a.alpha
														)),
														e._pickIdBuffer.copyFromArrayView(
															s,
															4 * r * 1
														);
												}
									} else {
										e._pickIds = (function (e, t) {
											var n,
												r = e._showStates,
												i = [];
											e._pickIds &&
												(e._pickIds.length = 0);
											for (var o = 0; o < r.length; ++o)
												!1 !== r[o].visible &&
													(r[o].pickId
														? (n = r[o].pickId)
														: ((n = t.createPickId({
																primitive: {
																	state: r[o],
																	collection:
																		e._primitive,
																},
																id: r[o]
																	.properties,
																uuid: r[o]._id,
																model: r[o],
														  })),
														  (r[o].pickId = n)),
													i.push(n));
											return i;
										})(e, t);
										var l = (function (e) {
											var t,
												n = Cesium.Color,
												r = e._pickIds,
												i = new Uint8Array(
													4 * r.length
												);
											for (t = 0; t < r.length; ++t) {
												var o = e._pickIds[t].color;
												if (o) {
													var a = 4 * t;
													(i[a] = n.floatToByte(
														o.red
													)),
														(i[a + 1] =
															n.floatToByte(
																o.green
															)),
														(i[a + 2] =
															n.floatToByte(
																o.blue
															)),
														(i[a + 3] =
															n.floatToByte(
																o.alpha
															));
												}
											}
											return i;
										})(e);
										e._pickIdBuffer.copyFromArrayView(l);
									}
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = o(t)),
								(r = o(r)),
								Object.defineProperties(f.prototype, {
									modelStates: {
										get: function () {
											return this._modelStates;
										},
									},
									ready: {
										get: function () {
											return this._ready;
										},
									},
									readyPromise: {
										get: function () {
											return this._readyPromise.promise;
										},
									},
									show: {
										get: function () {
											return this.modelStates.length > 0;
										},
									},
								}),
								(f.prototype.update = function (e) {
									var n = this;
									if (!this.isDestroyed() && this.show) {
										this._model &&
											"function" ==
												typeof this._model.update &&
											this._model.update(e);
										var r = e.context;
										if (this._ready) this._model;
										else if (this._model)
											this._model &&
												this._model.ready &&
												((this._ready = !0),
												y(this),
												this._readyPromise.resolve(
													this
												),
												(this._dirty = !0));
										else if (
											(h(this, r),
											this._model instanceof Cesium.Model)
										) {
											var i =
												this._model.readyPromise.then(
													function () {
														return n._model
															.readyPromise;
													}
												);
											i.otherwise &&
												(i.catch = i.otherwise),
												i.catch(function (e) {
													console.log(
														"".concat(
															n._primitive._url,
															"模型加载失败"
														)
													),
														n._readyPromise.reject(
															e
														);
												});
										} else
											this._readyPromise.reject(
												"".concat(
													this._primitive._url,
													"模型加载失败"
												)
											);
										if (
											this._ready &&
											(!this._model || this._model.ready)
										) {
											var o = e.passes;
											if (o.pick) {
												var a = e.commandList,
													s = this._drawCommands;
												if (s) {
													var l = s.length;
													if (0 === l) return;
													for (var u = 0; u < l; ++u)
														a.push(s[u]);
												}
											} else {
												var c = e.mode !== this._mode,
													f = this.modelMatrix,
													p = !Cesium.Matrix4.equals(
														this._modelMatrix,
														f
													);
												if (c || p) {
													(this._mode = e.mode),
														Cesium.Matrix4.clone(
															f,
															this._modelMatrix
														);
													var d =
														Cesium.Matrix4.multiplyByTranslation(
															this._modelMatrix,
															this._center,
															this._rtcTransform
														);
													this._mode !==
														Cesium.SceneMode
															.SCENE3D &&
														(d =
															Cesium.Transforms.basisTo2D(
																e.mapProjection,
																d,
																d
															)),
														Cesium.Matrix4.getTranslation(
															d,
															this._boundingSphere
																.center
														);
												}
												var _ = e.camera,
													b =
														e.cullingVolume ||
														_.frustum.computeCullingVolume(
															_.positionWC,
															_.directionWC,
															_.upWC
														),
													x = (0, t.default)(b);
												if (
													!this._lastcullingVolume ||
													this._forceRender ||
													this._lastcullingVolume !==
														x
												) {
													if (
														((this._lastcullingVolume =
															x),
														this._doVisibleFunc)
													) {
														var w = (function (
															e,
															t,
															n
														) {
															var r = !1;
															e._showStates.length = 0;
															for (
																var i =
																		e
																			._modelStates
																			.values,
																	o =
																		i.length,
																	a =
																		new Cesium.Cartesian3(),
																	s = 0;
																s < o;
																++s
															) {
																var l =
																	i[s]
																		._modelMatrix;
																if (
																	!i[s]
																		._boundingSphere &&
																	e._model
																) {
																	var u =
																			Cesium.HeadingPitchRoll.fromDegrees(
																				-i[
																					s
																				]
																					.heading,
																				-i[
																					s
																				]
																					.pitch,
																				-i[
																					s
																				]
																					.roll
																			),
																		c =
																			Cesium.Transforms.headingPitchRollToFixedFrame(
																				Cesium
																					.Cartesian3
																					.ZERO,
																				u
																			);
																	Cesium.Matrix4.multiplyByPoint(
																		c,
																		e._model
																			.boundingSphere
																			.center,
																		a
																	),
																		Cesium.Matrix4.multiplyByPoint(
																			l,
																			a,
																			a
																		),
																		(i[
																			s
																		]._boundingSphere =
																			new Cesium.BoundingSphere(
																				a,
																				e._model.boundingSphere.radius
																			));
																}
																var f = i[
																	s
																].isVisible(
																	t,
																	n
																);
																f &&
																	(e._showStates.push(
																		i[s]
																	),
																	r ||
																		(r =
																			f));
															}
															return r;
														})(this, _, b);
														if (
															((this._dirty = !0),
															(this._boundingSphere =
																this.createBoundingSphere()),
															this._model)
														) {
															if (
																!this._model
																	.ready
															)
																return;
															if (!w)
																return (
																	(this._drawCommands.length = 0),
																	void (
																		this
																			._model &&
																		this.releaseModel()
																	)
																);
															var C =
																this._model
																	.boundingSphere
																	.radius +
																Cesium.Cartesian3.magnitude(
																	this._model
																		.boundingSphere
																		.center
																);
															(this._boundingSphere.radius +=
																C),
																(this._forceRender =
																	!1);
														}
														if (!this._model && w) {
															if (
																(h(this, r),
																Cesium.Matrix4.clone(
																	f,
																	this
																		._modelMatrix
																),
																Cesium.Matrix4.multiplyByTranslation(
																	this
																		._modelMatrix,
																	this
																		._center,
																	this
																		._rtcTransform
																),
																(this._forceRender =
																	!0),
																this
																	._model instanceof
																	Cesium.Model)
															) {
																var T =
																	this._model.readyPromise.then(
																		function () {}
																	);
																T.otherwise ||
																	(T.otherwise =
																		T.catch),
																	T.otherwise(
																		function (
																			e
																		) {
																			console.log(
																				"".concat(
																					n
																						._primitive
																						._url,
																					"模型加载失败"
																				)
																			),
																				n._readyPromise.reject(
																					e
																				);
																		}
																	);
															} else
																this._readyPromise.reject(
																	"".concat(
																		this
																			._primitive
																			._url,
																		"模型加载失败"
																	)
																);
															return;
														}
														if (!this._model)
															return;
														if (
															!o.render &&
															!o.pick &&
															this._primitive
																._allowPicking
														)
															return;
														this._dirty &&
															((this._dirty = !1),
															v(this),
															this._primitive
																._allowPicking &&
																g(this, r),
															y(this),
															this
																.debugShowBoundingVolume &&
																m(this));
													} else {
														if (!this._model)
															return;
														if (
															!o.render &&
															!o.pick &&
															this._primitive
																._allowPicking
														)
															return;
														this._forceRender &&
															this._primitive
																.updateStatesEnd &&
															((this._showStates =
																this._modelStates.values),
															v(this),
															this._primitive
																._allowPicking &&
																g(this, r),
															y(this),
															this
																.debugShowBoundingVolume &&
																m(this),
															(this._forceRender =
																!1),
															(this._primitive.updateStatesEnd =
																!1));
													}
													var k = e.commandList,
														P = this._drawCommands;
													if (P)
														for (
															var E = P.length,
																S = 0;
															S < E;
															++S
														)
															k.push(P[S]);
												} else {
													var A = e.commandList,
														M = this._drawCommands;
													if (M) {
														var I = M.length;
														if (0 === I) return;
														for (
															var L = 0;
															L < I;
															++L
														)
															A.push(M[L]);
													}
												}
											}
										}
									}
								}),
								(f.prototype.addModelState = function (e) {
									this.isDestroyed() ||
										(this.modelStates.get(e._id)
											? this.updateModelState(e)
											: (this.modelStates.set(e._id, e),
											  (this._forceRender = !0)));
								}),
								(f.prototype.updateModelState = function (e) {
									this.isDestroyed() ||
										(this.modelStates.get(e._id) &&
											(this.modelStates.set(e._id, e),
											(this._forceRender = !0)));
								}),
								(f.prototype.removeModelState = function (e) {
									this.isDestroyed() ||
										(this.modelStates.get(e._id) &&
											(this.modelStates.remove(e._id),
											(this._forceRender = !0)));
								}),
								(f.prototype.removeAllModelStates =
									function () {
										this.isDestroyed() ||
											(this.modelStates.removeAll(),
											(this._forceRender = !0));
									}),
								(f.prototype.createBoundingSphere =
									function () {
										if (!this.isDestroyed()) {
											for (
												var e = [], t = 0;
												t <
												this.modelStates.values.length;
												t++
											) {
												var n =
													this.modelStates.values[t];
												if (
													!1 !== n.visible ||
													!this._center
												) {
													var r = n.position;
													r.equals(
														Cesium.Cartesian3.ZERO
													) || e.push(r);
												}
											}
											return Cesium.BoundingSphere.fromPoints(
												e
											);
										}
									}),
								(f.prototype.isDestroyed = function () {
									return !1;
								}),
								(f.prototype.releaseModel = function () {
									this._vertexBuffer &&
										this._vertexBuffer.destroy(),
										this._pickIdBuffer &&
											this._pickIdBuffer.destroy(),
										delete this._vertexBufferTypedArray,
										delete this._vertexBuffer,
										delete this._pickIdBuffer,
										delete this._center,
										(this._boundingSphere =
											new Cesium.BoundingSphere()),
										this._model &&
											this._model instanceof
												Cesium.Model &&
											!this._model.isDestroyed() &&
											this._model.destroy(),
										delete this._model;
								}),
								(f.prototype.destroy = function () {
									this.modelStates.length > 0 &&
										this.modelStates.removeAll(),
										this.releaseModel(),
										Cesium.destroyObject(
											this,
											"无法调用已经销毁的ModelInstance对象"
										);
								}),
								(f.prototype.findState = function (e) {
									return {
										state: this.modelStates.values.find(
											function (t) {
												return (
													t.properties &&
													e(t.properties)
												);
											}
										),
										instance: this,
									};
								});
							var _ = f;
							e.default = _;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(12)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t) {
							"use strict";
							function n(e) {
								(this.readyPromise = (0, t.defer)()),
									(this.useWorker = Cesium.defaultValue(
										e.useWorker,
										!1
									)),
									(this._url = r(e.url)),
									(this.type = Cesium.defaultValue(
										e.type,
										"json"
									)),
									(this.transform = Cesium.defaultValue(
										e.transform,
										!1
									));
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(n.prototype.doRequest = function () {
									var e = this;
									if (this.useWorker) {
										var t =
											"\n  onmessage = function (event) {\n    let data = event.data\n    let transform = data.transform\n    let url = data.url\n    let type = data.type\n    request(transform, url, type)\n  }\n  function request (transform, url, type) {\n    var req = new XMLHttpRequest()\n    req.responseType = type\n    req.onerror = errHandler\n    req.onabort = errHandler\n    req.onload = loadHandler\n    req.open('get', url)\n    req.send()\n\n    function errHandler (e) {\n      let err = 'XMLHttpRequest ended with an ' + e.type\n      return callback(err)\n    }\n    function loadHandler (e) {\n      if (req.responseType !== type) {\n        let err = 'XMLHttpRequest: Wrong responseType. Expected ' +\n        type + ', got ' + req.responseType\n        return callback(err, req.response)\n      }\n      if (req.status !== 200) {\n        let err = 'XMLHttpRequest: HTTP ' + req.status + ' error from ' + url\n        return callback(err, req.response)\n      }\n      return callback(null, req.response)\n    }\n\n    // Return the request, just in case we want to abort it with req.abort()\n    function callback (err, data) {\n      if (err) {\n        self.postMessage()\n        self.close()\n        return\n      }\n      if (transform) {\n        self.postMessage(data, [data])\n      } else {\n        self.postMessage(data)\n      }\n      self.close()\n    }\n  }\n  ";
										t = new Blob([t], {
											type: "application/javascript",
										});
										var n = new Worker(
											window.URL.createObjectURL(t)
										);
										(n.onmessage = function (t) {
											t.data
												? e.readyPromise.resolve(t.data)
												: e.readyPromise.reject(
														" no data"
												  );
										}),
											n.postMessage({
												url: this._url,
												transform: this.transform,
												type: this.type,
											});
									} else {
										var r = new Cesium.Resource({
											url: this._url,
										});
										"json" === this.type
											? r.fetchJson().then(function (t) {
													e.readyPromise.resolve(t);
											  })
											: "blod" === this.type
											? r.fetchBlob().then(function (t) {
													e.readyPromise.resolve(t);
											  })
											: "arraybuffer" === this.type &&
											  r
													.fetchArrayBuffer()
													.then(function (t) {
														e.readyPromise.resolve(
															t
														);
													});
									}
								});
							var r = function (e) {
									var t = document.createElement("a");
									return (t.href = e), t.href;
								},
								i = n;
							e.default = i;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(28), n(5), n(29), n(8), n(9), n(120)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a, s) {
							"use strict";
							var l = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = l(t)),
								(r = l(r)),
								(i = l(i)),
								(o = l(o)),
								(a = l(a)),
								(s = l(s));
							var u = {},
								c = {},
								f = {},
								h = {},
								p = {},
								d = {};
							function y(e, t, n) {
								var r = Cesium,
									o = r.combine,
									a = r.defined,
									s = r.defaultValue,
									l = r.queryToObject,
									u = r.objectToQuery,
									c = r.Uri,
									f = (i.default || function () {})({
										service: "WMTS",
										version: "1.0.0",
										request: "GetTile",
									});
								"900913" === this.m_epsgCode && (n -= 1);
								var h = this.m_tileMatrixLabels,
									p = a(h) ? h[n] : n.toString(),
									d = this.m_subdomains,
									y = this.m_url.replace(
										"[subdomain]",
										d[(e + t + n) % d.length]
									),
									m = new c(y),
									v = m.query;
								"function" == typeof m.query && (v = m.query());
								var g = l(s(v, ""));
								return (
									((g = o(f, g)).tilematrix = p),
									(g.layer = this.m_layer),
									(g.style = this.m_style),
									(g.tilerow = t),
									(g.tilecol = e),
									(g.tilematrixset = this.m_tileMatrixSetID),
									(g.format = this.m_format),
									(y = m.toString()),
									(y += "?" + u(g)),
									a(this.m_proxy) &&
										(y = this.m_proxy.getURL(y)),
									a(this.m_token) &&
										(y += "&tk=" + this.m_token),
									y
								);
							}
							var m = (function () {
								function e(n) {
									(0, o.default)(this, e),
										(0, t.default)(s.default).forEach(
											function (e) {
												switch (
													((u[s.default[e]] =
														Cesium.defaultValue(
															n.protocol,
															"http"
														) +
														"://[subdomain].tianditu.gov.cn/" +
														s.default[e] +
														"/wmts"),
													(c[s.default[e]] =
														s.default[e].slice(
															0,
															3
														)),
													(f[s.default[e]] =
														s.default[e].slice(4)),
													(h[s.default[e]] = "tiles"),
													"w" === f[s.default[e]]
														? (p[s.default[e]] =
																"900913")
														: (p[s.default[e]] =
																"4490"),
													s.default[e])
												) {
													case "img_w":
													case "img_c":
													case "cia_w":
													case "cia_c":
													case "cta_w":
													case "cta_c":
														d[s.default[e]] = [
															"1",
															"2",
															"3",
															"4",
															"5",
															"6",
															"7",
															"8",
															"9",
															"10",
															"11",
															"12",
															"13",
															"14",
															"15",
															"16",
															"17",
															"18",
														];
														break;
													case "vec_w":
													case "vec_c":
													case "cva_w":
													case "cva_c":
														d[s.default[e]] = [
															"1",
															"2",
															"3",
															"4",
															"5",
															"6",
															"7",
															"8",
															"9",
															"10",
															"11",
															"12",
															"13",
															"14",
															"15",
															"16",
															"17",
															"18",
															"19",
														];
														break;
													case "ter_w":
													case "ter_c":
														d[s.default[e]] = [
															"1",
															"2",
															"3",
															"4",
															"5",
															"6",
															"7",
															"8",
															"9",
															"10",
															"11",
															"12",
															"13",
															"14",
														];
														break;
													case "eia_w":
													case "eia_c":
													case "eva_w":
													case "eva_c":
														d[s.default[e]] = [
															"1",
															"2",
															"3",
															"4",
															"5",
															"6",
															"7",
															"8",
															"9",
															"10",
														];
												}
											}
										);
									var i = Cesium,
										a = i.Credit,
										l = i.defaultValue,
										y = i.Event,
										m = i.GeographicTilingScheme,
										v = i.WebMercatorTilingScheme;
									(n = l(n, {})),
										(this.m_mapStyle = l(
											n.mapStyle,
											s.default.IMG_W
										)),
										(this.m_url = l(
											n.url,
											u[this.m_mapStyle]
										)),
										(this.m_token = n.token),
										(this.m_layer = l(
											n.layer,
											c[this.m_mapStyle]
										)),
										(this.m_style = l(n.style, "default")),
										(this.m_tileMatrixSetID = l(
											n.tileMatrixSetID,
											f[this.m_mapStyle]
										)),
										(this.m_tileMatrixLabels = l(
											n.tileMatrixLabels,
											d[this.m_mapStyle]
										)),
										(this.m_format = l(
											n.format,
											h[this.m_mapStyle]
										)),
										(this.m_epsgCode = p[this.m_mapStyle]),
										(this.m_tilingScheme =
											"900913" === this.m_epsgCode
												? new v()
												: new m()),
										(this.m_tileWidth = l(
											n.tileWidth,
											256
										)),
										(this.m_tileHeight = l(
											n.tileHeight,
											256
										)),
										(this.m_minimumLevel = l(
											n.minimumLevel,
											0
										)),
										(this.m_maximumLevel = l(
											n.maximumLevel,
											d[this.m_mapStyle].length
										)),
										(this.m_rectangle = l(
											n.rectangle,
											this.tilingScheme.rectangle
										)),
										(this.m_readyPromise =
											r.default.resolve(!0)),
										(this.m_errorEvent = new y());
									var g = l(n.credit, "天地图全球影像服务");
									(this.m_credit =
										"string" == typeof g ? new a(g) : g),
										(this.m_subdomains = l(n.subdomains, [
											"t0",
											"t1",
											"t2",
											"t3",
											"t4",
											"t5",
											"t6",
											"t7",
										])),
										(this.m_tileDiscardPolicy =
											n.tileDiscardPolicy);
								}
								return (
									(0, a.default)(e, [
										{
											key: "requestImage",
											value: function (e, t, n) {
												var r = y.call(this, e, t, n);
												return Cesium.ImageryProvider.loadImage(
													this,
													r
												);
											},
										},
										{
											key: "_isLabel",
											value: function () {
												return (
													this.m_mapStyle ===
														s.default.CIA_W ||
													this.m_mapStyle ===
														s.default.CVA_W ||
													this.m_mapStyle ===
														s.default.CVA_C ||
													this.m_mapStyle ===
														s.default.CTA_C ||
													this.m_mapStyle ===
														s.default.EIA_W ||
													this.m_mapStyle ===
														s.default.EIA_C ||
													this.m_mapStyle ===
														s.default.EVA_W ||
													this.m_mapStyle ===
														s.default.EVA_C
												);
											},
										},
										{
											key: "_drawBg",
											value: function (e, t) {
												var n = e.width,
													r = e.height,
													i =
														document.createElement(
															"canvas"
														);
												(i.width = n), (i.height = r);
												var o = i.getContext("2d");
												return (
													(o.fillStyle = t),
													o.fillRect(0, 0, n, r),
													o.drawImage(e, 0, 0),
													o.scale(1, -1),
													i
												);
											},
										},
										{
											key: "processImage",
											value: function (e) {
												var t = e.width,
													n = e.height,
													r =
														document.createElement(
															"canvas"
														);
												(r.width = t), (r.height = n);
												var i = r.getContext("2d");
												i.translate(0, n),
													i.scale(1, -1),
													i.drawImage(e, 0, 0, t, n);
												for (
													var o = i.getImageData(
															0,
															0,
															t,
															n
														),
														a = !0,
														s = "blue",
														l = 0.8,
														u = 0;
													u < o.data.length;
													u += 4
												) {
													var c = o.data[u],
														f = o.data[u + 1],
														h = o.data[u + 2],
														p = o.data[u + 3],
														d = (c + f + h) / 3;
													a && (d = 255 - d),
														(o.data[u] = d),
														(o.data[u + 1] = d),
														(o.data[u + 2] = d),
														(o.data[u + 3] = p * l);
												}
												return (
													i.putImageData(o, 0, 0),
													this._drawBg(r, s)
												);
											},
										},
										{
											key: "pickFeatures",
											value: function () {},
										},
										{
											key: "url",
											get: function () {
												return this.m_url;
											},
										},
										{
											key: "mapStyle",
											get: function () {
												return this.m_mapStyle;
											},
										},
										{
											key: "tileWidth",
											get: function () {
												return this.m_tileWidth;
											},
										},
										{
											key: "tileHeight",
											get: function () {
												return this.m_tileHeight;
											},
										},
										{
											key: "maximumLevel",
											get: function () {
												return this.m_maximumLevel;
											},
										},
										{
											key: "minimumLevel",
											get: function () {
												return this.m_minimumLevel;
											},
										},
										{
											key: "tilingScheme",
											get: function () {
												return this.m_tilingScheme;
											},
										},
										{
											key: "rectangle",
											get: function () {
												return this.m_rectangle;
											},
										},
										{
											key: "errorEvent",
											get: function () {
												return this.m_errorEvent;
											},
										},
										{
											key: "ready",
											get: function () {
												return !0;
											},
										},
										{
											key: "readyPromise",
											get: function () {
												return this.m_readyPromise;
											},
										},
										{
											key: "credit",
											get: function () {
												return this.m_credit;
											},
										},
										{
											key: "hasAlphaChannel",
											get: function () {
												return !0;
											},
										},
										{
											key: "tileDiscardPolicy",
											get: function () {
												return this.m_tileDiscardPolicy;
											},
										},
									]),
									e
								);
							})();
							e.default = m;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			n(202), (e.exports = n(1).Object.freeze);
		},
		function (e, t, n) {
			var r = n(3),
				i = n(25).onFreeze;
			n(17)("freeze", function (e) {
				return function (t) {
					return e && r(t) ? e(i(t)) : t;
				};
			});
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(12)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t) {
							"use strict";
							function n(e) {
								(this._errorEvent = new Cesium.Event()),
									(this._tileWidth = 256),
									(this._tileHeight = 256),
									(this._maximumLevel = 18),
									(this._minimumLevel = 1);
								var n = new Cesium.Cartesian2(
										-33554054,
										-33746824
									),
									r = new Cesium.Cartesian2(
										33554054,
										33746824
									);
								(this._tilingScheme =
									new Cesium.WebMercatorTilingScheme({
										rectangleSouthwestInMeters: n,
										rectangleNortheastInMeters: r,
									})),
									(this._rectangle =
										this._tilingScheme.rectangle);
								var i = Cesium.Resource.createIfNeeded(e);
								(this._resource = i),
									(this._tileDiscardPolicy = void 0),
									(this._credit = void 0),
									(this._readyPromise = (0, t.defer)()),
									this._readyPromise.resolve(!0);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								Object.defineProperties(n.prototype, {
									url: {
										get: function () {
											return this._resource.url;
										},
									},
									proxy: {
										get: function () {
											return this._resource.proxy;
										},
									},
									tileWidth: {
										get: function () {
											if (!this.ready)
												throw new Cesium.DeveloperError(
													"tileWidth must not be called before the imagery provider is ready."
												);
											return this._tileWidth;
										},
									},
									tileHeight: {
										get: function () {
											if (!this.ready)
												throw new Cesium.DeveloperError(
													"tileHeight must not be called before the imagery provider is ready."
												);
											return this._tileHeight;
										},
									},
									maximumLevel: {
										get: function () {
											if (!this.ready)
												throw new Cesium.DeveloperError(
													"maximumLevel must not be called before the imagery provider is ready."
												);
											return this._maximumLevel;
										},
									},
									minimumLevel: {
										get: function () {
											if (!this.ready)
												throw new Cesium.DeveloperError(
													"minimumLevel must not be called before the imagery provider is ready."
												);
											return this._minimumLevel;
										},
									},
									tilingScheme: {
										get: function () {
											if (!this.ready)
												throw new Cesium.DeveloperError(
													"tilingScheme must not be called before the imagery provider is ready."
												);
											return this._tilingScheme;
										},
									},
									tileDiscardPolicy: {
										get: function () {
											if (!this.ready)
												throw new Cesium.DeveloperError(
													"tileDiscardPolicy must not be called before the imagery provider is ready."
												);
											return this._tileDiscardPolicy;
										},
									},
									rectangle: {
										get: function () {
											if (!this.ready)
												throw new Cesium.DeveloperError(
													"rectangle must not be called before the imagery provider is ready."
												);
											return this._rectangle;
										},
									},
									errorEvent: {
										get: function () {
											return this._errorEvent;
										},
									},
									ready: {
										get: function () {
											return !0;
										},
									},
									readyPromise: {
										get: function () {
											return this._readyPromise.promise;
										},
									},
									credit: {
										get: function () {
											if (!this.ready)
												throw new Cesium.DeveloperError(
													"credit must not be called before the imagery provider is ready."
												);
											return this._credit;
										},
									},
								}),
								(n.prototype.requestImage = function (
									e,
									t,
									n,
									r
								) {
									var i =
											this._tilingScheme.getNumberOfXTilesAtLevel(
												n
											),
										o =
											this._tilingScheme.getNumberOfYTilesAtLevel(
												n
											),
										a = this.url
											.replace("{x}", e - i / 2)
											.replace("{y}", o / 2 - t - 1)
											.replace("{z}", n)
											.replace(
												"{s}",
												Math.floor(10 * Math.random())
											);
									return Cesium.ImageryProvider.loadImage(
										this,
										a
									);
								});
							var r = n;
							e.default = r;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(27), n(9), n(8)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i) {
							"use strict";
							var o = n(0);
							function a(e, t, n) {
								for (
									var r = e.toString(n || 10);
									r.length < t;

								)
									r = "0" + r;
								return r;
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = o(t)),
								(r = o(r)),
								(i = o(i));
							var s = (0, r.default)(function e(n) {
								return (
									(0, i.default)(this, e),
									Cesium.defaultValue(n, {}),
									n.isLocalTile
										? ((0, t.default)(n, {
												url:
													n.url +
													"{mz}/{my}/{mx}.png",
												customTags: {
													mz: function (e, t, n, r) {
														return (
															"L" + a(r, 2, 10)
														);
													},
													mx: function (e, t, n, r) {
														return (
															"C" + a(t, 8, 16)
														);
													},
													my: function (e, t, n, r) {
														return (
															"R" + a(n, 8, 16)
														);
													},
												},
										  }),
										  new Cesium.UrlTemplateImageryProvider(
												n
										  ))
										: new Cesium.ArcGisMapServerImageryProvider(
												n
										  )
								);
							});
							e.default = s;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(8), n(9)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r) {
							"use strict";
							var i = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = i(t)),
								(r = i(r));
							var o = (function () {
								function e(n) {
									(0, t.default)(this, e);
									var r = n,
										i = Cesium,
										o = i.defaultValue,
										a = i.Color;
									"string" == typeof r.bgColor &&
										(r.bgColor = a.fromCssColorString(
											r.bgColor
										)),
										(r.bgColor = o(
											r.bgColor,
											a.TRANSPARENT
										)),
										(r.alpha = o(r.alpha, 1)),
										(r.invert = o(r.invert, !1)),
										(r.preMultiplyAlpha = o(
											r.preMultiplyAlpha,
											!0
										)),
										(this.params = r);
									var s = this;
									(this.shaders = {
										bgFS: "\n        uniform sampler2D u_map;\n        uniform vec4 u_bgColor;\n            \n        varying vec2 v_textureCoordinates;\n        void main(){\n            vec2 uv = v_textureCoordinates;\n            vec4 bgColor = u_bgColor;\n            vec4 color = texture2D( u_map , uv );\n            if( color.a > 0. ){\n                gl_FragColor = bgColor;\n            }\n        }\n      ",
										mainFS: "\n      uniform sampler2D u_map;\n      uniform bool u_invert;\n      uniform float u_alpha;\n      \n      varying vec2 v_textureCoordinates;\n      void main(){\n          vec2 uv = v_textureCoordinates;\n          vec4 color = texture2D( u_map , uv );\n          //计算灰度\n          float grayVal =( color.r + color.g + color.b ) / 3.;\n          //灰度反转\n          if(u_invert){\n              grayVal = 1. - grayVal;\n          }\n          //应用前景透明度，以便和背景混合\n          float alpha = color.a * u_alpha;\n          gl_FragColor=vec4( vec3( grayVal ) , alpha );\n      }\n      ",
										uniformMap: {
											u_invert: function () {
												return s.params.invert;
											},
											u_alpha: function () {
												return s.params.alpha;
											},
											u_bgColor: function () {
												return s.params.bgColor;
											},
										},
									}),
										n.layer && this.applyToLayer(n.layer);
								}
								return (
									(0, r.default)(e, [
										{
											key: "applyToLayer",
											value: function (e) {
												if (!this._layer) {
													this._layer = e;
													var t = this,
														n =
															this._layer
																._createTextureWebGL;
													(this._layer.them_createTextureWebGL =
														n),
														(this._layer._createTextureWebGL =
															function (e, r) {
																var i = n.bind(
																	this
																)(e, r);
																return (
																	t.processTexture(
																		e,
																		i
																	) || i
																);
															}),
														(this._layer._imageryCache =
															{}),
														this._layer
															.imageryProvider
															._reload &&
															this._layer.imageryProvider._reload();
												}
											},
										},
										{
											key: "removeTheme",
											value: function () {
												this._layer &&
													(!this._layer.isDestroyed() &&
														this._layer
															.them_createTextureWebGL &&
														((this._layer._createTextureWebGL =
															this._layer.them_createTextureWebGL),
														delete this._layer
															.them_createTextureWebGL,
														(this._layer._imageryCache =
															{}),
														this._layer
															.imageryProvider
															._reload &&
															this._layer.imageryProvider._reload()),
													(this._layer = void 0));
											},
										},
										{
											key: "bgColor",
											get: function () {
												return this.params.bgColor;
											},
											set: function (e) {
												e instanceof Cesium.Color &&
													(Cesium.Color.equals(
														e,
														this.params.bgColor
													) ||
														((this.params.bgColor =
															e),
														this._layer &&
															((this._layer._imageryCache =
																{}),
															this._layer
																.imageryProvider
																._reload &&
																this._layer.imageryProvider._reload())));
											},
										},
										{
											key: "appliedToLayer",
											get: function () {
												return void 0 !== this._layer;
											},
										},
										{
											key: "processTexture",
											value: function (e, t) {
												var n = this.params,
													r = this.shaders,
													i = t.sampler,
													o = Cesium,
													a = o.Texture,
													s = o.PixelFormat,
													l = o.PixelDatatype,
													u = o.WebGLConstants,
													c = o.Framebuffer,
													f = o.RenderState,
													h = o.BlendingState,
													p = o.Color,
													d = new a({
														context: e,
														pixelFormat: s.RGBA,
														pixelDatatype:
															l.UNSIGNED_BYTE,
														sampler: i,
														width: t.width,
														height: t.height,
														flipY: t.flipY,
														target: u.TEXTURE_2D,
														preMultiplyAlpha:
															n.preMultiplyAlpha,
													}),
													y = new c({
														context: e,
														colorTextures: [d],
														destroyAttachments: !1,
													}),
													m = f.fromCache({
														depthTest: {
															enabled: !1,
														},
														blending:
															n.preMultiplyAlpha
																? h.PRE_MULTIPLIED_ALPHA_BLEND
																: h.ALPHA_BLEND,
														viewport: {
															x: 0,
															y: 0,
															width: t.width,
															height: t.height,
														},
													});
												return (
													(r.uniformMap.u_map =
														function () {
															return t;
														}),
													p.equals(
														n.bgColor,
														p.TRANSPARENT
													) ||
														e
															.createViewportQuadCommand(
																r.bgFS,
																{
																	framebuffer:
																		y,
																	renderState:
																		m,
																	uniformMap:
																		r.uniformMap,
																}
															)
															.execute(e),
													e
														.createViewportQuadCommand(
															r.mainFS,
															{
																framebuffer: y,
																renderState: m,
																uniformMap:
																	r.uniformMap,
															}
														)
														.execute(e),
													y.destroy(),
													t.destroy(),
													d
												);
											},
										},
									]),
									e
								);
							})();
							e.default = o;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(8), n(9), n(43)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i) {
							"use strict";
							var o = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = o(t)),
								(r = o(r)),
								(i = o(i));
							var a = (function () {
								function e() {
									(0, t.default)(this, e);
								}
								return (
									(0, r.default)(e, null, [
										{
											key: "createImageryLayer",
											value: function (t, n, r, i) {
												var o;
												return (
													n instanceof
													Cesium.ImageryLayer
														? (t.imageryLayers.contains(
																n
														  ) ||
																t.imageryLayers.add(
																	n,
																	i
																),
														  (o = n))
														: (o =
																t.imageryLayers.addImageryProvider(
																	n,
																	i
																)),
													r && r.applyToLayer(o),
													(o.id =
														Cesium.createGuid()),
													e.layers.push(o),
													o
												);
											},
										},
										{
											key: "removeImageryLayer",
											value: function (t, n) {
												t.imageryLayers.remove(n);
												var r = e.layers.indexOf(n);
												e.layers.splice(r, 1);
											},
										},
										{
											key: "createVectorLayer",
											value: function (e) {},
										},
									]),
									e
								);
							})();
							(0, i.default)(a, "layers", []);
							var s = a;
							e.default = s;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			n(15), n(65);
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(15), n(65), n(8), n(9), n(214), n(12)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a, s) {
							"use strict";
							var l = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = l(t)),
								(r = l(r)),
								(i = l(i)),
								(o = l(o)),
								(a = l(a));
							var u = {},
								c = [
									"1.690163571602655E-9",
									"3.3803271432053056E-9",
									"6.760654286410611E-9",
									"1.3521308572821242E-8",
									"2.7042617145642484E-8",
									"5.408523429128511E-8",
									"1.0817046858256998E-7",
									"2.1634093716513974E-7",
									"4.3268187433028044E-7",
									"8.653637486605571E-7",
									"1.7307274973211203E-6",
									"3.4614549946422405E-6",
									"6.9229099892844565E-6",
									"1.3845819978568952E-5",
									"2.7691639957137904E-5",
									"5.53832799142758E-5",
									"1.107665598285516E-4",
									"2.215331196571032E-4",
									"4.430662393142064E-4",
									"8.861324786284128E-4",
									"1.772264957256826E-3",
									"3.544529914513652E-3",
								],
								f = [
									1.690163571602655e-9, 3.3803271432053056e-9,
									6.760654286410611e-9, 1.3521308572821242e-8,
									2.7042617145642484e-8, 5.408523429128511e-8,
									1.0817046858256998e-7,
									2.1634093716513974e-7,
									4.3268187433028044e-7, 8.653637486605571e-7,
									17307274973211203e-22,
									34614549946422405e-22,
									69229099892844565e-22,
									13845819978568952e-21,
									27691639957137904e-21, 553832799142758e-19,
									0.0001107665598285516,
									0.0002215331196571032,
									0.0004430662393142064,
									0.0008861324786284128, 0.001772264957256826,
									0.003544529914513652,
								];
							function h(e, t, n) {
								var r;
								if (this.isTileMap) {
									if ("DEGREE" === this.m_coordUnit) {
										var i = c[n + 1] || c[n];
										r = this.m_urlTemplate
											.replace("{x}", e)
											.replace("{y}", t)
											.replace("{scale}", i);
									} else if ("METER" === this.m_coordUnit) {
										var o = c[n];
										r = this.m_urlTemplate
											.replace("{x}", e)
											.replace("{y}", t)
											.replace("{scale}", o);
									}
								} else
									r = this.m_urlTemplate
										.replace("{x}", e)
										.replace("{y}", t)
										.replace("{level}", n)
										.replace(
											"{fileExtension}",
											this.m_fileExtension
										);
								return r;
							}
							function p() {
								var e = Cesium,
									t = e.Resource,
									n = e.when;
								this.isTileMap
									? n(
											t.fetchJsonp({
												url:
													this.m_options.url +
													".jsonp",
												queryParameters: { f: "json" },
											}),
											_.bind(this),
											b.bind(this)
									  )
									: n(
											t.fetchText({
												url: this.url + "config",
											}),
											d.bind(this),
											b.bind(this)
									  );
							}
							function d(e) {
								var t = y.call(this, e),
									n = Cesium,
									r = n.defaultValue,
									i = n.defined,
									o = n.GeographicTilingScheme,
									a = n.Math,
									s = n.Rectangle;
								(this.m_fileExtension = r(
									t.fileExtentName,
									"png"
								)),
									(this.m_tileWidth = r(
										t.imageSizeWidth,
										256
									)),
									(this.m_tileHeight = r(
										t.imageSizeHeight,
										256
									));
								var l = t.levels,
									u = l.length;
								if (
									((this.m_minimumLevel = r(l[0], 0)),
									(this.m_maximumLevel = r(l[u - 1], u - 1)),
									i(this.m_tilingScheme) ||
										(this.m_tilingScheme = new o({
											ellipsoid: this.m_options.ellipsoid,
										})),
									!i(this.m_rectangle) &&
										t.left &&
										t.right &&
										t.top &&
										t.bottom)
								) {
									var c = a.toRadians(t.left),
										f = a.toRadians(t.right),
										h = a.toRadians(t.bottom),
										p = a.toRadians(t.top);
									this.m_rectangle = new s(c, h, f, p);
								}
								var d = this.m_tilingScheme;
								this.m_rectangle.west < d.rectangle.west &&
									(this.m_rectangle.west = d.rectangle.west),
									this.m_rectangle.east > d.rectangle.east &&
										(this.m_rectangle.east =
											d.rectangle.east),
									this.m_rectangle.south <
										d.rectangle.south &&
										(this.m_rectangle.south =
											d.rectangle.south),
									this.m_rectangle.north >
										d.rectangle.north &&
										(this.m_rectangle.north =
											d.rectangle.north);
								var m = d.positionToTileXY(
										s.southwest(this.m_rectangle),
										this.m_minimumLevel
									),
									v = d.positionToTileXY(
										s.northeast(this.m_rectangle),
										this.m_minimumLevel
									);
								(window.Math.abs(v.x - m.x) + 1) *
									(window.Math.abs(v.y - m.y) + 1) >
									4 && (this.m_minimumLevel = 0),
									(this.m_tilingScheme = d),
									(this.m_urlTemplate =
										this.m_url +
										"data/index/{y}/{x}.{fileExtension}?level={level}"),
									(this.m_ready = !0),
									this.m_readyPromise.resolve(!0);
							}
							function y(e) {
								for (
									var n =
											"http://www.supermap.com/SuperMapCache/sci3d",
										r = (e =
											new DOMParser().parseFromString(
												e,
												"application/xml"
											)).childNodes[0],
										i = (function (e, t, n) {
											if (Cesium.defined(e)) {
												for (
													var r = [],
														i =
															e.getElementsByTagNameNS(
																"*",
																t
															),
														o = i.length,
														a = 0;
													a < o;
													a++
												) {
													var s = i[a];
													s.localName === t &&
														-1 !==
															n.indexOf(
																s.namespaceURI
															) &&
														r.push(s);
												}
												return r;
											}
										})(g(r, "Levels", n), "Level", n),
										o = [],
										a = 0;
									a < i.length;
									a++
								)
									o.push(
										(0, t.default)(i[a].textContent, 10)
									);
								var s = g(r, "Bounds", n),
									l = v(s, "Left", n),
									u = v(s, "Right", n),
									c = v(s, "Top", n),
									f = v(s, "Bottom", n),
									h = m(r, "FileExtentName", n),
									p = v(r, "CellWidth", n),
									d = v(r, "CellHeight", n),
									y = m(r, "CacheName", n);
								return (
									(this.m_name = y || ""),
									{
										left: l,
										right: u,
										top: c,
										bottom: f,
										fileExtentName: h,
										levels: o,
										imageSizeWidth: p,
										imageSizeHeight: d,
									}
								);
							}
							function m(e, t, n) {
								var r = g(e, t, n);
								return Cesium.defined(r)
									? r.textContent.trim()
									: void 0;
							}
							function v(e, t, n) {
								var i = g(e, t, n);
								if (Cesium.defined(i)) {
									var o = (0, r.default)(i.textContent);
									return isNaN(o) ? void 0 : o;
								}
							}
							function g(e, t, n) {
								if (Cesium.defined(e))
									for (
										var r = e.childNodes,
											i = r.length,
											o = 0;
										o < i;
										o++
									) {
										var a = r[o];
										if (
											a.localName === t &&
											-1 !== n.indexOf(a.namespaceURI)
										)
											return a;
									}
							}
							function _(e) {
								var t = Cesium,
									n = t.Cartesian3,
									r = t.defaultValue,
									i = t.defined,
									o = t.GeographicTilingScheme,
									a = t.Math,
									s = t.Rectangle,
									l = t.WebMercatorTilingScheme,
									u = e.prjCoordSys.coordUnit;
								this.m_coordUnit = u;
								var c = e.bounds,
									h = e.visibleScales;
								if (
									i(h) &&
									h.length > 1 &&
									i(this.m_maximumLevel)
								) {
									var p = h[h.length - 1];
									this.m_maximumLevel = (function (e) {
										for (var t = f.length; t--; )
											if (e[t] <= e) return t;
									})(p);
								}
								if ("DEGREE" === u)
									(this.m_tilingScheme = new o()),
										(c.left = a.clamp(c.left, -180, 180)),
										(c.bottom = a.clamp(c.bottom, -90, 90)),
										(c.right = a.clamp(c.right, -180, 180)),
										(c.top = a.clamp(c.top, -90, 90)),
										(this.m_rectangle = s.fromDegrees(
											c.left,
											c.bottom,
											c.right,
											c.top
										)),
										(this.m_urlTemplate =
											this.m_url +
											'tileImage.png?transparent={transparent}&cacheEnabled=true&width=256&height=256&x={x}&y={y}&scale={scale}&redirect=false&overlapDisplayed=false&origin={"x":-180,"y":90}');
								else {
									var d = new n(c.left, c.bottom, 0);
									(d.x = window.Math.max(
										-20037508.342789244,
										d.x
									)),
										(d.y = window.Math.max(
											-20037508.342789244,
											d.y
										));
									var y = new n(c.right, c.top, 0);
									(y.x = window.Math.min(
										20037508.342789244,
										y.x
									)),
										(y.y = window.Math.min(
											20037508.342789244,
											y.y
										)),
										(this.m_tilingScheme = new l());
									var m =
											this.m_tilingScheme.projection.unproject(
												d
											),
										v =
											this.m_tilingScheme.projection.unproject(
												y
											);
									(this.m_rectangle = new s(
										m.longitude,
										m.latitude,
										v.longitude,
										v.latitude
									)),
										(this.m_urlTemplate =
											this.m_url +
											'tileImage.png?transparent={transparent}&cacheEnabled=true&width=256&height=256&x={x}&y={y}&scale={scale}&redirect=false&overlapDisplayed=false&origin={"x":-20037508.342789248 ,"y":20037508.342789095}');
								}
								(this.m_urlTemplate =
									this.m_urlTemplate.replace(
										"{transparent}",
										this.m_transparent
									)),
									this.layersID &&
										(this.m_urlTemplate =
											this.m_urlTemplate +
											"&layersID=" +
											this.layersID),
									this.m_rectangle ||
										(this.m_rectangle = r(
											this.m_options.rectangle,
											this.m_tilingScheme.rectangle
										)),
									(this.m_ready = !0),
									this.m_readyPromise.resolve(!0);
							}
							function b() {
								var e = Cesium,
									t = e.TileProviderError,
									n = e.RuntimeError,
									r =
										"An error occurred while accessing " +
										this.m_url +
										".";
								(u = t.handleError(
									u,
									this,
									this.m_errorEvent,
									r,
									void 0,
									void 0,
									void 0,
									p.bind(this)
								)),
									this.m_readyPromise.reject(new n(r));
							}
							var x = (function () {
								function e(t) {
									(0, i.default)(this, e);
									var n = Cesium,
										r = n.appendForwardSlash,
										o = n.Credit,
										l = n.defaultValue,
										u = n.defined,
										c = n.DeveloperError,
										f = n.Event,
										h = n.Resource,
										d = n.Math,
										y = (t = l(t, {})).url;
									if (!u(y))
										throw new c("options.url is required.");
									var m = y.substring(0, y.indexOf("datas"));
									this.tablename = y.substring(
										0,
										y.indexOf("datas/") + 6,
										y.length
									);
									var v = this;
									new a.default({
										name: m + this.tablename,
									}).then(function (e) {
										v.m_indexedDBScheduler = e;
									}),
										(this.m_indexedDBSetting = {
											isOpen: !1,
											clear: function () {
												v.m_indexedDBScheduler.clear(
													v.tablename
												);
											},
										}),
										(this.isSci = !1),
										(this.isTileMap = !1);
									var g = r(y);
									if (g.indexOf("rest/maps") > -1)
										(this.isTileMap = !0),
											(this.layersID = t.layersID);
									else {
										if (!(g.indexOf("rest/realspace") > -1))
											throw new c(
												"The url type is not supported!"
											);
										this.isSci = !0;
									}
									(this.m_url = g),
										(this.m_resource = h.createIfNeeded(g)),
										(this.m_transparent = l(
											t.transparent,
											!0
										)),
										(this.m_name = t.name || ""),
										(this.m_urlTemplate = void 0),
										(this.m_errorEvent = new f()),
										(this.m_fileExtension = "png"),
										(this.m_tileWidth = 256),
										(this.m_tileHeight = 256),
										(this.m_minimumLevel = l(
											t.minimumLevel,
											0
										)),
										(this.m_maximumLevel = t.maximumLevel),
										(this.m_rectangle = void 0),
										(this.m_tilingScheme = void 0),
										(this.m_tileDiscardPolicy =
											t.tileDiscardPolicy),
										(this.m_fRatio = l(
											t.ratio,
											d.DEGREES_PER_RADIAN / 6378137
										)),
										(this.m_scales = []),
										(this.m_coordUnit = "DEGREE");
									var _ = l(
										t.credit,
										new o(
											"MapQuest, SuperMap iServer Imagery"
										)
									);
									"string" == typeof _ && (_ = new o(_)),
										(this.m_credit = _),
										(this.m_ready = !1),
										(this.m_readyPromise = (0, s.defer)()),
										(this.m_options = t),
										p.call(this);
								}
								return (
									(0, o.default)(e, [
										{
											key: "url",
											get: function () {
												return this.m_url;
											},
										},
										{
											key: "name",
											get: function () {
												return this.m_name;
											},
											set: function (e) {
												this.m_name = e;
											},
										},
										{
											key: "tileWidth",
											get: function () {
												if (!this.m_ready)
													throw new Cesium.DeveloperError(
														"tileWidth must not be called before the imagery provider is ready."
													);
												return this.m_tileWidth;
											},
										},
										{
											key: "tileHeight",
											get: function () {
												if (!this.m_ready)
													throw new Cesium.DeveloperError(
														"tileHeight must not be called before the imagery provider is ready."
													);
												return this.m_tileHeight;
											},
										},
										{
											key: "maximumLevel",
											get: function () {
												if (!this.m_ready)
													throw new Cesium.DeveloperError(
														"maximumLevel must not be called before the imagery provider is ready."
													);
												return this.m_maximumLevel;
											},
										},
										{
											key: "minimumLevel",
											get: function () {
												if (!this.m_ready)
													throw new Cesium.DeveloperError(
														"minimumLevel must not be called before the imagery provider is ready."
													);
												return this.m_minimumLevel;
											},
										},
										{
											key: "tilingScheme",
											get: function () {
												if (!this.m_ready)
													throw new Cesium.DeveloperError(
														"tilingScheme must not be called before the imagery provider is ready."
													);
												return this.m_tilingScheme;
											},
										},
										{
											key: "rectangle",
											get: function () {
												if (!this.m_ready)
													throw new Cesium.DeveloperError(
														"rectangle must not be called before the imagery provider is ready."
													);
												return this.m_rectangle;
											},
										},
										{
											key: "errorEvent",
											get: function () {
												return this.m_errorEvent;
											},
										},
										{
											key: "ready",
											get: function () {
												return this.m_ready;
											},
										},
										{
											key: "credit",
											get: function () {
												return this.m_credit;
											},
										},
										{
											key: "hasAlphaChannel",
											get: function () {
												return !0;
											},
										},
										{
											key: "readyPromise",
											get: function () {
												return this.m_readyPromise;
											},
										},
										{
											key: "ratio",
											get: function () {
												return this.m_fRatio;
											},
											set: function (e) {
												this.m_fRatio = e;
											},
										},
										{
											key: "tileDiscardPolicy",
											get: function () {
												return this.m_tileDiscardPolicy;
											},
										},
										{
											key: "getTileCredits",
											value: function (e, t, n) {
												if (!this.ready)
													throw new Cesium.DeveloperError(
														"getTileCredits must not be called before the imagery provider is ready."
													);
											},
										},
										{
											key: "requestImage",
											value: function (e, t, n, r) {
												var i = Cesium,
													o = i.defined,
													a = i.DeveloperError,
													s = i.ImageryProvider,
													l = i.when;
												if (!this.ready)
													throw new a(
														"requestImage must not be called before the imagery provider is ready."
													)();
												var u = h.call(this, e, t, n),
													c =
														this.m_resource.getDerivedResource(
															{
																url: u,
																request: r,
															}
														),
													f = this;
												if (
													this.m_indexedDBSetting
														.isOpen &&
													o(this.m_indexedDBScheduler)
												) {
													var p =
														this.m_indexedDBScheduler.getElementFromDB(
															this.tablename,
															u
														);
													return o(p)
														? l(
																p,
																function (e) {
																	if (o(e)) {
																		var t =
																			new Image();
																		return (
																			(t.src =
																				e),
																			t
																		);
																	}
																	return s.loadImage(
																		f,
																		c
																	);
																},
																function (e) {
																	return s.loadImage(
																		f,
																		c
																	);
																}
														  )
														: s.loadImage(f, c);
												}
												return s.loadImage(this, c);
											},
										},
										{
											key: "pickFeatures",
											value: function () {},
										},
									]),
									e
								);
							})();
							e.default = x;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			n(209), (e.exports = n(1).parseInt);
		},
		function (e, t, n) {
			var r = n(2),
				i = n(210);
			r(r.G + r.F * (parseInt != i), { parseInt: i });
		},
		function (e, t, n) {
			var r = n(4).parseInt,
				i = n(121).trim,
				o = n(89),
				a = /^[-+]?0[xX]/;
			e.exports =
				8 !== r(o + "08") || 22 !== r(o + "0x16")
					? function (e, t) {
							var n = i(String(e), 3);
							return r(n, t >>> 0 || (a.test(n) ? 16 : 10));
					  }
					: r;
		},
		function (e, t, n) {
			n(212), (e.exports = n(1).parseFloat);
		},
		function (e, t, n) {
			var r = n(2),
				i = n(213);
			r(r.G + r.F * (parseFloat != i), { parseFloat: i });
		},
		function (e, t, n) {
			var r = n(4).parseFloat,
				i = n(121).trim;
			e.exports =
				1 / r(n(89) + "-0") != -1 / 0
					? function (e) {
							var t = i(String(e), 3),
								n = r(t);
							return 0 === n && "-" == t.charAt(0) ? -0 : n;
					  }
					: r;
		},
		function (e, t, n) {
			var r, i, o;
			n(15);
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(15), n(8), n(9), n(12)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o) {
							"use strict";
							var a = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = a(t)),
								(r = a(r)),
								(i = a(i));
							var s = 1,
								l = 2,
								u = 3,
								c = (function () {
									function e(t) {
										if (
											((0, r.default)(this, e),
											!Cesium.defined(t.name))
										)
											throw new Cesium.DeveloperError(
												"options.name is required."
											);
										var n = (0, o.defer)();
										this.dbname = t.name;
										var i = window.indexedDB.open(
												this.dbname
											),
											a = this;
										return (
											(i.onsuccess = function (e) {
												(a.db = e.target.result),
													(a.version = a.db.version),
													(a.cachestatus =
														a.cachestatus || {}),
													n.resolve(a);
											}),
											(i.onupgradeneeded = function (e) {
												(a.db = e.target.result),
													(a.version = a.db.version),
													n.resolve(a);
											}),
											(i.onerror = function (e) {
												(a.db = null),
													n.reject(
														"create database fail, error code : " +
															e.target.errorcode
													);
											}),
											(this.layer = t.layer || null),
											(this.storageType =
												t.storageType || "arrayBuffer"),
											(this.creatingTable = !1),
											(this.cachestatus = {}),
											n.promise
										);
									}
									return (
										(0, i.default)(e, [
											{
												key: "checkObjectStoreExist",
												value: function (e) {
													return (
														!!Cesium.defined(
															this.db
														) &&
														this.db.objectStoreNames.contains(
															e
														)
													);
												},
											},
											{
												key: "createObjectStore",
												value: function (e) {
													var n = (0, o.defer)();
													if (this.creatingTable)
														n.reject(!1);
													else {
														if (
															this.db.objectStoreNames.contains(
																e
															)
														)
															return (
																n.reject(!1),
																n.promise
															);
														this.creatingTable = !0;
														var r = (0, t.default)(
															this.db.version
														);
														this.db.close();
														var i = this,
															a =
																window.indexedDB.open(
																	this.dbname,
																	r + 1
																);
														(a.onupgradeneeded =
															function (t) {
																var r =
																	t.target
																		.result;
																i.db = r;
																var o =
																	r.createObjectStore(
																		e,
																		{
																			keyPath:
																				"id",
																		}
																	);
																Cesium.defined(
																	o
																)
																	? (o.createIndex(
																			"value",
																			"value",
																			{
																				unique: !1,
																			}
																	  ),
																	  (i.creatingTable =
																			!1),
																	  (i.cachestatus =
																			i.cachestatus ||
																			{}),
																	  (i.cachestatus[
																			e
																	  ] = {}),
																	  i.db.close(),
																	  (window.indexedDB.open(
																			i.dbname
																	  ).onsuccess =
																			function (
																				e
																			) {
																				(i.db =
																					e.target.result),
																					n.resolve(
																						!0
																					);
																			}))
																	: ((i.creatingTable =
																			!1),
																	  n.resolve(
																			!1
																	  ));
															}),
															(a.onsuccess =
																function (e) {
																	e.target.result.close(),
																		n.resolve(
																			!0
																		);
																}),
															(a.onerror =
																function (e) {
																	(i.creatingTable =
																		!1),
																		n.reject(
																			!1
																		);
																});
													}
													return n.promise;
												},
											},
											{
												key: "putElementInDB",
												value: function (e, t, n) {
													var r = (0, o.defer)();
													if (
														!Cesium.defined(this.db)
													)
														return (
															r.reject(!1),
															r.promise
														);
													var i = this.cachestatus,
														a = this.db;
													if (
														Cesium.defined(i[e]) &&
														Cesium.defined(
															i[e][t] &&
																(i[e][t] ===
																	s ||
																	i[e][t] ===
																		l)
														)
													)
														return (
															r.resolve(!1),
															r.promise
														);
													if (
														a.objectStoreNames.contains(
															e
														)
													) {
														i[e] = i[e] || {};
														try {
															var c = a
																.transaction(
																	[e],
																	"readwrite"
																)
																.objectStore(e)
																.add({
																	id: t,
																	value: n,
																});
															(i[e][t] = s),
																(c.onsuccess =
																	function (
																		n
																	) {
																		(i[e][
																			t
																		] = l),
																			r.resolve(
																				!0
																			);
																	}),
																(c.onerror =
																	function (
																		n
																	) {
																		(i[e][
																			t
																		] = u),
																			r.resolve(
																				!1
																			);
																	});
														} catch (e) {
															return (
																r.reject(null),
																r.promise
															);
														}
													} else
														this.createObjectStore(
															e
														).then(
															function () {
																var i = a
																	.transaction(
																		[e],
																		"readwrite"
																	)
																	.objectStore(
																		e
																	)
																	.add({
																		id: t,
																		value: n,
																	});
																(i.onsuccess =
																	function (
																		e
																	) {
																		r.resolve(
																			!0
																		);
																	}),
																	(i.onerror =
																		function (
																			e
																		) {
																			r.reject(
																				!1
																			);
																		});
															},
															function () {
																r.reject(!1);
															}
														);
													return r.promise;
												},
											},
											{
												key: "getElementFromDB",
												value: function (e, t) {
													var n = (0, o.defer)(),
														r = this.db;
													if (!Cesium.defined(r))
														return null;
													if (
														!r.objectStoreNames.contains(
															e
														)
													)
														return null;
													try {
														var i = r
															.transaction([e])
															.objectStore(e)
															.get(t);
														(i.onsuccess =
															function (e) {
																return Cesium.defined(
																	e.target
																		.result
																)
																	? void n.resolve(
																			e
																				.target
																				.result
																				.value
																	  )
																	: void n.reject(
																			null
																	  );
															}),
															(i.onerror =
																function (e) {
																	n.reject(
																		null
																	);
																});
													} catch (e) {
														n.reject(null);
													}
													return n.promise;
												},
											},
											{
												key: "updateElementInDB",
												value: function (e, t, n) {
													var r = (0, o.defer)(),
														i = this.db;
													if (!Cesium.defined(i))
														return (
															r.resolve(!1),
															r.promise
														);
													if (
														!i.objectStoreNames.contains(
															e
														)
													)
														return (
															r.resolve(!1),
															r.promise
														);
													try {
														var a = i
															.transaction(
																[e],
																"readwrite"
															)
															.objectStore(e)
															.put({
																id: t,
																value: n,
															});
														(a.onsuccess =
															function () {
																r.resolve(!0);
															}),
															(a.onerror =
																function () {
																	r.resolve(
																		!1
																	);
																});
													} catch (e) {
														r.resolve(!1);
													}
													return r.promise;
												},
											},
											{
												key: "removeElementFromDB",
												value: function (e, t) {
													var n = (0, o.defer)(),
														r = this.db;
													if (!Cesium.defined(r))
														return (
															n.resolve(!1),
															n.promise
														);
													if (
														!r.objectStoreNames.contains(
															e
														)
													)
														return (
															n.resolve(!1),
															n.promise
														);
													try {
														var i = r
															.transaction(
																[e],
																"readwrite"
															)
															.objectStore(e)
															.delete(t);
														(i.onsuccess =
															function () {
																n.resolve(!0);
															}),
															(i.onerror =
																function () {
																	n.resolve(
																		!1
																	);
																});
													} catch (e) {
														n.resolve(!1);
													}
													return n.promise;
												},
											},
											{
												key: "clear",
												value: function (e) {
													var t = (0, o.defer)(),
														n = this.db;
													if (!Cesium.defined(n))
														return (
															t.resolve(!1),
															t.promise
														);
													if (
														!n.objectStoreNames.contains(
															e
														)
													)
														return (
															t.resolve(!1),
															t.promise
														);
													try {
														var r = n
															.transaction(
																[e],
																"readwrite"
															)
															.objectStore(e)
															.clear();
														(r.onsuccess =
															function () {
																t.resolve(!0);
															}),
															(r.onerror =
																function () {
																	t.resolve(
																		!1
																	);
																});
													} catch (e) {
														t.resolve(!1);
													}
													return t.promise;
												},
											},
										]),
										e
									);
								})();
							e.default = c;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(8), n(9), n(43), n(12)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o) {
							"use strict";
							var a,
								s = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = s(t)),
								(r = s(r)),
								(i = s(i));
							var l = (function () {
								function e(n) {
									if (((0, t.default)(this, e), a)) return a;
									if (!n.scene)
										throw new Error("未传入scene对象");
									(this._scene = n.scene),
										(this._weatherEffector =
											e.WEATHERTYPE.NONE),
										(this._weatherEffector =
											Cesium.defaultValue(
												n.weatherEffect,
												this._weatherEffector
											)),
										(this._loop = Cesium.defaultValue(
											n.loop,
											!0
										)),
										(this._rotation = !1),
										(this.rotation = Cesium.defaultValue(
											n.rotation,
											this._rotation
										)),
										(this._rainMatrix = new Cesium.Matrix2(
											1,
											1,
											-0.03,
											1
										)),
										(this._rainDirection = 0.03),
										(this._rainFall = 0.5),
										(this._rainSpeed = 1),
										(this._rainLength = 1.5),
										(this._snowMatrix = new Cesium.Matrix2(
											1,
											0.3,
											0.5,
											0.6
										)),
										(this._snowDeepth = 1),
										(this._snowWidth = 1),
										(this._snowSpeed = 0.5),
										(this._fogByDistance =
											Cesium.defaultValue(
												n.fogByDistance,
												new Cesium.Cartesian4(
													10,
													0,
													200,
													1
												)
											)),
										(this._fogColor = Cesium.defaultValue(
											n.fogColor,
											new Cesium.Color(1, 1, 1, 0.5)
										)),
										(a = this),
										this._weatherEffector !==
											e.WEATHERTYPE.NONE &&
											f(this, this._weatherEffector),
										(this._useKeyBoardControl = !1),
										(this._keyboardControlRemove = void 0),
										(this.useKeyBoardControl =
											Cesium.defaultValue(
												n.useKeyBoardControl,
												!1
											));
								}
								return (
									(0, r.default)(e, [
										{
											key: "weatherEffect",
											get: function () {
												return this._weatherEffector;
											},
											set: function (e) {
												(this._weatherEffector = e),
													f(this, e);
											},
										},
										{
											key: "rotation",
											get: function () {
												return this._rotation;
											},
											set: function (e) {
												(this._rotation = e),
													e
														? this.startRotation()
														: this.stopRotation();
											},
										},
										{
											key: "loop",
											get: function () {
												return this._loop;
											},
											set: function (e) {
												this._loop = e;
											},
										},
										{
											key: "rainDirection",
											set: function (e) {
												(this._rainDirection =
													Cesium.Math.clamp(
														e,
														-1,
														1
													)),
													(this._rainMatrix[
														Cesium.Matrix2.COLUMN0ROW1
													] = this._rainDirection);
											},
										},
										{
											key: "rainFall",
											set: function (e) {
												(this._rainFall =
													Cesium.Math.clamp(
														e,
														0.01,
														1
													)),
													(this._rainMatrix[
														Cesium.Matrix2.COLUMN1ROW0
													] = this._rainFall);
											},
										},
										{
											key: "rainSpeed",
											set: function (e) {
												(this._rainSpeed =
													Cesium.Math.clamp(
														e,
														0.01,
														5
													)),
													(this._rainMatrix[
														Cesium.Matrix2.COLUMN0ROW0
													] = this._rainSpeed);
											},
										},
										{
											key: "rainLength",
											set: function (e) {
												(this._rainLength =
													Cesium.Math.clamp(
														e,
														0.5,
														3
													)),
													(this._rainMatrix[
														Cesium.Matrix2.COLUMN1ROW1
													] = this._rainLength);
											},
										},
										{
											key: "snowDeepth",
											set: function (e) {
												(this._snowDeepth =
													Cesium.Math.clamp(
														e,
														0.03,
														3
													)),
													(this._snowMatrix[
														Cesium.Matrix2.COLUMN0ROW1
													] = this._snowDeepth);
											},
										},
										{
											key: "snowWidth",
											set: function (e) {
												(this._snowWidth =
													Cesium.Math.clamp(e, 0, 3)),
													(this._snowMatrix[
														Cesium.Matrix2.COLUMN1ROW0
													] = this._snowWidth);
											},
										},
										{
											key: "snowSpeed",
											set: function (e) {
												(this._snowSpeed =
													Cesium.Math.clamp(
														e,
														0.5,
														2
													)),
													(this._snowMatrix[
														Cesium.Matrix2.COLUMN1ROW1
													] = this._snowSpeed);
											},
										},
										{
											key: "useKeyBoardControl",
											get: function () {
												return this._useKeyBoardControl;
											},
											set: function (e) {
												e !==
													this._useKeyBoardControl &&
													(this._useKeyBoardControl &&
													this._keyboardControlRemove
														? (this._keyboardControlRemove(),
														  (this._keyboardControlRemove =
																void 0))
														: (this._keyboardControlRemove =
																this.openKeyBoardControl()),
													(this._useKeyBoardControl =
														e));
											},
										},
										{
											key: "startRotation",
											value: function () {
												var e = Date.now(),
													t = this._scene;
												this.stopFlyCircle(),
													(this.rotaionremove =
														t.postUpdate.addEventListener(
															function () {
																var n =
																		Date.now(),
																	r =
																		(n -
																			e) /
																		1e3;
																(e = n),
																	t.camera.rotate(
																		Cesium
																			.Cartesian3
																			.UNIT_Z,
																		-0.01 *
																			r
																	);
															}
														));
											},
										},
										{
											key: "stopRotation",
											value: function () {
												this.rotaionremove &&
													(this.rotaionremove(),
													(this.rotaionremove =
														void 0),
													delete this.rotaionremove);
											},
										},
										{
											key: "flyCircle",
											value: function (e) {
												var t =
														arguments.length > 1 &&
														void 0 !== arguments[1]
															? arguments[1]
															: 0.05,
													n =
														arguments.length > 2 &&
														void 0 !==
															arguments[2] &&
														arguments[2],
													r =
														arguments.length > 3
															? arguments[3]
															: void 0;
												if (!e)
													throw new Error(
														"请传入绕点旋转的中心点"
													);
												this.rotation &&
													this.stopRotation(),
													this.stopFlyCircle();
												var i = (0, o.defer)(),
													a = this._scene,
													s = a.camera,
													l = this,
													u =
														Cesium.Transforms.eastNorthUpToFixedFrame(
															e,
															Cesium.Ellipsoid
																.WGS84
														);
												s.lookAtTransform(u);
												var c = 0,
													f =
														a.postRender.addEventListener(
															function () {
																s.lookAtTransform(
																	u
																);
																var e = c + t;
																if (l.loop)
																	s.rotateLeft(
																		t
																	),
																		(c +=
																			t),
																		r &&
																			e >
																				r &&
																			(s.rotateLeft(
																				-c
																			),
																			(c = 0));
																else {
																	if (
																		r &&
																		e > r
																	)
																		return (
																			f(),
																			s.lookAtTransform(
																				Cesium
																					.Matrix4
																					.IDENTITY
																			),
																			void i.resolve()
																		);
																	e >
																	2 * Math.PI
																		? (s.rotateLeft(
																				2 *
																					Math.PI -
																					c
																		  ),
																		  (c =
																				2 *
																				Math.PI))
																		: (s.rotateLeft(
																				t
																		  ),
																		  (c +=
																				t));
																}
																n ||
																	s.lookAtTransform(
																		Cesium
																			.Matrix4
																			.IDENTITY
																	),
																	l.loop ||
																		c !==
																			2 *
																				Math.PI ||
																		(f(),
																		s.lookAtTransform(
																			Cesium
																				.Matrix4
																				.IDENTITY
																		),
																		i.resolve());
															}
														);
												return (
													(this.flycircleRemove =
														function () {
															f(),
																s.lookAtTransform(
																	Cesium
																		.Matrix4
																		.IDENTITY
																);
														}),
													i.promise
												);
											},
										},
										{
											key: "stopFlyCircle",
											value: function () {
												this.flycircleRemove &&
													(this.flycircleRemove(),
													(this.flycircleRemove =
														void 0),
													delete this
														.flycircleRemove);
											},
										},
										{
											key: "takeScreenShot",
											value: function () {
												var e = (0, o.defer)(),
													t = this._scene,
													n =
														t.postRender.addEventListener(
															function () {
																n();
																try {
																	var t =
																		viewer
																			.scene
																			.canvas;
																	e.resolve(
																		t.toDataURL(
																			"image/png"
																		)
																	);
																} catch (t) {
																	e.reject(t);
																}
															},
															this
														);
												return (
													t.render(
														viewer.clock.currentTime
													),
													e.promise
												);
											},
										},
										{
											key: "openKeyBoardControl",
											value: function () {
												var e = {
													looking: !1,
													moveForward: !1,
													moveBackward: !1,
													moveUp: !1,
													moveDown: !1,
													moveLeft: !1,
													moveRight: !1,
												};
												function t(t) {
													var n = c(t.keyCode);
													void 0 !== n && (e[n] = !0);
												}
												function n(t) {
													var n = c(t.keyCode);
													void 0 !== n && (e[n] = !1);
												}
												this._scene.canvas.addEventListener(
													"keydown",
													t,
													!1
												),
													this._scene.canvas.addEventListener(
														"keyup",
														n,
														!1
													);
												var r = this._scene.camera,
													i =
														this._scene.globe
															.ellipsoid,
													o =
														viewer.clock.onTick.addEventListener(
															function (t) {
																var n =
																	i.cartesianToCartographic(
																		r.position
																	).height /
																	100;
																e.moveForward &&
																	r.moveForward(
																		n
																	),
																	e.moveBackward &&
																		r.moveBackward(
																			n
																		),
																	e.moveUp &&
																		r.moveUp(
																			n
																		),
																	e.moveDown &&
																		r.moveDown(
																			n
																		),
																	e.moveLeft &&
																		r.moveLeft(
																			n
																		),
																	e.moveRight &&
																		r.moveRight(
																			n
																		);
															}
														);
												return function () {
													o(),
														document.removeEventListener(
															"keydown",
															t
														),
														document.removeEventListener(
															"keyup",
															n
														);
												};
											},
										},
									]),
									e
								);
							})();
							(0, i.default)(l, "WEATHERTYPE", {
								RAIN: "rain",
								SNOW: "snow",
								FOG: "fog",
								NONE: "none",
							});
							var u = l;
							function c(e) {
								switch (e) {
									case "W".charCodeAt(0):
										return "moveForward";
									case "S".charCodeAt(0):
										return "moveBackward";
									case "Q".charCodeAt(0):
										return "moveUp";
									case "E".charCodeAt(0):
										return "moveDown";
									case "D".charCodeAt(0):
										return "moveRight";
									case "A".charCodeAt(0):
										return "moveLeft";
									default:
										return;
								}
							}
							function f(e, t) {
								t === l.WEATHERTYPE.RAIN
									? e.rain ||
									  (h(e._scene, e.snow),
									  h(e._scene, e.fog),
									  (e.snow = void 0),
									  (e.fog = void 0),
									  (e.rain = (function (e) {
											return new Cesium.PostProcessStage({
												name: "czm_rain",
												fragmentShader:
													"\n      uniform sampler2D colorTexture;//输入的场景渲染照片\n        varying vec2 v_textureCoordinates;\n        uniform mat2 vrain;\n\n        float hash(float x){\n          return fract(sin(x*133.3)*13.13);\n        }\n\n        void main(void){\n          float time =vrain[0][0]* czm_frameNumber / 60.;\n          vec2 resolution = czm_viewport.zw;\n\n          vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n          vec3 c=vec3(.6,.7,.8);\n\n          float a=vrain[0][1];\n          float si=sin(a),co=cos(a);\n          uv*=mat2(co,-si,si,co);\n\n          uv*=length(uv+vec2(0,4.9))*.3+1.;\n          float v=1.-sin(hash(floor(uv.x*100.))*2.);\n          float b=\n          clamp(\n            abs(\n              sin(\n                2.*time*v+uv.y*(5./(2.+v))*vrain[1][1]\n              )\n            )-.95,\n            0.,\n            1.\n          )*20.;\n          if(fract(uv.x*20.)>vrain[1][0])b=0.;\n\n          c*=v*b; //屏幕上雨的颜色\n\n          gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), vec4(c,1), 0.2); //将雨和三维场景融合\n        }\n      ",
												uniforms: {
													vrain: function () {
														return e._rainMatrix;
													},
												},
											});
									  })(e)),
									  e._scene.postProcessStages.add(e.rain))
									: t === l.WEATHERTYPE.SNOW
									? e.snow ||
									  (h(e._scene, e.rain),
									  h(e._scene, e.fog),
									  (e.snow = (function (e) {
											return new Cesium.PostProcessStage({
												name: "czm_snow",
												fragmentShader:
													"\n    uniform sampler2D colorTexture;\n    varying vec2 v_textureCoordinates;\n    uniform mat2 vsnow;\n\n    void main(void){\n      gl_FragColor =texture2D(colorTexture, v_textureCoordinates);\n      vec2 resolution = czm_viewport.zw;\n      vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);\n\n      float iTime = czm_frameNumber / 60.;\n\n      float scale=10.;\n      uv.x+=vsnow[0][0]*iTime*2./scale;\n\n      const mat3 p = mat3(13.323122,23.5112,21.71123,21.1212,28.7312,11.9312,21.8112,14.7212,61.3934);\n      vec3 acc = vec3(0.0);\n      float dof = 5.*sin(iTime*.1);\n\n      const int LAYERS=100;\n      float DEPTH= vsnow[0][1];\n      float WIDTH= vsnow[1][0];\n      float SPEED= vsnow[1][1];\n\n      for (int i=0;i<LAYERS;i++) {\n        float fi = float(i);\n        vec2 q = uv*(1.+fi*DEPTH);\n        q += vec2(q.y*(WIDTH*mod(fi*7.238917,1.)-WIDTH*.5),SPEED*iTime/(1.+fi*DEPTH*.03));\n        vec3 n = vec3(floor(q),31.189+fi);\n        vec3 m = floor(n)*.00001 + fract(n);\n        vec3 mp = (31415.9+m)/fract(p*m);\n        vec3 r = fract(mp);\n        vec2 s = abs(mod(q,1.)-.5+.9*r.xy-.45);\n        s += .01*abs(2.*fract(10.*q.yx)-1.);\n        float d = .6*max(s.x-s.y,s.x+s.y)+max(s.x,s.y)-.01;\n        float edge = .005+.05*min(.5*abs(fi-5.-dof),1.);\n        acc += vec3(smoothstep(edge,-edge,d)*(r.x/(1.+.02*fi*DEPTH)));\n      }\n      vec4 fragColor = vec4(vec3(acc),1.0);\n      gl_FragColor = mix(texture2D(colorTexture, v_textureCoordinates), fragColor, 0.2);\n    }\n    ",
												uniforms: {
													vsnow: function () {
														return e._snowMatrix;
													},
												},
											});
									  })(e)),
									  e._scene.postProcessStages.add(e.snow),
									  (e.rain = void 0),
									  (e.fog = void 0))
									: t === l.WEATHERTYPE.FOG
									? e.fog ||
									  (h(e._scene, e.rain),
									  h(e._scene, e.snow),
									  (e.fog = (function (e) {
											return new Cesium.PostProcessStage({
												name: "czm_fog",
												uniforms: {
													fogByDistance:
														e._fogByDistance,
													fogColor: e._fogColor,
												},
												fragmentShader:
													"\n    float getDistance(sampler2D depthTexture, vec2 texCoords) \n    { \n        float depth = czm_unpackDepth(texture2D(depthTexture, texCoords)); \n        if (depth == 0.0) { \n            return czm_infinity; \n        } \n        vec4 eyeCoordinate = czm_windowToEyeCoordinates(gl_FragCoord.xy, depth); \n        return -eyeCoordinate.z / eyeCoordinate.w; \n    } \n    float interpolateByDistance(vec4 nearFarScalar, float distance) \n    { \n        float startDistance = nearFarScalar.x; \n        float startValue = nearFarScalar.y; \n        float endDistance = nearFarScalar.z; \n        float endValue = nearFarScalar.w; \n        float t = clamp((distance - startDistance) / (endDistance - startDistance), 0.0, 1.0); \n        return mix(startValue, endValue, t); \n    } \n    vec4 alphaBlend(vec4 sourceColor, vec4 destinationColor) \n    { \n        return sourceColor * vec4(sourceColor.aaa, 1.0) + destinationColor * (1.0 - sourceColor.a); \n    } \n    uniform sampler2D colorTexture; \n    uniform sampler2D depthTexture; \n    uniform vec4 fogByDistance; \n    uniform vec4 fogColor; \n    varying vec2 v_textureCoordinates; \n    void main(void) \n    { \n        float distance = getDistance(depthTexture, v_textureCoordinates); \n        vec4 sceneColor = texture2D(colorTexture, v_textureCoordinates); \n        float blendAmount = interpolateByDistance(fogByDistance, distance); \n        vec4 finalFogColor = vec4(fogColor.rgb, fogColor.a * blendAmount); \n        gl_FragColor = alphaBlend(finalFogColor, sceneColor); \n    }\n    ",
											});
									  })(e)),
									  e._scene.postProcessStages.add(e.fog),
									  (e.rain = void 0),
									  (e.snow = void 0))
									: t === l.WEATHERTYPE.NONE &&
									  (h(e._scene, e.rain),
									  h(e._scene, e.snow),
									  h(e._scene, e.fog),
									  (e.rain = void 0),
									  (e.snow = void 0),
									  (e.fog = void 0));
							}
							function h(e, t) {
								t &&
									!t.isDestroyed() &&
									e.postProcessStages.contains(t) &&
									(e.postProcessStages.remove(t),
									(t = void 0));
							}
							e.default = u;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r = n(217);
			r.__esModule && (r = r.default),
				"string" == typeof r && (r = [[e.i, r, ""]]),
				r.locals && (e.exports = r.locals);
			(0, n(357).default)("726c35d4", r, !1, {});
		},
		function (e, t, n) {
			(e.exports = n(218)(!0)).push([
				e.i,
				".twipsy {\r\n    display: block;\r\n    position: absolute;\r\n    visibility: visible;\r\n    max-width: 200px;\r\n    min-width: 100px;\r\n    padding: 5px;\r\n    font-size: 11px;\r\n    z-index: 1000;\r\n    opacity: 0.8;\r\n    -khtml-opacity: 0.8;\r\n    -moz-opacity: 0.8;\r\n    filter: alpha(opacity=80);\r\n}\r\n.twipsy.left .twipsy-arrow {\r\n    top: 50%;\r\n    right: 0;\r\n    margin-top: -5px;\r\n    border-top: 5px solid transparent;\r\n    border-bottom: 5px solid transparent;\r\n    border-left: 5px solid#072652b3;\r\n}\r\n.twipsy.right .twipsy-arrow {\r\n    top: 50%;\r\n    left: 0;\r\n    margin-top: -5px;\r\n    border-top: 5px solid transparent;\r\n    border-bottom: 5px solid transparent;\r\n    border-right: 5px solid #072652b3;\r\n}\r\n.twipsy.top .twipsy-arrow {\r\n    top: 100%;\r\n    left: 50%;\r\n    margin-top: -5px;\r\n    border-top: 5px solid transparent;\r\n    border-bottom: 5px solid transparent;\r\n    border-left: 5px solid #072652b3;\r\n    transform:rotate(90deg);\r\n    -ms-transform:rotate(90deg); \t/* IE 9 */\r\n    -moz-transform:rotate(90deg); \t/* Firefox */\r\n    -webkit-transform:rotate(90deg); /* Safari 和 Chrome */\r\n    -o-transform:rotate(90deg); \t/* Opera */\r\n}\r\n.twipsy.bottom .twipsy-arrow {\r\n    top: 0%;\r\n    left: 50%;\r\n    margin-top: -5px;\r\n    border-top: 5px solid transparent;\r\n    border-bottom: 5px solid transparent;\r\n    border-right: 5px solid #072652b3;\r\n    transform:rotate(-90deg);\r\n    -ms-transform:rotate(-90deg); \t/* IE 9 */\r\n    -moz-transform:rotate(-90deg); \t/* Firefox */\r\n    -webkit-transform:rotate(-90deg); /* Safari 和 Chrome */\r\n    -o-transform:rotate(-90deg); \t/* Opera */\r\n}\r\n.twipsy-inner {\r\n    padding: 3px 8px;\r\n    background-color:#072652b3;\r\n    color: white;\r\n    text-align: center;\r\n    max-width: 200px;\r\n    text-decoration: none;\r\n    border-radius: 4px;\r\n}\r\n.twipsy-arrow {\r\n    position: absolute;\r\n    width: 0;\r\n    height: 0;\r\n}\r\n/*\r\ncss rules for the draw helper components\r\n*/\r\n.toolbar {\r\n    margin: 0px;\r\n    padding: 0px;\r\n    background: white;\r\n}\r\n.toolbar > .button {\r\n    margin: 5px;\r\n    padding: 5px;\r\n    border: 1px solid #eee;\r\n    cursor: pointer;\r\n}\r\n.toolbar > .button:hover {\r\n    background: #eee;\r\n}\r\n/*\r\ncss rules for the infowindow\r\n*/\r\n.infoWindow {\r\n    position: absolute;\r\n    min-width: 100px;\r\n    max-width: 300px;\r\n}\r\n.infoWindow #frame {\r\n    padding: 10px;\r\n    border: 1px solid black;\r\n    background: white;\r\n}\r\n.infoWindow #close {\r\n    float: right;\r\n    margin: 5px 2px;\r\n    font-size: small;\r\n    color: gray;\r\n    cursor: pointer;\r\n}\r\n.infoWindow #arrow {\r\n    position: absolute;\r\n    bottom: -8px;\r\n    left: 50%;\r\n    margin-left: -10px;\r\n    border-right: 10px solid transparent;\r\n    border-left: 10px solid transparent;\r\n    border-top: 10px solid white;\r\n}\r\n\r\n",
				"",
				{
					version: 3,
					sources: [
						"D:/work/2020/cesium微件/参考/vue-cesium/src/giseye/draw/D:/work/2020/cesium微件/参考/vue-cesium/src/giseye/draw/draw.css",
					],
					names: [],
					mappings:
						"AAAA;IACI,eAAc;IACd,mBAAkB;IAClB,oBAAmB;IACnB,iBAAgB;IAChB,iBAAgB;IAChB,aAAY;IACZ,gBAAe;IACf,cAAa;IACb,aAAY;IACZ,oBAAmB;IACnB,kBAAiB;IACjB,0BAAyB;CAC7B;AACA;IACI,SAAQ;IACR,SAAQ;IACR,iBAAgB;IAChB,kCAAiC;IACjC,qCAAoC;IACpC,gCAA+B;CACnC;AACA;IACI,SAAQ;IACR,QAAO;IACP,iBAAgB;IAChB,kCAAiC;IACjC,qCAAoC;IACpC,kCAAiC;CACrC;AACA;IACI,UAAS;IACT,UAAS;IACT,iBAAgB;IAChB,kCAAiC;IACjC,qCAAoC;IACpC,iCAAgC;IAChC,wBAAuB;IACvB,4BAA2B,EAAG,UAAS;IACvC,6BAA4B,EAAG,aAAY;IAC3C,gCAA+B,CAAE,qBAAoB;IACrD,2BAA0B,EAAG,WAAU;CAC3C;AACA;IACI,QAAO;IACP,UAAS;IACT,iBAAgB;IAChB,kCAAiC;IACjC,qCAAoC;IACpC,kCAAiC;IACjC,yBAAwB;IACxB,6BAA4B,EAAG,UAAS;IACxC,8BAA6B,EAAG,aAAY;IAC5C,iCAAgC,CAAE,qBAAoB;IACtD,4BAA2B,EAAG,WAAU;CAC5C;AACA;IACI,iBAAgB;IAChB,2BAA0B;IAC1B,aAAY;IACZ,mBAAkB;IAClB,iBAAgB;IAChB,sBAAqB;IAGrB,mBAAkB;CACtB;AACA;IACI,mBAAkB;IAClB,SAAQ;IACR,UAAS;CACb;AAEA;;EAEC;AAED;IACI,YAAW;IACX,aAAY;IACZ,kBAAiB;CACrB;AAEA;IACI,YAAW;IACX,aAAY;IACZ,uBAAsB;IACtB,gBAAe;CACnB;AAEA;IACI,iBAAgB;CACpB;AAEA;;EAEC;AAED;IACI,mBAAkB;IAClB,iBAAgB;IAChB,iBAAgB;CACpB;AACA;IACI,cAAa;IACb,wBAAuB;IACvB,kBAAiB;CACrB;AACA;IACI,aAAY;IACZ,gBAAe;IACf,iBAAgB;IAChB,YAAW;IACX,gBAAe;CACnB;AACA;IACI,mBAAkB;IAClB,aAAY;IACZ,UAAS;IACT,mBAAkB;IAClB,qCAAoC;IACpC,oCAAmC;IACnC,6BAA4B;CAChC",
					file: "draw.css",
					sourcesContent: [
						".twipsy {\r\n    display: block;\r\n    position: absolute;\r\n    visibility: visible;\r\n    max-width: 200px;\r\n    min-width: 100px;\r\n    padding: 5px;\r\n    font-size: 11px;\r\n    z-index: 1000;\r\n    opacity: 0.8;\r\n    -khtml-opacity: 0.8;\r\n    -moz-opacity: 0.8;\r\n    filter: alpha(opacity=80);\r\n}\r\n.twipsy.left .twipsy-arrow {\r\n    top: 50%;\r\n    right: 0;\r\n    margin-top: -5px;\r\n    border-top: 5px solid transparent;\r\n    border-bottom: 5px solid transparent;\r\n    border-left: 5px solid#072652b3;\r\n}\r\n.twipsy.right .twipsy-arrow {\r\n    top: 50%;\r\n    left: 0;\r\n    margin-top: -5px;\r\n    border-top: 5px solid transparent;\r\n    border-bottom: 5px solid transparent;\r\n    border-right: 5px solid #072652b3;\r\n}\r\n.twipsy.top .twipsy-arrow {\r\n    top: 100%;\r\n    left: 50%;\r\n    margin-top: -5px;\r\n    border-top: 5px solid transparent;\r\n    border-bottom: 5px solid transparent;\r\n    border-left: 5px solid #072652b3;\r\n    transform:rotate(90deg);\r\n    -ms-transform:rotate(90deg); \t/* IE 9 */\r\n    -moz-transform:rotate(90deg); \t/* Firefox */\r\n    -webkit-transform:rotate(90deg); /* Safari 和 Chrome */\r\n    -o-transform:rotate(90deg); \t/* Opera */\r\n}\r\n.twipsy.bottom .twipsy-arrow {\r\n    top: 0%;\r\n    left: 50%;\r\n    margin-top: -5px;\r\n    border-top: 5px solid transparent;\r\n    border-bottom: 5px solid transparent;\r\n    border-right: 5px solid #072652b3;\r\n    transform:rotate(-90deg);\r\n    -ms-transform:rotate(-90deg); \t/* IE 9 */\r\n    -moz-transform:rotate(-90deg); \t/* Firefox */\r\n    -webkit-transform:rotate(-90deg); /* Safari 和 Chrome */\r\n    -o-transform:rotate(-90deg); \t/* Opera */\r\n}\r\n.twipsy-inner {\r\n    padding: 3px 8px;\r\n    background-color:#072652b3;\r\n    color: white;\r\n    text-align: center;\r\n    max-width: 200px;\r\n    text-decoration: none;\r\n    -webkit-border-radius: 4px;\r\n    -moz-border-radius: 4px;\r\n    border-radius: 4px;\r\n}\r\n.twipsy-arrow {\r\n    position: absolute;\r\n    width: 0;\r\n    height: 0;\r\n}\r\n\r\n/*\r\ncss rules for the draw helper components\r\n*/\r\n\r\n.toolbar {\r\n    margin: 0px;\r\n    padding: 0px;\r\n    background: white;\r\n}\r\n\r\n.toolbar > .button {\r\n    margin: 5px;\r\n    padding: 5px;\r\n    border: 1px solid #eee;\r\n    cursor: pointer;\r\n}\r\n\r\n.toolbar > .button:hover {\r\n    background: #eee;\r\n}\r\n\r\n/*\r\ncss rules for the infowindow\r\n*/\r\n\r\n.infoWindow {\r\n    position: absolute;\r\n    min-width: 100px;\r\n    max-width: 300px;\r\n}\r\n.infoWindow #frame {\r\n    padding: 10px;\r\n    border: 1px solid black;\r\n    background: white;\r\n}\r\n.infoWindow #close {\r\n    float: right;\r\n    margin: 5px 2px;\r\n    font-size: small;\r\n    color: gray;\r\n    cursor: pointer;\r\n}\r\n.infoWindow #arrow {\r\n    position: absolute;\r\n    bottom: -8px;\r\n    left: 50%;\r\n    margin-left: -10px;\r\n    border-right: 10px solid transparent;\r\n    border-left: 10px solid transparent;\r\n    border-top: 10px solid white;\r\n}\r\n\r\n",
					],
					sourceRoot: "",
				},
			]);
		},
		function (e, t) {
			e.exports = function (e) {
				var t = [];
				return (
					(t.toString = function () {
						return this.map(function (t) {
							var n = (function (e, t) {
								var n = e[1] || "",
									r = e[3];
								if (!r) return n;
								if (t && "function" == typeof btoa) {
									var i =
											((a = r),
											"/*# sourceMappingURL=data:application/json;charset=utf-8;base64," +
												btoa(
													unescape(
														encodeURIComponent(
															JSON.stringify(a)
														)
													)
												) +
												" */"),
										o = r.sources.map(function (e) {
											return (
												"/*# sourceURL=" +
												r.sourceRoot +
												e +
												" */"
											);
										});
									return [n].concat(o).concat([i]).join("\n");
								}
								var a;
								return [n].join("\n");
							})(t, e);
							return t[2] ? "@media " + t[2] + "{" + n + "}" : n;
						}).join("");
					}),
					(t.i = function (e, n) {
						"string" == typeof e && (e = [[null, e, ""]]);
						for (var r = {}, i = 0; i < this.length; i++) {
							var o = this[i][0];
							"number" == typeof o && (r[o] = !0);
						}
						for (i = 0; i < e.length; i++) {
							var a = e[i];
							("number" == typeof a[0] && r[a[0]]) ||
								(n && !a[2]
									? (a[2] = n)
									: n &&
									  (a[2] = "(" + a[2] + ") and (" + n + ")"),
								t.push(a));
						}
					}),
					t
				);
			};
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [
					t,
					n(27),
					n(220),
					n(222),
					n(223),
					n(224),
					n(225),
					n(226),
					n(227),
					n(228),
					n(230),
					n(231),
					n(10),
					n(122),
				]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (
							e,
							t,
							r,
							i,
							o,
							a,
							s,
							l,
							u,
							c,
							f,
							h,
							p,
							d
						) {
							"use strict";
							var y = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = y(t)),
								(r = y(r)),
								(i = y(i)),
								(o = y(o)),
								(a = y(a)),
								(s = y(s)),
								(l = y(l)),
								(u = y(u)),
								(c = y(c)),
								(f = y(f)),
								(h = y(h));
							var m = function () {
									this.init.apply(this, arguments);
								},
								v = m;
							(e.default = v),
								(m.prototype = {
									viewer: null,
									ctrArr: [],
									pointDrawer: null,
									textDrawer: null,
									polylineDrawer: null,
									polygonDrawer: null,
									circleDrawer: null,
									rectDrawer: null,
									bufferLineDrawer: null,
									straightArrowDrawer: null,
									attackArrowDrawer: null,
									pincerArrowDrawer: null,
									posMeasure: null,
									spaceDisMeasure: null,
									stickDisMeasure: null,
									areaMeasure: null,
									activeDrawHander: null,
									dataSource: null,
									heightMeasure: null,
									drawStatue: p.drawStatue.NONE,
									drawStartEvent: null,
									drawEndEvent: null,
									drawStyle: {
										showLabel: !1,
										polygon: {},
										polyline: {},
									},
									drawType: null,
									init: function (e, n, p) {
										if (!e)
											throw new Error("未传入viewer对象");
										(this.viewer = e),
											(0, t.default)(this.drawStyle, p),
											(this.drawStartEvent =
												new Cesium.Event()),
											(this.drawEndEvent =
												new Cesium.Event()),
											(this.editStartEvent =
												new Cesium.Event()),
											(this.editEndEvent =
												new Cesium.Event()),
											(this.dataSource =
												Cesium.defaultValue(n, e)),
											(this.pointDrawer = new i.default(
												this.viewer
											)),
											this.ctrArr.push(this.pointDrawer),
											(this.textDrawer = new u.default(
												this.viewer
											)),
											this.ctrArr.push(this.textDrawer),
											(this.polylineDrawer =
												new o.default(
													this.viewer,
													this.drawStyle
												)),
											this.ctrArr.push(
												this.polylineDrawer
											),
											(this.spacePolylineDrawer =
												new a.default(
													this.viewer,
													this.drawStyle
												)),
											this.ctrArr.push(
												this.spacePolylineDrawer
											),
											(this.drawingEvent =
												this.spacePolylineDrawer.drawingEvent),
											(this.editingEvent =
												this.spacePolylineDrawer._editingEvent),
											(this.polygonDrawer = new r.default(
												this.viewer,
												this.drawStyle
											)),
											this.ctrArr.push(
												this.polygonDrawer
											),
											(this.circleDrawer = new l.default(
												this.viewer
											)),
											this.ctrArr.push(this.circleDrawer),
											(this.rectDrawer = new s.default(
												this.viewer
											)),
											this.ctrArr.push(this.rectDrawer),
											(this.straightArrowDrawer =
												new c.default(this.viewer)),
											this.ctrArr.push(
												this.straightArrowDrawer
											),
											(this.attackArrowDrawer =
												new f.default(this.viewer)),
											this.ctrArr.push(
												this.attackArrowDrawer
											),
											(this.pincerArrowDrawer =
												new h.default(this.viewer)),
											this.ctrArr.push(
												this.pincerArrowDrawer
											);
									},
									clear: function () {
										for (
											var e = 0;
											e < this.ctrArr.length;
											e++
										)
											try {
												var t = this.ctrArr[e];
												t.clear && t.clear();
											} catch (e) {
												console.log(
													"发生未知出错：GlobeTracker.clear"
												);
											}
									},
									clearAll: function () {
										this.clear(),
											this.dataSource &&
												this.dataSource.entities.removeAll();
									},
									addDrawEntity: function (e, t) {
										this.drawType = e;
										var n = (0, d.addDraw)(e, this, [
											t,
											this.drawStyle,
										]);
										return (this.drawType = ""), n;
									},
									startDraw: function (e) {
										var t = this;
										this.drawStatue ===
											p.drawStatue.EDITER &&
											this.endEdit(!1),
											t.drawStartEvent.raiseEvent({
												type: e,
												isActive: !0,
											}),
											(t.drawStatue =
												p.drawStatue.DRAWING),
											(t.drawType = e),
											this["_track".concat(e)](
												function () {
													t.drawStatue =
														p.drawStatue.NONE;
													var n = (0, d.addDraw)(
															e,
															t,
															[
																arguments[0],
																t.drawStyle,
															]
														),
														r = arguments[0];
													(arguments[0] = {
														isCancle: !1,
														data: r,
														type: e,
														entity: n,
													}),
														t.drawEndEvent.raiseEvent.apply(
															t.drawEndEvent,
															arguments
														),
														(t.drawType = "");
												},
												function () {
													(t.drawStatue =
														p.drawStatue.NONE),
														(t.drawType = ""),
														t.drawEndEvent.raiseEvent(
															{ isCancle: !0 }
														),
														t.clear();
												}
											);
									},
									stopDraw: function () {
										this.drawEndEvent.raiseEvent({
											isCancle: !0,
										}),
											this.clear(),
											(this.drawStatue =
												p.drawStatue.NONE);
									},
									startEdit: function (e) {
										var t = e.drawType,
											n = e.oldPositions;
										this.activeDrawHander &&
											this.activeDrawHander.cancle &&
											this.activeDrawHander.cancle(),
											this.clear();
										var r = this;
										r.editStartEvent.raiseEvent(),
											(r.drawStatue =
												p.drawStatue.EDITER);
										var i = function () {
												(r.drawStatue =
													p.drawStatue.NONE),
													(r.activeDrawHander =
														void 0),
													e.endEdit &&
														e.endEdit.apply(
															e,
															arguments
														),
													r.editEndEvent.raiseEvent.apply(
														r.editEndEvent,
														arguments
													);
											},
											o = function () {
												(r.drawStatue =
													p.drawStatue.NONE),
													(r.activeDrawHander =
														void 0),
													e && (e.show = !0),
													r.editEndEvent.raiseEvent.apply(
														r.editEndEvent
													);
											};
										switch (t) {
											case p.DrawType.DRAW_POINT:
											case p.DrawType.DRAW_RESOURCE:
												this.activeDrawHander =
													this.pointDrawer.showModifyPoint(
														n,
														i,
														o,
														t
													);
												break;
											case p.DrawType.DRAW_TEXT:
												this.activeDrawHander =
													this.textDrawer.showModifyPoint(
														n,
														i,
														o
													);
												break;
											case p.DrawType.DRAW_POLYGON:
												this.activeDrawHander =
													this.polygonDrawer.showModifyPolygon(
														n,
														i,
														o
													);
												break;
											case p.DrawType.DRAW_POLYLINE:
												this.activeDrawHander =
													this.polylineDrawer.showModifyPolyline(
														n,
														i,
														o
													);
												break;
											case p.DrawType.DRAW_SPACE_POLYLINE:
												this.activeDrawHander =
													this.spacePolylineDrawer.showModifyPolyline(
														n,
														i,
														o
													);
												break;
											case p.DrawType.DRAW_CIRCLE:
												this.activeDrawHander =
													this.circleDrawer.showModifyCircle(
														n,
														i,
														o
													);
												break;
											case p.DrawType.DRAW_RECTANGLE:
												this.activeDrawHander =
													this.rectDrawer.showModifyRectangle(
														n,
														i,
														o
													);
												break;
											case p.DrawType.DRAW_ATTACK_ARROW:
												this.activeDrawHander =
													this.attackArrowDrawer.showModifyAttackArrow(
														n.custom,
														i,
														o
													);
												break;
											case p.DrawType.DRAW_STRAIGHT_ARROW:
												this.activeDrawHander =
													this.straightArrowDrawer.showModifyStraightArrow(
														n,
														i,
														o
													);
												break;
											case p.DrawType.DRAW_PINCER_ARROW:
												this.activeDrawHander =
													this.pincerArrowDrawer.showModifyPincerArrow(
														n.custom,
														i,
														o
													);
												break;
											case p.DrawType.DRAW_BUFFERLINE:
												this.activeDrawHander =
													this.bufferLineDrawer.showModifyBufferLine(
														n,
														i,
														o
													);
										}
										e.show = !1;
									},
									endEdit: function (e) {
										this.activeDrawHander &&
											(e
												? this.activeDrawHander.ok &&
												  this.activeDrawHander.ok()
												: this.activeDrawHander
														.cancle &&
												  this.activeDrawHander.cancle(),
											(this.activeDrawHander = void 0));
									},
									updateStyle: function (e) {
										this.activeDrawHander &&
											this.activeDrawHander.updateStyle &&
											this.activeDrawHander.updateStyle(
												e
											);
									},
									_trackPoint: function (e, t) {
										this.clear(),
											null == this.pointDrawer &&
												((this.pointDrawer =
													new i.default(this.viewer)),
												this.ctrArr.push(
													this.pointDrawer
												)),
											this.pointDrawer.startDrawPoint(
												e,
												t
											);
									},
									_trackText: function (e, t) {
										this.clear(),
											null == this.pointDrawer &&
												((this.textDrawer =
													new u.default(this.viewer)),
												this.ctrArr.push(
													this.textDrawer
												)),
											this.textDrawer.startDrawPoint(
												e,
												t
											);
									},
									_trackPolyline: function (e, t) {
										this.clear(),
											null == this.polylineDrawer &&
												((this.polylineDrawer =
													new o.default(this.viewer)),
												this.ctrArr.push(
													this.polylineDrawer
												)),
											this.polylineDrawer.startDrawPolyline(
												e,
												t
											);
									},
									_trackSpacePolyline: function (e, t) {
										this.clear(),
											null == this.spacePolylineDrawer &&
												((this.spacePolylineDrawer =
													new a.default(this.viewer)),
												this.ctrArr.push(
													this.spacePolylineDrawer
												)),
											this.spacePolylineDrawer.startDrawPolyline(
												e,
												t
											);
									},
									_trackPolygon: function (e, t) {
										this.clear(),
											null == this.polygonDrawer &&
												((this.polygonDrawer =
													new r.default(this.viewer)),
												this.ctrArr.push(
													this.polygonDrawer
												)),
											this.polygonDrawer.startDrawPolygon(
												e,
												t
											);
									},
									_trackCircle: function (e, t) {
										this.clear(),
											null == this.circleDrawer &&
												((this.circleDrawer =
													new l.default(this.viewer)),
												this.ctrArr.push(
													this.circleDrawer
												)),
											this.circleDrawer.startDrawCircle(
												e,
												t
											);
									},
									_trackRectangle: function (e, t) {
										null == this.rectDrawer &&
											((this.rectDrawer = new s.default(
												this.viewer
											)),
											this.ctrArr.push(this.rectDrawer)),
											this.clear(),
											this.rectDrawer.startDrawRectangle(
												e,
												t
											);
									},
									_trackBufferLine: function (e, t) {
										this.bufferLineDrawer,
											this.clear(),
											this.bufferLineDrawer.startDrawBufferLine(
												e,
												t
											);
									},
									_trackStraightArrow: function (e, t) {
										this.clear(),
											null == this.straightArrowDrawer &&
												((this.straightArrowDrawer =
													new c.default(this.viewer)),
												this.ctrArr.push(
													this.straightArrowDrawer
												)),
											this.straightArrowDrawer.startDrawStraightArrow(
												e,
												t
											);
									},
									_trackAttackArrow: function (e, t) {
										this.clear(),
											null == this.attackArrowDrawer &&
												((this.attackArrowDrawer =
													new f.default(this.viewer)),
												this.ctrArr.push(
													this.attackArrowDrawer
												)),
											this.attackArrowDrawer.startDrawAttackArrow(
												e,
												t
											);
									},
									_trackPincerArrow: function (e, t) {
										this.clear(),
											null == this.pincerArrowDrawer &&
												((this.pincerArrowDrawer =
													new h.default(this.viewer)),
												this.ctrArr.push(
													this.pincerArrowDrawer
												)),
											this.pincerArrowDrawer.startDrawPincerArrow(
												e,
												t
											);
									},
									CLASS_NAME: "Draw",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(6), n(18), n(10), n(23), n(13)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a) {
							"use strict";
							var s = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = s(t)),
								(o = s(o)),
								(a = s(a));
							var l = function () {
									this.init.apply(this, arguments);
								},
								u = l;
							(e.default = u),
								(l.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									positions: [],
									tempPositions: [],
									drawHandler: null,
									modifyHandler: null,
									okHandler: null,
									cancelHandler: null,
									dragIcon: o.default,
									dragIconLight: a.default,
									material: null,
									outlineMaterial: null,
									fill: !0,
									outline: !0,
									outlineWidth: 2,
									extrudedHeight: 0,
									toolBarIndex: null,
									markers: {},
									layerId: "globeDrawerLayer",
									init: function (e) {
										var n = this;
										(n.viewer = e),
											(n.scene = e.scene),
											(n.clock = e.clock),
											(n.canvas = e.scene.canvas),
											(n.camera = e.scene.camera),
											(n.ellipsoid =
												e.scene.globe.ellipsoid),
											(n.tooltip = new t.default(
												e.container
											));
										var r,
											i,
											o = arguments[1];
										o &&
											((this.material =
												null !==
													(r = o.polygon.material) &&
												void 0 !== r
													? r
													: this.material),
											(this.outlineMaterial =
												null !==
													(i = o.polyline.material) &&
												void 0 !== i
													? i
													: this.material));
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											this.modifyHandler &&
												(this.modifyHandler.destroy(),
												(this.modifyHandler = null)),
											null != this.toolBarIndex &&
												layer.close(this.toolBarIndex),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									showModifyPolygon: function (e, t, n) {
										return (
											(this.positions = Cesium.clone(
												e,
												!0
											)),
											(this.okHandler = t),
											(this.cancelHandler = n),
											this._showModifyRegion2Map(),
											this._showToolBar()
										);
									},
									startDrawPolygon: function (e, t) {
										var n = this;
										(n.okHandler = e),
											(n.cancelHandler = t),
											(n.positions = []);
										var r = null;
										(n.drawHandler =
											new Cesium.ScreenSpaceEventHandler(
												n.canvas
											)),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.position;
													if (Cesium.defined(t)) {
														var i =
															n.camera.getPickRay(
																t
															);
														if (Cesium.defined(i)) {
															var o =
																n.scene.globe.pick(
																	i,
																	n.scene
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																0 ==
																	n.positions
																		.length &&
																	(n.positions.push(
																		o
																	),
																	(r =
																		n._createPoint(
																			o,
																			-1
																		)),
																	n._showRegion2Map()),
																	n.positions.push(
																		o
																	);
																var a =
																	n.positions
																		.length -
																	2;
																n._createPoint(
																	o,
																	a
																);
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.endPosition;
													if (Cesium.defined(t))
														if (
															n.positions.length <
															1
														)
															n.tooltip.showAt(
																t,
																"<p>选择起点</p>"
															);
														else {
															var i =
																"<p>点击添加下一个点</p>";
															n.positions.length >
																3 &&
																(i +=
																	"<p>右键结束绘制</p>"),
																n.tooltip.showAt(
																	t,
																	i
																);
															var o =
																n.camera.getPickRay(
																	t
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																var a =
																	n.scene.globe.pick(
																		o,
																		n.scene
																	);
																Cesium.defined(
																	a
																) &&
																	(r.position.setValue(
																		a
																	),
																	n.positions.pop(),
																	n.positions.push(
																		a
																	));
															}
														}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											),
											n.drawHandler.setInputAction(
												function (e) {
													n.positions.length < 4 ||
														(n.positions.pop(),
														n.viewer.entities.remove(
															r
														),
														n.tooltip.setVisible(
															!1
														),
														n.clear(),
														n.okHandler(
															n.positions
														));
												},
												Cesium.ScreenSpaceEventType
													.RIGHT_CLICK
											),
											n.drawHandler.setInputAction(
												function () {
													n.clear(),
														n.cancelHandler &&
															n.cancelHandler();
												},
												Cesium.ScreenSpaceEventType
													.RIGHT_CLICK,
												Cesium.KeyboardEventModifier
													.SHIFT
											);
									},
									_startModify: function () {
										var e = this,
											t = !1,
											n = null;
										e.drawHandler &&
											(e.drawHandler.destroy(),
											(e.drawHandler = null)),
											(e.modifyHandler =
												new Cesium.ScreenSpaceEventHandler(
													e.canvas
												)),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.position;
													if (Cesium.defined(i)) {
														var o =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(o)) {
															var a =
																e.scene.globe.pick(
																	o,
																	e.scene
																);
															if (
																Cesium.defined(
																	a
																)
															)
																if (t) {
																	(t = !1),
																		n.position.setValue(
																			a
																		);
																	var s =
																		n.oid;
																	(e.tempPositions[
																		s
																	] = a),
																		e.tooltip.setVisible(
																			!1
																		),
																		"mid_anchor" ==
																			n.flag &&
																			e._updateModifyAnchors(
																				s
																			);
																	for (
																		var l =
																				[],
																			u = 0;
																		u <
																		e
																			.tempPositions
																			.length;
																		u += 2
																	) {
																		var c =
																			e
																				.tempPositions[
																				u
																			];
																		l.push(
																			c
																		);
																	}
																	e.positions =
																		l;
																} else {
																	var f =
																		e.scene.pick(
																			i
																		);
																	if (
																		!Cesium.defined(
																			f
																		)
																	)
																		return;
																	if (
																		!Cesium.defined(
																			f.id
																		)
																	)
																		return;
																	var h =
																		f.id;
																	if (
																		h.layerId !=
																		e.layerId
																	)
																		return;
																	if (
																		"anchor" !=
																			h.flag &&
																		"mid_anchor" !=
																			h.flag
																	)
																		return;
																	(n = h),
																		(t =
																			!0),
																		"anchor" ==
																			h.flag &&
																			e.tooltip.showAt(
																				i,
																				"<p>移动控制点</p>"
																			),
																		"mid_anchor" ==
																			h.flag &&
																			e.tooltip.showAt(
																				i,
																				"<p>移动创建新的控制点</p>"
																			);
																}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.endPosition;
													if (Cesium.defined(i)) {
														if (!t) {
															var o =
																e.scene.pick(i);
															if (
																!Cesium.defined(
																	o
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															if (
																!Cesium.defined(
																	o.id
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															var a = o.id;
															return a.layerId ===
																e.layerId
																? void (a.flag
																		? "anchor" ===
																		  a.flag
																			? e.tooltip.showAt(
																					i,
																					"<p>左键选择点位进行拖动编辑，右键移除点</p>"
																			  )
																			: "mid_anchor" ===
																			  a.flag
																			? e.tooltip.showAt(
																					i,
																					"<p>左键选择点位新建节点，进行拖动编辑</p>"
																			  )
																			: e.tooltip.setVisible(
																					!1
																			  )
																		: e.tooltip.setVisible(
																				!1
																		  ))
																: void e.tooltip.setVisible(
																		!1
																  );
														}
														e.tooltip.showAt(
															i,
															"<p>移动控制点</p>"
														);
														var s =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(s)) {
															var l =
																e.scene.globe.pick(
																	s,
																	e.scene
																);
															if (
																Cesium.defined(
																	l
																)
															) {
																var u = n.oid;
																"anchor" ==
																n.flag
																	? (n.position.setValue(
																			l
																	  ),
																	  (e.tempPositions[
																			u
																	  ] = l),
																	  e._updateNewMidAnchors(
																			u
																	  ))
																	: "mid_anchor" ==
																			n.flag &&
																	  (n.position.setValue(
																			l
																	  ),
																	  (e.tempPositions[
																			u
																	  ] = l));
															}
														}
													} else
														e.tooltip.setVisible(
															!1
														);
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											),
											e.modifyHandler.setInputAction(
												function (t) {
													var n = t.position,
														r = e.scene.pick(n);
													if (
														Cesium.defined(r) &&
														Cesium.defined(r.id)
													) {
														var i = r.id;
														if (
															i.layerId ==
																e.layerId &&
															"mid_anchor" !==
																i.flag &&
															"anchor" === i.flag
														) {
															var o = i.oid;
															if (
																3 ===
																e.positions
																	.length
															)
																return void e.tooltip.showAt(
																	n,
																	"<p>面数据最少需要有三个点组成，不可再移除</p>"
																);
															e._clearAnchors(
																e.layerId
															),
																e.positions.splice(
																	o / 2,
																	1
																),
																e._computeTempPositions();
															for (
																var a =
																		e.tempPositions,
																	s = 0;
																s < a.length;
																s++
															)
																0 == s % 2
																	? e._createPoint(
																			a[
																				s
																			],
																			s
																	  )
																	: e._createMidPoint(
																			a[
																				s
																			],
																			s
																	  );
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.RIGHT_CLICK
											),
											e.modifyHandler.setInputAction(
												function () {
													e.clear(),
														e.cancelHandler &&
															e.cancelHandler();
												},
												Cesium.ScreenSpaceEventType
													.RIGHT_CLICK,
												Cesium.KeyboardEventModifier
													.SHIFT
											);
									},
									_showRegion2Map: function () {
										var e = this;
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#ff0"
												).withAlpha(0.5)),
											null == e.outlineMaterial &&
												(e.outlineMaterial =
													new Cesium.PolylineDashMaterialProperty(
														{
															dashLength: 16,
															color: Cesium.Color.fromCssColorString(
																"#00f"
															).withAlpha(0.7),
														}
													));
										var t = new Cesium.CallbackProperty(
												function () {
													return e.positions.length >
														2
														? new Cesium.PolygonHierarchy(
																e.positions
														  )
														: null;
												},
												!1
											),
											n = new Cesium.CallbackProperty(
												function () {
													if (
														e.positions.length > 1
													) {
														var t = [].concat(
																e.positions
															),
															n = e.positions[0];
														return t.push(n), t;
													}
													return null;
												},
												!1
											),
											r = {
												polygon:
													new Cesium.PolygonGraphics({
														hierarchy: t,
														material: e.material,
														show: e.fill,
													}),
												polyline: {
													positions: n,
													clampToGround: !0,
													width: e.outlineWidth,
													material: e.outlineMaterial,
													show: e.outline,
												},
											};
										e.extrudedHeight > 0 &&
											((r.polygon.extrudedHeight =
												e.extrudedHeight),
											(r.polygon.extrudedHeightReference =
												Cesium.HeightReference.RELATIVE_TO_GROUND),
											(r.polygon.closeTop = !0),
											(r.polygon.closeBottom = !0)),
											(e.entity =
												e.viewer.entities.add(r)),
											(e.entity.layerId = e.layerId);
									},
									_showModifyRegion2Map: function () {
										var e = this;
										e._startModify(),
											e._computeTempPositions();
										var t = new Cesium.CallbackProperty(
												function () {
													return e.positions.length >
														2
														? new Cesium.PolygonHierarchy(
																e.tempPositions
														  )
														: null;
												},
												!1
											),
											n = new Cesium.CallbackProperty(
												function () {
													if (
														e.tempPositions.length >
														1
													) {
														var t = [].concat(
																e.tempPositions
															),
															n =
																e
																	.tempPositions[0];
														return t.push(n), t;
													}
													return null;
												},
												!1
											);
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#ff0"
												).withAlpha(0.5)),
											null == e.outlineMaterial &&
												(e.outlineMaterial =
													new Cesium.PolylineDashMaterialProperty(
														{
															dashLength: 16,
															color: Cesium.Color.fromCssColorString(
																"#00f"
															).withAlpha(0.7),
														}
													));
										var r = {
											drawType: i.DrawType.DRAW_POLYGON,
											position:
												new Cesium.CallbackProperty(
													function () {
														return e.positions
															.length > 2
															? Cesium.BoundingSphere.fromPoints(
																	e.tempPositions
															  ).center
															: null;
													},
													!1
												),
											label: {
												text: i.drawTypeName[
													i.DrawType.DRAW_POLYGON
												],
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
												font: "14px sans-serif",
												verticalOrigin: 1,
												fillColor: Cesium.Color.WHITE,
												style: 2,
												outlineColor:
													Cesium.Color.GREEN,
												outlineWidth: 1,
												show: !0,
											},
											polygon: new Cesium.PolygonGraphics(
												{
													hierarchy: t,
													material: e.material,
													show: e.fill,
												}
											),
											polyline: {
												positions: n,
												clampToGround: !0,
												width: e.outlineWidth,
												material: e.outlineMaterial,
												show: e.outline,
											},
										};
										e.extrudedHeight > 0 &&
											((r.polygon.extrudedHeight =
												e.extrudedHeight),
											(r.polygon.extrudedHeightReference =
												Cesium.HeightReference.RELATIVE_TO_GROUND),
											(r.polygon.closeTop = !0),
											(r.polygon.closeBottom = !0)),
											(e.entity =
												e.viewer.entities.add(r)),
											(e.entity.layerId = e.layerId);
										for (
											var o = e.tempPositions, a = 0;
											a < o.length;
											a++
										)
											0 == a % 2
												? e._createPoint(o[a], a)
												: e._createMidPoint(o[a], a);
									},
									_updateModifyAnchors: function (e) {
										var t = this.tempPositions[e],
											n = null,
											r = null,
											i = this.tempPositions.length;
										0 == e
											? ((n = this.tempPositions[i - 1]),
											  (r = this.tempPositions[e + 1]))
											: e == i - 1
											? ((n = this.tempPositions[e - 1]),
											  (r = this.tempPositions[0]))
											: ((n = this.tempPositions[e - 1]),
											  (r = this.tempPositions[e + 1]));
										var o = this._computeCenterPotition(
												n,
												t
											),
											a = this._computeCenterPotition(
												t,
												r
											);
										this.tempPositions.splice(
											e,
											1,
											o,
											t,
											a
										),
											this._clearAnchors(this.layerId);
										for (
											var s = this.tempPositions, l = 0;
											l < s.length;
											l++
										)
											0 == l % 2
												? this._createPoint(s[l], l)
												: this._createMidPoint(s[l], l);
									},
									_updateNewMidAnchors: function (e) {
										if (null != e && null != e) {
											var t = null,
												n = null,
												r = null,
												i = null,
												o = this.tempPositions.length;
											0 == e
												? ((t = o - 2),
												  (n = o - 1),
												  (r = e + 1),
												  (i = e + 2))
												: e == o - 2
												? ((t = e - 2),
												  (n = e - 1),
												  (r = o - 1),
												  (i = 0))
												: ((t = e - 2),
												  (n = e - 1),
												  (r = e + 1),
												  (i = e + 2));
											var a = this.tempPositions[t],
												s = this.tempPositions[e],
												l = this.tempPositions[i],
												u = this._computeCenterPotition(
													a,
													s
												),
												c = this._computeCenterPotition(
													l,
													s
												);
											(this.tempPositions[n] = u),
												(this.tempPositions[r] = c),
												this.markers[
													n
												].position.setValue(u),
												this.markers[
													r
												].position.setValue(c);
										}
									},
									_createPoint: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIconLight,
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
											},
										});
										return (
											(n.oid = t),
											(n.layerId = this.layerId),
											(n.flag = "anchor"),
											(this.markers[t] = n),
											n
										);
									},
									_createMidPoint: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIcon,
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
											},
										});
										return (
											(n.oid = t),
											(n.layerId = this.layerId),
											(n.flag = "mid_anchor"),
											(this.markers[t] = n),
											n
										);
									},
									_computeTempPositions: function () {
										var e = [].concat(this.positions),
											t = e.length,
											n = e[0],
											r = e[t - 1];
										0 == this._isSimpleXYZ(n, r) &&
											(e.push(n), (t += 1)),
											(this.tempPositions = []);
										for (var i = 1; i < t; i++) {
											var o = e[i - 1],
												a = e[i],
												s = this._computeCenterPotition(
													o,
													a
												);
											this.tempPositions.push(o),
												this.tempPositions.push(s);
										}
									},
									_computeCenterPotition: function (e, t) {
										var n =
												this.ellipsoid.cartesianToCartographic(
													e
												),
											r =
												this.ellipsoid.cartesianToCartographic(
													t
												),
											i = new Cesium.EllipsoidGeodesic(
												n,
												r
											).interpolateUsingFraction(0.5);
										return this.ellipsoid.cartographicToCartesian(
											i
										);
									},
									_showToolBar: function () {
										var e = this;
										return {
											ok: function () {
												if ((e.clear(), e.okHandler)) {
													for (
														var t = [], n = 0;
														n <
														e.tempPositions.length;
														n += 2
													) {
														var r =
															e.tempPositions[n];
														t.push(r);
													}
													(e.positions = t),
														e.okHandler(t);
												}
											},
											cancle: function () {
												e.clear(),
													e.cancelHandler &&
														e.cancelHandler();
											},
											updateStyle: function (t) {
												e.entity &&
													(0, r.updateStyle)(
														e.entity,
														t
													);
											},
										};
									},
									_isSimpleXYZ: function (e, t) {
										return (
											e.x == t.x &&
											e.y == t.y &&
											e.z == t.z
										);
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									_clearAnchors: function () {
										for (var e in this.markers) {
											var t = this.markers[e];
											this.viewer.entities.remove(t);
										}
										this.markers = {};
									},
									CLASS_NAME: "GlobePolygonDrawer",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t) {
			e.exports = function (e) {
				return (
					e.webpackPolyfill ||
						((e.deprecate = function () {}),
						(e.paths = []),
						e.children || (e.children = []),
						Object.defineProperty(e, "loaded", {
							enumerable: !0,
							get: function () {
								return e.l;
							},
						}),
						Object.defineProperty(e, "id", {
							enumerable: !0,
							get: function () {
								return e.i;
							},
						}),
						(e.webpackPolyfill = 1)),
					e
				);
			};
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(6), n(18), n(10), n(13)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o) {
							"use strict";
							var a = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = a(t)),
								(o = a(o));
							var s = function () {
									this.init.apply(this, arguments);
								},
								l = s;
							(e.default = l),
								(s.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									position: null,
									drawHandler: null,
									modifyHandler: null,
									okHandler: null,
									cancelHandler: null,
									image: o.default,
									othImage: "",
									layerId: "globeEntityDrawerLayer",
									init: function (e) {
										(this.viewer = e),
											(this.scene = e.scene),
											(this.clock = e.clock),
											(this.canvas = e.scene.canvas),
											(this.camera = e.scene.camera),
											(this.ellipsoid =
												e.scene.globe.ellipsoid),
											(this.tooltip = new t.default(
												e.container
											));
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											this.modifyHandler &&
												(this.modifyHandler.destroy(),
												(this.modifyHandler = null)),
											(this.entity = null),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									showModifyPoint: function (e, t, n, r) {
										return (
											(this.position = Cesium.clone(
												e,
												!0
											)),
											(this.okHandler = t),
											(this.cancelHandler = n),
											(this.entity = null),
											this._createPoint(r),
											this._startModify(),
											this._showToolBar()
										);
									},
									startDrawPoint: function (e, t) {
										var n = this;
										(n.okHandler = e),
											(n.cancelHandler = t),
											(n.entity = null),
											(n.position = null),
											(n.drawHandler =
												new Cesium.ScreenSpaceEventHandler(
													n.canvas
												)),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.position;
													if (Cesium.defined(t)) {
														var r =
															n.camera.getPickRay(
																t
															);
														if (Cesium.defined(r)) {
															var i =
																n.scene.globe.pick(
																	r,
																	n.scene
																);
															Cesium.defined(i) &&
																((n.position =
																	i),
																n.entity.position.setValue(
																	i
																),
																n.tooltip.setVisible(
																	!1
																),
																n.clear(),
																n.okHandler(
																	n.position
																));
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.endPosition;
													if (Cesium.defined(t)) {
														var r =
															n.camera.getPickRay(
																t
															);
														if (Cesium.defined(r)) {
															var i =
																n.scene.globe.pick(
																	r,
																	n.scene
																);
															Cesium.defined(i) &&
																((n.position =
																	i),
																null == n.entity
																	? n._createPoint()
																	: n.entity.position.setValue(
																			i
																	  ));
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_startModify: function () {
										var e = this,
											t = !1,
											n = null;
										e.drawHandler &&
											(e.drawHandler.destroy(),
											(e.drawHandler = null)),
											(e.modifyHandler =
												new Cesium.ScreenSpaceEventHandler(
													e.canvas
												)),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.position;
													if (Cesium.defined(i)) {
														var o =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(o)) {
															var a =
																e.scene.globe.pick(
																	o,
																	e.scene
																);
															if (
																Cesium.defined(
																	a
																)
															)
																if (t)
																	(t = !1),
																		n.position.setValue(
																			a
																		),
																		(e.position =
																			a),
																		e.tooltip.setVisible(
																			!1
																		);
																else {
																	var s =
																		e.scene.pick(
																			i
																		);
																	if (
																		!Cesium.defined(
																			s
																		)
																	)
																		return;
																	if (
																		!Cesium.defined(
																			s.id
																		)
																	)
																		return;
																	var l =
																		s.id;
																	if (
																		l.layerId !=
																			e.layerId ||
																		"anchor" !=
																			l.flag
																	)
																		return;
																	(n = l),
																		(t =
																			!0),
																		e.tooltip.showAt(
																			i,
																			"<p>移动位置</p>"
																		);
																}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											e.modifyHandler.setInputAction(
												function (r) {
													if (t) {
														var i = r.endPosition;
														if (Cesium.defined(i)) {
															e.tooltip.showAt(
																i,
																"<p>移动位置</p>"
															);
															var o =
																e.camera.getPickRay(
																	i
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																var a =
																	e.scene.globe.pick(
																		o,
																		e.scene
																	);
																Cesium.defined(
																	a
																) &&
																	(n.position.setValue(
																		a
																	),
																	(e.position =
																		a));
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_createPoint: function (e) {
										var t = this.viewer.entities.add({
											drawType:
												e || i.DrawType.DRAW_POINT,
											position: this.position,
											billboard: {
												image:
													this.othImage || this.image,
												verticalOrigin: 1,
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
											},
											label: {
												text: i.drawTypeName[
													i.DrawType.DRAW_POINT
												],
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
												font: "14px sans-serif",
												verticalOrigin: 1,
												fillColor: Cesium.Color.WHITE,
												style: 2,
												outlineColor:
													Cesium.Color.GREEN,
												outlineWidth: 1,
												show: !1,
												pixelOffset:
													new Cesium.Cartesian2(
														0,
														-15
													),
											},
										});
										return (
											(t.oid = 0),
											(t.layerId = this.layerId),
											(t.flag = "anchor"),
											(this.entity = t),
											t
										);
									},
									_showToolBar: function () {
										var e = this;
										return {
											ok: function () {
												if ((e.clear(), e.okHandler)) {
													var t = e._getLonLat(
														e.position
													);
													e.okHandler(e.position, t);
												}
											},
											cancle: function () {
												e.clear(),
													e.cancelHandler &&
														e.cancelHandler();
											},
											updateStyle: function (t) {
												e.entity &&
													(0, r.updateStyle)(
														e.entity,
														t
													);
											},
										};
									},
									_getLonLat: function (e) {
										var t =
											this.ellipsoid.cartesianToCartographic(
												e
											);
										t.height =
											this.viewer.scene.globe.getHeight(
												t
											);
										var n = {
											lon: t.longitude,
											lat: t.latitude,
											alt: t.height,
											height: t.height,
										};
										return (
											(n.lon = Cesium.Math.toDegrees(
												n.lon
											)),
											(n.lat = Cesium.Math.toDegrees(
												n.lat
											)),
											n
										);
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									CLASS_NAME: "GlobePointDrawer",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(6), n(18), n(10), n(90), n(23), n(13)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a, s) {
							"use strict";
							var l = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = l(t)),
								(a = l(a)),
								(s = l(s));
							var u = function () {
									this.init.apply(this, arguments);
								},
								c = u;
							(e.default = c),
								(u.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									positions: [],
									tempPositions: [],
									drawHandler: null,
									modifyHandler: null,
									okHandler: null,
									cancelHandler: null,
									dragIcon: a.default,
									dragIconLight: s.default,
									material: null,
									toolBarIndex: null,
									markers: {},
									layerId: "globeDrawerLayer",
									init: function (e) {
										var n = this;
										(n.viewer = e),
											(n.scene = e.scene),
											(n.clock = e.clock),
											(n.canvas = e.scene.canvas),
											(n.camera = e.scene.camera),
											(n.ellipsoid =
												e.scene.globe.ellipsoid),
											(n.tooltip = new t.default(
												e.container
											));
										var r,
											i = arguments[1];
										i &&
											(this.material =
												null !==
													(r = i.polyline.material) &&
												void 0 !== r
													? r
													: this.material);
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											this.modifyHandler &&
												(this.modifyHandler.destroy(),
												(this.modifyHandler = null)),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									showModifyPolyline: function (e, t, n) {
										return (
											(this.positions = Cesium.clone(
												e,
												!0
											)),
											(this.okHandler = t),
											(this.cancelHandler = n),
											this._showModifyPolyline2Map(),
											this._showToolBar()
										);
									},
									startDrawPolyline: function (e, t) {
										var n = this;
										(n.okHandler = e),
											(n.cancelHandler = t),
											(n.positions = []);
										var r = null;
										(n.drawHandler =
											new Cesium.ScreenSpaceEventHandler(
												n.canvas
											)),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.position;
													if (Cesium.defined(t)) {
														var i =
															n.camera.getPickRay(
																t
															);
														if (Cesium.defined(i)) {
															var o =
																n.scene.globe.pick(
																	i,
																	n.scene
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																0 ==
																	n.positions
																		.length &&
																	(n.positions.push(
																		o
																	),
																	(r =
																		n._createPoint(
																			o,
																			-1
																		)),
																	n._showPolyline2Map()),
																	n.positions.push(
																		o
																	);
																var a =
																	n.positions
																		.length -
																	2;
																n._createPoint(
																	o,
																	a
																);
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.endPosition;
													if (Cesium.defined(t))
														if (
															n.positions.length <
															1
														)
															n.tooltip.showAt(
																t,
																"<p>选择起点</p>"
															);
														else {
															var i =
																"<p>点击添加下一个点</p>";
															n.positions.length >
																2 &&
																(i +=
																	"<p>右键结束绘制</p>"),
																n.tooltip.showAt(
																	t,
																	i
																);
															var o =
																n.camera.getPickRay(
																	t
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																var a =
																	n.scene.globe.pick(
																		o,
																		n.scene
																	);
																Cesium.defined(
																	a
																) &&
																	(r.position.setValue(
																		a
																	),
																	n.positions.pop(),
																	n.positions.push(
																		a
																	));
															}
														}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											),
											n.drawHandler.setInputAction(
												function () {
													n.positions.length < 3 ||
														(n.positions.pop(),
														n.viewer.entities.remove(
															r
														),
														n.tooltip.setVisible(
															!1
														),
														n.clear(),
														n.okHandler(
															n.positions
														));
												},
												Cesium.ScreenSpaceEventType
													.RIGHT_CLICK
											);
									},
									_startModify: function () {
										var e = this,
											t = !1,
											n = null;
										e.drawHandler &&
											(e.drawHandler.destroy(),
											(e.drawHandler = null)),
											(e.modifyHandler =
												new Cesium.ScreenSpaceEventHandler(
													e.canvas
												)),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.position;
													if (Cesium.defined(i)) {
														var o =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(o)) {
															var a =
																e.scene.globe.pick(
																	o,
																	e.scene
																);
															if (
																Cesium.defined(
																	a
																)
															)
																if (t) {
																	(t = !1),
																		n.position.setValue(
																			a
																		);
																	var s =
																		n.oid;
																	(e.tempPositions[
																		s
																	] = a),
																		e.tooltip.setVisible(
																			!1
																		),
																		"mid_anchor" ==
																			n.flag &&
																			e._updateModifyAnchors(
																				s
																			);
																	for (
																		var l =
																				[],
																			u = 0;
																		u <
																		e
																			.tempPositions
																			.length;
																		u += 2
																	) {
																		var c =
																			e
																				.tempPositions[
																				u
																			];
																		l.push(
																			c
																		);
																	}
																	e.positions =
																		l;
																} else {
																	var f =
																		e.scene.pick(
																			i
																		);
																	if (
																		!Cesium.defined(
																			f
																		)
																	)
																		return;
																	if (
																		!Cesium.defined(
																			f.id
																		)
																	)
																		return;
																	var h =
																		f.id;
																	if (
																		h.layerId !=
																		e.layerId
																	)
																		return;
																	if (
																		"anchor" !=
																			h.flag &&
																		"mid_anchor" !=
																			h.flag
																	)
																		return;
																	(n = h),
																		(t =
																			!0),
																		"anchor" ==
																			h.flag &&
																			e.tooltip.showAt(
																				i,
																				"<p>移动控制点</p>"
																			),
																		"mid_anchor" ==
																			h.flag &&
																			e.tooltip.showAt(
																				i,
																				"<p>移动创建新的控制点</p>"
																			);
																}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.endPosition;
													if (Cesium.defined(i)) {
														if (!t) {
															var o =
																e.scene.pick(i);
															if (
																!Cesium.defined(
																	o
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															if (
																!Cesium.defined(
																	o.id
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															var a = o.id;
															return a.layerId ===
																e.layerId
																? void (a.flag
																		? "anchor" ===
																		  a.flag
																			? e.tooltip.showAt(
																					i,
																					"<p>左键选择点位进行拖动编辑，右键移除点</p>"
																			  )
																			: "mid_anchor" ===
																			  a.flag
																			? e.tooltip.showAt(
																					i,
																					"<p>左键选择点位新建节点，进行拖动编辑</p>"
																			  )
																			: e.tooltip.setVisible(
																					!1
																			  )
																		: e.tooltip.setVisible(
																				!1
																		  ))
																: void e.tooltip.setVisible(
																		!1
																  );
														}
														e.tooltip.showAt(
															i,
															"<p>移动控制点</p>"
														);
														var s =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(s)) {
															var l =
																e.scene.globe.pick(
																	s,
																	e.scene
																);
															if (
																Cesium.defined(
																	l
																)
															) {
																var u = n.oid;
																"anchor" ==
																n.flag
																	? (n.position.setValue(
																			l
																	  ),
																	  (e.tempPositions[
																			u
																	  ] = l),
																	  e._updateNewMidAnchors(
																			u
																	  ))
																	: "mid_anchor" ==
																			n.flag &&
																	  (n.position.setValue(
																			l
																	  ),
																	  (e.tempPositions[
																			u
																	  ] = l));
															}
														}
													} else
														e.tooltip.setVisible(
															!1
														);
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											),
											e.modifyHandler.setInputAction(
												function (t) {
													var n = t.position,
														r = e.scene.pick(n);
													if (
														Cesium.defined(r) &&
														Cesium.defined(r.id)
													) {
														var i = r.id;
														if (
															i.layerId ==
																e.layerId &&
															"mid_anchor" !==
																i.flag &&
															"anchor" === i.flag
														) {
															var o = i.oid;
															if (
																2 ===
																e.positions
																	.length
															)
																return void e.tooltip.showAt(
																	n,
																	"<p>线数据最少需要有两个个点组成，不可再移除</p>"
																);
															e._clearAnchors(
																e.layerId
															),
																e.positions.splice(
																	o / 2,
																	1
																),
																e._computeTempPositions();
															for (
																var a =
																		e.tempPositions,
																	s = 0;
																s < a.length;
																s++
															)
																0 == s % 2
																	? e._createPoint(
																			a[
																				s
																			],
																			s
																	  )
																	: e._createMidPoint(
																			a[
																				s
																			],
																			s
																	  );
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.RIGHT_CLICK
											);
									},
									_showPolyline2Map: function () {
										var e = this;
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#00f"
												).withAlpha(0.9));
										var t = {
											polyline: {
												positions:
													new Cesium.CallbackProperty(
														function () {
															return e.positions;
														},
														!1
													),
												clampToGround: !0,
												width: 1,
												material: e.material,
											},
										};
										(e.entity = e.viewer.entities.add(t)),
											(e.entity.layerId = e.layerId);
									},
									_showModifyPolyline2Map: function () {
										var e = this;
										e._startModify(),
											e._computeTempPositions();
										var t = new Cesium.CallbackProperty(
											function () {
												return e.tempPositions;
											},
											!1
										);
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#00f"
												).withAlpha(0.9));
										var n = {
											drawType: i.DrawType.DRAW_POLYLINE,
											position:
												new Cesium.CallbackProperty(
													function () {
														return e.positions
															.length > 1
															? e.positions[
																	Math.round(
																		e
																			.positions
																			.length /
																			2
																	)
															  ]
															: null;
													},
													!1
												),
											label: {
												text: i.drawTypeName[
													i.DrawType.DRAW_POLYLINE
												],
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
												font: "14px sans-serif",
												verticalOrigin: 1,
												fillColor: Cesium.Color.WHITE,
												style: 2,
												outlineColor:
													Cesium.Color.GREEN,
												outlineWidth: 1,
												show: !0,
											},
											polyline: {
												positions: t,
												clampToGround: !0,
												width: 1,
												material: (0, o.cloneDeep)(
													e.material
												),
											},
										};
										(e.entity = e.viewer.entities.add(n)),
											(e.entity.layerId = e.layerId);
										for (
											var r = e.tempPositions, a = 0;
											a < r.length;
											a++
										)
											0 == a % 2
												? e._createPoint(r[a], a)
												: e._createMidPoint(r[a], a);
									},
									_updateModifyAnchors: function (e) {
										var t = this.tempPositions.length;
										if (0 != e && e != t - 1) {
											var n = this.tempPositions[e],
												r = this.tempPositions[e - 1],
												i = this.tempPositions[e + 1],
												o = this._computeCenterPotition(
													r,
													n
												),
												a = this._computeCenterPotition(
													n,
													i
												);
											this.tempPositions.splice(
												e,
												1,
												o,
												n,
												a
											),
												this._clearAnchors(
													this.layerId
												);
											for (
												var s = this.tempPositions,
													l = 0;
												l < s.length;
												l++
											)
												0 == l % 2
													? this._createPoint(s[l], l)
													: this._createMidPoint(
															s[l],
															l
													  );
										}
									},
									_updateNewMidAnchors: function (e) {
										if (null != e && null != e) {
											var t = null,
												n = null,
												r = null,
												i = null,
												o = this.tempPositions.length;
											0 == e
												? ((t = o - 2),
												  (n = o - 1),
												  (r = e + 1),
												  (i = e + 2))
												: e == o - 2
												? ((t = e - 2),
												  (n = e - 1),
												  (r = o - 1),
												  (i = 0))
												: ((t = e - 2),
												  (n = e - 1),
												  (r = e + 1),
												  (i = e + 2));
											var a = this.tempPositions[t],
												s = this.tempPositions[e],
												l = this.tempPositions[i];
											if (0 == e) {
												var u =
													this._computeCenterPotition(
														l,
														s
													);
												(this.tempPositions[r] = u),
													this.markers[
														r
													].position.setValue(u);
											} else if (e == o - 1) {
												var c =
													this._computeCenterPotition(
														a,
														s
													);
												(this.tempPositions[n] = c),
													this.markers[
														n
													].position.setValue(c);
											} else {
												var f =
														this._computeCenterPotition(
															a,
															s
														),
													h =
														this._computeCenterPotition(
															l,
															s
														);
												(this.tempPositions[n] = f),
													(this.tempPositions[r] = h),
													this.markers[
														n
													].position.setValue(f),
													this.markers[
														r
													].position.setValue(h);
											}
										}
									},
									_createPoint: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIconLight,
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
											},
										});
										return (
											(n.oid = t),
											(n.sid = e.sid),
											(n.layerId = this.layerId),
											(n.flag = "anchor"),
											(this.markers[t] = n),
											n
										);
									},
									_createMidPoint: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIcon,
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
											},
										});
										return (
											(n.oid = t),
											(n.layerId = this.layerId),
											(n.flag = "mid_anchor"),
											(this.markers[t] = n),
											n
										);
									},
									_computeTempPositions: function () {
										var e = [].concat(this.positions),
											t = e.length;
										this.tempPositions = [];
										for (var n = 1; n < t; n++) {
											var r = e[n - 1],
												i = e[n];
											(r.sid = n - 1), (i.sid = n);
											var o = this._computeCenterPotition(
												r,
												i
											);
											this.tempPositions.push(r),
												this.tempPositions.push(o);
										}
										var a = e[t - 1];
										this.tempPositions.push(a);
									},
									_computeCenterPotition: function (e, t) {
										var n =
												this.ellipsoid.cartesianToCartographic(
													e
												),
											r =
												this.ellipsoid.cartesianToCartographic(
													t
												),
											i = new Cesium.EllipsoidGeodesic(
												n,
												r
											).interpolateUsingFraction(0.5);
										return this.ellipsoid.cartographicToCartesian(
											i
										);
									},
									_showToolBar: function () {
										var e = this;
										return {
											ok: function () {
												if (e.okHandler) {
													var t =
															e._getPositionsWithSid(),
														n = e._getLonLats(t);
													e.clear(),
														(e.positions = t),
														e.okHandler(t, n);
												} else e.clear();
											},
											cancle: function () {
												e.clear(),
													e.cancelHandler &&
														e.cancelHandler();
											},
											updateStyle: function (t) {
												e.entity &&
													(0, r.updateStyle)(
														e.entity,
														t
													);
											},
										};
									},
									_getPositionsWithSid: function () {
										var e = [],
											t = this.viewer.entities.values;
										if (null == t || t.length < 1) return e;
										for (var n = 0; n < t.length; n++) {
											var r = t[n];
											if (
												r.layerId == this.layerId &&
												"anchor" == r.flag
											) {
												var i = r.position.getValue(
													new Date().getTime()
												);
												(i.sid = r.sid),
													(i.oid = r.oid),
													e.push(i);
											}
										}
										return (
											e.sort(function (e, t) {
												return e.oid > t.oid
													? 1
													: e.oid == t.oid
													? 0
													: -1;
											}),
											e
										);
									},
									_getLonLat: function (e) {
										var t =
											this.ellipsoid.cartesianToCartographic(
												e
											);
										t.height =
											this.viewer.scene.globe.getHeight(
												t
											);
										var n = {
											lon: t.longitude,
											lat: t.latitude,
											alt: t.height,
											height: t.height,
										};
										return (
											(n.lon = Cesium.Math.toDegrees(
												n.lon
											)),
											(n.lat = Cesium.Math.toDegrees(
												n.lat
											)),
											n
										);
									},
									_getLonLats: function (e) {
										for (
											var t = [], n = 0;
											n < e.length;
											n++
										) {
											var r = e[n],
												i = this._getLonLat(r);
											(i.sid = r.sid),
												(i.oid = r.oid),
												t.push(i);
										}
										return t;
									},
									_isSimpleXYZ: function (e, t) {
										return (
											e.x == t.x &&
											e.y == t.y &&
											e.z == t.z
										);
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									_clearAnchors: function () {
										for (var e in this.markers) {
											var t = this.markers[e];
											this.viewer.entities.remove(t);
										}
										this.markers = {};
									},
									CLASS_NAME: "GlobePolylineDrawer",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(6), n(18), n(10), n(90), n(23), n(13)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a, s) {
							"use strict";
							var l = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = l(t)),
								(a = l(a)),
								(s = l(s));
							var u = function () {
									this.init.apply(this, arguments);
								},
								c = u;
							(e.default = c),
								(u.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									positions: [],
									tempPositions: [],
									drawHandler: null,
									modifyHandler: null,
									okHandler: null,
									cancelHandler: null,
									dragIcon: a.default,
									dragIconLight: s.default,
									material: null,
									toolBarIndex: null,
									markers: {},
									layerId: "globeDrawerLayer",
									init: function (e) {
										(this.viewer = e),
											(this.scene = e.scene),
											(this.clock = e.clock),
											(this.canvas = e.scene.canvas),
											(this.camera = e.scene.camera),
											(this.ellipsoid =
												e.scene.globe.ellipsoid),
											(this.drawingEvent =
												new Cesium.Event()),
											(this._editingEvent =
												new Cesium.Event()),
											(this.tooltip = new t.default(
												e.container
											));
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											this.modifyHandler &&
												(this.modifyHandler.destroy(),
												(this.modifyHandler = null)),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									showModifyPolyline: function (e, t, n) {
										return (
											(this.positions = Cesium.clone(
												e,
												!0
											)),
											(this.okHandler = t),
											(this.cancelHandler = n),
											this._showModifyPolyline2Map(),
											this._showToolBar()
										);
									},
									startDrawPolyline: function (e, t) {
										var n = this;
										(n.okHandler = e),
											(n.cancelHandler = t),
											(n.positions = []);
										var r = null;
										(n.drawHandler =
											new Cesium.ScreenSpaceEventHandler(
												n.canvas
											)),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.position;
													if (Cesium.defined(t)) {
														var i =
															n.scene.pickPosition(
																t
															);
														if (
															!Cesium.defined(i)
														) {
															var o =
																n.camera.getPickRay(
																	t
																);
															if (
																!Cesium.defined(
																	o
																)
															)
																return;
															i =
																n.scene.globe.pick(
																	o,
																	n.scene
																);
														}
														if (Cesium.defined(i)) {
															var a = !1;
															if (
																(n.drawingEvent.raiseEvent(
																	n.positions,
																	n._getLonLat(
																		i
																	),
																	t,
																	function () {
																		a = !0;
																	}
																),
																!a)
															) {
																0 ==
																	n.positions
																		.length &&
																	(n.positions.push(
																		i
																	),
																	(r =
																		n._createPoint(
																			i,
																			-1
																		)),
																	n._showPolyline2Map()),
																	n.positions.push(
																		i
																	);
																var s =
																	n.positions
																		.length -
																	2;
																n._createPoint(
																	i,
																	s
																);
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.endPosition;
													if (Cesium.defined(t))
														if (
															n.positions.length <
															1
														)
															n.tooltip.showAt(
																t,
																"<p>选择起点</p>"
															);
														else {
															var r =
																"<p>点击添加下一个点</p>";
															n.positions.length >
																2 &&
																(r +=
																	"<p>右键结束绘制</p>"),
																n.tooltip.showAt(
																	t,
																	r
																);
															var i =
																n.scene.pickPosition(
																	t
																);
															if (
																!Cesium.defined(
																	i
																)
															) {
																var o =
																	n.camera.getPickRay(
																		t
																	);
																if (
																	!Cesium.defined(
																		o
																	)
																)
																	return;
																i =
																	n.scene.globe.pick(
																		o,
																		n.scene
																	);
															}
															Cesium.defined(i) &&
																(n.positions.pop(),
																n.positions.push(
																	i
																));
														}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											),
											n.drawHandler.setInputAction(
												function () {
													n.positions.length < 3 ||
														(n.positions.pop(),
														n.viewer.entities.remove(
															r
														),
														n.tooltip.setVisible(
															!1
														),
														n.clear(),
														n.okHandler(
															n.positions
														));
												},
												Cesium.ScreenSpaceEventType
													.RIGHT_CLICK
											);
									},
									_startModify: function () {
										var e = this,
											t = !1,
											n = null;
										e.drawHandler &&
											(e.drawHandler.destroy(),
											(e.drawHandler = null)),
											(e.modifyHandler =
												new Cesium.ScreenSpaceEventHandler(
													e.canvas
												)),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.position;
													if (Cesium.defined(i)) {
														var o =
															e.scene.pickPosition(
																i
															);
														if (
															!Cesium.defined(o)
														) {
															var a =
																e.camera.getPickRay(
																	i
																);
															if (
																!Cesium.defined(
																	a
																)
															)
																return;
															o =
																e.scene.globe.pick(
																	a,
																	e.scene
																);
														}
														if (Cesium.defined(o))
															if (t) {
																var s = !1,
																	l = n.oid;
																if (
																	(e._editingEvent.raiseEvent(
																		{
																			type:
																				"mid_anchor" ===
																				n.flag
																					? "add"
																					: "move",
																			index:
																				"mid_anchor" ===
																				n.flag
																					? (l +
																							3) /
																					  2
																					: n.sid,
																			position:
																				e._getLonLat(
																					o
																				),
																		},
																		i,
																		function () {
																			s =
																				!0;
																		}
																	),
																	s)
																)
																	return;
																(t = !1),
																	n.position.setValue(
																		o
																	),
																	(n.show =
																		!0),
																	(e.tempPositions[
																		l
																	] = o),
																	e.tooltip.setVisible(
																		!1
																	),
																	"mid_anchor" ==
																		n.flag &&
																		e._updateModifyAnchors(
																			l
																		);
																for (
																	var u = [],
																		c = 0;
																	c <
																	e
																		.tempPositions
																		.length;
																	c += 2
																) {
																	var f =
																		e
																			.tempPositions[
																			c
																		];
																	u.push(f);
																}
																e.positions = u;
															} else {
																var h =
																	e.scene.pick(
																		i
																	);
																if (
																	!Cesium.defined(
																		h
																	)
																)
																	return;
																if (
																	!Cesium.defined(
																		h.id
																	)
																)
																	return;
																var p = h.id;
																if (
																	p.layerId !=
																	e.layerId
																)
																	return;
																if (
																	"anchor" !=
																		p.flag &&
																	"mid_anchor" !=
																		p.flag
																)
																	return;
																(t = !0),
																	((n =
																		p).show =
																		!1),
																	"anchor" ==
																		p.flag &&
																		e.tooltip.showAt(
																			i,
																			"<p>移动控制点</p>"
																		),
																	"mid_anchor" ==
																		p.flag &&
																		e.tooltip.showAt(
																			i,
																			"<p>移动创建新的控制点</p>"
																		);
															}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.endPosition;
													if (Cesium.defined(i)) {
														if (!t) {
															var o =
																e.scene.pick(i);
															if (
																!Cesium.defined(
																	o
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															if (
																!Cesium.defined(
																	o.id
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															var a = o.id;
															return a.layerId ===
																e.layerId
																? void (a.flag
																		? "anchor" ===
																		  a.flag
																			? e.tooltip.showAt(
																					i,
																					"<p>左键选择点位进行拖动编辑，右键移除点</p>"
																			  )
																			: "mid_anchor" ===
																			  a.flag
																			? e.tooltip.showAt(
																					i,
																					"<p>左键选择点位新建节点，进行拖动编辑</p>"
																			  )
																			: e.tooltip.setVisible(
																					!1
																			  )
																		: e.tooltip.setVisible(
																				!1
																		  ))
																: void e.tooltip.setVisible(
																		!1
																  );
														}
														e.tooltip.showAt(
															i,
															"<p>移动控制点</p>"
														);
														var s =
															e.scene.pickPosition(
																i
															);
														if (
															!Cesium.defined(s)
														) {
															var l =
																e.camera.getPickRay(
																	i
																);
															if (
																!Cesium.defined(
																	l
																)
															)
																return;
															s =
																e.scene.globe.pick(
																	l,
																	e.scene
																);
														}
														if (Cesium.defined(s)) {
															var u = n.oid;
															"anchor" == n.flag
																? (n.position.setValue(
																		s
																  ),
																  (e.tempPositions[
																		u
																  ] = s),
																  e._updateNewMidAnchors(
																		u
																  ))
																: "mid_anchor" ==
																		n.flag &&
																  (n.position.setValue(
																		s
																  ),
																  (e.tempPositions[
																		u
																  ] = s));
														}
													} else
														e.tooltip.setVisible(
															!1
														);
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											),
											e.modifyHandler.setInputAction(
												function (t) {
													var n = t.position,
														r = e.scene.pick(n);
													if (
														Cesium.defined(r) &&
														Cesium.defined(r.id)
													) {
														var i = r.id;
														if (
															i.layerId ==
																e.layerId &&
															"mid_anchor" !==
																i.flag &&
															"anchor" === i.flag
														) {
															var o = i.oid;
															if (
																2 ===
																e.positions
																	.length
															)
																return void e.tooltip.showAt(
																	n,
																	"<p>线数据最少需要有两个个点组成，不可再移除</p>"
																);
															e._clearAnchors(
																e.layerId
															),
																e.positions.splice(
																	o / 2,
																	1
																),
																e._computeTempPositions();
															for (
																var a =
																		e.tempPositions,
																	s = 0;
																s < a.length;
																s++
															)
																0 == s % 2
																	? e._createPoint(
																			a[
																				s
																			],
																			s
																	  )
																	: e._createMidPoint(
																			a[
																				s
																			],
																			s
																	  );
															e._editingEvent.raiseEvent(
																{
																	type: "remove",
																	index:
																		i.sid ||
																		i.oid,
																}
															);
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.RIGHT_CLICK
											);
									},
									_showPolyline2Map: function () {
										var e = this;
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#00f"
												).withAlpha(0.9));
										var t = {
											polyline: {
												positions:
													new Cesium.CallbackProperty(
														function () {
															return e.positions;
														},
														!1
													),
												clampToGround: !1,
												width: 1,
												material: e.material,
											},
										};
										(e.entity = e.viewer.entities.add(t)),
											(e.entity.layerId = e.layerId);
									},
									_showModifyPolyline2Map: function () {
										var e = this;
										e._startModify(),
											e._computeTempPositions();
										var t = new Cesium.CallbackProperty(
											function () {
												return e.tempPositions;
											},
											!1
										);
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#00f"
												).withAlpha(0.9));
										var n = {
											drawType:
												i.DrawType.DRAW_SPACE_POLYLINE,
											position:
												new Cesium.CallbackProperty(
													function () {
														return e.positions
															.length > 1
															? e.positions[
																	Math.round(
																		e
																			.positions
																			.length /
																			2
																	)
															  ]
															: null;
													},
													!1
												),
											label: {
												text: i.drawTypeName[
													i.DrawType
														.DRAW_SPACE_POLYLINE
												],
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference.NONE,
												font: "14px sans-serif",
												verticalOrigin: 1,
												fillColor: Cesium.Color.WHITE,
												style: 2,
												outlineColor:
													Cesium.Color.GREEN,
												outlineWidth: 1,
												show: !0,
											},
											polyline: {
												positions: t,
												clampToGround: !1,
												width: 1,
												material: (0, o.cloneDeep)(
													e.material
												),
											},
										};
										(e.entity = e.viewer.entities.add(n)),
											(e.entity.layerId = e.layerId);
										for (
											var r = e.tempPositions, a = 0;
											a < r.length;
											a++
										)
											0 == a % 2
												? e._createPoint(r[a], a)
												: e._createMidPoint(r[a], a);
									},
									_updateModifyAnchors: function (e) {
										var t = this.tempPositions.length;
										if (0 != e && e != t - 1) {
											var n = this.tempPositions[e],
												r = this.tempPositions[e - 1],
												i = this.tempPositions[e + 1],
												o = this._computeCenterPotition(
													r,
													n
												),
												a = this._computeCenterPotition(
													n,
													i
												);
											this.tempPositions.splice(
												e,
												1,
												o,
												n,
												a
											),
												this._clearAnchors(
													this.layerId
												);
											for (
												var s = this.tempPositions,
													l = 0;
												l < s.length;
												l++
											)
												0 == l % 2
													? ((s[l].sid = l / 2),
													  this._createPoint(
															s[l],
															l
													  ))
													: this._createMidPoint(
															s[l],
															l
													  );
										}
									},
									_updateNewMidAnchors: function (e) {
										if (null != e && null != e) {
											var t = null,
												n = null,
												r = null,
												i = null,
												o = this.tempPositions.length;
											0 == e
												? ((t = o - 2),
												  (n = o - 1),
												  (r = e + 1),
												  (i = e + 2))
												: e == o - 2
												? ((t = e - 2),
												  (n = e - 1),
												  (r = o - 1),
												  (i = 0))
												: ((t = e - 2),
												  (n = e - 1),
												  (r = e + 1),
												  (i = e + 2));
											var a = this.tempPositions[t],
												s = this.tempPositions[e],
												l = this.tempPositions[i];
											if (0 == e) {
												var u =
													this._computeCenterPotition(
														l,
														s
													);
												(this.tempPositions[r] = u),
													this.markers[
														r
													].position.setValue(u);
											} else if (e == o - 1) {
												var c =
													this._computeCenterPotition(
														a,
														s
													);
												(this.tempPositions[n] = c),
													this.markers[
														n
													].position.setValue(c);
											} else {
												var f =
														this._computeCenterPotition(
															a,
															s
														),
													h =
														this._computeCenterPotition(
															l,
															s
														);
												(this.tempPositions[n] = f),
													(this.tempPositions[r] = h),
													this.markers[
														n
													].position.setValue(f),
													this.markers[
														r
													].position.setValue(h);
											}
										}
									},
									_createPoint: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIconLight,
												heightReference:
													Cesium.HeightReference.NONE,
											},
											label: {
												text: e.sid
													? e.sid + 1 + ""
													: t + 1 + "",
												show: -1 !== t,
												font: "16px sans-serif",
												fillColor: Cesium.Color.RED,
												pixelOffset:
													new Cesium.Cartesian2(
														-10,
														-10
													),
												disableDepthTestDistance: 0,
												verticalOrigin: 1,
												heightReference:
													Cesium.HeightReference.NONE,
											},
										});
										return (
											(n.oid = t),
											(n.sid = e.sid),
											(n.layerId = this.layerId),
											(n.flag = "anchor"),
											(this.markers[t] = n),
											n
										);
									},
									_createMidPoint: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIcon,
												heightReference:
													Cesium.HeightReference.NONE,
											},
										});
										return (
											(n.oid = t),
											(n.layerId = this.layerId),
											(n.flag = "mid_anchor"),
											(this.markers[t] = n),
											n
										);
									},
									_computeTempPositions: function () {
										var e = [].concat(this.positions),
											t = e.length;
										this.tempPositions = [];
										for (var n = 1; n < t; n++) {
											var r = e[n - 1],
												i = e[n];
											(r.sid = n - 1), (i.sid = n);
											var o = this._computeCenterPotition(
												r,
												i
											);
											this.tempPositions.push(r),
												this.tempPositions.push(o);
										}
										var a = e[t - 1];
										this.tempPositions.push(a);
									},
									_computeCenterPotition: function (e, t) {
										return Cesium.Cartesian3.midpoint(
											e,
											t,
											new Cesium.Cartesian3()
										);
									},
									_showToolBar: function () {
										var e = this;
										return {
											ok: function () {
												if (e.okHandler) {
													var t =
															e._getPositionsWithSid(),
														n = e._getLonLats(t);
													e.clear(),
														(e.positions = t),
														e.okHandler(t, n);
												} else e.clear();
											},
											cancle: function () {
												e.clear(),
													e.cancelHandler &&
														e.cancelHandler();
											},
											updateStyle: function (t) {
												e.entity &&
													(0, r.updateStyle)(
														e.entity,
														t
													);
											},
										};
									},
									_getPositionsWithSid: function () {
										var e = [],
											t = this.viewer.entities.values;
										if (null == t || t.length < 1) return e;
										for (var n = 0; n < t.length; n++) {
											var r = t[n];
											if (
												r.layerId == this.layerId &&
												"anchor" == r.flag
											) {
												var i = r.position.getValue(
													new Date().getTime()
												);
												(i.sid = r.sid),
													(i.oid = r.oid),
													e.push(i);
											}
										}
										return (
											e.sort(function (e, t) {
												return e.oid > t.oid
													? 1
													: e.oid == t.oid
													? 0
													: -1;
											}),
											e
										);
									},
									_getLonLat: function (e) {
										var t =
												this.ellipsoid.cartesianToCartographic(
													e
												),
											n = {
												lon: t.longitude,
												lat: t.latitude,
												alt: t.height,
												height: t.height,
											};
										return (
											(n.lon = Cesium.Math.toDegrees(
												n.lon
											)),
											(n.lat = Cesium.Math.toDegrees(
												n.lat
											)),
											n
										);
									},
									_getLonLats: function (e) {
										for (
											var t = [], n = 0;
											n < e.length;
											n++
										) {
											var r = e[n],
												i = this._getLonLat(r);
											(i.sid = r.sid),
												(i.oid = r.oid),
												t.push(i);
										}
										return t;
									},
									_isSimpleXYZ: function (e, t) {
										return (
											e.x == t.x &&
											e.y == t.y &&
											e.z == t.z
										);
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									_clearAnchors: function () {
										for (var e in this.markers) {
											var t = this.markers[e];
											this.viewer.entities.remove(t);
										}
										this.markers = {};
									},
									CLASS_NAME: "GlobeSpacePolylineDrawer",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(6), n(18), n(10), n(13)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o) {
							"use strict";
							var a = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = a(t)),
								(o = a(o));
							var s = function () {
									this.init.apply(this, arguments);
								},
								l = s;
							(e.default = l),
								(s.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									positions: [],
									drawHandler: null,
									modifyHandler: null,
									okHandler: null,
									cancelHandler: null,
									dragIconLight: o.default,
									material: null,
									outlineMaterial: null,
									fill: !0,
									outline: !0,
									outlineWidth: 2,
									extrudedHeight: 0,
									toolBarIndex: null,
									layerId: "globeEntityDrawerLayer",
									init: function (e) {
										(this.viewer = e),
											(this.scene = e.scene),
											(this.clock = e.clock),
											(this.canvas = e.scene.canvas),
											(this.camera = e.scene.camera),
											(this.ellipsoid =
												e.scene.globe.ellipsoid),
											(this.tooltip = new t.default(
												e.container
											));
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											this.modifyHandler &&
												(this.modifyHandler.destroy(),
												(this.modifyHandler = null)),
											null != this.toolBarIndex &&
												layer.close(this.toolBarIndex),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									showModifyRectangle: function (e, t, n) {
										return (
											(this.positions = Cesium.clone(
												e,
												!0
											)),
											(this.okHandler = t),
											(this.cancelHandler = n),
											this._showModifyRegion2Map(),
											this._startModify(),
											this._showToolBar()
										);
									},
									startDrawRectangle: function (e, t) {
										var n = this;
										(n.okHandler = e),
											(n.cancelHandler = t),
											(n.positions = []);
										var r = null;
										(n.drawHandler =
											new Cesium.ScreenSpaceEventHandler(
												n.canvas
											)),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.position;
													if (Cesium.defined(t)) {
														var i =
															n.camera.getPickRay(
																t
															);
														if (Cesium.defined(i)) {
															var o =
																n.scene.globe.pick(
																	i,
																	n.scene
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																var a =
																	n.positions
																		.length;
																0 == a &&
																	(n.positions.push(
																		o
																	),
																	(r =
																		n._createPoint(
																			o,
																			-1
																		)),
																	n._showRegion2Map()),
																	n.positions.push(
																		o
																	);
																var s =
																	n.positions
																		.length -
																	2;
																n._createPoint(
																	o,
																	s
																),
																	a > 1 &&
																		(n.positions.pop(),
																		n.viewer.entities.remove(
																			r
																		),
																		n.tooltip.setVisible(
																			!1
																		),
																		n.clear(),
																		this
																			.okHandler &&
																			n.okHandler(
																				n.positions
																			));
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.endPosition;
													if (Cesium.defined(t))
														if (
															n.positions.length <
															1
														)
															n.tooltip.showAt(
																t,
																"<p>选择起点</p>"
															);
														else {
															n.tooltip.showAt(
																t,
																"<p>选择终点</p>"
															);
															var i =
																n.camera.getPickRay(
																	t
																);
															if (
																Cesium.defined(
																	i
																)
															) {
																var o =
																	n.scene.globe.pick(
																		i,
																		n.scene
																	);
																Cesium.defined(
																	o
																) &&
																	(r.position.setValue(
																		o
																	),
																	n.positions.pop(),
																	n.positions.push(
																		o
																	));
															}
														}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_startModify: function () {
										var e = this,
											t = !1,
											n = null;
										e.drawHandler &&
											(e.drawHandler.destroy(),
											(e.drawHandler = null)),
											(e.modifyHandler =
												new Cesium.ScreenSpaceEventHandler(
													e.canvas
												)),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.position;
													if (Cesium.defined(i)) {
														var o =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(o)) {
															var a =
																e.scene.globe.pick(
																	o,
																	e.scene
																);
															if (
																Cesium.defined(
																	a
																)
															)
																if (t) {
																	(t = !1),
																		n.position.setValue(
																			a
																		);
																	var s =
																		n.oid;
																	(e.positions[
																		s
																	] = a),
																		e.tooltip.setVisible(
																			!1
																		);
																} else {
																	var l =
																		e.scene.pick(
																			i
																		);
																	if (
																		!Cesium.defined(
																			l
																		)
																	)
																		return;
																	if (
																		!Cesium.defined(
																			l.id
																		)
																	)
																		return;
																	var u =
																		l.id;
																	if (
																		u.layerId !=
																			e.layerId ||
																		"anchor" !=
																			u.flag
																	)
																		return;
																	(n = u),
																		(t =
																			!0),
																		e.tooltip.showAt(
																			i,
																			"<p>移动控制点</p>"
																		);
																}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.endPosition;
													if (Cesium.defined(i)) {
														if (!t) {
															var o =
																e.scene.pick(i);
															if (
																!Cesium.defined(
																	o
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															if (
																!Cesium.defined(
																	o.id
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															var a = o.id;
															return a.layerId ===
																e.layerId
																? void (a.flag &&
																  "anchor" ===
																		a.flag
																		? e.tooltip.showAt(
																				i,
																				"<p>左键选择点位进行拖动编辑</p>"
																		  )
																		: e.tooltip.setVisible(
																				!1
																		  ))
																: void e.tooltip.setVisible(
																		!1
																  );
														}
														e.tooltip.showAt(
															i,
															"<p>移动控制点</p>"
														);
														var s =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(s)) {
															var l =
																e.scene.globe.pick(
																	s,
																	e.scene
																);
															if (
																Cesium.defined(
																	l
																)
															) {
																n.position.setValue(
																	l
																);
																var u = n.oid;
																e.positions[u] =
																	l;
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_createPoint: function (e, t) {
										var n = viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIconLight,
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
											},
										});
										return (
											(n.oid = t),
											(n.layerId = this.layerId),
											(n.flag = "anchor"),
											n
										);
									},
									_showRegion2Map: function () {
										var e = this;
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#ff0"
												).withAlpha(0.5)),
											null == e.outlineMaterial &&
												(e.outlineMaterial =
													new Cesium.PolylineDashMaterialProperty(
														{
															dashLength: 16,
															color: Cesium.Color.fromCssColorString(
																"#00f"
															).withAlpha(0.7),
														}
													));
										var t = new Cesium.CallbackProperty(
												function () {
													return e.positions.length >
														1
														? Cesium.Rectangle.fromCartesianArray(
																e.positions
														  )
														: null;
												},
												!1
											),
											n = new Cesium.CallbackProperty(
												function () {
													if (
														e.positions.length > 1
													) {
														var t =
																Cesium.Rectangle.fromCartesianArray(
																	e.positions
																),
															n = [
																t.west,
																t.north,
																t.east,
																t.north,
																t.east,
																t.south,
																t.west,
																t.south,
																t.west,
																t.north,
															];
														return Cesium.Cartesian3.fromRadiansArray(
															n
														);
													}
													return null;
												},
												!1
											),
											r = {
												rectangle: {
													coordinates: t,
													material: e.material,
													show: e.fill,
												},
												polyline: {
													positions: n,
													clampToGround: !0,
													width: e.outlineWidth,
													material: e.outlineMaterial,
													show: e.outline,
												},
											};
										e.extrudedHeight > 0 &&
											((r.rectangle.extrudedHeight =
												e.extrudedHeight),
											(r.rectangle.extrudedHeightReference =
												Cesium.HeightReference.RELATIVE_TO_GROUND),
											(r.rectangle.closeTop = !0),
											(r.rectangle.closeBottom = !0),
											(r.rectangle.outline = !1),
											(r.rectangle.outlineWidth = 0)),
											(e.entity =
												e.viewer.entities.add(r)),
											(e.entity.layerId = e.layerId);
									},
									_showModifyRegion2Map: function () {
										var e = this;
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#ff0"
												).withAlpha(0.5)),
											null == e.outlineMaterial &&
												(e.outlineMaterial =
													new Cesium.PolylineDashMaterialProperty(
														{
															dashLength: 16,
															color: Cesium.Color.fromCssColorString(
																"#00f"
															).withAlpha(0.7),
														}
													));
										var t = new Cesium.CallbackProperty(
												function () {
													return e.positions.length >
														1
														? Cesium.Rectangle.fromCartesianArray(
																e.positions
														  )
														: null;
												},
												!1
											),
											n = new Cesium.CallbackProperty(
												function () {
													if (
														e.positions.length > 1
													) {
														var t =
																Cesium.Rectangle.fromCartesianArray(
																	e.positions
																),
															n = [
																t.west,
																t.north,
																t.east,
																t.north,
																t.east,
																t.south,
																t.west,
																t.south,
																t.west,
																t.north,
															];
														return Cesium.Cartesian3.fromRadiansArray(
															n
														);
													}
													return null;
												},
												!1
											),
											r = {
												drawType:
													i.DrawType.DRAW_RECTANGLE,
												position:
													new Cesium.CallbackProperty(
														function () {
															return e.positions
																.length > 1
																? Cesium.BoundingSphere.fromPoints(
																		e.positions
																  ).center
																: null;
														},
														!1
													),
												label: {
													text: i.drawTypeName[
														i.DrawType
															.DRAW_RECTANGLE
													],
													eyeOffset:
														new Cesium.ConstantProperty(
															new Cesium.Cartesian3(
																0,
																0,
																-500
															)
														),
													heightReference:
														Cesium.HeightReference
															.CLAMP_TO_GROUND,
													font: "14px sans-serif",
													verticalOrigin: 1,
													fillColor:
														Cesium.Color.WHITE,
													style: 2,
													outlineColor:
														Cesium.Color.GREEN,
													outlineWidth: 1,
													show: !0,
												},
												rectangle: {
													coordinates: t,
													material: e.material,
													show: e.fill,
												},
												polyline: {
													positions: n,
													clampToGround: !0,
													width: e.outlineWidth,
													material: e.outlineMaterial,
													show: e.outline,
												},
											};
										e.extrudedHeight > 0 &&
											((r.rectangle.extrudedHeight =
												e.extrudedHeight),
											(r.rectangle.extrudedHeightReference =
												Cesium.HeightReference.RELATIVE_TO_GROUND),
											(r.rectangle.closeTop = !0),
											(r.rectangle.closeBottom = !0),
											(r.rectangle.outline = !1),
											(r.rectangle.outlineWidth = 0)),
											(e.entity =
												e.viewer.entities.add(r)),
											(e.entity.layerId = e.layerId);
										for (
											var o = e.positions, a = 0;
											a < o.length;
											a++
										)
											e._createPoint(o[a], a);
									},
									_computeRectangle: function (e, t) {
										return (
											this.ellipsoid.cartesianToCartographic(
												e
											),
											this.ellipsoid.cartesianToCartographic(
												t
											),
											Cesium.Rectangle.fromCartesianArray(
												[e, t]
											)
										);
									},
									_showToolBar: function () {
										var e = this;
										return {
											ok: function () {
												e.clear(),
													e.okHandler &&
														e.okHandler(
															e.positions
														);
											},
											cancle: function () {
												e.clear(),
													e.cancelHandler &&
														e.cancelHandler();
											},
											updateStyle: function (t) {
												e.entity &&
													(0, r.updateStyle)(
														e.entity,
														t
													);
											},
										};
									},
									_isSimpleXYZ: function (e, t) {
										return (
											e.x == t.x &&
											e.y == t.y &&
											e.z == t.z
										);
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									CLASS_NAME: "GlobeRectangleDrawer",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r,
				i,
				o,
				a = n(52),
				s = n(79),
				l = n(42);
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(6), n(18), n(10)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i) {
							"use strict";
							var o = n(0);
							function u(e) {
								if ("function" != typeof s) return null;
								var t = new s(),
									n = new s();
								return (u = function (e) {
									return e ? n : t;
								})(e);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = o(t)),
								(i = (function (e, t) {
									if (!t && e && e.__esModule) return e;
									if (
										null === e ||
										("object" !== a(e) &&
											"function" != typeof e)
									)
										return { default: e };
									var n = u(t);
									if (n && n.has(e)) return n.get(e);
									var r = {},
										i = Object.defineProperty && l;
									for (var o in e)
										if (
											"default" !== o &&
											Object.prototype.hasOwnProperty.call(
												e,
												o
											)
										) {
											var s = i ? l(e, o) : null;
											s && (s.get || s.set)
												? Object.defineProperty(r, o, s)
												: (r[o] = e[o]);
										}
									return (r.default = e), n && n.set(e, r), r;
								})(i));
							var c = function () {
									this.init.apply(this, arguments);
								},
								f = c;
							(e.default = f),
								(c.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									labelEntity: null,
									outlineEntity: null,
									positions: [],
									drawHandler: null,
									modifyHandler: null,
									okHandler: null,
									cancelHandler: null,
									dragIcon: "./images/draw/circle_center.png",
									dragIconLight:
										"./images/draw/circle_red.png",
									material: null,
									radiusLineMaterial: null,
									outlineMaterial: null,
									fill: !0,
									outline: !0,
									outlineWidth: 3,
									extrudedHeight: 0,
									toolBarIndex: null,
									layerId: "globeEntityDrawerLayer",
									init: function (e) {
										(this.viewer = e),
											(this.scene = e.scene),
											(this.clock = e.clock),
											(this.canvas = e.scene.canvas),
											(this.camera = e.scene.camera),
											(this.ellipsoid =
												e.scene.globe.ellipsoid),
											(this.tooltip = new t.default(
												e.container
											));
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											this.modifyHandler &&
												(this.modifyHandler.destroy(),
												(this.modifyHandler = null)),
											(this.entity = null),
											(this.labelEntity = null),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									showModifyCircle: function (e, t, n) {
										return (
											(this.positions = Cesium.clone(
												e,
												!0
											)),
											(this.okHandler = t),
											(this.cancelHandler = n),
											this._showModifyRegion2Map(),
											this._showCircleOutline2Map(),
											this._startModify(),
											this._showToolBar()
										);
									},
									startDrawCircle: function (e, t) {
										var n = this;
										(n.okHandler = e),
											(n.cancelHandler = t),
											(n.positions = []);
										var r = null;
										(n.drawHandler =
											new Cesium.ScreenSpaceEventHandler(
												n.canvas
											)),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.position;
													if (Cesium.defined(t)) {
														var i =
															n.camera.getPickRay(
																t
															);
														if (Cesium.defined(i)) {
															var o =
																n.scene.globe.pick(
																	i,
																	n.scene
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																var a =
																	n.positions
																		.length;
																0 == a &&
																	(n.positions.push(
																		o
																	),
																	n._createCenter(
																		o,
																		0
																	),
																	(r =
																		n._createPoint(
																			o,
																			-1
																		)),
																	n._showRegion2Map(),
																	n._showCircleOutline2Map()),
																	n.positions.push(
																		o
																	),
																	a > 0 &&
																		n._createPoint(
																			o,
																			1
																		),
																	a > 1 &&
																		(n.positions.pop(),
																		n.viewer.entities.remove(
																			r
																		),
																		n.tooltip.setVisible(
																			!1
																		),
																		n.okHandler &&
																			(n.clear(),
																			n.okHandler(
																				n.positions
																			)));
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.endPosition;
													if (Cesium.defined(t))
														if (
															n.positions.length <
															1
														)
															n.tooltip.showAt(
																t,
																"<p>选择起点</p>"
															);
														else {
															n.tooltip.showAt(
																t,
																"<p>选择终点</p>"
															);
															var i =
																n.camera.getPickRay(
																	t
																);
															if (
																Cesium.defined(
																	i
																)
															) {
																var o =
																	n.scene.globe.pick(
																		i,
																		n.scene
																	);
																Cesium.defined(
																	o
																) &&
																	(r.position.setValue(
																		o
																	),
																	n.positions.pop(),
																	n.positions.push(
																		o
																	));
															}
														}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_startModify: function () {
										var e = this,
											t = !1,
											n = null;
										e.drawHandler &&
											(e.drawHandler.destroy(),
											(e.drawHandler = null)),
											(e.modifyHandler =
												new Cesium.ScreenSpaceEventHandler(
													e.canvas
												)),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.position;
													if (Cesium.defined(i)) {
														var o =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(o)) {
															var a =
																e.scene.globe.pick(
																	o,
																	e.scene
																);
															if (
																Cesium.defined(
																	a
																)
															)
																if (t) {
																	(t = !1),
																		n.position.setValue(
																			a
																		);
																	var s =
																		n.oid;
																	(e.positions[
																		s
																	] = a),
																		e.tooltip.setVisible(
																			!1
																		);
																} else {
																	var l =
																		e.scene.pick(
																			i
																		);
																	if (
																		!Cesium.defined(
																			l
																		)
																	)
																		return;
																	if (
																		!Cesium.defined(
																			l.id
																		)
																	)
																		return;
																	var u =
																		l.id;
																	if (
																		u.layerId !=
																			e.layerId ||
																		"anchor" !=
																			u.flag
																	)
																		return;
																	(n = u),
																		(t =
																			!0),
																		e.tooltip.showAt(
																			i,
																			"<p>移动控制点</p>"
																		);
																}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.endPosition;
													if (Cesium.defined(i)) {
														if (!t) {
															var o =
																e.scene.pick(i);
															if (
																!Cesium.defined(
																	o
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															if (
																!Cesium.defined(
																	o.id
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															var a = o.id;
															return a.layerId ===
																e.layerId
																? void (a.flag &&
																  "anchor" ===
																		a.flag
																		? e.tooltip.showAt(
																				i,
																				"<p>左键选择点位进行拖动编辑</p>"
																		  )
																		: e.tooltip.setVisible(
																				!1
																		  ))
																: void e.tooltip.setVisible(
																		!1
																  );
														}
														e.tooltip.showAt(
															i,
															"<p>移动控制点</p>"
														);
														var s =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(s)) {
															var l =
																e.scene.globe.pick(
																	s,
																	e.scene
																);
															if (
																Cesium.defined(
																	l
																)
															) {
																n.position.setValue(
																	l
																);
																var u = n.oid;
																e.positions[u] =
																	l;
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_createCenter: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIcon,
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
											},
										});
										return (
											(n.oid = t),
											(n.layerId = this.layerId),
											(n.flag = "anchor"),
											n
										);
									},
									_createPoint: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIconLight,
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
											},
										});
										return (
											(n.oid = t),
											(n.layerId = this.layerId),
											(n.flag = "anchor"),
											n
										);
									},
									_showRegion2Map: function () {
										var e = this;
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#ff0"
												).withAlpha(0.5)),
											null == e.radiusLineMaterial &&
												(e.radiusLineMaterial =
													new Cesium.PolylineDashMaterialProperty(
														{
															dashLength: 16,
															color: Cesium.Color.fromCssColorString(
																"#00f"
															).withAlpha(0.7),
														}
													));
										var t = new Cesium.CallbackProperty(
												function () {
													if (
														e.positions.length > 1
													) {
														var t =
															e._computeCircleRadius3D(
																e.positions
															);
														(t = (t / 1e3).toFixed(
															3
														)),
															(e.entity.label.text =
																t + "km");
														var n =
															e._computeCirclePolygon(
																e.positions
															);
														return new Cesium.PolygonHierarchy(
															n
														);
													}
													return null;
												},
												!1
											),
											n = new Cesium.CallbackProperty(
												function () {
													return e.positions.length >
														1
														? e.positions
														: null;
												},
												!1
											),
											r = {
												position:
													new Cesium.CallbackProperty(
														function () {
															if (
																e.positions
																	.length > 1
															) {
																var t =
																		e
																			.positions[0],
																	n =
																		e
																			.positions[1];
																return e._computeCenterPotition(
																	t,
																	n
																);
															}
															return null;
														},
														!1
													),
												label: {
													text: "",
													font: "14px Helvetica",
													fillColor:
														Cesium.Color.SKYBLUE,
													outlineColor:
														Cesium.Color.BLACK,
													outlineWidth: 1,
													style: Cesium.LabelStyle
														.FILL_AND_OUTLINE,
													eyeOffset:
														new Cesium.ConstantProperty(
															new Cesium.Cartesian3(
																0,
																0,
																-500
															)
														),
													pixelOffset:
														new Cesium.Cartesian2(
															16,
															16
														),
													heightReference: 1,
												},
												polygon:
													new Cesium.PolygonGraphics({
														hierarchy: t,
														material: e.material,
														fill: e.fill,
														outline: e.outline,
														outlineWidth:
															e.outlineWidth,
														outlineColor:
															e.outlineColor,
													}),
												polyline: {
													positions: n,
													clampToGround: !0,
													width: 2,
													material:
														e.radiusLineMaterial,
												},
											};
										e.extrudedHeight > 0 &&
											((r.polygon.extrudedHeight =
												e.extrudedHeight),
											(r.polygon.extrudedHeightReference =
												Cesium.HeightReference.RELATIVE_TO_GROUND),
											(r.polygon.closeTop = !0),
											(r.polygon.closeBottom = !0)),
											(e.entity =
												e.viewer.entities.add(r)),
											(e.entity.layerId = e.layerId);
									},
									_showModifyRegion2Map: function () {
										var e = this;
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#ff0"
												).withAlpha(0.5));
										var t = new Cesium.CallbackProperty(
											function () {
												var t =
													e._computeCircleRadius3D(
														e.positions
													);
												(t = (t / 1e3).toFixed(3)),
													(e.entity.label.text =
														t + "km");
												var n = e._computeCirclePolygon(
													e.positions
												);
												return new Cesium.PolygonHierarchy(
													n
												);
											},
											!1
										);
										null == e.outlineMaterial &&
											(e.outlineMaterial =
												new Cesium.PolylineDashMaterialProperty(
													{
														dashLength: 16,
														color: Cesium.Color.fromCssColorString(
															"#f00"
														).withAlpha(0.7),
													}
												));
										var n = new Cesium.CallbackProperty(
												function () {
													return e._computeCirclePolygon(
														e.positions
													);
												},
												!1
											),
											r = new Cesium.CallbackProperty(
												function () {
													if (
														e.positions.length > 1
													) {
														var t = e.positions[0],
															n = e.positions[1];
														return e._computeCenterPotition(
															t,
															n
														);
													}
													return null;
												},
												!1
											),
											o = e._computeCircleRadius3D(
												e.positions
											);
										o = (o / 1e3).toFixed(3) + "km";
										var a = {
											drawType: i.default.DRAW_CIRCLE,
											position: r,
											label: {
												text: o,
												font: "14px Helvetica",
												fillColor: Cesium.Color.SKYBLUE,
												outlineColor:
													Cesium.Color.BLACK,
												outlineWidth: 1,
												style: Cesium.LabelStyle
													.FILL_AND_OUTLINE,
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												pixelOffset:
													new Cesium.Cartesian2(
														16,
														16
													),
												heightReference: 1,
											},
											polygon: new Cesium.PolygonGraphics(
												{
													hierarchy: t,
													material: e.material,
													fill: e.fill,
													outline: e.outline,
													outlineWidth:
														e.outlineWidth,
													outlineColor:
														e.outlineColor,
												}
											),
											polyline: {
												positions: n,
												clampToGround: !0,
												width: e.outlineWidth,
												material: e.outlineMaterial,
											},
										};
										e.extrudedHeight > 0 &&
											((a.polygon.extrudedHeight =
												e.extrudedHeight),
											(a.polygon.extrudedHeightReference =
												Cesium.HeightReference.RELATIVE_TO_GROUND),
											(a.polygon.closeTop = !0),
											(a.polygon.closeBottom = !0)),
											(e.entity =
												e.viewer.entities.add(a)),
											(e.entity.layerId = e.layerId),
											(e.labelEntity =
												e.viewer.entities.add({
													layerId: e.layerId,
													position:
														new Cesium.CallbackProperty(
															function () {
																var t =
																	e._computeCirclePolygon(
																		e.positions
																	);
																return Cesium.BoundingSphere.fromPoints(
																	t
																).center;
															},
															!1
														),
													label: {
														text: i.drawTypeName[
															i.default
																.DRAW_CIRCLE
														],
														eyeOffset:
															new Cesium.ConstantProperty(
																new Cesium.Cartesian3(
																	0,
																	0,
																	-500
																)
															),
														heightReference:
															Cesium
																.HeightReference
																.CLAMP_TO_GROUND,
														font: "14px sans-serif",
														verticalOrigin: 1,
														fillColor:
															Cesium.Color.WHITE,
														style: 2,
														outlineColor:
															Cesium.Color.GREEN,
														outlineWidth: 1,
														show: !0,
													},
												})),
											e._createCenter(e.positions[0], 0),
											e._createPoint(e.positions[1], 1);
									},
									_showCircleOutline2Map: function () {
										var e = this;
										null == e.radiusLineMaterial &&
											(e.radiusLineMaterial =
												new Cesium.PolylineDashMaterialProperty(
													{
														dashLength: 16,
														color: Cesium.Color.fromCssColorString(
															"#00f"
														).withAlpha(0.7),
													}
												));
										var t = {
											polyline: {
												positions:
													new Cesium.CallbackProperty(
														function () {
															return e.positions
																.length > 1
																? e.positions
																: null;
														},
														!1
													),
												clampToGround: !0,
												width: 2,
												material: e.radiusLineMaterial,
											},
										};
										(e.outlineEntity =
											e.viewer.entities.add(t)),
											(e.outlineEntity.layerId =
												e.layerId);
									},
									_computeCenterPotition: function (e, t) {
										var n =
												this.ellipsoid.cartesianToCartographic(
													e
												),
											r =
												this.ellipsoid.cartesianToCartographic(
													t
												),
											i = new Cesium.EllipsoidGeodesic(
												n,
												r
											).interpolateUsingFraction(0.5);
										return this.ellipsoid.cartographicToCartesian(
											i
										);
									},
									_computeCirclePolygon: function (e) {
										try {
											if (!e || e.length < 2) return null;
											var t = e[0],
												n =
													this._computeCircleRadius3D(
														e
													);
											return this._computeCirclePolygon2(
												t,
												n
											);
										} catch (e) {
											return null;
										}
									},
									_computeCirclePolygon2: function (e, t) {
										try {
											if (!e || t <= 0) return null;
											var n =
												Cesium.EllipseGeometryLibrary.computeEllipsePositions(
													{
														center: e,
														semiMajorAxis: t,
														semiMinorAxis: t,
														rotation: 0,
														granularity: 0.005,
													},
													!1,
													!0
												);
											if (!n || !n.outerPositions)
												return null;
											var r =
													Cesium.Cartesian3.unpackArray(
														n.outerPositions
													),
												i = r[0];
											return (r[r.length] = i), r;
										} catch (e) {
											return null;
										}
									},
									_computeCirclePolygon3: function (
										e,
										t,
										n,
										r
									) {
										try {
											if (!e || t <= 0 || n <= 0)
												return null;
											var i =
												Cesium.EllipseGeometryLibrary.computeEllipsePositions(
													{
														center: e,
														semiMajorAxis: t,
														semiMinorAxis: n,
														rotation: r,
														granularity: 0.005,
													},
													!1,
													!0
												);
											if (!i || !i.outerPositions)
												return null;
											var o =
													Cesium.Cartesian3.unpackArray(
														i.outerPositions
													),
												a = o[0];
											return (o[o.length] = a), o;
										} catch (e) {
											return null;
										}
									},
									_computeCirclePolygonForDegree: function (
										e
									) {
										for (
											var t =
													this.ellipsoid.cartesianToCartographic(
														e[0]
													),
												n =
													this.ellipsoid.cartesianToCartographic(
														e[1]
													),
												r = t.longitude,
												i = t.latitude,
												o = n.longitude,
												a = n.latitude,
												s = Math.sqrt(
													Math.pow(r - o, 2) +
														Math.pow(i - a, 2)
												),
												l = [],
												u = 0;
											u < 360;
											u++
										) {
											var c =
													r +
													s *
														Math.cos(
															(u * Math.PI) / 180
														),
												f =
													i +
													s *
														Math.sin(
															(u * Math.PI) / 180
														),
												h =
													Cesium.Cartesian3.fromRadians(
														c,
														f
													);
											l.push(h);
										}
										return l;
									},
									_computeCircleRadius3D: function (e) {
										var t = e[0],
											n = e[1],
											r = Math.pow(t.x - n.x, 2),
											i = Math.pow(t.y - n.y, 2),
											o = Math.pow(t.z - n.z, 2);
										return Math.sqrt(r + i + o);
									},
									_showToolBar: function () {
										var e = this;
										return {
											ok: function () {
												e.clear(),
													e.okHandler &&
														e.okHandler(
															e.positions
														);
											},
											cancle: function () {
												e.clear(),
													e.cancelHandler &&
														e.cancelHandler();
											},
											updateStyle: function (t) {
												e.entity &&
													(0, r.updateStyle)(
														e.entity,
														t
													),
													e.labelEntity &&
														(0, r.updateStyle)(
															e.labelEntity,
															t
														);
											},
										};
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									CLASS_NAME: "GlobeCircleDrawer",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(6), n(18), n(10)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i) {
							"use strict";
							var o = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = o(t)),
								(i = o(i));
							var a = function () {
									this.init.apply(this, arguments);
								},
								s = a;
							(e.default = s),
								(a.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									position: null,
									drawHandler: null,
									modifyHandler: null,
									okHandler: null,
									cancelHandler: null,
									label: "文字标注",
									layerId: "globeEntityDrawerLayer",
									init: function (e) {
										(this.viewer = e),
											(this.scene = e.scene),
											(this.clock = e.clock),
											(this.canvas = e.scene.canvas),
											(this.camera = e.scene.camera),
											(this.ellipsoid =
												e.scene.globe.ellipsoid),
											(this.tooltip = new t.default(
												e.container
											));
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											this.modifyHandler &&
												(this.modifyHandler.destroy(),
												(this.modifyHandler = null)),
											(this.entity = null),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									showModifyPoint: function (e, t, n) {
										return (
											(this.position = Cesium.clone(
												e,
												!0
											)),
											(this.okHandler = t),
											(this.cancelHandler = n),
											(this.entity = null),
											this._createPoint(),
											this._startModify(),
											this._showToolBar()
										);
									},
									startDrawPoint: function (e, t) {
										var n = this;
										(n.okHandler = e),
											(n.cancelHandler = t),
											(n.entity = null),
											(n.position = null),
											(n.drawHandler =
												new Cesium.ScreenSpaceEventHandler(
													n.canvas
												)),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.position;
													if (Cesium.defined(t)) {
														var r =
															n.camera.getPickRay(
																t
															);
														if (Cesium.defined(r)) {
															var i =
																n.scene.globe.pick(
																	r,
																	n.scene
																);
															Cesium.defined(i) &&
																((n.position =
																	i),
																n.tooltip.setVisible(
																	!1
																),
																n.clear(),
																n.okHandler(
																	n.position
																));
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.endPosition;
													if (Cesium.defined(t)) {
														var r =
															n.camera.getPickRay(
																t
															);
														if (Cesium.defined(r)) {
															var i =
																n.scene.globe.pick(
																	r,
																	n.scene
																);
															Cesium.defined(i) &&
																((n.position =
																	i),
																null ==
																	n.entity &&
																	n._createPoint());
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_startModify: function () {
										var e = this,
											t = !1,
											n = null;
										e.drawHandler &&
											(e.drawHandler.destroy(),
											(e.drawHandler = null)),
											(e.modifyHandler =
												new Cesium.ScreenSpaceEventHandler(
													e.canvas
												)),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.position;
													if (Cesium.defined(i)) {
														var o =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(o)) {
															var a =
																e.scene.globe.pick(
																	o,
																	e.scene
																);
															if (
																Cesium.defined(
																	a
																)
															)
																if (t)
																	(t = !1),
																		n.oid,
																		(e.position =
																			a),
																		e.tooltip.setVisible(
																			!1
																		);
																else {
																	var s =
																		e.scene.pick(
																			i
																		);
																	if (
																		!Cesium.defined(
																			s
																		)
																	)
																		return;
																	if (
																		!Cesium.defined(
																			s.id
																		)
																	)
																		return;
																	var l =
																		s.id;
																	if (
																		l.layerId !=
																			e.layerId ||
																		"anchor" !=
																			l.flag
																	)
																		return;
																	(n = l),
																		(t =
																			!0),
																		e.tooltip.showAt(
																			i,
																			"<p>移动位置</p>"
																		);
																}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											e.modifyHandler.setInputAction(
												function (r) {
													if (t) {
														var i = r.endPosition;
														if (Cesium.defined(i)) {
															e.tooltip.showAt(
																i,
																"<p>移动位置</p>"
															);
															var o =
																e.camera.getPickRay(
																	i
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																var a =
																	e.scene.globe.pick(
																		o,
																		e.scene
																	);
																Cesium.defined(
																	a
																) &&
																	(n.oid,
																	(e.position =
																		a));
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_createPoint: function () {
										var e = this,
											t = e.viewer.entities.add({
												drawType: i.default.DRAW_TEXT,
												position:
													new Cesium.CallbackProperty(
														function () {
															return e.position;
														},
														!1
													),
												label: {
													text: e.label,
													eyeOffset:
														new Cesium.ConstantProperty(
															new Cesium.Cartesian3(
																0,
																0,
																-500
															)
														),
													heightReference:
														Cesium.HeightReference
															.CLAMP_TO_GROUND,
													font: "14px sans-serif",
													verticalOrigin: 1,
													fillColor:
														Cesium.Color.WHITE,
													style: 2,
													outlineColor:
														Cesium.Color.GREEN,
													outlineWidth: 1,
												},
											});
										return (
											(t.oid = 0),
											(t.layerId = e.layerId),
											(t.flag = "anchor"),
											(e.entity = t),
											t
										);
									},
									_showToolBar: function () {
										var e = this;
										return {
											ok: function () {
												if ((e.clear(), e.okHandler)) {
													var t = e._getLonLat(
														e.position
													);
													e.okHandler(e.position, t);
												}
											},
											cancle: function () {
												e.clear(),
													e.cancelHandler &&
														e.cancelHandler();
											},
											updateStyle: function (t) {
												e.entity &&
													(0, r.updateStyle)(
														e.entity,
														t
													);
											},
										};
									},
									_getLonLat: function (e) {
										var t =
											this.ellipsoid.cartesianToCartographic(
												e
											);
										t.height =
											this.viewer.scene.globe.getHeight(
												t
											);
										var n = {
											lon: t.longitude,
											lat: t.latitude,
											alt: t.height,
											height: t.height,
										};
										return (
											(n.lon = Cesium.Math.toDegrees(
												n.lon
											)),
											(n.lat = Cesium.Math.toDegrees(
												n.lat
											)),
											n
										);
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									CLASS_NAME: "GlobeTextDraw",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r,
				i,
				o,
				a = n(52),
				s = n(79),
				l = n(42);
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(6), n(91), n(18), n(10), n(23), n(13)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, u, c) {
							"use strict";
							var f = n(0);
							function h(e) {
								if ("function" != typeof s) return null;
								var t = new s(),
									n = new s();
								return (h = function (e) {
									return e ? n : t;
								})(e);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = f(t)),
								(r = f(r)),
								(o = (function (e, t) {
									if (!t && e && e.__esModule) return e;
									if (
										null === e ||
										("object" !== a(e) &&
											"function" != typeof e)
									)
										return { default: e };
									var n = h(t);
									if (n && n.has(e)) return n.get(e);
									var r = {},
										i = Object.defineProperty && l;
									for (var o in e)
										if (
											"default" !== o &&
											Object.prototype.hasOwnProperty.call(
												e,
												o
											)
										) {
											var s = i ? l(e, o) : null;
											s && (s.get || s.set)
												? Object.defineProperty(r, o, s)
												: (r[o] = e[o]);
										}
									return (r.default = e), n && n.set(e, r), r;
								})(o)),
								(u = f(u)),
								(c = f(c));
							var p = function () {
									this.init.apply(this, arguments);
								},
								d = p;
							(e.default = d),
								(p.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									positions: [],
									tempPositions: [],
									drawHandler: null,
									modifyHandler: null,
									okHandler: null,
									cancelHandler: null,
									dragIcon: u.default,
									dragIconLight: c.default,
									material: null,
									outlineMaterial: null,
									fill: !0,
									outline: !0,
									outlineWidth: 2,
									extrudedHeight: 0,
									toolBarIndex: null,
									markers: {},
									layerId: "globeDrawerLayer",
									init: function (e) {
										(this.viewer = e),
											(this.scene = e.scene),
											(this.clock = e.clock),
											(this.canvas = e.scene.canvas),
											(this.camera = e.scene.camera),
											(this.ellipsoid =
												e.scene.globe.ellipsoid),
											(this.tooltip = new t.default(
												e.container
											));
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											this.modifyHandler &&
												(this.modifyHandler.destroy(),
												(this.modifyHandler = null)),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									showModifyStraightArrow: function (
										e,
										t,
										n
									) {
										var r = [];
										return (
											r.push(e[7]),
											r.push(e[3]),
											(this.positions = r),
											(this.okHandler = t),
											(this.cancelHandler = n),
											this._showModifyRegion2Map(),
											this._showToolBar()
										);
									},
									startDrawStraightArrow: function (e, t) {
										var n = this;
										(n.okHandler = e),
											(n.cancelHandler = t),
											(n.positions = []);
										var r = null;
										(n.drawHandler =
											new Cesium.ScreenSpaceEventHandler(
												n.canvas
											)),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.position;
													if (Cesium.defined(t)) {
														var i =
															n.camera.getPickRay(
																t
															);
														if (Cesium.defined(i)) {
															var o =
																n.scene.globe.pick(
																	i,
																	n.scene
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																var a =
																	n.positions
																		.length;
																0 == a &&
																	(n.positions.push(
																		o
																	),
																	(r =
																		n._createPoint(
																			o,
																			-1
																		)),
																	n._showRegion2Map()),
																	n.positions.push(
																		o
																	);
																var s =
																	n.positions
																		.length -
																	2;
																n._createPoint(
																	o,
																	s
																),
																	a > 1 &&
																		(n.positions.pop(),
																		n.viewer.entities.remove(
																			r
																		),
																		n.tooltip.setVisible(
																			!1
																		),
																		n._drawOk());
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.endPosition;
													if (Cesium.defined(t))
														if (
															n.positions.length <
															1
														)
															n.tooltip.showAt(
																t,
																"<p>选择起点</p>"
															);
														else {
															n.tooltip.showAt(
																t,
																"<p>选择终点</p>"
															);
															var i =
																n.camera.getPickRay(
																	t
																);
															if (
																Cesium.defined(
																	i
																)
															) {
																var o =
																	n.scene.globe.pick(
																		i,
																		n.scene
																	);
																Cesium.defined(
																	o
																) &&
																	(r.position.setValue(
																		o
																	),
																	n.positions.pop(),
																	n.positions.push(
																		o
																	));
															}
														}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_startModify: function () {
										var e = this,
											t = !1,
											n = null;
										e.drawHandler &&
											(e.drawHandler.destroy(),
											(e.drawHandler = null)),
											e._showToolBar(),
											(e.modifyHandler =
												new Cesium.ScreenSpaceEventHandler(
													e.canvas
												)),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.position;
													if (Cesium.defined(i)) {
														var o =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(o)) {
															var a =
																e.scene.globe.pick(
																	o,
																	e.scene
																);
															if (
																Cesium.defined(
																	a
																)
															)
																if (t) {
																	(t = !1),
																		n.position.setValue(
																			a
																		);
																	var s =
																		n.oid;
																	(e.positions[
																		s
																	] = a),
																		e.tooltip.setVisible(
																			!1
																		);
																} else {
																	var l =
																		e.scene.pick(
																			i
																		);
																	if (
																		!Cesium.defined(
																			l
																		)
																	)
																		return;
																	if (
																		!Cesium.defined(
																			l.id
																		)
																	)
																		return;
																	var u =
																		l.id;
																	if (
																		u.layerId !=
																			e.layerId ||
																		"anchor" !=
																			u.flag
																	)
																		return;
																	(n = u),
																		(t =
																			!0),
																		e.tooltip.showAt(
																			i,
																			"<p>移动控制点</p>"
																		);
																}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.endPosition;
													if (Cesium.defined(i)) {
														if (!t) {
															var o =
																e.scene.pick(i);
															if (
																!Cesium.defined(
																	o
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															if (
																!Cesium.defined(
																	o.id
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															var a = o.id;
															return a.layerId ===
																e.layerId
																? void (a.flag &&
																  "anchor" ===
																		a.flag
																		? e.tooltip.showAt(
																				i,
																				"<p>左键选择点位进行拖动编辑</p>"
																		  )
																		: e.tooltip.setVisible(
																				!1
																		  ))
																: void e.tooltip.setVisible(
																		!1
																  );
														}
														e.tooltip.showAt(
															i,
															"<p>移动控制点</p>"
														);
														var s =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(s)) {
															var l =
																e.scene.globe.pick(
																	s,
																	e.scene
																);
															if (
																Cesium.defined(
																	l
																)
															) {
																n.position.setValue(
																	l
																);
																var u = n.oid;
																e.positions[u] =
																	l;
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_showRegion2Map: function () {
										var e = this;
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#ff0"
												).withAlpha(0.5)),
											null == e.outlineMaterial &&
												(e.outlineMaterial =
													new Cesium.PolylineDashMaterialProperty(
														{
															dashLength: 16,
															color: Cesium.Color.fromCssColorString(
																"#f00"
															).withAlpha(0.7),
														}
													));
										var t = new Cesium.CallbackProperty(
												function () {
													if (
														e.positions.length > 1
													) {
														var t = e.positions[0],
															n = e.positions[1];
														if (
															e._isSimpleXYZ(t, n)
														)
															return null;
														var i = e._getLonLat(t),
															o = e._getLonLat(n),
															a =
																r.default.algorithm.fineArrow(
																	[
																		i.lon,
																		i.lat,
																	],
																	[
																		o.lon,
																		o.lat,
																	]
																);
														return new Cesium.PolygonHierarchy(
															a
														);
													}
													return null;
												},
												!1
											),
											n = new Cesium.CallbackProperty(
												function () {
													if (e.positions.length < 2)
														return null;
													var t = e.positions[0],
														n = e.positions[1];
													if (e._isSimpleXYZ(t, n))
														return null;
													var i = e._getLonLat(t),
														o = e._getLonLat(n),
														a =
															r.default.algorithm.fineArrow(
																[i.lon, i.lat],
																[o.lon, o.lat]
															);
													return a.push(a[0]), a;
												},
												!1
											),
											i = {
												polygon:
													new Cesium.PolygonGraphics({
														hierarchy: t,
														material: e.material,
														show: e.fill,
													}),
												polyline: {
													positions: n,
													clampToGround: !0,
													width: e.outlineWidth,
													material: e.outlineMaterial,
													show: e.outline,
												},
											};
										e.extrudedHeight > 0 &&
											((i.polygon.extrudedHeight =
												e.extrudedHeight),
											(i.polygon.extrudedHeightReference =
												Cesium.HeightReference.RELATIVE_TO_GROUND),
											(i.polygon.closeTop = !0),
											(i.polygon.closeBottom = !0)),
											(e.entity =
												e.viewer.entities.add(i)),
											(e.entity.layerId = e.layerId);
									},
									_showModifyRegion2Map: function () {
										var e = this;
										e._startModify(),
											e._computeTempPositions();
										var t = new Cesium.CallbackProperty(
												function () {
													if (
														e.positions.length > 1
													) {
														var t = e.positions[0],
															n = e.positions[1];
														if (
															e._isSimpleXYZ(t, n)
														)
															return null;
														var i = e._getLonLat(t),
															o = e._getLonLat(n),
															a =
																r.default.algorithm.fineArrow(
																	[
																		i.lon,
																		i.lat,
																	],
																	[
																		o.lon,
																		o.lat,
																	]
																);
														return new Cesium.PolygonHierarchy(
															a
														);
													}
													return null;
												},
												!1
											),
											n = new Cesium.CallbackProperty(
												function () {
													if (e.positions.length < 2)
														return null;
													var t = e.positions[0],
														n = e.positions[1];
													if (e._isSimpleXYZ(t, n))
														return null;
													var i = e._getLonLat(t),
														o = e._getLonLat(n),
														a =
															r.default.algorithm.fineArrow(
																[i.lon, i.lat],
																[o.lon, o.lat]
															);
													return a.push(a[0]), a;
												},
												!1
											);
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#ff0"
												).withAlpha(0.5)),
											null == e.outlineMaterial &&
												(e.outlineMaterial =
													new Cesium.PolylineDashMaterialProperty(
														{
															dashLength: 16,
															color: Cesium.Color.fromCssColorString(
																"#f00"
															).withAlpha(0.7),
														}
													));
										var i = {
											drawType:
												o.default.DRAW_STRAIGHT_ARROW,
											position:
												new Cesium.CallbackProperty(
													function () {
														if (
															e.positions.length >
															1
														) {
															var t =
																	e
																		.positions[0],
																n =
																	e
																		.positions[1];
															if (
																e._isSimpleXYZ(
																	t,
																	n
																)
															)
																return null;
															var i =
																	e._getLonLat(
																		t
																	),
																o =
																	e._getLonLat(
																		n
																	),
																a =
																	r.default.algorithm.fineArrow(
																		[
																			i.lon,
																			i.lat,
																		],
																		[
																			o.lon,
																			o.lat,
																		]
																	);
															return Cesium.BoundingSphere.fromPoints(
																a
															).center;
														}
														return null;
													},
													!1
												),
											label: {
												text: o.drawTypeName[
													o.default
														.DRAW_STRAIGHT_ARROW
												],
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
												font: "14px sans-serif",
												verticalOrigin: 1,
												fillColor: Cesium.Color.WHITE,
												style: 2,
												outlineColor:
													Cesium.Color.GREEN,
												outlineWidth: 1,
												show: !0,
											},
											polygon: new Cesium.PolygonGraphics(
												{
													hierarchy: t,
													material: e.material,
													show: e.fill,
												}
											),
											polyline: {
												positions: n,
												clampToGround: !0,
												width: e.outlineWidth,
												material: e.outlineMaterial,
												show: e.outline,
											},
										};
										e.extrudedHeight > 0 &&
											((i.polygon.extrudedHeight =
												e.extrudedHeight),
											(i.polygon.extrudedHeightReference =
												Cesium.HeightReference.RELATIVE_TO_GROUND),
											(i.polygon.closeTop = !0),
											(i.polygon.closeBottom = !0)),
											(e.entity =
												e.viewer.entities.add(i)),
											(e.entity.layerId = e.layerId);
										for (
											var a = e.positions, s = 0;
											s < a.length;
											s++
										)
											e._createPoint(a[s], s);
									},
									_createPoint: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIconLight,
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
											},
										});
										return (
											(n.oid = t),
											(n.layerId = this.layerId),
											(n.flag = "anchor"),
											(this.markers[t] = n),
											n
										);
									},
									_computeTempPositions: function () {
										var e = [].concat(this.positions),
											t = e.length,
											n = e[0],
											r = e[t - 1];
										0 == this._isSimpleXYZ(n, r) &&
											(e.push(n), (t += 1)),
											(this.tempPositions = []);
										for (var i = 1; i < t; i++) {
											var o = e[i - 1],
												a = e[i],
												s = this._computeCenterPotition(
													o,
													a
												);
											this.tempPositions.push(o),
												this.tempPositions.push(s);
										}
									},
									_computeCenterPotition: function (e, t) {
										var n =
												this.ellipsoid.cartesianToCartographic(
													e
												),
											r =
												this.ellipsoid.cartesianToCartographic(
													t
												),
											i = new Cesium.EllipsoidGeodesic(
												n,
												r
											).interpolateUsingFraction(0.5);
										return this.ellipsoid.cartographicToCartesian(
											i
										);
									},
									_drawOk: function () {
										if ((this.clear(), this.okHandler)) {
											var e = this.positions[0],
												t = this.positions[1],
												n = this._getLonLat(e),
												i = this._getLonLat(t),
												o =
													r.default.algorithm.fineArrow(
														[n.lon, n.lat],
														[i.lon, i.lat]
													);
											this.okHandler(o);
										}
									},
									_showToolBar: function () {
										var e = this;
										return {
											ok: function () {
												e._drawOk();
											},
											cancle: function () {
												e.clear(),
													e.cancelHandler &&
														e.cancelHandler();
											},
											updateStyle: function (t) {
												e.entity &&
													(0, i.updateStyle)(
														e.entity,
														t
													);
											},
										};
									},
									_getLonLat: function (e) {
										var t =
											this.ellipsoid.cartesianToCartographic(
												e
											);
										t.height =
											this.viewer.scene.globe.getHeight(
												t
											);
										var n = {
											lon: t.longitude,
											lat: t.latitude,
											alt: t.height,
										};
										return (
											(n.lon = Cesium.Math.toDegrees(
												n.lon
											)),
											(n.lat = Cesium.Math.toDegrees(
												n.lat
											)),
											n
										);
									},
									_isSimpleXYZ: function (e, t) {
										return (
											e.x == t.x &&
											e.y == t.y &&
											e.z == t.z
										);
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									_clearAnchors: function () {
										for (var e in this.markers) {
											var t = this.markers[e];
											this.viewer.entities.remove(t);
										}
										this.markers = {};
									},
									CLASS_NAME: "PlotStraightArrowDrawer",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, n, r) {
			var i, o, a;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(o = [n]),
				void 0 ===
					(a =
						"function" ==
						typeof (i = function (e) {
							"use strict";
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0);
							var n = { version: "1.0.0" },
								r = 0;
							(n.PlotUtils = {}),
								(n.PlotUtils.distance = function (e, t) {
									return Math.sqrt(
										Math.pow(e[0] - t[0], 2) +
											Math.pow(e[1] - t[1], 2)
									);
								}),
								(n.PlotUtils.wholeDistance = function (e) {
									for (
										var t = 0, r = 0;
										r < e.length - 1;
										r++
									)
										t += n.PlotUtils.distance(
											e[r],
											e[r + 1]
										);
									return t;
								}),
								(n.PlotUtils.getBaseLength = function (e) {
									return Math.pow(
										n.PlotUtils.wholeDistance(e),
										0.99
									);
								}),
								(n.PlotUtils.mid = function (e, t) {
									return [
										(e[0] + t[0]) / 2,
										(e[1] + t[1]) / 2,
									];
								}),
								(n.PlotUtils.getCircleCenterOfThreePoints =
									function (e, t, r) {
										var i = [
												(e[0] + t[0]) / 2,
												(e[1] + t[1]) / 2,
											],
											o = [
												i[0] - e[1] + t[1],
												i[1] + e[0] - t[0],
											],
											a = [
												(e[0] + r[0]) / 2,
												(e[1] + r[1]) / 2,
											],
											s = [
												a[0] - e[1] + r[1],
												a[1] + e[0] - r[0],
											];
										return n.PlotUtils.getIntersectPoint(
											i,
											o,
											a,
											s
										);
									}),
								(n.PlotUtils.getIntersectPoint = function (
									e,
									t,
									n,
									r
								) {
									if (e[1] == t[1]) {
										var i = (r[0] - n[0]) / (r[1] - n[1]),
											o = i * (e[1] - n[1]) + n[0],
											a = e[1];
										return [o, a];
									}
									if (n[1] == r[1]) {
										var s = (t[0] - e[0]) / (t[1] - e[1]);
										return [
											(o = s * (n[1] - e[1]) + e[0]),
											(a = n[1]),
										];
									}
									return (
										(s = (t[0] - e[0]) / (t[1] - e[1])),
										(i = (r[0] - n[0]) / (r[1] - n[1])),
										[
											(o =
												s *
													(a =
														(s * e[1] -
															e[0] -
															i * n[1] +
															n[0]) /
														(s - i)) -
												s * e[1] +
												e[0]),
											a,
										]
									);
								}),
								(n.PlotUtils.getAzimuth = function (e, t) {
									var r,
										i = Math.asin(
											Math.abs(t[1] - e[1]) /
												n.PlotUtils.distance(e, t)
										);
									return (
										t[1] >= e[1] && t[0] >= e[0]
											? (r = i + Math.PI)
											: t[1] >= e[1] && t[0] < e[0]
											? (r = n.Constants.TWO_PI - i)
											: t[1] < e[1] && t[0] < e[0]
											? (r = i)
											: t[1] < e[1] &&
											  t[0] >= e[0] &&
											  (r = Math.PI - i),
										r
									);
								}),
								(n.PlotUtils.getAngleOfThreePoints = function (
									e,
									t,
									r
								) {
									var i =
										n.PlotUtils.getAzimuth(t, e) -
										n.PlotUtils.getAzimuth(t, r);
									return i < 0 ? i + n.Constants.TWO_PI : i;
								}),
								(n.PlotUtils.isClockWise = function (e, t, n) {
									return (
										(n[1] - e[1]) * (t[0] - e[0]) >
										(t[1] - e[1]) * (n[0] - e[0])
									);
								}),
								(n.PlotUtils.getPointOnLine = function (
									e,
									t,
									n
								) {
									return [
										t[0] + e * (n[0] - t[0]),
										t[1] + e * (n[1] - t[1]),
									];
								}),
								(n.PlotUtils.getCubicValue = function (
									e,
									t,
									n,
									r,
									i
								) {
									var o =
											1 -
											(e = Math.max(Math.min(e, 1), 0)),
										a = e * e,
										s = a * e,
										l = o * o,
										u = l * o;
									return [
										u * t[0] +
											3 * l * e * n[0] +
											3 * o * a * r[0] +
											s * i[0],
										u * t[1] +
											3 * l * e * n[1] +
											3 * o * a * r[1] +
											s * i[1],
									];
								}),
								(n.PlotUtils.getThirdPoint = function (
									e,
									t,
									r,
									i,
									o
								) {
									var a = n.PlotUtils.getAzimuth(e, t),
										s = o ? a + r : a - r,
										l = i * Math.cos(s),
										u = i * Math.sin(s);
									return [t[0] + l, t[1] + u];
								}),
								(n.PlotUtils.getArcPoints = function (
									e,
									t,
									r,
									i
								) {
									var o,
										a,
										s = [],
										l = i - r;
									l = l < 0 ? l + n.Constants.TWO_PI : l;
									for (
										var u = 0;
										u <= n.Constants.FITTING_COUNT;
										u++
									) {
										var c =
											r +
											(l * u) / n.Constants.FITTING_COUNT;
										(o = e[0] + t * Math.cos(c)),
											(a = e[1] + t * Math.sin(c)),
											s.push([o, a]);
									}
									return s;
								}),
								(n.PlotUtils.getBisectorNormals = function (
									e,
									t,
									r,
									i
								) {
									var o = n.PlotUtils.getNormal(t, r, i),
										a = Math.sqrt(
											o[0] * o[0] + o[1] * o[1]
										),
										s = o[0] / a,
										l = o[1] / a,
										u = n.PlotUtils.distance(t, r),
										c = n.PlotUtils.distance(r, i);
									if (a > n.Constants.ZERO_TOLERANCE)
										if (n.PlotUtils.isClockWise(t, r, i)) {
											var f = e * u,
												h = r[0] - f * l,
												p = r[1] + f * s,
												d = [h, p];
											f = e * c;
											var y = [
												(h = r[0] + f * l),
												(p = r[1] - f * s),
											];
										} else
											(f = e * u),
												(d = [
													(h = r[0] + f * l),
													(p = r[1] - f * s),
												]),
												(f = e * c),
												(y = [
													(h = r[0] - f * l),
													(p = r[1] + f * s),
												]);
									else
										(d = [
											(h = r[0] + e * (t[0] - r[0])),
											(p = r[1] + e * (t[1] - r[1])),
										]),
											(y = [
												(h = r[0] + e * (i[0] - r[0])),
												(p = r[1] + e * (i[1] - r[1])),
											]);
									return [d, y];
								}),
								(n.PlotUtils.getNormal = function (e, t, n) {
									var r = e[0] - t[0],
										i = e[1] - t[1],
										o = Math.sqrt(r * r + i * i);
									(r /= o), (i /= o);
									var a = n[0] - t[0],
										s = n[1] - t[1],
										l = Math.sqrt(a * a + s * s);
									return [r + (a /= l), i + (s /= l)];
								}),
								(n.PlotUtils.getCurvePoints = function (e, t) {
									for (
										var r = [
												n.PlotUtils.getLeftMostControlPoint(
													t
												),
											],
											i = 0;
										i < t.length - 2;
										i++
									) {
										var o = t[i],
											a = t[i + 1],
											s = t[i + 2],
											l = n.PlotUtils.getBisectorNormals(
												e,
												o,
												a,
												s
											);
										r = r.concat(l);
									}
									var u =
										n.PlotUtils.getRightMostControlPoint(t);
									r.push(u);
									var c = [];
									for (i = 0; i < t.length - 1; i++) {
										for (
											o = t[i],
												a = t[i + 1],
												c.push(o),
												e = 0;
											e < n.Constants.FITTING_COUNT;
											e++
										) {
											var f = n.PlotUtils.getCubicValue(
												e / n.Constants.FITTING_COUNT,
												o,
												r[2 * i],
												r[2 * i + 1],
												a
											);
											c.push(f);
										}
										c.push(a);
									}
									return c;
								}),
								(n.PlotUtils.getLeftMostControlPoint =
									function (e) {
										var r = e[0],
											i = e[1],
											o = e[2],
											a = n.PlotUtils.getBisectorNormals(
												0,
												r,
												i,
												o
											)[0],
											s = n.PlotUtils.getNormal(r, i, o);
										if (
											Math.sqrt(
												s[0] * s[0] + s[1] * s[1]
											) > n.Constants.ZERO_TOLERANCE
										)
											var l = n.PlotUtils.mid(r, i),
												u = r[0] - l[0],
												c = r[1] - l[1],
												f =
													2 /
													n.PlotUtils.distance(r, i),
												h = -f * c,
												p = f * u,
												d = h * h - p * p,
												y = 2 * h * p,
												m = p * p - h * h,
												v = a[0] - l[0],
												g = a[1] - l[1],
												_ = l[0] + d * v + y * g,
												b = l[1] + y * v + m * g;
										else
											(_ = r[0] + t * (i[0] - r[0])),
												(b = r[1] + t * (i[1] - r[1]));
										return [_, b];
									}),
								(n.PlotUtils.getRightMostControlPoint =
									function (e) {
										var r = e.length,
											i = e[r - 3],
											o = e[r - 2],
											a = e[r - 1],
											s = n.PlotUtils.getBisectorNormals(
												0,
												i,
												o,
												a
											)[1],
											l = n.PlotUtils.getNormal(i, o, a);
										if (
											Math.sqrt(
												l[0] * l[0] + l[1] * l[1]
											) > n.Constants.ZERO_TOLERANCE
										)
											var u = n.PlotUtils.mid(o, a),
												c = a[0] - u[0],
												f = a[1] - u[1],
												h =
													2 /
													n.PlotUtils.distance(o, a),
												p = -h * f,
												d = h * c,
												y = p * p - d * d,
												m = 2 * p * d,
												v = d * d - p * p,
												g = s[0] - u[0],
												_ = s[1] - u[1],
												b = u[0] + y * g + m * _,
												x = u[1] + m * g + v * _;
										else
											(b = a[0] + t * (o[0] - a[0])),
												(x = a[1] + t * (o[1] - a[1]));
										return [b, x];
									}),
								(n.PlotUtils.getBezierPoints = function (e) {
									if (e.length <= 2) return e;
									for (
										var t = [], i = e.length - 1, o = 0;
										o <= 1;
										o += 0.01
									) {
										for (
											var a = (r = 0), s = 0;
											i >= s;
											s++
										) {
											var l =
													n.PlotUtils.getBinomialFactor(
														i,
														s
													),
												u = Math.pow(o, s),
												c = Math.pow(1 - o, i - s);
											(a += l * u * c * e[s][0]),
												(r += l * u * c * e[s][1]);
										}
										t.push([a, r]);
									}
									return t.push(e[i]), t;
								}),
								(n.PlotUtils.getBinomialFactor = function (
									e,
									t
								) {
									return (
										n.PlotUtils.getFactorial(e) /
										(n.PlotUtils.getFactorial(t) *
											n.PlotUtils.getFactorial(e - t))
									);
								}),
								(n.PlotUtils.getFactorial = function (e) {
									if (e <= 1) return 1;
									if (2 == e) return 2;
									if (3 == e) return 6;
									if (4 == e) return 24;
									if (5 == e) return 120;
									for (var t = 1, n = 1; e >= n; n++) t *= n;
									return t;
								}),
								(n.PlotUtils.getQBSplinePoints = function (e) {
									if (e.length <= 2) return e;
									var t = [],
										i = e.length - 2 - 1;
									t.push(e[0]);
									for (var o = 0; i >= o; o++)
										for (var a = 0; a <= 1; a += 0.05) {
											for (
												var s = (r = 0), l = 0;
												2 >= l;
												l++
											) {
												var u =
													n.PlotUtils.getQuadricBSplineFactor(
														l,
														a
													);
												(s += u * e[o + l][0]),
													(r += u * e[o + l][1]);
											}
											t.push([s, r]);
										}
									return t.push(e[e.length - 1]), t;
								}),
								(n.PlotUtils.getQuadricBSplineFactor =
									function (e, t) {
										return 0 == e
											? Math.pow(t - 1, 2) / 2
											: 1 == e
											? (-2 * Math.pow(t, 2) +
													2 * t +
													1) /
											  2
											: 2 == e
											? Math.pow(t, 2) / 2
											: 0;
									}),
								(n.Constants = {
									TWO_PI: 2 * Math.PI,
									HALF_PI: Math.PI / 2,
									FITTING_COUNT: 100,
									ZERO_TOLERANCE: 1e-4,
								});
							var i = n;
							e.default = i;
						})
							? i.apply(n, o)
							: i) || (e.exports = a);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(6), n(91), n(18), n(10), n(23), n(13)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a, s) {
							"use strict";
							var l = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = l(t)),
								(r = l(r)),
								(a = l(a)),
								(s = l(s));
							var u = function () {
									this.init.apply(this, arguments);
								},
								c = u;
							(e.default = c),
								(u.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									positions: [],
									tempPositions: [],
									drawHandler: null,
									modifyHandler: null,
									okHandler: null,
									cancelHandler: null,
									dragIcon: a.default,
									dragIconLight: s.default,
									material: null,
									outlineMaterial: null,
									fill: !0,
									outline: !0,
									outlineWidth: 2,
									extrudedHeight: 0,
									toolBarIndex: null,
									markers: {},
									layerId: "globeDrawerLayer",
									init: function (e) {
										(this.viewer = e),
											(this.scene = e.scene),
											(this.clock = e.clock),
											(this.canvas = e.scene.canvas),
											(this.camera = e.scene.camera),
											(this.ellipsoid =
												e.scene.globe.ellipsoid),
											(this.tooltip = new t.default(
												e.container
											));
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											this.modifyHandler &&
												(this.modifyHandler.destroy(),
												(this.modifyHandler = null)),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									showModifyAttackArrow: function (e, t, n) {
										for (
											var r = [], i = 0;
											i < e.length;
											i++
										) {
											var o = e[i],
												a =
													Cesium.Cartesian3.fromDegrees(
														o[0],
														o[1]
													);
											r.push(a);
										}
										return (
											(this.positions = r),
											(this.okHandler = t),
											(this.cancelHandler = n),
											this._showModifyRegion2Map(),
											this._showToolBar()
										);
									},
									startDrawAttackArrow: function (e, t) {
										var n = this;
										(n.okHandler = e),
											(n.cancelHandler = t),
											(n.positions = []);
										var r = null;
										(n.drawHandler =
											new Cesium.ScreenSpaceEventHandler(
												n.canvas
											)),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.position;
													if (Cesium.defined(t)) {
														var i =
															n.camera.getPickRay(
																t
															);
														if (Cesium.defined(i)) {
															var o =
																n.scene.globe.pick(
																	i,
																	n.scene
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																0 ==
																	n.positions
																		.length &&
																	(n.positions.push(
																		o
																	),
																	(r =
																		n._createPoint(
																			o,
																			-1
																		)),
																	n._showRegion2Map()),
																	n.positions.push(
																		o
																	);
																var a =
																	n.positions
																		.length -
																	2;
																n._createPoint(
																	o,
																	a
																);
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.endPosition;
													if (Cesium.defined(t))
														if (
															n.positions.length <
															1
														)
															n.tooltip.showAt(
																t,
																"<p>选择起点</p>"
															);
														else {
															n.tooltip.showAt(
																t,
																"<p>新增控制点</p><p>右键结束绘制</p>"
															);
															var i =
																n.camera.getPickRay(
																	t
																);
															if (
																Cesium.defined(
																	i
																)
															) {
																var o =
																	n.scene.globe.pick(
																		i,
																		n.scene
																	);
																Cesium.defined(
																	o
																) &&
																	(r.position.setValue(
																		o
																	),
																	n.positions.pop(),
																	n.positions.push(
																		o
																	));
															}
														}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											),
											n.drawHandler.setInputAction(
												function () {
													n.positions.length < 2 ||
														(n.positions.pop(),
														n.viewer.entities.remove(
															r
														),
														n.tooltip.setVisible(
															!1
														),
														n._drawOk());
												},
												Cesium.ScreenSpaceEventType
													.RIGHT_CLICK
											),
											n.drawHandler.setInputAction(
												function () {
													n.clear(),
														n.cancelHandler &&
															n.cancelHandler();
												},
												Cesium.ScreenSpaceEventType
													.RIGHT_CLICK,
												Cesium.KeyboardEventModifier
													.SHIFT
											);
									},
									_startModify: function () {
										var e = this,
											t = !1,
											n = null;
										e.drawHandler &&
											(e.drawHandler.destroy(),
											(e.drawHandler = null)),
											(e.modifyHandler =
												new Cesium.ScreenSpaceEventHandler(
													e.canvas
												)),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.position;
													if (Cesium.defined(i)) {
														var o =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(o)) {
															var a =
																e.scene.globe.pick(
																	o,
																	e.scene
																);
															if (
																Cesium.defined(
																	a
																)
															)
																if (t) {
																	(t = !1),
																		n.position.setValue(
																			a
																		);
																	var s =
																		n.oid;
																	(e.positions[
																		s
																	] = a),
																		e.tooltip.setVisible(
																			!1
																		);
																} else {
																	var l =
																		e.scene.pick(
																			i
																		);
																	if (
																		!Cesium.defined(
																			l
																		)
																	)
																		return;
																	if (
																		!Cesium.defined(
																			l.id
																		)
																	)
																		return;
																	var u =
																		l.id;
																	if (
																		u.layerId !=
																			e.layerId ||
																		"anchor" !=
																			u.flag
																	)
																		return;
																	(n = u),
																		(t =
																			!0),
																		e.tooltip.showAt(
																			i,
																			"<p>移动控制点</p>"
																		);
																}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.endPosition;
													if (Cesium.defined(i)) {
														if (!t) {
															var o =
																e.scene.pick(i);
															if (
																!Cesium.defined(
																	o
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															if (
																!Cesium.defined(
																	o.id
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															var a = o.id;
															return a.layerId ===
																e.layerId
																? void (a.flag &&
																  "anchor" ===
																		a.flag
																		? e.tooltip.showAt(
																				i,
																				"<p>左键选择点位进行拖动编辑</p>"
																		  )
																		: e.tooltip.setVisible(
																				!1
																		  ))
																: void e.tooltip.setVisible(
																		!1
																  );
														}
														e.tooltip.showAt(
															i,
															"<p>移动控制点</p>"
														);
														var s =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(s)) {
															var l =
																e.scene.globe.pick(
																	s,
																	e.scene
																);
															if (
																Cesium.defined(
																	l
																)
															) {
																n.position.setValue(
																	l
																);
																var u = n.oid;
																e.positions[u] =
																	l;
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_showRegion2Map: function () {
										var e = this;
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#ff0"
												).withAlpha(0.5)),
											null == e.outlineMaterial &&
												(e.outlineMaterial =
													new Cesium.PolylineDashMaterialProperty(
														{
															dashLength: 16,
															color: Cesium.Color.fromCssColorString(
																"#f00"
															).withAlpha(0.7),
														}
													));
										var t = new Cesium.CallbackProperty(
												function () {
													if (
														e.positions.length > 1
													) {
														var t = e._getLonLatArr(
																e.positions
															),
															n =
																r.default.algorithm.tailedAttackArrow(
																	t
																).polygonalPoint;
														return null == n ||
															n.length < 3
															? null
															: new Cesium.PolygonHierarchy(
																	n
															  );
													}
													return null;
												},
												!1
											),
											n = new Cesium.CallbackProperty(
												function () {
													if (e.positions.length < 2)
														return null;
													var t = e._getLonLatArr(
															e.positions
														),
														n =
															r.default.algorithm.tailedAttackArrow(
																t
															).polygonalPoint;
													if (
														null == n ||
														n.length < 3
													)
														return null;
													var i = n[0];
													return n.push(i), n;
												},
												!1
											),
											i = {
												polygon:
													new Cesium.PolygonGraphics({
														hierarchy: t,
														material: e.material,
														show: e.fill,
													}),
												polyline: {
													positions: n,
													clampToGround: !0,
													width: e.outlineWidth,
													material: e.outlineMaterial,
													show: e.outline,
												},
											};
										e.extrudedHeight > 0 &&
											((i.polygon.extrudedHeight =
												e.extrudedHeight),
											(i.polygon.extrudedHeightReference =
												Cesium.HeightReference.RELATIVE_TO_GROUND),
											(i.polygon.closeTop = !0),
											(i.polygon.closeBottom = !0)),
											(e.entity =
												e.viewer.entities.add(i)),
											(e.entity.layerId = e.layerId);
									},
									_showModifyRegion2Map: function () {
										var e = this;
										e._startModify(),
											e._computeTempPositions();
										var t = new Cesium.CallbackProperty(
												function () {
													if (
														e.positions.length > 1
													) {
														var t = e._getLonLatArr(
																e.positions
															),
															n =
																r.default.algorithm.tailedAttackArrow(
																	t
																).polygonalPoint;
														return null == n ||
															n.length < 3
															? null
															: new Cesium.PolygonHierarchy(
																	n
															  );
													}
													return null;
												},
												!1
											),
											n = new Cesium.CallbackProperty(
												function () {
													if (e.positions.length < 2)
														return null;
													var t = e._getLonLatArr(
															e.positions
														),
														n =
															r.default.algorithm.tailedAttackArrow(
																t
															).polygonalPoint;
													if (
														null == n ||
														n.length < 2
													)
														return null;
													var i = n[0];
													return n.push(i), n;
												},
												!1
											);
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#ff0"
												).withAlpha(0.5)),
											null == e.outlineMaterial &&
												(e.outlineMaterial =
													new Cesium.PolylineDashMaterialProperty(
														{
															dashLength: 16,
															color: Cesium.Color.fromCssColorString(
																"#f00"
															).withAlpha(0.7),
														}
													));
										var i = {
											drawType:
												o.DrawType.DRAW_ATTACK_ARROW,
											position:
												new Cesium.CallbackProperty(
													function () {
														if (
															e.positions.length >
															1
														) {
															var t =
																	e._getLonLatArr(
																		e.positions
																	),
																n =
																	r.default.algorithm.tailedAttackArrow(
																		t
																	).polygonalPoint;
															return null == n ||
																n.length < 3
																? null
																: Cesium.BoundingSphere.fromPoints(
																		n
																  ).center;
														}
														return null;
													},
													!1
												),
											label: {
												text: o.drawTypeName[
													o.DrawType.DRAW_ATTACK_ARROW
												],
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
												font: "14px sans-serif",
												verticalOrigin: 1,
												fillColor: Cesium.Color.WHITE,
												style: 2,
												outlineColor:
													Cesium.Color.GREEN,
												outlineWidth: 1,
												show: !0,
											},
											polygon: new Cesium.PolygonGraphics(
												{
													hierarchy: t,
													material: e.material,
													show: e.fill,
												}
											),
											polyline: {
												positions: n,
												clampToGround: !0,
												width: e.outlineWidth,
												material: e.outlineMaterial,
												show: e.outline,
											},
										};
										e.extrudedHeight > 0 &&
											((i.polygon.extrudedHeight =
												e.extrudedHeight),
											(i.polygon.extrudedHeightReference =
												Cesium.HeightReference.RELATIVE_TO_GROUND),
											(i.polygon.closeTop = !0),
											(i.polygon.closeBottom = !0)),
											(e.entity =
												e.viewer.entities.add(i)),
											(e.entity.layerId = e.layerId);
										for (
											var a = e.positions, s = 0;
											s < a.length;
											s++
										)
											e._createPoint(a[s], s);
									},
									_createPoint: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIconLight,
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
											},
										});
										return (
											(n.oid = t),
											(n.layerId = this.layerId),
											(n.flag = "anchor"),
											(this.markers[t] = n),
											n
										);
									},
									_computeTempPositions: function () {
										var e = [].concat(this.positions),
											t = e.length,
											n = e[0],
											r = e[t - 1];
										0 == this._isSimpleXYZ(n, r) &&
											(e.push(n), (t += 1)),
											(this.tempPositions = []);
										for (var i = 1; i < t; i++) {
											var o = e[i - 1],
												a = e[i],
												s = this._computeCenterPotition(
													o,
													a
												);
											this.tempPositions.push(o),
												this.tempPositions.push(s);
										}
									},
									_computeCenterPotition: function (e, t) {
										var n =
												this.ellipsoid.cartesianToCartographic(
													e
												),
											r =
												this.ellipsoid.cartesianToCartographic(
													t
												),
											i = new Cesium.EllipsoidGeodesic(
												n,
												r
											).interpolateUsingFraction(0.5);
										return this.ellipsoid.cartographicToCartesian(
											i
										);
									},
									_drawOk: function () {
										if ((this.clear(), this.okHandler)) {
											var e = this._getLonLatArr(
													this.positions
												),
												t =
													r.default.algorithm.tailedAttackArrow(
														e
													),
												n = t.polygonalPoint,
												i = t.controlPoint;
											this.okHandler({
												positions: n,
												custom: i,
											});
										}
									},
									_showToolBar: function () {
										var e = this;
										return {
											ok: function () {
												e._drawOk();
											},
											cancle: function () {
												e.clear(),
													e.cancelHandler &&
														e.cancelHandler();
											},
											updateStyle: function (t) {
												e.entity &&
													(0, i.updateStyle)(
														e.entity,
														t
													);
											},
										};
									},
									_getLonLat: function (e) {
										var t =
											this.ellipsoid.cartesianToCartographic(
												e
											);
										t.height =
											this.viewer.scene.globe.getHeight(
												t
											);
										var n = {
											lon: t.longitude,
											lat: t.latitude,
											alt: t.height,
										};
										return (
											(n.lon = Cesium.Math.toDegrees(
												n.lon
											)),
											(n.lat = Cesium.Math.toDegrees(
												n.lat
											)),
											n
										);
									},
									_getLonLatArr: function (e) {
										for (
											var t = [], n = 0;
											n < e.length;
											n++
										) {
											var r = this._getLonLat(e[n]);
											null != r && t.push([r.lon, r.lat]);
										}
										return t;
									},
									_isSimpleXYZ: function (e, t) {
										return (
											e.x == t.x &&
											e.y == t.y &&
											e.z == t.z
										);
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									_clearAnchors: function () {
										for (var e in this.markers) {
											var t = this.markers[e];
											this.viewer.entities.remove(t);
										}
										this.markers = {};
									},
									CLASS_NAME: "PlotAttackArrowDrawer",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(6), n(91), n(10), n(23), n(13)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a) {
							"use strict";
							var s = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = s(t)),
								(r = s(r)),
								(o = s(o)),
								(a = s(a));
							var l = function () {
									this.init.apply(this, arguments);
								},
								u = l;
							(e.default = u),
								(l.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									positions: [],
									tempPositions: [],
									drawHandler: null,
									modifyHandler: null,
									okHandler: null,
									cancelHandler: null,
									dragIcon: o.default,
									dragIconLight: a.default,
									material: null,
									outlineMaterial: null,
									fill: !0,
									outline: !0,
									outlineWidth: 2,
									extrudedHeight: 0,
									toolBarIndex: null,
									markers: {},
									layerId: "globeDrawerLayer",
									init: function (e) {
										(this.viewer = e),
											(this.scene = e.scene),
											(this.clock = e.clock),
											(this.canvas = e.scene.canvas),
											(this.camera = e.scene.camera),
											(this.ellipsoid =
												e.scene.globe.ellipsoid),
											(this.tooltip = new t.default(
												e.container
											));
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											this.modifyHandler &&
												(this.modifyHandler.destroy(),
												(this.modifyHandler = null)),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									showModifyPincerArrow: function (e, t, n) {
										for (
											var r = [], i = 0;
											i < e.length;
											i++
										) {
											var o = e[i],
												a =
													Cesium.Cartesian3.fromDegrees(
														o[0],
														o[1]
													);
											r.push(a);
										}
										return (
											(this.positions = r),
											(this.okHandler = t),
											(this.cancelHandler = n),
											this._showModifyRegion2Map(),
											this._showToolBar()
										);
									},
									startDrawPincerArrow: function (e, t) {
										var n = this;
										(n.okHandler = e),
											(n.cancelHandler = t),
											(n.positions = []);
										var r = null;
										(n.drawHandler =
											new Cesium.ScreenSpaceEventHandler(
												n.canvas
											)),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.position;
													if (Cesium.defined(t)) {
														var i =
															n.camera.getPickRay(
																t
															);
														if (Cesium.defined(i)) {
															var o =
																n.scene.globe.pick(
																	i,
																	n.scene
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																0 ==
																	n.positions
																		.length &&
																	(n.positions.push(
																		o
																	),
																	(r =
																		n._createPoint(
																			o,
																			-1
																		)),
																	n._showRegion2Map()),
																	n.positions.push(
																		o
																	);
																var a =
																	n.positions
																		.length -
																	2;
																n._createPoint(
																	o,
																	a
																),
																	n.positions
																		.length >
																		5 &&
																		(n.positions.pop(),
																		n.viewer.entities.remove(
																			r
																		),
																		n.tooltip.setVisible(
																			!1
																		),
																		n._drawOk());
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											n.drawHandler.setInputAction(
												function (e) {
													var t = e.endPosition;
													if (Cesium.defined(t))
														if (
															n.positions.length <
															1
														)
															n.tooltip.showAt(
																t,
																"<p>选择起点</p>"
															);
														else {
															n.tooltip.showAt(
																t,
																"<p>新增控制点</p>"
															);
															var i =
																n.camera.getPickRay(
																	t
																);
															if (
																Cesium.defined(
																	i
																)
															) {
																var o =
																	n.scene.globe.pick(
																		i,
																		n.scene
																	);
																Cesium.defined(
																	o
																) &&
																	(r.position.setValue(
																		o
																	),
																	n.positions.pop(),
																	n.positions.push(
																		o
																	));
															}
														}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											),
											n.drawHandler.setInputAction(
												function () {
													n.clear(),
														n.cancelHandler &&
															n.cancelHandler();
												},
												Cesium.ScreenSpaceEventType
													.RIGHT_CLICK,
												Cesium.KeyboardEventModifier
													.SHIFT
											);
									},
									_startModify: function () {
										var e = this,
											t = !1,
											n = null;
										e.drawHandler &&
											(e.drawHandler.destroy(),
											(e.drawHandler = null)),
											(e.modifyHandler =
												new Cesium.ScreenSpaceEventHandler(
													e.canvas
												)),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.position;
													if (Cesium.defined(i)) {
														var o =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(o)) {
															var a =
																e.scene.globe.pick(
																	o,
																	e.scene
																);
															if (
																Cesium.defined(
																	a
																)
															)
																if (t) {
																	(t = !1),
																		n.position.setValue(
																			a
																		);
																	var s =
																		n.oid;
																	(e.positions[
																		s
																	] = a),
																		e.tooltip.setVisible(
																			!1
																		);
																} else {
																	var l =
																		e.scene.pick(
																			i
																		);
																	if (
																		!Cesium.defined(
																			l
																		)
																	)
																		return;
																	if (
																		!Cesium.defined(
																			l.id
																		)
																	)
																		return;
																	var u =
																		l.id;
																	if (
																		u.layerId !=
																			e.layerId ||
																		"anchor" !=
																			u.flag
																	)
																		return;
																	(n = u),
																		(t =
																			!0),
																		e.tooltip.showAt(
																			i,
																			"<p>移动控制点</p>"
																		);
																}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.endPosition;
													if (Cesium.defined(i)) {
														if (!t) {
															var o =
																e.scene.pick(i);
															if (
																!Cesium.defined(
																	o
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															if (
																!Cesium.defined(
																	o.id
																)
															)
																return void e.tooltip.setVisible(
																	!1
																);
															var a = o.id;
															return a.layerId ===
																e.layerId
																? void (a.flag &&
																  "anchor" ===
																		a.flag
																		? e.tooltip.showAt(
																				i,
																				"<p>左键选择点位进行拖动编辑</p>"
																		  )
																		: e.tooltip.setVisible(
																				!1
																		  ))
																: void e.tooltip.setVisible(
																		!1
																  );
														}
														e.tooltip.showAt(
															i,
															"<p>移动控制点</p>"
														);
														var s =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(s)) {
															var l =
																e.scene.globe.pick(
																	s,
																	e.scene
																);
															if (
																Cesium.defined(
																	l
																)
															) {
																n.position.setValue(
																	l
																);
																var u = n.oid;
																e.positions[u] =
																	l;
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_showRegion2Map: function () {
										var e = this;
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#ff0"
												).withAlpha(0.5)),
											null == e.outlineMaterial &&
												(e.outlineMaterial =
													new Cesium.PolylineDashMaterialProperty(
														{
															dashLength: 16,
															color: Cesium.Color.fromCssColorString(
																"#f00"
															).withAlpha(0.7),
														}
													));
										var t = new Cesium.CallbackProperty(
												function () {
													if (
														!(
															e.positions.length >
															2
														)
													)
														return null;
													try {
														var t = e._getLonLatArr(
															e.positions
														);
														e._removeDuplicate(t);
														var n =
															r.default.algorithm.doubleArrow(
																t
															).polygonalPoint;
														return Cesium.defined(n)
															? null == n ||
															  n.length < 3
																? null
																: new Cesium.PolygonHierarchy(
																		n
																  )
															: null;
													} catch (e) {
														return null;
													}
												},
												!1
											),
											n = new Cesium.CallbackProperty(
												function () {
													if (e.positions.length < 3)
														return null;
													try {
														var t = e._getLonLatArr(
															e.positions
														);
														e._removeDuplicate(t);
														var n =
															r.default.algorithm.doubleArrow(
																t
															).polygonalPoint;
														if (!Cesium.defined(n))
															return null;
														if (
															null == n ||
															n.length < 3
														)
															return null;
														var i = n[0];
														return n.push(i), n;
													} catch (e) {
														return null;
													}
												},
												!1
											),
											i = {
												polygon:
													new Cesium.PolygonGraphics({
														hierarchy: t,
														material: e.material,
														show: e.fill,
													}),
												polyline: {
													positions: n,
													clampToGround: !0,
													width: e.outlineWidth,
													material: e.outlineMaterial,
													show: e.outline,
												},
											};
										e.extrudedHeight > 0 &&
											((i.polygon.extrudedHeight =
												e.extrudedHeight),
											(i.polygon.extrudedHeightReference =
												Cesium.HeightReference.RELATIVE_TO_GROUND),
											(i.polygon.closeTop = !0),
											(i.polygon.closeBottom = !0)),
											(e.entity =
												e.viewer.entities.add(i)),
											(e.entity.layerId = e.layerId);
									},
									_showModifyRegion2Map: function () {
										var e = this;
										e._startModify(),
											e._computeTempPositions();
										var t = new Cesium.CallbackProperty(
												function () {
													if (
														!(
															e.positions.length >
															2
														)
													)
														return null;
													try {
														var t = e._getLonLatArr(
															e.positions
														);
														e._removeDuplicate(t);
														var n =
															r.default.algorithm.doubleArrow(
																t
															).polygonalPoint;
														return Cesium.defined(n)
															? null == n ||
															  n.length < 3
																? null
																: new Cesium.PolygonHierarchy(
																		n
																  )
															: null;
													} catch (e) {
														return null;
													}
												},
												!1
											),
											n = new Cesium.CallbackProperty(
												function () {
													if (e.positions.length < 3)
														return null;
													try {
														var t = e._getLonLatArr(
															e.positions
														);
														e._removeDuplicate(t);
														var n =
															r.default.algorithm.doubleArrow(
																t
															).polygonalPoint;
														if (
															null == n ||
															n.length < 2
														)
															return null;
														var i = n[0];
														return n.push(i), n;
													} catch (e) {
														return null;
													}
												},
												!1
											);
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#ff0"
												).withAlpha(0.5)),
											null == e.outlineMaterial &&
												(e.outlineMaterial =
													new Cesium.PolylineDashMaterialProperty(
														{
															dashLength: 16,
															color: Cesium.Color.fromCssColorString(
																"#f00"
															).withAlpha(0.7),
														}
													));
										var o = {
											drawType:
												i.DrawType.DRAW_PINCER_ARROW,
											position:
												new Cesium.CallbackProperty(
													function () {
														if (
															!(
																e.positions
																	.length > 2
															)
														)
															return null;
														try {
															var t =
																e._getLonLatArr(
																	e.positions
																);
															e._removeDuplicate(
																t
															);
															var n =
																r.default.algorithm.doubleArrow(
																	t
																).polygonalPoint;
															return Cesium.defined(
																n
															)
																? null == n ||
																  n.length < 3
																	? null
																	: Cesium.BoundingSphere.fromPoints(
																			n
																	  ).center
																: null;
														} catch (e) {
															return null;
														}
													},
													!1
												),
											label: {
												text: i.drawTypeName[
													i.DrawType.DRAW_PINCER_ARROW
												],
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
												font: "14px sans-serif",
												verticalOrigin: 1,
												fillColor: Cesium.Color.WHITE,
												style: 2,
												outlineColor:
													Cesium.Color.GREEN,
												outlineWidth: 1,
												show: !0,
											},
											polygon: new Cesium.PolygonGraphics(
												{
													hierarchy: t,
													material: e.material,
													show: e.fill,
												}
											),
											polyline: {
												positions: n,
												clampToGround: !0,
												width: e.outlineWidth,
												material: e.outlineMaterial,
												show: e.outline,
											},
										};
										e.extrudedHeight > 0 &&
											((o.polygon.extrudedHeight =
												e.extrudedHeight),
											(o.polygon.extrudedHeightReference =
												Cesium.HeightReference.RELATIVE_TO_GROUND),
											(o.polygon.closeTop = !0),
											(o.polygon.closeBottom = !0)),
											(e.entity =
												e.viewer.entities.add(o)),
											(e.entity.layerId = e.layerId);
										for (
											var a = e.positions, s = 0;
											s < a.length;
											s++
										)
											e._createPoint(a[s], s);
									},
									_removeDuplicate: function (e) {
										if (e && !(e.length < 2))
											for (var t = 1; t < e.length; t++) {
												var n = e[t - 1],
													r = e[t];
												r[0] == n[0] &&
													r[1] == n[1] &&
													(e.splice(t, 1), t--);
											}
									},
									_createPoint: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIconLight,
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
											},
										});
										return (
											(n.oid = t),
											(n.layerId = this.layerId),
											(n.flag = "anchor"),
											(this.markers[t] = n),
											n
										);
									},
									_computeTempPositions: function () {
										var e = [].concat(this.positions),
											t = e.length,
											n = e[0],
											r = e[t - 1];
										0 == this._isSimpleXYZ(n, r) &&
											(e.push(n), (t += 1)),
											(this.tempPositions = []);
										for (var i = 1; i < t; i++) {
											var o = e[i - 1],
												a = e[i],
												s = this._computeCenterPotition(
													o,
													a
												);
											this.tempPositions.push(o),
												this.tempPositions.push(s);
										}
									},
									_computeCenterPotition: function (e, t) {
										var n =
												this.ellipsoid.cartesianToCartographic(
													e
												),
											r =
												this.ellipsoid.cartesianToCartographic(
													t
												),
											i = new Cesium.EllipsoidGeodesic(
												n,
												r
											).interpolateUsingFraction(0.5);
										return this.ellipsoid.cartographicToCartesian(
											i
										);
									},
									_drawOk: function () {
										if ((this.clear(), this.okHandler)) {
											var e = this._getLonLatArr(
													this.positions
												),
												t =
													r.default.algorithm.doubleArrow(
														e
													),
												n = t.polygonalPoint,
												i = t.controlPoint;
											this.okHandler({
												positions: n,
												custom: i,
											});
										}
									},
									_showToolBar: function () {
										var e = this;
										return {
											ok: function () {
												e._drawOk();
											},
											cancle: function () {
												e.clear(),
													e.cancelHandler &&
														e.cancelHandler();
											},
											updateStyle: (function (e) {
												function t(t) {
													return e.apply(
														this,
														arguments
													);
												}
												return (
													(t.toString = function () {
														return e.toString();
													}),
													t
												);
											})(function (t) {
												e.entity &&
													updateStyle(e.entity, t);
											}),
										};
									},
									_getLonLat: function (e) {
										var t =
											this.ellipsoid.cartesianToCartographic(
												e
											);
										t.height =
											this.viewer.scene.globe.getHeight(
												t
											);
										var n = {
											lon: t.longitude,
											lat: t.latitude,
											alt: t.height,
										};
										return (
											(n.lon = Cesium.Math.toDegrees(
												n.lon
											)),
											(n.lat = Cesium.Math.toDegrees(
												n.lat
											)),
											n
										);
									},
									_getLonLatArr: function (e) {
										for (
											var t = [], n = 0;
											n < e.length;
											n++
										) {
											var r = this._getLonLat(e[n]);
											null != r && t.push([r.lon, r.lat]);
										}
										return t;
									},
									_isSimpleXYZ: function (e, t) {
										return (
											e.x == t.x &&
											e.y == t.y &&
											e.z == t.z
										);
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									_clearAnchors: function () {
										for (var e in this.markers) {
											var t = this.markers[e];
											this.viewer.entities.remove(t);
										}
										this.markers = {};
									},
									CLASS_NAME: "PlotPincerArrowDrawer",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [
					t,
					n(233),
					n(234),
					n(235),
					n(236),
					n(237),
					n(10),
					n(122),
				]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a, s, l) {
							"use strict";
							var u = n(0);
							function c(e, n, s) {
								(this.viewer = e),
									(this.dataSource = n),
									(this.ctrArr = []),
									(this.measureStyle =
										null != s
											? s
											: {
													showLabel: !1,
													polygon: {},
													polyline: {},
											  }),
									(this.posMeasure = new o.default(
										this.viewer
									)),
									this.ctrArr.push(this.posMeasure),
									(this.spaceDisMeasure = new r.default(
										this.viewer,
										this.measureStyle
									)),
									this.ctrArr.push(this.spaceDisMeasure),
									(this.stickDisMeasure = new i.default(
										this.viewer,
										this.measureStyle
									)),
									this.ctrArr.push(this.stickDisMeasure),
									(this.areaMeasure = new a.default(
										this.viewer,
										this.measureStyle
									)),
									this.ctrArr.push(this.areaMeasure),
									(this.heightMeasure = new t.default(
										this.viewer,
										this.measureStyle
									)),
									this.ctrArr.push(this.heightMeasure),
									(this.measureStartEvent =
										new Cesium.Event()),
									(this.measureEndEvent = new Cesium.Event());
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = u(t)),
								(r = u(r)),
								(i = u(i)),
								(o = u(o)),
								(a = u(a)),
								(c.prototype.clear = function () {
									for (var e = 0; e < this.ctrArr.length; e++)
										try {
											var t = this.ctrArr[e];
											t.clear && t.clear();
										} catch (e) {
											console.log(
												"发生未知出错：GlobeTracker.clear"
											);
										}
								}),
								(c.prototype.clearAll = function () {
									this.clear(),
										this.dataSource &&
											this.dataSource.entities.removeAll();
								}),
								(c.prototype._pickPosition = function (e, t) {
									this.clear(),
										null == this.posMeasure &&
											((this.posMeasure = new o.default(
												this.viewer
											)),
											this.ctrArr.push(this.posMeasure)),
										this.posMeasure.startDrawPoint(e, t);
								}),
								(c.prototype.startMeasure = function (e) {
									var t = this;
									(t.drawStatue = s.drawStatue.MEASURE),
										t.measureStartEvent.raiseEvent({
											isActive: !0,
											type: e,
										}),
										this["_pick".concat(e)](
											function () {
												(0, l.drawMeasure)(e, t, [
													arguments[0],
													t.measureStyle,
												]);
												var n = arguments[0];
												(arguments[0] = {
													isCancle: !1,
													data: n,
													type: e,
												}),
													t.measureEndEvent.raiseEvent.apply(
														t.measureEndEvent,
														arguments
													),
													(t.drawStatue =
														s.drawStatue.NONE);
											},
											function () {
												t.clear(),
													(t.drawStatue =
														s.drawStatue.NONE),
													t.measureEndEvent.raiseEvent(
														{
															isCancle: !0,
															type: e,
														}
													);
											}
										);
								}),
								(c.prototype.stopMeasure = function () {
									this.clear(),
										(this.drawStatue = s.drawStatue.NONE),
										this.measureEndEvent.raiseEvent({
											isCancle: !0,
										});
								}),
								(c.prototype._pickSpaceDistance = function (
									e,
									t
								) {
									this.clear(),
										null == this.spaceDisMeasure &&
											((this.spaceDisMeasure =
												new r.default(this.viewer)),
											this.ctrArr.push(
												this.spaceDisMeasure
											)),
										this.spaceDisMeasure.startDrawPolyline(
											e,
											t
										);
								}),
								(c.prototype._pickStickDistance = function (
									e,
									t
								) {
									this.clear(),
										null == this.stickDisMeasure &&
											((this.stickDisMeasure =
												new r.default(this.viewer)),
											this.ctrArr.push(
												this.stickDisMeasure
											)),
										this.stickDisMeasure.startDrawPolyline(
											e,
											t
										);
								}),
								(c.prototype._pickArea = function (e, t) {
									this.clear(),
										null == this.areaMeasure &&
											((this.areaMeasure = new a.default(
												this.viewer
											)),
											this.ctrArr.push(this.areaMeasure)),
										this.areaMeasure.startDrawPolygon(e, t);
								}),
								(c.prototype._pickHeight = function (e, n) {
									this.clear(),
										null == this.heightMeasure &&
											((this.heightMeasure =
												new t.default(this.viewer)),
											this.ctrArr.push(
												this.heightMeasure
											)),
										this.heightMeasure.startMeasureHeight(
											e,
											n
										);
								});
							var f = c;
							e.default = f;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(6), n(13)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r) {
							"use strict";
							var i = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = i(t)),
								(r = i(r));
							var o = function () {
									this.init.apply(this, arguments);
								},
								a = o;
							(e.default = a),
								(o.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									hLabel: null,
									sLabel: null,
									positions: null,
									drawHandler: null,
									callback: null,
									image: r.default,
									layerId: "globeEntityDrawerLayer",
									init: function (e) {
										var n = this;
										(n.viewer = e),
											(n.scene = e.scene),
											(n.clock = e.clock),
											(n.canvas = e.scene.canvas),
											(n.camera = e.scene.camera),
											(n.ellipsoid =
												e.scene.globe.ellipsoid),
											(n.tooltip = new t.default(
												e.container
											));
										var r,
											i = arguments[1];
										i &&
											(this.material =
												null !==
													(r = i.polyline.material) &&
												void 0 !== r
													? r
													: this.material);
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											(this.entity = null),
											(this.sLabel = null),
											(this.hLabel = null),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									startMeasureHeight: function (e) {
										var t = this;
										(t.callback = e), (t.positions = []);
										var n = null;
										(t.drawHandler =
											new Cesium.ScreenSpaceEventHandler(
												t.canvas
											)),
											t.drawHandler.setInputAction(
												function (e) {
													var r = e.position;
													if (Cesium.defined(r)) {
														var i =
															t.scene.pickPosition(
																r
															);
														if (
															!Cesium.defined(i)
														) {
															var o =
																t.camera.getPickRay(
																	r
																);
															if (
																!Cesium.defined(
																	o
																)
															)
																return;
															i =
																t.scene.globe.pick(
																	o,
																	t.scene
																);
														}
														0 == t.positions.length
															? (t.positions.push(
																	i
															  ),
															  (n =
																	t._createPoint(
																		i,
																		-1
																	)),
															  t._showPolyline2Map(),
															  t.positions.push(
																	i
															  ))
															: (n &&
																	t.viewer.entities.remove(
																		n
																	),
															  t.tooltip.setVisible(
																	!1
															  ),
															  t.clear(),
															  t.callback &&
																	t.callback(
																		t.createPoitsions()
																	));
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											t.drawHandler.setInputAction(
												function (e) {
													var r = e.endPosition;
													if (Cesium.defined(r))
														if (
															t.positions.length <
															1
														)
															t.tooltip.showAt(
																r,
																"<p>选择起点</p>"
															);
														else {
															var i =
																"<p>点击添加下一个点</p>";
															t.positions.length >
																1 &&
																(i +=
																	"<p>结束测量</p>"),
																t.tooltip.showAt(
																	r,
																	i
																);
															var o =
																t.scene.pickPosition(
																	r
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																n.position.setValue(
																	o
																),
																	t.positions.pop(),
																	t.positions.push(
																		o
																	);
																var a =
																	t.createPoitsions();
																(t.entity.position =
																	a.labelPositonHeight),
																	(t.entity.label.text =
																		a.height),
																	(t.sLabel.position =
																		a.labelPositonS),
																	(t.sLabel.label.text =
																		a.distanceS),
																	(t.hLabel.hLabel =
																		a.labelPositonH),
																	(t.hLabel.label.text =
																		a.distanceH);
															}
														}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									getDistanceText: function (e) {
										return e > 1e3
											? (e / 1e3).toFixed(2) + "km"
											: e.toFixed(2) + "m";
									},
									createPoitsions: function () {
										var e =
												this.positions[
													this.positions.length - 1
												],
											t = this.positions[0],
											n = {};
										Cesium.Cartesian3.normalize(t, n);
										var r = new Cesium.Plane(
												n,
												-Cesium.Cartesian3.distance(
													t,
													new Cesium.Cartesian3(
														0,
														0,
														0
													)
												)
											),
											i = new Cesium.Cartesian3(0, 0, 0),
											o = Cesium.Plane.getPointDistance(
												r,
												e
											),
											a = new Cesium.Cartesian3(0, 0, 0),
											s = new Cesium.Cartesian3(0, 0, 0),
											l = new Cesium.Cartesian3(0, 0, 0),
											u = {};
										if (o >= 0)
											Cesium.Plane.projectPointOntoPlane(
												r,
												e,
												i
											),
												Cesium.Cartesian3.midpoint(
													e,
													i,
													a
												),
												Cesium.Cartesian3.midpoint(
													t,
													i,
													s
												),
												(u.distanceH =
													Cesium.Cartesian3.distance(
														t,
														i
													));
										else {
											Cesium.Cartesian3.normalize(e, {});
											var c = new Cesium.Plane(
												n,
												-Cesium.Cartesian3.distance(
													e,
													new Cesium.Cartesian3(
														0,
														0,
														0
													)
												)
											);
											Cesium.Plane.projectPointOntoPlane(
												c,
												t,
												i
											),
												Cesium.Cartesian3.midpoint(
													t,
													i,
													a
												),
												Cesium.Cartesian3.midpoint(
													e,
													i,
													s
												),
												(u.distanceH =
													Cesium.Cartesian3.distance(
														e,
														i
													));
										}
										return (
											(u.distanceS =
												Cesium.Cartesian3.distance(
													t,
													e
												)),
											Cesium.Cartesian3.midpoint(t, e, l),
											(u.height =
												"高度：" +
												this.getDistanceText(
													Math.abs(o)
												)),
											(u.distanceH =
												"水平距离：" +
												this.getDistanceText(
													Math.abs(u.distanceH)
												)),
											(u.distanceS =
												"空间距离：" +
												this.getDistanceText(
													u.distanceS
												)),
											(u.positions = [t, i, e, t]),
											(u.labelPositonHeight = a),
											(u.labelPositonH = s),
											(u.labelPositonS = l),
											(u.startPoint = t),
											(u.endPoint = e),
											u
										);
									},
									_showPolyline2Map: function () {
										var e = this;
										null == e.material &&
											(e.material =
												new Cesium.PolylineDashMaterialProperty(
													{
														dashLength: 16,
														color: Cesium.Color.fromCssColorString(
															"#00f"
														).withAlpha(0.7),
													}
												));
										var t = this.positions[0],
											n = {
												position: t,
												label: {
													text: "",
													font: '16px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
													fillColor: Cesium.Color.RED,
													outlineColor:
														Cesium.Color.SKYBLUE,
													outlineWidth: 1,
													style: Cesium.LabelStyle
														.FILL_AND_OUTLINE,
													disableDepthTestDistance:
														Number.POSITIVE_INFINITY,
												},
												polyline: {
													positions:
														new Cesium.CallbackProperty(
															function () {
																return e.createPoitsions()
																	.positions;
															},
															!1
														),
													width: 3,
													material: e.material,
													depthFailMaterial:
														e.material,
												},
											};
										(e.entity = e.viewer.entities.add(n)),
											(e.entity.layerId = e.layerId),
											(e.hLabel = e.viewer.entities.add({
												layerId: e.layerId,
												position: t,
												label: {
													text: "",
													font: '16px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
													fillColor: Cesium.Color.RED,
													outlineColor:
														Cesium.Color.SKYBLUE,
													outlineWidth: 1,
													style: Cesium.LabelStyle
														.FILL_AND_OUTLINE,
													disableDepthTestDistance:
														Number.POSITIVE_INFINITY,
												},
											})),
											(e.sLabel = e.viewer.entities.add({
												layerId: e.layerId,
												position: t,
												label: {
													text: "",
													font: '16px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
													fillColor: Cesium.Color.RED,
													outlineColor:
														Cesium.Color.SKYBLUE,
													outlineWidth: 1,
													style: Cesium.LabelStyle
														.FILL_AND_OUTLINE,
													disableDepthTestDistance:
														Number.POSITIVE_INFINITY,
												},
											}));
									},
									_createPoint: function (e, t) {
										var n = {
												position: e,
												billboard: {
													image: this.image,
												},
											},
											r = this.viewer.entities.add(n);
										return (
											(r.oid = t),
											(r.layerId = this.layerId),
											(r.flag = "anchor"),
											r
										);
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									CLASS_NAME: "GlobeHeightMeasure",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(6), n(23), n(13)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i) {
							"use strict";
							var o = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = o(t)),
								(r = o(r)),
								(i = o(i));
							var a = function () {
									this.init.apply(this, arguments);
								},
								s = a;
							(e.default = s),
								(a.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									positions: [],
									tempPositions: [],
									drawHandler: null,
									modifyHandler: null,
									callback: null,
									dragIcon: r.default,
									dragIconLight: i.default,
									material: null,
									toolBarIndex: null,
									markers: {},
									layerId: "globeDrawerLayer",
									init: function (e) {
										var n = this;
										(n.viewer = e),
											(n.scene = e.scene),
											(n.clock = e.clock),
											(n.canvas = e.scene.canvas),
											(n.camera = e.scene.camera),
											(n.ellipsoid =
												e.scene.globe.ellipsoid),
											(n.tooltip = new t.default(
												e.container
											));
										var r,
											i = arguments[1];
										i &&
											(this.material =
												null !==
													(r = i.polyline.material) &&
												void 0 !== r
													? r
													: this.material);
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											this.modifyHandler &&
												(this.modifyHandler.destroy(),
												(this.modifyHandler = null)),
											null != this.toolBarIndex &&
												layer.close(this.toolBarIndex),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									showModifyPolyline: function (e, t) {
										(this.positions = e),
											(this.callback = t),
											this._showModifyPolyline2Map();
									},
									startDrawPolyline: function (e) {
										var t = this;
										(t.callback = e), (t.positions = []);
										var n = null;
										(t.drawHandler =
											new Cesium.ScreenSpaceEventHandler(
												t.canvas
											)),
											t.drawHandler.setInputAction(
												function (e) {
													var r = e.position;
													if (Cesium.defined(r)) {
														var i =
															t.scene.pickPosition(
																r
															);
														if (
															!Cesium.defined(i)
														) {
															var o =
																t.camera.getPickRay(
																	r
																);
															if (
																!Cesium.defined(
																	o
																)
															)
																return;
															i =
																t.scene.globe.pick(
																	o,
																	t.scene
																);
														}
														0 ==
															t.positions
																.length &&
															(t.positions.push(
																i
															),
															(n = t._createPoint(
																i,
																-1
															)),
															t._showPolyline2Map()),
															t.positions.push(i);
														var a =
															t.positions.length -
															2;
														t._createPoint(i, a),
															(t.entity.position =
																i);
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											t.drawHandler.setInputAction(
												function (e) {
													var r = e.endPosition;
													if (Cesium.defined(r))
														if (
															t.positions.length <
															1
														)
															t.tooltip.showAt(
																r,
																"<p>选择起点</p>"
															);
														else {
															var i =
																	t.positions
																		.length,
																o =
																	t._getMeasureTip(
																		t.positions
																	);
															(o +=
																"<p>点击添加下一个点</p>"),
																i > 2 &&
																	(o +=
																		"<p>右键结束绘制</p>"),
																t.tooltip.showAt(
																	r,
																	o
																);
															var a =
																t.scene.pickPosition(
																	r
																);
															if (
																!Cesium.defined(
																	a
																)
															) {
																var s =
																	t.camera.getPickRay(
																		r
																	);
																if (
																	!Cesium.defined(
																		s
																	)
																)
																	return;
																a =
																	t.scene.globe.pick(
																		s,
																		t.scene
																	);
															}
															n.position.setValue(
																a
															),
																t.positions.pop(),
																t.positions.push(
																	a
																),
																t.entity.position.setValue(
																	a
																);
														}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											),
											t.drawHandler.setInputAction(
												function (e) {
													t.positions.length < 3 ||
														(t.positions.pop(),
														t.viewer.entities.remove(
															n
														),
														t.tooltip.setVisible(
															!1
														),
														t._drawOk());
												},
												Cesium.ScreenSpaceEventType
													.RIGHT_CLICK
											);
									},
									_startModify: function () {
										var e = this,
											t = !1,
											n = null;
										e.drawHandler &&
											(e.drawHandler.destroy(),
											(e.drawHandler = null)),
											(e.modifyHandler =
												new Cesium.ScreenSpaceEventHandler(
													e.canvas
												)),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.position;
													if (Cesium.defined(i)) {
														var o =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(o)) {
															var a =
																e.scene.globe.pick(
																	o,
																	e.scene
																);
															if (
																Cesium.defined(
																	a
																)
															)
																if (t) {
																	(t = !1),
																		n.position.setValue(
																			a
																		);
																	var s =
																		n.oid;
																	(e.tempPositions[
																		s
																	] = a),
																		e.tooltip.setVisible(
																			!1
																		),
																		"mid_anchor" ==
																			n.flag &&
																			e._updateModifyAnchors(
																				s
																			),
																		e.entity.position.setValue(
																			a
																		);
																	var l =
																		e._getMeasureTip(
																			e.tempPositions
																		);
																	e.entity.label.text =
																		l;
																} else {
																	var u =
																		e.scene.pick(
																			i
																		);
																	if (
																		!Cesium.defined(
																			u
																		)
																	)
																		return;
																	if (
																		!Cesium.defined(
																			u.id
																		)
																	)
																		return;
																	var c =
																		u.id;
																	if (
																		c.layerId !=
																		e.layerId
																	)
																		return;
																	if (
																		"anchor" !=
																			c.flag &&
																		"mid_anchor" !=
																			c.flag
																	)
																		return;
																	(n = c),
																		(t =
																			!0),
																		"anchor" ==
																			c.flag &&
																			e.tooltip.showAt(
																				i,
																				"<p>移动控制点</p>"
																			),
																		"mid_anchor" ==
																			c.flag &&
																			e.tooltip.showAt(
																				i,
																				"<p>移动创建新的控制点</p>"
																			);
																}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											e.modifyHandler.setInputAction(
												function (r) {
													if (t) {
														var i = r.endPosition;
														if (Cesium.defined(i)) {
															e.tooltip.showAt(
																i,
																"<p>移动控制点</p>"
															);
															var o =
																e.camera.getPickRay(
																	i
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																var a =
																	e.scene.globe.pick(
																		o,
																		e.scene
																	);
																if (
																	Cesium.defined(
																		a
																	)
																) {
																	var s =
																		n.oid;
																	("anchor" ==
																		n.flag ||
																		"mid_anchor" ==
																			n.flag) &&
																		(n.position.setValue(
																			a
																		),
																		(e.tempPositions[
																			s
																		] = a)),
																		e.entity.position.setValue(
																			a
																		);
																	var l =
																		e._getMeasureTip(
																			e.tempPositions
																		);
																	e.entity.label.text =
																		l;
																}
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_showPolyline2Map: function () {
										var e = this;
										null == e.material &&
											(e.material =
												new Cesium.PolylineDashMaterialProperty(
													{
														dashLength: 16,
														color: Cesium.Color.fromCssColorString(
															"#00f"
														).withAlpha(0.7),
													}
												));
										var t = new Cesium.CallbackProperty(
												function () {
													return e.positions;
												},
												!1
											),
											n = e.positions.length,
											r = {
												position: e.positions[n - 1],
												label: {
													text: "",
													font: '16px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
													fillColor: Cesium.Color.RED,
													outlineColor:
														Cesium.Color.SKYBLUE,
													outlineWidth: 1,
													style: Cesium.LabelStyle
														.FILL_AND_OUTLINE,
													disableDepthTestDistance:
														Number.POSITIVE_INFINITY,
												},
												polyline: {
													positions: t,
													clampToGround: !1,
													width: 3,
													material: e.material,
													classificationType:
														Cesium
															.ClassificationType
															.TERRAIN,
												},
											};
										(e.entity = e.viewer.entities.add(r)),
											(e.entity.layerId = e.layerId);
									},
									_showModifyPolyline2Map: function () {
										var e = this;
										e._startModify(),
											e._computeTempPositions();
										var t = new Cesium.CallbackProperty(
											function () {
												return e.tempPositions;
											},
											!1
										);
										null == e.material &&
											(e.material =
												new Cesium.PolylineGlowMaterialProperty(
													{
														glowPower: 0.25,
														color: Cesium.Color.fromCssColorString(
															"#00f"
														).withAlpha(0.9),
													}
												));
										var n = e.tempPositions.length,
											r = {
												position:
													e.tempPositions[n - 1],
												label: {
													text: e._getMeasureTip(
														e.tempPositions
													),
													font: '16px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
													fillColor: Cesium.Color.RED,
													outlineColor:
														Cesium.Color.SKYBLUE,
													outlineWidth: 1,
													style: Cesium.LabelStyle
														.FILL_AND_OUTLINE,
													heightReference:
														Cesium.HeightReference
															.CLAMP_TO_GROUND,
													disableDepthTestDistance:
														Number.POSITIVE_INFINITY,
												},
												polyline: {
													positions: t,
													clampToGround: !1,
													width: 8,
													material: e.material,
												},
											};
										(e.entity = e.viewer.entities.add(r)),
											(e.entity.layerId = e.layerId);
										for (
											var i = e.tempPositions, o = 0;
											o < i.length;
											o++
										)
											e._createPoint(i[o], o);
									},
									_updateModifyAnchors: function (e) {
										var t = this.tempPositions.length;
										if (0 != e && e != t - 1) {
											var n = this.tempPositions[e],
												r = this.tempPositions[e - 1],
												i = this.tempPositions[e + 1],
												o = this._computeCenterPotition(
													r,
													n
												),
												a = this._computeCenterPotition(
													n,
													i
												);
											this.tempPositions.splice(
												e,
												1,
												o,
												n,
												a
											),
												this._clearAnchors(
													this.layerId
												);
											for (
												var s = this.tempPositions,
													l = 0;
												l < s.length;
												l++
											)
												0 == l % 2
													? this._createPoint(s[l], l)
													: this._createMidPoint(
															s[l],
															l
													  );
										}
									},
									_updateNewMidAnchors: function (e) {
										if (null != e && null != e) {
											var t = null,
												n = null,
												r = null,
												i = null,
												o = this.tempPositions.length;
											0 == e
												? ((t = o - 2),
												  (n = o - 1),
												  (r = e + 1),
												  (i = e + 2))
												: e == o - 2
												? ((t = e - 2),
												  (n = e - 1),
												  (r = o - 1),
												  (i = 0))
												: ((t = e - 2),
												  (n = e - 1),
												  (r = e + 1),
												  (i = e + 2));
											var a = this.tempPositions[t],
												s = this.tempPositions[e],
												l = this.tempPositions[i];
											if (0 == e) {
												var u =
													this._computeCenterPotition(
														l,
														s
													);
												(this.tempPositions[r] = u),
													this.markers[
														r
													].position.setValue(u);
											} else if (e == o - 1) {
												var c =
													this._computeCenterPotition(
														a,
														s
													);
												(this.tempPositions[n] = c),
													this.markers[
														n
													].position.setValue(c);
											} else
												(c =
													this._computeCenterPotition(
														a,
														s
													)),
													(u =
														this._computeCenterPotition(
															l,
															s
														)),
													(this.tempPositions[n] = c),
													(this.tempPositions[r] = u),
													this.markers[
														n
													].position.setValue(c),
													this.markers[
														r
													].position.setValue(u);
										}
									},
									_createPoint: function (e, t) {
										var n = {
												position: e,
												billboard: {
													image: this.dragIconLight,
													eyeOffset:
														new Cesium.ConstantProperty(
															new Cesium.Cartesian3(
																0,
																0,
																-500
															)
														),
												},
											},
											r = this.viewer.entities.add(n);
										return (
											(r.oid = t),
											(r.layerId = this.layerId),
											(r.flag = "anchor"),
											(this.markers[t] = r),
											r
										);
									},
									_createMidPoint: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: { image: this.dragIcon },
										});
										return (
											(n.oid = t),
											(n.layerId = this.layerId),
											(n.flag = "mid_anchor"),
											(this.markers[t] = n),
											n
										);
									},
									_getMeasureTip: function (e) {
										var t = this._computeLineDis3d(e);
										return this.getDistanceText(t);
									},
									_computeTempPositions: function () {
										this.tempPositions = [].concat(
											this.positions
										);
									},
									_computeCenterPotition: function (e, t) {
										var n =
												this.ellipsoid.cartesianToCartographic(
													e
												),
											r =
												this.ellipsoid.cartesianToCartographic(
													t
												),
											i = new Cesium.EllipsoidGeodesic(
												n,
												r
											).interpolateUsingFraction(0.5);
										return this.ellipsoid.cartographicToCartesian(
											i
										);
									},
									_computeDis2d: function (e, t) {
										return Cesium.Cartesian2.distance(e, t);
									},
									_computeDis3d: function (e, t) {
										return Cesium.Cartesian3.distance(e, t);
									},
									_computeLineDis2d: function (e) {
										for (
											var t = 0, n = 1;
											n < e.length;
											n++
										) {
											var r = e[n - 1],
												i = e[n];
											t += this._computeDis2d(r, i);
										}
										return t;
									},
									_computeLineDis3d: function (e) {
										for (
											var t = 0, n = 1;
											n < e.length;
											n++
										) {
											var r = e[n - 1],
												i = e[n];
											t += this._computeDis3d(r, i);
										}
										return t;
									},
									getDistanceText: function (e) {
										return e > 1e3
											? (e / 1e3).toFixed(2) + "km"
											: e.toFixed(2) + "m";
									},
									_drawOk: function () {
										if (this.callback) {
											var e = this.positions;
											this.clear();
											var t = this._computeLineDis2d(e),
												n = this._computeLineDis3d(e),
												r = {
													dis2d: (t =
														this.getDistanceText(
															t
														)),
													dis3d: (n =
														this.getDistanceText(
															n
														)),
													positions: e,
												};
											this.callback(r);
										}
									},
									_isSimpleXYZ: function (e, t) {
										return (
											e.x == t.x &&
											e.y == t.y &&
											e.z == t.z
										);
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									_clearAnchors: function () {
										for (var e in this.markers) {
											var t = this.markers[e];
											this.viewer.entities.remove(t);
										}
										this.markers = {};
									},
									CLASS_NAME: "GlobePolylineSpaceMeasure",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(82), n(6), n(23), n(13)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o) {
							"use strict";
							var a = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = a(t)),
								(r = a(r)),
								(i = a(i)),
								(o = a(o));
							var s = function () {
									this.init.apply(this, arguments);
								},
								l = s;
							(e.default = l),
								(s.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									positions: [],
									tempPositions: [],
									drawHandler: null,
									modifyHandler: null,
									callback: null,
									dragIcon: i.default,
									dragIconLight: o.default,
									material: null,
									toolBarIndex: null,
									markers: {},
									layerId: "globeDrawerLayer",
									init: function (e) {
										var t = this;
										(t.viewer = e),
											(t.scene = e.scene),
											(t.clock = e.clock),
											(t.canvas = e.scene.canvas),
											(t.camera = e.scene.camera),
											(t.ellipsoid =
												e.scene.globe.ellipsoid),
											(t.tooltip = new r.default(
												e.container
											));
										var n,
											i = arguments[1];
										i &&
											(this.material =
												null !==
													(n = i.polyline.material) &&
												void 0 !== n
													? n
													: this.material);
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											this.modifyHandler &&
												(this.modifyHandler.destroy(),
												(this.modifyHandler = null)),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									showModifyPolyline: function (e, t) {
										(this.positions = e),
											(this.callback = t),
											this._showModifyPolyline2Map();
									},
									startDrawPolyline: function (e) {
										var t = this;
										(t.callback = e), (t.positions = []);
										var n = null;
										(t.drawHandler =
											new Cesium.ScreenSpaceEventHandler(
												t.canvas
											)),
											t.drawHandler.setInputAction(
												function (e) {
													var r = e.position;
													if (Cesium.defined(r)) {
														var i =
															t.camera.getPickRay(
																r
															);
														if (Cesium.defined(i)) {
															var o =
																t.scene.globe.pick(
																	i,
																	t.scene
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																0 ==
																	t.positions
																		.length &&
																	(t.positions.push(
																		o
																	),
																	(n =
																		t._createPoint(
																			o,
																			-1
																		)),
																	t._showPolyline2Map()),
																	t.positions.push(
																		o
																	);
																var a =
																	t.positions
																		.length -
																	2;
																t._createPoint(
																	o,
																	a
																),
																	(t.entity.position =
																		t.positions[
																			Math.floor(
																				t
																					.positions
																					.length /
																					2
																			)
																		]);
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											t.drawHandler.setInputAction(
												function (e) {
													var r = e.endPosition;
													if (Cesium.defined(r))
														if (
															t.positions.length <
															1
														)
															t.tooltip.showAt(
																r,
																"<p>选择起点</p>"
															);
														else {
															var i =
																"<p>点击添加下一个点</p>";
															t.positions.length >
																2 &&
																(i +=
																	"<p>右键结束绘制</p>"),
																t.tooltip.showAt(
																	r,
																	i
																);
															var o =
																t.camera.getPickRay(
																	r
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																var a =
																	t.scene.globe.pick(
																		o,
																		t.scene
																	);
																Cesium.defined(
																	a
																) &&
																	(n.position.setValue(
																		a
																	),
																	t.positions.pop(),
																	t.positions.push(
																		a
																	),
																	t.entity.position.setValue(
																		t
																			.positions[
																			Math.floor(
																				t
																					.positions
																					.length /
																					2
																			)
																		]
																	));
															}
														}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											),
											t.drawHandler.setInputAction(
												function () {
													t.positions.length < 3 ||
														(t.positions.pop(),
														t.viewer.entities.remove(
															n
														),
														t.tooltip.setVisible(
															!1
														),
														t._drawOk());
												},
												Cesium.ScreenSpaceEventType
													.RIGHT_CLICK
											);
									},
									_startModify: function () {
										var e = this,
											t = !1,
											n = null;
										e.drawHandler &&
											(e.drawHandler.destroy(),
											(e.drawHandler = null)),
											e._showToolBar(),
											(e.modifyHandler =
												new Cesium.ScreenSpaceEventHandler(
													e.canvas
												)),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.position;
													if (Cesium.defined(i)) {
														var o =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(o)) {
															var a =
																e.scene.globe.pick(
																	o,
																	e.scene
																);
															if (
																Cesium.defined(
																	a
																)
															)
																if (t) {
																	(t = !1),
																		n.position.setValue(
																			a
																		);
																	var s =
																		n.oid;
																	(e.tempPositions[
																		s
																	] = a),
																		e.tooltip.setVisible(
																			!1
																		),
																		"mid_anchor" ==
																			n.flag &&
																			e._updateModifyAnchors(
																				s
																			),
																		e.entity.position.setValue(
																			a
																		);
																	var l =
																		e._getMeasureTip(
																			e.tempPositions
																		);
																	e.entity.label.text =
																		l;
																} else {
																	var u =
																		e.scene.pick(
																			i
																		);
																	if (
																		!Cesium.defined(
																			u
																		)
																	)
																		return;
																	if (
																		!Cesium.defined(
																			u.id
																		)
																	)
																		return;
																	var c =
																		u.id;
																	if (
																		c.layerId !=
																		e.layerId
																	)
																		return;
																	if (
																		"anchor" !=
																			c.flag &&
																		"mid_anchor" !=
																			c.flag
																	)
																		return;
																	(n = c),
																		(t =
																			!0),
																		"anchor" ==
																			c.flag &&
																			e.tooltip.showAt(
																				i,
																				"<p>移动控制点</p>"
																			),
																		"mid_anchor" ==
																			c.flag &&
																			e.tooltip.showAt(
																				i,
																				"<p>移动创建新的控制点</p>"
																			);
																}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											e.modifyHandler.setInputAction(
												function (r) {
													if (t) {
														var i = r.endPosition;
														if (Cesium.defined(i)) {
															e.tooltip.showAt(
																i,
																"<p>移动控制点</p>"
															);
															var o =
																e.camera.getPickRay(
																	i
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																var a =
																	e.scene.globe.pick(
																		o,
																		e.scene
																	);
																if (
																	Cesium.defined(
																		a
																	)
																) {
																	var s =
																		n.oid;
																	"anchor" ==
																	n.flag
																		? (n.position.setValue(
																				a
																		  ),
																		  (e.tempPositions[
																				s
																		  ] = a),
																		  e._updateNewMidAnchors(
																				s
																		  ))
																		: "mid_anchor" ==
																				n.flag &&
																		  (n.position.setValue(
																				a
																		  ),
																		  (e.tempPositions[
																				s
																		  ] =
																				a)),
																		e.entity.position.setValue(
																			a
																		);
																	var l =
																		e._getMeasureTip(
																			e.tempPositions
																		);
																	e.entity.label.text =
																		l;
																}
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_showPolyline2Map: function () {
										var e = this;
										null == e.material &&
											(e.material =
												new Cesium.PolylineDashMaterialProperty(
													{
														dashLength: 16,
														color: Cesium.Color.fromCssColorString(
															"#00f"
														).withAlpha(0.7),
													}
												));
										var t = new Cesium.CallbackProperty(
												function () {
													return e.positions;
												},
												!1
											),
											n = e.positions.length,
											r = {
												position: e.positions[n - 1],
												label: {
													text: "",
													font: '16px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
													fillColor: Cesium.Color.RED,
													outlineColor:
														Cesium.Color.SKYBLUE,
													outlineWidth: 1,
													style: Cesium.LabelStyle
														.FILL_AND_OUTLINE,
													disableDepthTestDistance:
														Number.POSITIVE_INFINITY,
												},
												polyline: {
													positions: t,
													clampToGround: !0,
													width: 3,
													material: e.material,
												},
											};
										(e.entity = e.viewer.entities.add(r)),
											(e.entity.layerId = e.layerId);
									},
									_showModifyPolyline2Map: function () {
										var e = this;
										e._startModify(),
											e._computeTempPositions();
										var t = new Cesium.CallbackProperty(
											function () {
												return e.tempPositions;
											},
											!1
										);
										null == e.material &&
											(e.material =
												new Cesium.PolylineGlowMaterialProperty(
													{
														glowPower: 0.25,
														color: Cesium.Color.fromCssColorString(
															"#00f"
														).withAlpha(0.9),
													}
												));
										var n = e.tempPositions.length,
											r = {
												position:
													e.tempPositions[n - 1],
												label: {
													text: e._getMeasureTip(
														e.tempPositions
													),
													font: '16px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
													fillColor: Cesium.Color.RED,
													outlineColor:
														Cesium.Color.SKYBLUE,
													outlineWidth: 1,
													style: Cesium.LabelStyle
														.FILL_AND_OUTLINE,
													heightReference:
														Cesium.HeightReference
															.CLAMP_TO_GROUND,
													disableDepthTestDistance:
														Number.POSITIVE_INFINITY,
												},
												polyline: {
													positions: t,
													clampToGround: !0,
													width: 8,
													material: e.material,
												},
											};
										(e.entity = e.viewer.entities.add(r)),
											(e.entity.layerId = e.layerId);
										for (
											var i = e.tempPositions, o = 0;
											o < i.length;
											o++
										)
											0 == o % 2
												? e._createPoint(i[o], o)
												: e._createMidPoint(i[o], o);
									},
									_updateModifyAnchors: function (e) {
										var t = this.tempPositions.length;
										if (0 != e && e != t - 1) {
											var n = this.tempPositions[e],
												r = this.tempPositions[e - 1],
												i = this.tempPositions[e + 1],
												o = this._computeCenterPotition(
													r,
													n
												),
												a = this._computeCenterPotition(
													n,
													i
												);
											this.tempPositions.splice(
												e,
												1,
												o,
												n,
												a
											),
												this._clearAnchors(
													this.layerId
												);
											for (
												var s = this.tempPositions,
													l = 0;
												l < s.length;
												l++
											)
												0 == l % 2
													? this._createPoint(s[l], l)
													: this._createMidPoint(
															s[l],
															l
													  );
										}
									},
									_updateNewMidAnchors: function (e) {
										if (null != e && null != e) {
											var t = null,
												n = null,
												r = null,
												i = null,
												o = this.tempPositions.length;
											0 == e
												? ((t = o - 2),
												  (n = o - 1),
												  (r = e + 1),
												  (i = e + 2))
												: e == o - 2
												? ((t = e - 2),
												  (n = e - 1),
												  (r = o - 1),
												  (i = 0))
												: ((t = e - 2),
												  (n = e - 1),
												  (r = e + 1),
												  (i = e + 2));
											var a = this.tempPositions[t],
												s = this.tempPositions[e],
												l = this.tempPositions[i];
											if (0 == e) {
												var u =
													this._computeCenterPotition(
														l,
														s
													);
												(this.tempPositions[r] = u),
													this.markers[
														r
													].position.setValue(u);
											} else if (e == o - 1) {
												var c =
													this._computeCenterPotition(
														a,
														s
													);
												(this.tempPositions[n] = c),
													this.markers[
														n
													].position.setValue(c);
											} else {
												var f =
														this._computeCenterPotition(
															a,
															s
														),
													h =
														this._computeCenterPotition(
															l,
															s
														);
												(this.tempPositions[n] = f),
													(this.tempPositions[r] = h),
													this.markers[
														n
													].position.setValue(f),
													this.markers[
														r
													].position.setValue(h);
											}
										}
									},
									_createPoint: function (e, t) {
										var n = {
												position: e,
												billboard: {
													image: this.dragIconLight,
													eyeOffset:
														new Cesium.ConstantProperty(
															new Cesium.Cartesian3(
																0,
																0,
																-500
															)
														),
													disableDepthTestDistance:
														Number.POSITIVE_INFINITY,
												},
											},
											r = this.viewer.entities.add(n);
										return (
											(r.oid = t),
											(r.layerId = this.layerId),
											(r.flag = "anchor"),
											(this.markers[t] = r),
											r
										);
									},
									_createMidPoint: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIcon,
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
											},
										});
										return (
											(n.oid = t),
											(n.layerId = this.layerId),
											(n.flag = "mid_anchor"),
											(this.markers[t] = n),
											n
										);
									},
									_getMeasureTip: function (e) {
										var t = this._computeLineDis3d(e);
										return (
											"距离：" + this.getDistanceText(t)
										);
									},
									getDistanceText: function (e) {
										return e > 1e3
											? (e / 1e3).toFixed(2) + "km"
											: e.toFixed(2) + "m";
									},
									_computeTempPositions: function () {
										var e = [].concat(this.positions),
											t = e.length;
										this.tempPositions = [];
										for (var n = 1; n < t; n++) {
											var r = e[n - 1],
												i = e[n],
												o = this._computeCenterPotition(
													r,
													i
												);
											this.tempPositions.push(r),
												this.tempPositions.push(o);
										}
										var a = e[t - 1];
										this.tempPositions.push(a);
									},
									_computeCenterPotition: function (e, t) {
										var n =
												this.ellipsoid.cartesianToCartographic(
													e
												),
											r =
												this.ellipsoid.cartesianToCartographic(
													t
												),
											i = new Cesium.EllipsoidGeodesic(
												n,
												r
											).interpolateUsingFraction(0.5);
										return this.ellipsoid.cartographicToCartesian(
											i
										);
									},
									_computeDis2d: function (e, t) {
										return Cesium.Cartesian2.distance(e, t);
									},
									_computeDis3d: function (e, t) {
										return Cesium.Cartesian3.distance(e, t);
									},
									_computeLineDis2d: function (e) {
										for (
											var n = 0, r = 1;
											r < e.length;
											r++
										) {
											var i = e[r - 1],
												o = e[r],
												a = this._computeDis2d(i, o);
											(0, t.default)(a) || (n += a);
										}
										return n;
									},
									_computeLineDis3d: function (e) {
										for (
											var n = 0, r = e, i = 1;
											i < r.length;
											i++
										) {
											var o = r[i - 1],
												a = r[i],
												s = this._computeDis3d(o, a);
											(0, t.default)(s) || (n += s);
										}
										return n;
									},
									_getStick2GroundLine: function (e) {
										for (
											var t =
													Cesium.PolylinePipeline.generateArc(
														{
															positions: e,
															granularity: 1e-4,
														}
													),
												n = [],
												r = 0;
											r < t.length;
											r += 3
										) {
											var i = Cesium.Cartesian3.unpack(
												t,
												r
											);
											n.push(i);
										}
										for (
											var o = [], a = 0;
											a < n.length;
											a += 3
										) {
											var s =
												this._getStick2GroundPoint3d(
													n[a]
												);
											o.push(s);
										}
										return o;
									},
									_getStick2GroundPoint3d: function (e) {
										var t = this.viewer,
											n = t.scene.globe.ellipsoid,
											r = n.cartesianToCartographic(e);
										return (
											(r.height =
												t.scene.globe.getHeight(r)),
											n.cartographicToCartesian(r)
										);
									},
									_drawOk: function () {
										if (this.callback) {
											var e = this.positions;
											this.clear();
											var t = this._computeLineDis2d(e),
												n = this._computeLineDis3d(e),
												r = {
													dis2d: (t =
														this.getDistanceText(
															t
														)),
													dis3d: (n =
														this.getDistanceText(
															n
														)),
													positions: e,
												};
											this.callback(r);
										}
									},
									_isSimpleXYZ: function (e, t) {
										return (
											e.x == t.x &&
											e.y == t.y &&
											e.z == t.z
										);
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									_clearAnchors: function () {
										for (var e in this.markers) {
											var t = this.markers[e];
											this.viewer.entities.remove(t);
										}
										this.markers = {};
									},
									CLASS_NAME: "GlobePolylineStickMeasure",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			n(15);
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(15), n(6)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r) {
							"use strict";
							var i = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = i(t)),
								(r = i(r));
							var o = function () {
									this.init.apply(this, arguments);
								},
								a = o;
							(e.default = a),
								(o.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									position: null,
									drawHandler: null,
									modifyHandler: null,
									callback: null,
									image: "images/circle_red.png",
									toolBarIndex: null,
									layerId: "globeEntityDrawerLayer",
									init: function (e) {
										(this.viewer = e),
											(this.scene = e.scene),
											(this.clock = e.clock),
											(this.canvas = e.scene.canvas),
											(this.camera = e.scene.camera),
											(this.ellipsoid =
												e.scene.globe.ellipsoid),
											(this.tooltip = new r.default(
												e.container
											));
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											this.modifyHandler &&
												(this.modifyHandler.destroy(),
												(this.modifyHandler = null)),
											null != this.toolBarIndex &&
												layer.close(this.toolBarIndex),
											(this.entity = null),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									showModifyPoint: function (e, t) {
										(this.position = e),
											(this.callback = t),
											(this.entity = null),
											this._createPoint(),
											this._startModify();
									},
									startDrawPoint: function (e) {
										var t = this;
										(t.callback = e),
											(t.entity = null),
											(t.position = null),
											(t.drawHandler =
												new Cesium.ScreenSpaceEventHandler(
													t.canvas
												)),
											t.drawHandler.setInputAction(
												function (e) {
													var n = e.position;
													if (Cesium.defined(n)) {
														var r =
															t.camera.getPickRay(
																n
															);
														if (Cesium.defined(r)) {
															var i =
																t.scene.globe.pick(
																	r,
																	t.scene
																);
															if (
																Cesium.defined(
																	i
																)
															) {
																(t.position =
																	i),
																	t.entity.position.setValue(
																		i
																	);
																var o =
																	t._getMeasureTip(
																		t.position
																	);
																(t.entity.label.text =
																	o),
																	t.tooltip.setVisible(
																		!1
																	),
																	t._startModify();
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											t.drawHandler.setInputAction(
												function (e) {
													var n = e.endPosition;
													if (Cesium.defined(n)) {
														null == t.position &&
															t.tooltip.showAt(
																n,
																"<p>选择位置</p>"
															);
														var r =
															t.camera.getPickRay(
																n
															);
														if (Cesium.defined(r)) {
															var i =
																t.scene.globe.pick(
																	r,
																	t.scene
																);
															if (
																Cesium.defined(
																	i
																)
															)
																if (
																	((t.position =
																		i),
																	null ==
																		t.entity)
																)
																	t._createPoint();
																else {
																	t.entity.position.setValue(
																		i
																	);
																	var o =
																		t._getMeasureTip(
																			t.position
																		);
																	t.entity.label.text =
																		o;
																}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_startModify: function () {
										var e = this,
											t = !1,
											n = null;
										e.drawHandler &&
											(e.drawHandler.destroy(),
											(e.drawHandler = null)),
											e._showToolBar(),
											(e.modifyHandler =
												new Cesium.ScreenSpaceEventHandler(
													e.canvas
												)),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.position;
													if (Cesium.defined(i)) {
														var o =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(o)) {
															var a =
																e.scene.globe.pick(
																	o,
																	e.scene
																);
															if (
																Cesium.defined(
																	a
																)
															)
																if (t)
																	(t = !1),
																		n.position.setValue(
																			a
																		),
																		n.oid,
																		(e.position =
																			a),
																		e.tooltip.setVisible(
																			!1
																		);
																else {
																	var s =
																		e.scene.pick(
																			i
																		);
																	if (
																		!Cesium.defined(
																			s
																		)
																	)
																		return;
																	if (
																		!Cesium.defined(
																			s.id
																		)
																	)
																		return;
																	var l =
																		s.id;
																	if (
																		l.layerId !=
																			e.layerId ||
																		"anchor" !=
																			l.flag
																	)
																		return;
																	(n = l),
																		(t =
																			!0),
																		e.tooltip.showAt(
																			i,
																			"<p>移动位置</p>"
																		);
																}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											e.modifyHandler.setInputAction(
												function (r) {
													if (t) {
														var i = r.endPosition;
														if (Cesium.defined(i)) {
															e.tooltip.showAt(
																i,
																"<p>移动位置</p>"
															);
															var o =
																e.camera.getPickRay(
																	i
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																var a =
																	e.scene.globe.pick(
																		o,
																		e.scene
																	);
																if (
																	Cesium.defined(
																		a
																	)
																) {
																	(e.position =
																		a),
																		n.position.setValue(
																			a
																		);
																	var s =
																		e._getMeasureTip(
																			e.position
																		);
																	e.entity.label.text =
																		s;
																}
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_createPoint: function () {
										var e = this._getMeasureTip(
												this.position
											),
											t = viewer.entities.add({
												position: this.position,
												label: {
													text: e,
													font: '18px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
													fillColor: Cesium.Color.RED,
													outlineColor:
														Cesium.Color.SKYBLUE,
													outlineWidth: 1,
													style: Cesium.LabelStyle
														.FILL_AND_OUTLINE,
													heightReference:
														Cesium.HeightReference
															.CLAMP_TO_GROUND,
													disableDepthTestDistance:
														Number.POSITIVE_INFINITY,
												},
												billboard: {
													image: this.image,
													heightReference:
														Cesium.HeightReference
															.CLAMP_TO_GROUND,
												},
											});
										return (
											(t.oid = 0),
											(t.layerId = this.layerId),
											(t.flag = "anchor"),
											(this.entity = t),
											t
										);
									},
									_getMeasureTip: function (e) {
										var t = this._getLonLat(e);
										return (
											t.alt
												? (t.alt = t.alt.toFixed(1))
												: (t.alt = ""),
											(t.lon = t.lon.toFixed(3)),
											(t.lat = t.lat.toFixed(3)),
											"经度：" +
												t.lon +
												"，纬度：" +
												t.lat +
												"\n 海拔=" +
												t.alt +
												"米"
										);
									},
									_getLonLat: function (e) {
										var t =
											this.ellipsoid.cartesianToCartographic(
												e
											);
										t.height =
											this.viewer.scene.globe.getHeight(
												t
											);
										var n = {
											lon: t.longitude,
											lat: t.latitude,
											alt: t.height,
										};
										return (
											(n.lon = Cesium.Math.toDegrees(
												n.lon
											)),
											(n.lat = Cesium.Math.toDegrees(
												n.lat
											)),
											n
										);
									},
									_showToolBar: function () {
										this._createToolBar();
										var e = $(window).width(),
											n = (0, t.default)((e - 145) / 2);
										this.toolBarIndex = layer.open({
											title: !1,
											type: 1,
											fixed: !0,
											resize: !1,
											shade: 0,
											content: $("#shapeEditContainer"),
											offset: ["60px", n + "px"],
											move: "#shapeEditRTCorner",
										});
										var r =
											"#layui-layer" +
											this.toolBarIndex +
											" .layui-layer-close2";
										$(r).hide();
									},
									_createToolBar: function () {
										var e = this;
										$("#shapeEditContainer").remove(),
											$("body").append(
												'<div id="shapeEditContainer" style="padding: 10px 10px;">    <button name="btnOK" class="layui-btn layui-btn-xs layui-btn-normal"> <i class="layui-icon"></i> 确定 </button>    <button name="btnCancel" class="layui-btn layui-btn-xs layui-btn-danger"> <i class="layui-icon">ဆ</i> 取消 </button>    <div id="shapeEditRTCorner" style="width: 16px; position: absolute; right: 0px; top: 0px; bottom: 0px">    </div></div>'
											);
										var t = $(
												"#shapeEditContainer button[name='btnOK']"
											),
											n = $(
												"#shapeEditContainer button[name='btnCancel']"
											);
										t
											.unbind("click")
											.bind("click", function () {
												if (e.callback) {
													var t = e._getLonLat(
														e.position
													);
													e.clear(),
														layer.close(
															e.toolBarIndex
														),
														e.callback(
															e.position,
															t
														);
												}
											}),
											n
												.unbind("click")
												.bind("click", function () {
													e.clear(),
														layer.close(
															e.toolBarIndex
														);
												});
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									CLASS_NAME: "GlobePointMeasure",
								});
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(6), n(23), n(13)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i) {
							"use strict";
							var o = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = o(t)),
								(r = o(r)),
								(i = o(i));
							var a = function () {
									this.init.apply(this, arguments);
								},
								s = a;
							(e.default = s),
								(a.prototype = {
									viewer: null,
									scene: null,
									clock: null,
									canvas: null,
									camera: null,
									ellipsoid: null,
									tooltip: null,
									entity: null,
									positions: [],
									tempPositions: [],
									drawHandler: null,
									modifyHandler: null,
									callback: null,
									dragIcon: r.default,
									dragIconLight: i.default,
									material: null,
									outlineMaterial: null,
									fill: !0,
									outline: !0,
									outlineWidth: 2,
									markers: {},
									layerId: "globeDrawerLayer",
									init: function (e) {
										var n = this;
										(n.viewer = e),
											(n.scene = e.scene),
											(n.clock = e.clock),
											(n.canvas = e.scene.canvas),
											(n.camera = e.scene.camera),
											(n.ellipsoid =
												e.scene.globe.ellipsoid),
											(n.tooltip = new t.default(
												e.container
											));
										var r,
											i,
											o = arguments[1];
										o &&
											((this.material =
												null !==
													(r = o.polygon.material) &&
												void 0 !== r
													? r
													: this.material),
											(this.outlineMaterial =
												null !==
													(i = o.polyline.material) &&
												void 0 !== i
													? i
													: this.material));
									},
									clear: function () {
										this.drawHandler &&
											(this.drawHandler.destroy(),
											(this.drawHandler = null)),
											this.modifyHandler &&
												(this.modifyHandler.destroy(),
												(this.modifyHandler = null)),
											this._clearMarkers(this.layerId),
											this.tooltip.setVisible(!1);
									},
									showModifyPolygon: function (e, t) {
										(this.positions = e),
											(this.callback = t),
											this._showModifyRegion2Map();
									},
									startDrawPolygon: function (e) {
										var t = this;
										(t.callback = e),
											(t.positions = []),
											(t.leftClickPositions = []);
										var n = null;
										(t.drawHandler =
											new Cesium.ScreenSpaceEventHandler(
												t.canvas
											)),
											t.drawHandler.setInputAction(
												function (e) {
													var r = e.position;
													if (Cesium.defined(r)) {
														var i =
															t.scene.pickPosition(
																r
															);
														if (
															!Cesium.defined(i)
														) {
															var o =
																t.camera.getPickRay(
																	r
																);
															if (
																!Cesium.defined(
																	o
																)
															)
																return;
															if (
																((i =
																	t.scene.globe.pick(
																		o,
																		t.scene
																	)),
																!Cesium.defined(
																	i
																))
															)
																return;
														}
														var a =
															t.positions.length;
														t.leftClickPositions.push(
															i.clone()
														),
															0 == a &&
																(t.positions.push(
																	i.clone()
																),
																(n =
																	t._createPoint(
																		i,
																		-1
																	)),
																t._showRegion2Map()),
															t.positions.push(
																i.clone()
															);
														var s =
															t.positions.length -
															2;
														t._createPoint(i, s),
															t.positions.length;
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											t.drawHandler.setInputAction(
												function (e) {
													var r = e.endPosition;
													if (Cesium.defined(r))
														if (
															t.positions.length <
															1
														)
															t.tooltip.showAt(
																r,
																"<p>选择起点</p>"
															);
														else {
															var i =
																	t.positions
																		.length,
																o =
																	t._getMeasureTip(
																		t.positions
																	);
															(o = o.replace(
																"\n",
																"<br/>"
															)),
																(o +=
																	"<p>点击添加下一个点</p>"),
																i > 3 &&
																	(o +=
																		"<p>右键结束绘制</p>"),
																t.tooltip.showAt(
																	r,
																	o
																);
															var a =
																t.scene.pickPosition(
																	r
																);
															if (
																!Cesium.defined(
																	a
																)
															) {
																var s =
																	t.camera.getPickRay(
																		r
																	);
																if (
																	!Cesium.defined(
																		s
																	)
																)
																	return;
																if (
																	((a =
																		t.scene.globe.pick(
																			s,
																			t.scene
																		)),
																	!Cesium.defined(
																		a
																	))
																)
																	return;
															}
															n.position.setValue(
																a
															),
																t.positions.pop(),
																t.positions.push(
																	a
																);
														}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											),
											t.drawHandler.setInputAction(
												function () {
													t.positions.length < 4 ||
														(t.positions.pop(),
														t.viewer.entities.remove(
															n
														),
														t.tooltip.setVisible(
															!1
														),
														t._drawOk());
												},
												Cesium.ScreenSpaceEventType
													.RIGHT_CLICK
											);
									},
									_startModify: function () {
										var e = this,
											t = !1,
											n = null;
										e.drawHandler &&
											(e.drawHandler.destroy(),
											(e.drawHandler = null)),
											e._showToolBar(),
											(e.modifyHandler =
												new Cesium.ScreenSpaceEventHandler(
													e.canvas
												)),
											e.modifyHandler.setInputAction(
												function (r) {
													var i = r.position;
													if (Cesium.defined(i)) {
														var o =
															e.camera.getPickRay(
																i
															);
														if (Cesium.defined(o)) {
															var a =
																e.scene.globe.pick(
																	o,
																	e.scene
																);
															if (
																Cesium.defined(
																	a
																)
															)
																if (t) {
																	(t = !1),
																		n.position.setValue(
																			a
																		);
																	var s =
																		n.oid;
																	(e.tempPositions[
																		s
																	] = a),
																		e.tooltip.setVisible(
																			!1
																		),
																		"mid_anchor" ==
																			n.flag &&
																			e._updateModifyAnchors(
																				s
																			),
																		e.entity.position.setValue(
																			a
																		);
																	var l =
																		e._getMeasureTip(
																			e.tempPositions
																		);
																	e.entity.label.text =
																		l;
																} else {
																	var u =
																		e.scene.pick(
																			i
																		);
																	if (
																		!Cesium.defined(
																			u
																		)
																	)
																		return;
																	if (
																		!Cesium.defined(
																			u.id
																		)
																	)
																		return;
																	var c =
																		u.id;
																	if (
																		c.layerId !=
																		e.layerId
																	)
																		return;
																	if (
																		"anchor" !=
																			c.flag &&
																		"mid_anchor" !=
																			c.flag
																	)
																		return;
																	(n = c),
																		(t =
																			!0),
																		"anchor" ==
																			c.flag &&
																			e.tooltip.showAt(
																				i,
																				"<p>移动控制点</p>"
																			),
																		"mid_anchor" ==
																			c.flag &&
																			e.tooltip.showAt(
																				i,
																				"<p>移动创建新的控制点</p>"
																			);
																}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.LEFT_CLICK
											),
											e.modifyHandler.setInputAction(
												function (r) {
													if (t) {
														var i = r.endPosition;
														if (Cesium.defined(i)) {
															e.tooltip.showAt(
																i,
																"<p>移动控制点</p>"
															);
															var o =
																e.camera.getPickRay(
																	i
																);
															if (
																Cesium.defined(
																	o
																)
															) {
																var a =
																	e.scene.globe.pick(
																		o,
																		e.scene
																	);
																if (
																	Cesium.defined(
																		a
																	)
																) {
																	var s =
																		n.oid;
																	"anchor" ==
																	n.flag
																		? (n.position.setValue(
																				a
																		  ),
																		  (e.tempPositions[
																				s
																		  ] = a),
																		  e._updateNewMidAnchors(
																				s
																		  ))
																		: "mid_anchor" ==
																				n.flag &&
																		  (n.position.setValue(
																				a
																		  ),
																		  (e.tempPositions[
																				s
																		  ] =
																				a)),
																		e.entity.position.setValue(
																			a
																		);
																	var l =
																		e._getMeasureTip(
																			e.tempPositions
																		);
																	e.entity.label.text =
																		l;
																}
															}
														}
													}
												},
												Cesium.ScreenSpaceEventType
													.MOUSE_MOVE
											);
									},
									_showRegion2Map: function () {
										var e = this;
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#ff0"
												).withAlpha(0.5)),
											null == e.outlineMaterial &&
												(e.outlineMaterial =
													new Cesium.PolylineDashMaterialProperty(
														{
															dashLength: 16,
															color: Cesium.Color.fromCssColorString(
																"#00f"
															).withAlpha(0.7),
														}
													));
										var t = new Cesium.CallbackProperty(
												function () {
													return e.positions.length >
														2
														? new Cesium.PolygonHierarchy(
																e.positions
														  )
														: null;
												},
												!1
											),
											n = new Cesium.CallbackProperty(
												function () {
													if (
														e.positions.length > 1
													) {
														var t = [].concat(
																e.positions
															),
															n = e.positions[0];
														return t.push(n), t;
													}
													return null;
												},
												!1
											),
											r = {
												polygon:
													new Cesium.PolygonGraphics({
														hierarchy: t,
														material: e.material,
														show: e.fill,
														perPositionHeight: !0,
														classificationType:
															Cesium
																.ClassificationType
																.TERRAIN,
													}),
												polyline: {
													positions: n,
													clampToGround: !1,
													width: e.outlineWidth,
													material: e.outlineMaterial,
													show: e.outline,
													classificationType:
														Cesium
															.ClassificationType
															.TERRAIN,
												},
											};
										(e.entity = e.viewer.entities.add(r)),
											(e.entity.layerId = e.layerId);
									},
									_showModifyRegion2Map: function () {
										var e = this;
										e._startModify(),
											e._computeTempPositions();
										var t = new Cesium.CallbackProperty(
												function () {
													return e.positions.length >
														2
														? new Cesium.PolygonHierarchy(
																e.tempPositions
														  )
														: null;
												},
												!1
											),
											n = new Cesium.CallbackProperty(
												function () {
													if (
														e.tempPositions.length >
														1
													) {
														var t = [].concat(
																e.tempPositions
															),
															n =
																e
																	.tempPositions[0];
														return t.push(n), t;
													}
													return null;
												},
												!1
											);
										null == e.material &&
											(e.material =
												Cesium.Color.fromCssColorString(
													"#ff0"
												).withAlpha(0.5)),
											null == e.outlineMaterial &&
												(e.outlineMaterial =
													new Cesium.PolylineDashMaterialProperty(
														{
															dashLength: 16,
															color: Cesium.Color.fromCssColorString(
																"#00f"
															).withAlpha(0.7),
														}
													));
										var r = e.tempPositions.length,
											i = {
												position:
													e.tempPositions[r - 1],
												label: {
													text: e._getMeasureTip(
														e.tempPositions
													),
													font: '16px "微软雅黑", Arial, Helvetica, sans-serif, Helvetica',
													fillColor: Cesium.Color.RED,
													outlineColor:
														Cesium.Color.SKYBLUE,
													outlineWidth: 1,
													style: Cesium.LabelStyle
														.FILL_AND_OUTLINE,
													heightReference:
														Cesium.HeightReference
															.CLAMP_TO_GROUND,
													disableDepthTestDistance:
														Number.POSITIVE_INFINITY,
												},
												polygon:
													new Cesium.PolygonGraphics({
														hierarchy: t,
														material: e.material,
														show: e.fill,
													}),
												polyline: {
													positions: n,
													clampToGround: !0,
													width: e.outlineWidth,
													material: e.outlineMaterial,
													show: e.outline,
												},
											};
										(e.entity = e.viewer.entities.add(i)),
											(e.entity.layerId = e.layerId);
										for (
											var o = e.tempPositions, a = 0;
											a < o.length;
											a++
										)
											0 == a % 2
												? e._createPoint(o[a], a)
												: e._createMidPoint(o[a], a);
									},
									_updateModifyAnchors: function (e) {
										var t = this.tempPositions[e],
											n = null,
											r = null,
											i = this.tempPositions.length;
										0 == e
											? ((n = this.tempPositions[i - 1]),
											  (r = this.tempPositions[e + 1]))
											: e == i - 1
											? ((n = this.tempPositions[e - 1]),
											  (r = this.tempPositions[0]))
											: ((n = this.tempPositions[e - 1]),
											  (r = this.tempPositions[e + 1]));
										var o = this._computeCenterPotition(
												n,
												t
											),
											a = this._computeCenterPotition(
												t,
												r
											);
										this.tempPositions.splice(
											e,
											1,
											o,
											t,
											a
										),
											this._clearAnchors(this.layerId);
										for (
											var s = this.tempPositions, l = 0;
											l < s.length;
											l++
										)
											0 == l % 2
												? this._createPoint(s[l], l)
												: this._createMidPoint(s[l], l);
									},
									_updateNewMidAnchors: function (e) {
										if (null != e && null != e) {
											var t = null,
												n = null,
												r = null,
												i = null,
												o = this.tempPositions.length;
											0 == e
												? ((t = o - 2),
												  (n = o - 1),
												  (r = e + 1),
												  (i = e + 2))
												: e == o - 2
												? ((t = e - 2),
												  (n = e - 1),
												  (r = o - 1),
												  (i = 0))
												: ((t = e - 2),
												  (n = e - 1),
												  (r = e + 1),
												  (i = e + 2));
											var a = this.tempPositions[t],
												s = this.tempPositions[e],
												l = this.tempPositions[i],
												u = this._computeCenterPotition(
													a,
													s
												),
												c = this._computeCenterPotition(
													l,
													s
												);
											(this.tempPositions[n] = u),
												(this.tempPositions[r] = c),
												this.markers[
													n
												].position.setValue(u),
												this.markers[
													r
												].position.setValue(c);
										}
									},
									_createPoint: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIconLight,
											},
										});
										return (
											(n.oid = t),
											(n.layerId = this.layerId),
											(n.flag = "anchor"),
											(this.markers[t] = n),
											n
										);
									},
									_createMidPoint: function (e, t) {
										var n = this.viewer.entities.add({
											position: e,
											billboard: {
												image: this.dragIcon,
												eyeOffset:
													new Cesium.ConstantProperty(
														new Cesium.Cartesian3(
															0,
															0,
															-500
														)
													),
												heightReference:
													Cesium.HeightReference
														.CLAMP_TO_GROUND,
											},
										});
										return (
											(n.oid = t),
											(n.layerId = this.layerId),
											(n.flag = "mid_anchor"),
											(this.markers[t] = n),
											n
										);
									},
									_computeTempPositions: function () {
										var e = [].concat(this.positions),
											t = e.length,
											n = e[0],
											r = e[t - 1];
										0 == this._isSimpleXYZ(n, r) &&
											(e.push(n), (t += 1)),
											(this.tempPositions = []);
										for (var i = 1; i < t; i++) {
											var o = e[i - 1],
												a = e[i],
												s = this._computeCenterPotition(
													o,
													a
												);
											this.tempPositions.push(o),
												this.tempPositions.push(s);
										}
									},
									_computeCenterPotition: function (e, t) {
										var n =
												this.ellipsoid.cartesianToCartographic(
													e
												),
											r =
												this.ellipsoid.cartesianToCartographic(
													t
												),
											i = new Cesium.EllipsoidGeodesic(
												n,
												r
											).interpolateUsingFraction(0.5);
										return this.ellipsoid.cartographicToCartesian(
											i
										);
									},
									_getMeasureTip: function (e) {
										var t = this._computeLineDis3d(e),
											n =
												"周长：" +
												this.getDistanceText(t);
										if (e.length > 2) {
											var r = this._computeArea(e);
											n +=
												"\n 面积：" +
												this.getDistanceText(r, 2);
										}
										return n;
									},
									getDistanceText: function (e) {
										var t =
												arguments.length > 1 &&
												void 0 !== arguments[1]
													? arguments[1]
													: 1,
											n = 1 === t ? 1e3 : 1e6,
											r = arguments[0];
										return r > n
											? (r / n).toFixed(2) +
													(1 === t ? "km" : "km²")
											: r.toFixed(2) +
													(1 === t ? "m" : "m²");
									},
									_computeDis2d: function (e, t) {
										return Cesium.Cartesian2.distance(e, t);
									},
									_computeDis3d: function (e, t) {
										return Cesium.Cartesian3.distance(e, t);
									},
									_computeLineDis2d: function (e) {
										for (
											var t = 0, n = 1;
											n < e.length;
											n++
										) {
											var r = e[n - 1],
												i = e[n];
											t += this._computeDis2d(r, i);
										}
										return t;
									},
									_computeLineDis3d: function (e) {
										for (
											var t = 0, n = 1;
											n < e.length;
											n++
										) {
											var r = e[n - 1],
												i = e[n];
											t += this._computeDis3d(r, i);
										}
										return t;
									},
									_cartesian2LonLat: function (e) {
										var t =
											this.ellipsoid.cartesianToCartographic(
												e
											);
										return {
											lon: Cesium.Math.toDegrees(
												t.longitude
											),
											lat: Cesium.Math.toDegrees(
												t.latitude
											),
											alt: Math.ceil(t.height),
										};
									},
									_computeArea: function (e) {
										for (
											var t = [], n = 0;
											n < e.length;
											n++
										) {
											var r = this._cartesian2LonLat(
												e[n]
											);
											t.push(r);
										}
										return (function (e, t) {
											for (
												var n = 0, r = 0;
												r < e.length - 2;
												r++
											) {
												var i = (r + 1) % e.length,
													o = (r + 2) % e.length,
													a =
														((u = e[r]),
														(h = e[i]),
														(p = e[o]),
														(d = void 0),
														(d =
															c(h, u) - c(h, p)) <
															0 && (d += 360),
														d),
													s = f(t[r], t[i]),
													l = f(t[i], t[o]);
												n +=
													s *
													l *
													Math.abs(Math.sin(a));
											}
											var u, h, p, d;
											return n;
										})(t, e);
									},
									_drawOk: function () {
										if (this.callback) {
											var e = this.leftClickPositions;
											this.clear();
											var t = this._computeLineDis2d(e),
												n = this._computeLineDis3d(e),
												r = this._computeArea(e),
												i = {
													dis2d: (t =
														this.getDistanceText(
															t
														)),
													dis3d: (n =
														this.getDistanceText(
															n
														)),
													area: (r =
														this.getDistanceText(
															r,
															2
														)),
													positions: e,
												};
											this.callback(i);
										}
									},
									_isSimpleXYZ: function (e, t) {
										return (
											e.x == t.x &&
											e.y == t.y &&
											e.z == t.z
										);
									},
									_clearMarkers: function (e) {
										var t = this.viewer,
											n = t.entities.values;
										if (!(null == n || n.length < 1))
											for (var r = 0; r < n.length; r++) {
												var i = n[r];
												i.layerId == e &&
													(t.entities.remove(i), r--);
											}
									},
									_clearAnchors: function () {
										for (var e in this.markers) {
											var t = this.markers[e];
											this.viewer.entities.remove(t);
										}
										this.markers = {};
									},
									CLASS_NAME: "GlobePolygonMeasure",
								});
							var l = Math.PI / 180,
								u = 180 / Math.PI;
							function c(e, t) {
								var n = e.lat * l,
									r = e.lon * l,
									i = t.lat * l,
									o = t.lon * l,
									a = -Math.atan2(
										Math.sin(r - o) * Math.cos(i),
										Math.cos(n) * Math.sin(i) -
											Math.sin(n) *
												Math.cos(i) *
												Math.cos(r - o)
									);
								return a < 0 && (a += 2 * Math.PI), (a *= u);
							}
							function f(e, t) {
								var n = Cesium.Cartographic.fromCartesian(e),
									r = Cesium.Cartographic.fromCartesian(t),
									i = new Cesium.EllipsoidGeodesic();
								i.setEndPoints(n, r);
								var o = i.surfaceDistance;
								return (o = Math.sqrt(
									Math.pow(o, 2) +
										Math.pow(r.height - n.height, 2)
								));
							}
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t() {}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t.getFeatureInfo = function (e) {
									var n = e.tileset,
										r = e.getProperty("name");
									return t.getInfoById(n, r);
								}),
								(t.getInfoById = function (e, t) {
									var n = e.url || e.resource.url,
										r = n.lastIndexOf("/"),
										i = -1 === r ? "." : n.substr(0, r),
										o = ""
											.concat(i, "/ht_info/")
											.concat(t, ".json");
									return Cesium.Resource.fetchJson(o);
								}),
								(t.highLightFeature = function (e, n) {
									var r =
											!(
												arguments.length > 2 &&
												void 0 !== arguments[2]
											) || arguments[2],
										i = e.tileset,
										o = e.getProperty("name");
									t.highlightById(i, o, n, r);
								}),
								(t.highlightById = function (e, t, n) {
									var r =
										!(
											arguments.length > 3 &&
											void 0 !== arguments[3]
										) || arguments[3];
									e.style = new Cesium.Cesium3DTileStyle({
										color: {
											evaluateColor: function (e, i) {
												return Cesium.Color.clone(
													e.getProperty("name") === t
														? n
														: Cesium.Color.WHITE.withAlpha(
																r ? 0.2 : 1
														  ),
													i
												);
											},
										},
									});
								}),
								(t.highlightByIds = function (e, t, n) {
									var r =
											!(
												arguments.length > 3 &&
												void 0 !== arguments[3]
											) || arguments[3],
										i = "";
									e.style = new Cesium.Cesium3DTileStyle({
										color: {
											evaluateColor: function (e, o) {
												return (
													(i = e.getProperty("name")),
													Cesium.Color.clone(
														t.includes(i)
															? n
															: Cesium.Color.WHITE.withAlpha(
																	r ? 0.2 : 1
															  ),
														o
													)
												);
											},
										},
									});
								}),
								(t.clearHighlight = function (e, t) {
									!t || (Array.isArray(t) && 0 === t.length)
										? (e.style =
												new Cesium.Cesium3DTileStyle({
													color: {
														evaluateColor:
															function (e, t) {
																return Cesium.Color.clone(
																	Cesium.Color
																		.WHITE,
																	t
																);
															},
													},
												}))
										: (e.style =
												new Cesium.Cesium3DTileStyle({
													color: {
														evaluateColor:
															function (e, n) {
																return t.indexOf(
																	e.getProperty(
																		"name"
																	)
																) > -1
																	? Cesium.Color.clone(
																			Cesium
																				.Color
																				.WHITE,
																			n
																	  )
																	: n;
															},
													},
												}));
								}),
								(t.getBoundingBox = function (e, t) {
									var n = Cesium.Cartesian3.unpack(t.Min, 0),
										r = Cesium.Cartesian3.unpack(t.Max, 0);
									if (e.properties && e.properties.Offset) {
										var i = Cesium.Cartesian3.unpack(
											e.properties.Offset
										);
										Cesium.Cartesian3.subtract(n, i, n),
											Cesium.Cartesian3.subtract(r, i, r);
									}
									var o,
										a =
											Cesium.OrientedBoundingBox.fromPoints(
												[n, r]
											);
									if (a) {
										var s = a.halfAxes,
											l =
												Cesium.Quaternion.fromRotationMatrix(
													s
												);
										o =
											Cesium.HeadingPitchRoll.fromQuaternion(
												l
											);
									}
									var u,
										c =
											Cesium.BoundingSphere.fromCornerPoints(
												n,
												r
											);
									if (c)
										return (
											Cesium.BoundingSphere.transform(
												c,
												null !==
													(u =
														e.root
															.computedTransform) &&
													void 0 !== u
													? u
													: e.root.transform,
												c
											),
											{ boudingbox: c, hpr: o }
										);
								}),
								(t.getBoundingBoxByFeature = function (e, n) {
									var r = e.tileset;
									return t.getBoundingBox(r, n);
								}),
								(t.getInfoTree = function (e) {
									var t = e.url || e.resource.url,
										n = t.lastIndexOf("/"),
										r = -1 === n ? "." : t.substr(0, n),
										i = "".concat(r, "/ht_struct.json");
									return Cesium.Resource.fetchJson(i);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			n(34), n(26), n(240), n(241), n(242), (e.exports = n(1).WeakSet);
		},
		function (e, t, n) {
			"use strict";
			var r = n(103),
				i = n(36);
			n(61)(
				"WeakSet",
				function (e) {
					return function () {
						return e(
							this,
							arguments.length > 0 ? arguments[0] : void 0
						);
					};
				},
				{
					add: function (e) {
						return r.def(i(this, "WeakSet"), e, !0);
					},
				},
				r,
				!1,
				!0
			);
		},
		function (e, t, n) {
			n(62)("WeakSet");
		},
		function (e, t, n) {
			n(63)("WeakSet");
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.default =
									"\nuniform float mixNum;\nuniform sampler2D colorTexture;\nuniform sampler2D stcshadow;\nuniform sampler2D mapTexture;\nuniform sampler2D depthTexture;\nuniform mat4 _shadowMap_matrix; \nuniform vec4 shadowMap_lightPositionEC; \nuniform vec4 shadowMap_normalOffsetScaleDistanceMaxDistanceAndDarkness; \nuniform vec4 shadowMap_texelSizeDepthBiasAndNormalShadingSmooth; \nuniform int showType;\nuniform vec4 vc_invisibleAreaColor;\nvarying vec2 v_textureCoordinates;\nvec4 toEye(in vec2 uv, in float depth){\n    vec2 xy = vec2((uv.x * 2.0 - 1.0),(uv.y * 2.0 - 1.0));\n    vec4 posInCamera =czm_inverseProjection * vec4(xy, depth, 1.0);\n    posInCamera =posInCamera / posInCamera.w;\n     return posInCamera;\n}\nfloat getDepth(in vec4 depth){\n        float z_window = czm_unpackDepth(depth);\n        z_window = czm_reverseLogDepth(z_window);\n        float n_range = czm_depthRange.near;\n        float f_range = czm_depthRange.far;\n        return (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n}\nfloat _czm_sampleShadowMap(sampler2D shadowMap, vec2 uv){\n   return texture2D(shadowMap, uv).r;\n   }\n   float _czm_shadowDepthCompare(sampler2D shadowMap, vec2 uv, float depth){\n    return step(depth, _czm_sampleShadowMap(shadowMap, uv));\n    }\n    float _czm_shadowVisibility(sampler2D shadowMap, czm_shadowParameters shadowParameters){\n        float depthBias = shadowParameters.depthBias;\n        float depth = shadowParameters.depth;\n        float nDotL = shadowParameters.nDotL;\n        float normalShadingSmooth = shadowParameters.normalShadingSmooth;\n        float darkness = shadowParameters.darkness;\n        vec2 uv = shadowParameters.texCoords;\n        depth -= depthBias;\n        vec2 texelStepSize = shadowParameters.texelStepSize;\n        float radius = 1.0;\n        float dx0 = -texelStepSize.x * radius;\n        float dy0 = -texelStepSize.y * radius;\n        float dx1 = texelStepSize.x * radius;\n        float dy1 = texelStepSize.y * radius;\n        float visibility = ( _czm_shadowDepthCompare(shadowMap, uv, depth)\n        +_czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, dy0), depth) +\n        _czm_shadowDepthCompare(shadowMap, uv + vec2(0.0, dy0), depth) +\n        _czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, dy0), depth) +\n        _czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, 0.0), depth) +\n        _czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, 0.0), depth) +\n        _czm_shadowDepthCompare(shadowMap, uv + vec2(dx0, dy1), depth) +\n        _czm_shadowDepthCompare(shadowMap, uv + vec2(0.0, dy1), depth) +\n        _czm_shadowDepthCompare(shadowMap, uv + vec2(dx1, dy1), depth)\n         ) * (1.0 / 9.0);\n         return visibility;\n         }\n    vec3 pointProjectOnPlane(in vec3 planeNormal, in vec3 planeOrigin, in vec3 point){\n        vec3 v01 = point -planeOrigin;    \n        float d = dot(planeNormal, v01) ;\n        return (point - planeNormal * d);\n        }\n        float ptm(vec3 pt){\n            return sqrt(pt.x*pt.x + pt.y*pt.y + pt.z*pt.z);\n            }\n            void main() {\n                 const float PI = 3.141592653589793;\n                 vec4 color = texture2D(colorTexture, v_textureCoordinates);\n                 vec4 currD = texture2D(depthTexture, v_textureCoordinates);\n                 if(currD.r>=1.0){\n                    gl_FragColor = color;\n                     return;\n                }\n                float depth = getDepth(currD);\n                vec4 positionEC = toEye(v_textureCoordinates, depth);\n                vec3 normalEC = vec3(1.0);\n                czm_shadowParameters shadowParameters; \n                shadowParameters.texelStepSize = shadowMap_texelSizeDepthBiasAndNormalShadingSmooth.xy; \n                shadowParameters.depthBias = shadowMap_texelSizeDepthBiasAndNormalShadingSmooth.z; \n                shadowParameters.normalShadingSmooth = shadowMap_texelSizeDepthBiasAndNormalShadingSmooth.w; \n                shadowParameters.darkness = shadowMap_normalOffsetScaleDistanceMaxDistanceAndDarkness.w; \n                shadowParameters.depthBias *= max(depth * 0.01, 1.0); \n                vec3 directionEC = normalize(positionEC.xyz - shadowMap_lightPositionEC.xyz); \n                float nDotL = clamp(dot(normalEC, -directionEC), 0.0, 1.0);\n                vec4 shadowPosition = _shadowMap_matrix * positionEC; \n                shadowPosition /= shadowPosition.w; \n                if (any(lessThan(shadowPosition.xyz, vec3(0.0))) || any(greaterThan(shadowPosition.xyz, vec3(1.0)))) \n                { \n                   gl_FragColor = color;\n                   return;\n                }\n                shadowParameters.texCoords = shadowPosition.xy; \n                shadowParameters.depth = shadowPosition.z; \n                shadowParameters.nDotL = nDotL; \n                float visibility = _czm_shadowVisibility(stcshadow, shadowParameters); \n                vec4 videoColor = texture2D(mapTexture,shadowPosition.xy);\n                if(visibility==1.0){\n                    gl_FragColor = mix(color,vec4(videoColor.xyz,1.0),mixNum*videoColor.a);\n                }else{\n                    if(abs(shadowPosition.z-0.0)<0.01){\n                        return;\n                    }\n                    if(showType==1){\n                        gl_FragColor = mix(color,vc_invisibleAreaColor,mixNum*videoColor.a);\n                   }else{\n                       gl_FragColor = color;\n                   }\n                }\n            } ");
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r,
				i,
				o,
				a = n(124);
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [
					t,
					n(92),
					n(8),
					n(9),
					n(94),
					n(356),
					n(248),
					n(249),
					n(123),
				]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, s, l, u, c) {
							"use strict";
							var f = n(0);
							function h(e) {
								var t = (function () {
									if ("undefined" == typeof Reflect || !a)
										return !1;
									if (a.sham) return !1;
									if ("function" == typeof Proxy) return !0;
									try {
										return (
											Boolean.prototype.valueOf.call(
												a(Boolean, [], function () {})
											),
											!0
										);
									} catch (e) {
										return !1;
									}
								})();
								return function () {
									var n,
										r = (0, u.default)(e);
									if (t) {
										var i = (0, u.default)(
											this
										).constructor;
										n = a(r, arguments, i);
									} else n = r.apply(this, arguments);
									return (0, l.default)(this, n);
								};
							}
							function p(e, t) {
								!(function (e, t) {
									if (t.has(e))
										throw new TypeError(
											"Cannot initialize the same private elements twice on an object"
										);
								})(e, t),
									t.add(e);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = f(t)),
								(r = f(r)),
								(i = f(i)),
								(o = f(o)),
								(s = f(s)),
								(l = f(l)),
								(u = f(u)),
								(c = f(c));
							var d = new t.default();
							function y(e) {
								var t = this._createVideoEle(e),
									n = this;
								if (t) {
									var r = this.viewer;
									this.activeVideoListener ||
										(this.activeVideoListener =
											function () {
												n.videoTexture &&
													n.videoTexture.destroy(),
													(n.videoTexture =
														new Cesium.Texture({
															context:
																r.scene.context,
															source: t,
															width: 1,
															height: 1,
															pixelFormat:
																Cesium
																	.PixelFormat
																	.RGBA,
															pixelDatatype:
																Cesium
																	.PixelDatatype
																	.UNSIGNED_BYTE,
														}));
											}),
										r.clock.onTick.addEventListener(
											this.activeVideoListener
										);
								}
							}
							var m = (function (e) {
								(0, s.default)(n, e);
								var t = h(n);
								function n(e) {
									var i;
									return (
										(0, r.default)(this, n),
										(e.type = 3),
										(i = t.call(this, e)),
										p((0, o.default)(i), d),
										(i._url = e.url),
										(i.type = 3),
										i
									);
								}
								return (
									(0, i.default)(n, [
										{
											key: "createTexture",
											value: function () {
												return (
													this._videoEle ||
														(function (e, t, n) {
															if (!t.has(e))
																throw new TypeError(
																	"attempted to get private field on non-instance"
																);
															return n;
														})(this, d, y).call(
															this,
															this._url
														),
													this.videoTexture
														? this.videoTexture
														: this.texture
												);
											},
										},
										{
											key: "_createVideoEle",
											value: function (e) {
												this.videoId =
													"visualDomId" +
													Cesium.createGuid();
												var t =
													document.createElement(
														"SOURCE"
													);
												(t.type = "video/mp4"),
													(t.src = e);
												var n =
													document.createElement(
														"SOURCE"
													);
												(n.type = "video/quicktime"),
													(n.src = e);
												var r =
													document.createElement(
														"VIDEO"
													);
												return (
													r.setAttribute(
														"autoplay",
														!0
													),
													r.setAttribute("loop", !0),
													r.setAttribute(
														"crossorigin",
														!0
													),
													r.appendChild(t),
													r.appendChild(n),
													(this._videoEle = r),
													r
												);
											},
										},
									]),
									n
								);
							})(c.default);
							e.default = m;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			n(246), (e.exports = n(1).Reflect.construct);
		},
		function (e, t, n) {
			var r = n(2),
				i = n(49),
				o = n(32),
				a = n(11),
				s = n(3),
				l = n(20),
				u = n(247),
				c = (n(4).Reflect || {}).construct,
				f = l(function () {
					function e() {}
					return !(c(function () {}, [], e) instanceof e);
				}),
				h = !l(function () {
					c(function () {});
				});
			r(r.S + r.F * (f || h), "Reflect", {
				construct: function (e, t) {
					o(e), a(t);
					var n = arguments.length < 3 ? e : o(arguments[2]);
					if (h && !f) return c(e, t, n);
					if (e == n) {
						switch (t.length) {
							case 0:
								return new e();
							case 1:
								return new e(t[0]);
							case 2:
								return new e(t[0], t[1]);
							case 3:
								return new e(t[0], t[1], t[2]);
							case 4:
								return new e(t[0], t[1], t[2], t[3]);
						}
						var r = [null];
						return r.push.apply(r, t), new (u.apply(e, r))();
					}
					var l = n.prototype,
						p = i(s(l) ? l : Object.prototype),
						d = Function.apply.call(e, p, t);
					return s(d) ? d : p;
				},
			});
		},
		function (e, t, n) {
			"use strict";
			var r = n(32),
				i = n(3),
				o = n(109),
				a = [].slice,
				s = {},
				l = function (e, t, n) {
					if (!(t in s)) {
						for (var r = [], i = 0; i < t; i++)
							r[i] = "a[" + i + "]";
						s[t] = Function(
							"F,a",
							"return new F(" + r.join(",") + ")"
						);
					}
					return s[t](e, n);
				};
			e.exports =
				Function.bind ||
				function (e) {
					var t = r(this),
						n = a.call(arguments, 1),
						s = function () {
							var r = n.concat(a.call(arguments));
							return this instanceof s
								? l(t, r.length, r)
								: o(t, r, e);
						};
					return i(t.prototype) && (s.prototype = t.prototype), s;
				};
		},
		function (e, t, n) {
			"use strict";
			n.r(t),
				n.d(t, "default", function () {
					return o;
				});
			var r = n(37),
				i = n(94);
			function o(e, t) {
				if (
					t &&
					("object" === Object(r.default)(t) ||
						"function" == typeof t)
				)
					return t;
				if (void 0 !== t)
					throw new TypeError(
						"Derived constructors may only return object or undefined"
					);
				return Object(i.default)(e);
			}
		},
		function (e, t, n) {
			"use strict";
			n.r(t),
				n.d(t, "default", function () {
					return s;
				});
			var r = n(38),
				i = n.n(r),
				o = n(51),
				a = n.n(o);
			function s(e) {
				return (s = i.a
					? a.a.bind()
					: function (e) {
							return e.__proto__ || a()(e);
					  })(e);
			}
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(8), n(9)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r) {
							"use strict";
							var i = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = i(t)),
								(r = i(r));
							var o = (function () {
								function e(n) {
									if (
										((0, t.default)(this, e),
										(this.lineSegments =
											new Cesium.AssociativeArray()),
										(this.visbleColor = Cesium.defaultValue(
											n.visibleColor,
											Cesium.Color.GREEN
										)),
										(this.invisbleColor =
											Cesium.defaultValue(
												n.invisibleColor,
												Cesium.Color.RED
											)),
										(this.viewer = n.viewer),
										!this.viewer)
									)
										throw new Error("viewer is required");
									(this._viewPoint = void 0),
										(this._lineWidth = Cesium.defaultValue(
											n.lineWidth,
											2.5
										)),
										(this._appearance =
											new Cesium.PolylineColorAppearance(
												{}
											)),
										(this._invisibleAppearance =
											new Cesium.PolylineMaterialAppearance(
												{
													material:
														Cesium.Material.fromType(
															"Color",
															{
																color: this
																	.invisbleColor,
															}
														),
												}
											)),
										(this._depthFailAppearance =
											new Cesium.PolylineMaterialAppearance(
												{
													material:
														Cesium.Material.fromType(
															"PolylineDash",
															{
																Color: this
																	.invisbleColor,
															}
														),
												}
											)),
										(this._lineprimitiveCollection =
											new Cesium.PrimitiveCollection()),
										(this._pointCollection =
											new Cesium.PointPrimitiveCollection()),
										(this._primitiveCollection =
											new Cesium.PrimitiveCollection()),
										this._primitiveCollection.add(
											this._lineprimitiveCollection
										),
										this._primitiveCollection.add(
											this._pointCollection
										),
										this.viewer.scene.primitives.add(
											this._primitiveCollection
										);
								}
								return (
									(0, r.default)(e, [
										{
											key: "viewPoint",
											get: function () {
												return this._viewPoint;
											},
											set: function (e) {
												e &&
												e instanceof Cesium.Cartesian3
													? this.setViewPoint(e)
													: (this._viewPoint = e);
											},
										},
										{
											key: "show",
											get: function () {
												return this._primitiveCollection
													.show;
											},
											set: function (e) {
												this._primitiveCollection.show =
													e;
											},
										},
										{
											key: "targetLength",
											get: function () {
												return this.lineSegments.length;
											},
										},
										{
											key: "setViewPoint",
											value: function (e) {
												var t = this;
												(this._viewPoint &&
													this._viewPoint.equals(
														e
													)) ||
													((this._viewPoint = e),
													this._lineprimitiveCollection.removeAll(),
													this._pointCollection.removeAll(),
													this._pointCollection.add({
														position: e,
														color: this.visbleColor,
													}),
													this.lineSegments.values.forEach(
														function (e) {
															var n =
																	e.targetName,
																r =
																	e.targetPoint;
															t.addViewTarget(
																r,
																n
															);
														}
													));
											},
										},
										{
											key: "addViewTarget",
											value: function (e, t) {
												if (!this._viewPoint || !e)
													throw new Error(
														"viewPoint and targetPoint are required"
													);
												var n = (function (e, t, n) {
														var r =
																arguments.length >
																	3 &&
																void 0 !==
																	arguments[3]
																	? arguments[3]
																	: [],
															i = Cesium,
															o = i.Cartesian3,
															a = i.Ray,
															s = i.defined,
															l = o.normalize(
																o.subtract(
																	t,
																	e,
																	new o()
																),
																new o()
															),
															u = new a(e, l),
															c =
																n.scene.pickFromRay(
																	u,
																	r
																);
														if (
															s(c) &&
															s(c.position)
														) {
															var f = c.position;
															return f;
														}
													})(
														this._viewPoint,
														e,
														this.viewer
													),
													r = { endPoint: e },
													i = [this._viewPoint, e],
													o = [
														this.visbleColor,
														this.visbleColor,
													];
												n &&
													(i.splice(1, 0, n),
													o.splice(
														1,
														0,
														this.invisbleColor
													),
													(r.interpoint = n),
													this._pointCollection.add({
														position: n,
														color: this
															.invisbleColor,
													}));
												var a =
														new Cesium.PolylineGeometry(
															{
																positions: i,
																colors: o,
																width: this
																	._lineWidth,
															}
														),
													s = new Cesium.Primitive({
														geometryInstances:
															new Cesium.GeometryInstance(
																{
																	geometry: a,
																	id: t,
																}
															),
														appearance:
															this._appearance,
														show: !0,
													});
												this._lineprimitiveCollection.add(
													s
												),
													this._pointCollection.add({
														position: e,
														color:
															2 === i.length
																? this
																		.visbleColor
																: this
																		.invisbleColor,
													}),
													this.lineSegments.set(t, {
														line: s,
														targetPoint: e,
														targetName: t,
													});
											},
										},
										{
											key: "removeLineTarget",
											value: function (e) {
												this.lineSegments.contains(e) &&
													(this.lineSegments.get(e)
														.line &&
														this._primitiveCollection.remove(),
													this.lineSegments.remove(
														e
													));
											},
										},
										{
											key: "removeAllLineTargets",
											value: function () {
												this._lineprimitiveCollection.removeAll(),
													this._pointCollection.removeAll(),
													this.lineSegments.removeAll();
											},
										},
										{
											key: "destroy",
											value: function () {
												this.removeAllLineTargets(),
													this.viewer.scene.primitives.remove(
														this
															._primitiveCollection
													);
											},
										},
									]),
									e
								);
							})();
							e.default = o;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(92), n(8), n(9), n(12)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o) {
							"use strict";
							var a = n(0);
							function s(e, t) {
								!(function (e, t) {
									if (t.has(e))
										throw new TypeError(
											"Cannot initialize the same private elements twice on an object"
										);
								})(e, t),
									t.add(e);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = a(t)),
								(r = a(r)),
								(i = a(i));
							var l = new t.default();
							function u() {
								var e = this._viewer.scene.postProcessStages,
									t =
										Cesium.PostProcessStageLibrary.createEdgeDetectionStage();
								t.uniforms.color = this._skyLineColor;
								var n = new Cesium.PostProcessStage({
										fragmentShader:
											"uniform sampler2D colorTexture;uniform sampler2D depthTexture;varying vec2 v_textureCoordinates;void main(void){float depth = czm_readDepth(depthTexture, v_textureCoordinates);vec4 color = texture2D(colorTexture, v_textureCoordinates);if(depth<1.0 - 0.000001){gl_FragColor = color;}else{gl_FragColor = vec4(1.0,0.0,0.0,1.0);}}",
									}),
									r = this,
									i = new Cesium.PostProcessStage({
										fragmentShader:
											"uniform sampler2D colorTexture;uniform sampler2D redTexture;uniform sampler2D silhouetteTexture;uniform vec3 skyLineColor;uniform float lineWidth;varying vec2 v_textureCoordinates;void main(void){vec4 redcolor=texture2D(redTexture, v_textureCoordinates);vec4 silhouetteColor = texture2D(silhouetteTexture, v_textureCoordinates);vec4 color = texture2D(colorTexture, v_textureCoordinates);if(redcolor.r == 1.0){gl_FragColor = mix(color, vec4(skyLineColor,1.0), silhouetteColor.a);}else{\n                float pady = czm_pixelRatio / czm_viewport.w;\n                vec2 next=vec2(v_textureCoordinates.x,v_textureCoordinates.y+pady*lineWidth) ;\n                vec4 nextredcolor=texture2D(redTexture, next);\n                if(nextredcolor.r==1.0){\n                  gl_FragColor = mix(color, vec4(skyLineColor,1.0), 1.0);\n                }\n                else{\n                  gl_FragColor = color;\n                }\n              }}",
										uniforms: {
											redTexture: n.name,
											silhouetteTexture: t.name,
											skyLineColor: function () {
												return r._skyLineColor;
											},
											lineWidth: function () {
												return r._lineWidth;
											},
										},
									});
								this._stageComposite = i;
								var o = new Cesium.PostProcessStageComposite({
									stages: [t, n, i],
									inputPreviousStageTexture: !1,
									uniforms: t.uniforms,
								});
								e.add(o), (this._stageComposite = o);
							}
							var c = (function () {
								function e(t) {
									if (
										((0, r.default)(this, e),
										s(this, l),
										(this._skyLineColor =
											Cesium.defaultValue(
												t.color,
												Cesium.Color.RED
											)),
										(this._lineWidth = Cesium.defaultValue(
											t.lineWidth,
											1
										)),
										(this._viewer = t.viewer),
										!this._viewer)
									)
										throw new Error("viewer is required");
									(function (e, t, n) {
										if (!t.has(e))
											throw new TypeError(
												"attempted to get private field on non-instance"
											);
										return n;
									})(this, l, u).call(this);
								}
								return (
									(0, i.default)(e, [
										{
											key: "skyLineColor",
											get: function () {
												return this._skyLineColor;
											},
											set: function (e) {
												Cesium.defined(e) &&
													e instanceof Cesium.Color &&
													(this._skyLineColor = e);
											},
										},
										{
											key: "lineWidth",
											get: function () {
												return this._lineWidth;
											},
											set: function (e) {
												Cesium.defined(e) &&
													"number" == typeof e &&
													(this._lineWidth = e);
											},
										},
										{
											key: "destroy",
											value: function () {
												this._viewer.scene.postProcessStages.remove(
													this._stageComposite
												);
											},
										},
										{
											key: "printScreen",
											value: function () {
												var e = (0, o.defer)(),
													t = this._viewer.scene,
													n =
														t.postRender.addEventListener(
															function () {
																n();
																try {
																	var t =
																		viewer
																			.scene
																			.canvas;
																	e.resolve(
																		t.toDataURL(
																			"image/png"
																		)
																	);
																} catch (t) {
																	e.reject(t);
																}
															},
															this
														);
												return (
													t.render(
														viewer.clock.currentTime
													),
													e.promise
												);
											},
										},
									]),
									e
								);
							})();
							e.default = c;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			n(15);
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(5), n(82), n(15)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i) {
							"use strict";
							var o = n(0);
							function a(e, n) {
								e &&
									((this._url = e),
									(this._promise =
										"string" == typeof e
											? Cesium.Resource.fetchJson(
													this._url
											  )
											: t.default.resolve(e))),
									n && (this.result = n);
							}
							function s(e) {
								for (
									var t = [], n = [], r = [], i = 0;
									i < e.length - 1;
									i++
								)
									t.push(e[i + 1][0]),
										n.push(l(e[i][1], e[i + 1][1])),
										r.push([e[i][0], e[i + 1][0]]);
								return function (e, i) {
									var o;
									for (
										o = 0;
										o < t.length - 1 && !(e <= t[o]);
										o++
									);
									var a,
										s,
										l,
										u = r[o];
									return n[o](
										((a = e),
										(s = u[0]),
										(l = u[1]),
										((function (e, t, n) {
											return Math.max(t, Math.min(e, n));
										})(a, s, l) -
											s) /
											(l - s)),
										i
									);
								};
							}
							function l(e, t) {
								var n = e[0],
									r = e[1],
									i = e[2],
									o = t[0] - n,
									a = t[1] - r,
									s = t[2] - i;
								return function (e, t) {
									return [
										Math.floor(n + e * o),
										Math.floor(r + e * a),
										Math.floor(i + e * s),
										t,
									];
								};
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = o(t)),
								(r = o(r)),
								(i = o(i)),
								(a.getData = function (e) {
									return new a(e).getData();
								}),
								(a.prototype.getPickData = function (e, t) {
									var n =
											arguments.length > 2 &&
											void 0 !== arguments[2]
												? arguments[2]
												: 1,
										r = this.getUVS(e, t),
										i = h(r, y[n]);
									return i;
								}),
								(a.prototype.getUVS = function (e, t) {
									var n = this.result.lon.indexFor(e),
										r = this.result.lat.indexFor(t),
										i = n[0],
										o = r[0],
										a = n[1],
										s = r[1],
										l = this.result.dimensions.lon,
										u = o * l + i,
										c = this.result.U.array,
										f = this.result.V.array,
										h = u + 1,
										p = u + l,
										d = p + 1,
										y = 1 - a,
										m = 1 - s,
										v = y * m,
										g = a * m,
										_ = y * s,
										b = a * s,
										x =
											c[u] * v +
											c[h] * g +
											c[p] * _ +
											c[d] * b,
										w =
											f[u] * v +
											f[h] * g +
											f[p] * _ +
											f[d] * b;
									return [x, w, Math.sqrt(x * x + w * w)];
								}),
								(a.prototype.getGridFeatures = function (e) {
									for (
										var t = this.result.lon,
											n = this.result.lat,
											i = t.size,
											o = n.size,
											a = [],
											l = [],
											u = [],
											c = {},
											h = new Array(40),
											d = this.result.ws,
											m = this.result.dimensions.lon,
											v = 0;
										v < o;
										v += 1
									)
										for (var g = 0; g < i; g += 1) {
											if (d) {
												var _ = v * m + g,
													b = d.array[_];
												a.push(Number(p(b, y[1]))),
													(c[
														""
															.concat(g, "_")
															.concat(v)
													] = [b]);
											} else {
												var x = this.getUVS(
													t.array[g],
													n.array[v]
												);
												if ((0, r.default)(x[2]))
													continue;
												a.push(Number(p(x[2], y[1]))),
													(c[
														""
															.concat(g, "_")
															.concat(v)
													] = [x[2]]);
											}
											l.push(t.array[g]),
												u.push(n.array[v]);
										}
									var w = s([
											[0, [24, 255, 93]],
											[0.2, [10, 25, 68]],
											[0.45, [10, 25, 250]],
											[0.65, [255, 133, 102]],
											[0.8, [255, 233, 15]],
											[1, [255, 15, 15]],
										]),
										C = 170;
									for (var T in (d && (C = d.max), c))
										if (c.hasOwnProperty(T)) {
											var k = c[T],
												P = k[0];
											0 === P
												? k.push([0, 0, 0, 0])
												: "wind" === e
												? k.push(
														f(
															Math.min(P, 100) /
																100,
															C
														)
												  )
												: "current" === e &&
												  k.push(w(P, 170));
										}
									return {
										values: a,
										lngs: l,
										lats: u,
										breaks: h,
										polygon: [
											[
												[t.min, n.min],
												[t.min, n.max],
												[t.max, n.max],
												[t.max, n.min],
												[t.min, n.min],
											],
										],
										obj: c,
									};
								});
							var u = l(c(1, 0), [255, 255, 255]);
							function c(e, t) {
								var n = (e * d * 5) / 6;
								n *= 0.75;
								var r = Math.sin(n),
									i = Math.cos(n);
								return [
									Math.floor(255 * Math.max(0, -i)),
									Math.floor(255 * Math.max(r, 0)),
									Math.floor(255 * Math.max(i, 0, -r)),
									t,
								];
							}
							function f(e, t) {
								return e <= 0.45
									? c(e / 0.45, t)
									: u((e - 0.45) / 0.55, t);
							}
							function h(e, t) {
								var n = (Math.atan2(-e[0], -e[1]) / d) * 360;
								return (
									(
										5 * Math.round(((n + 360) % 360) / 5)
									).toFixed(0) +
									"° @ " +
									p(e[2], t)
								);
							}
							function p(e, t) {
								return t.conversion(e).toFixed(t.precision);
							}
							var d = 2 * Math.PI,
								y = [
									{
										label: "m/s",
										conversion: function (e) {
											return e;
										},
										precision: 2,
									},
									{
										label: "km/h",
										conversion: function (e) {
											return 3.6 * e;
										},
										precision: 1,
									},
									{
										label: "kn",
										conversion: function (e) {
											return 1.943844 * e;
										},
										precision: 1,
									},
									{
										label: "mph",
										conversion: function (e) {
											return 2.236936 * e;
										},
										precision: 1,
									},
								];
							a.prototype.getData = function () {
								var e = this;
								return this._promise.then(function (t) {
									var n = t.header,
										r = n.dimensions,
										i = n.variables,
										o = { dimensions: {} };
									for (var a in r) {
										var s = m[a];
										if (r.hasOwnProperty(a) && s) {
											var l = r[a],
												u = l.dimension;
											o.dimensions[s] = l.length;
											var c = v((l = i[u]));
											o[s] = c;
										}
									}
									return (
										(o.datetime = i.time.data[0]),
										(o.description = t.header.description),
										(o.U = g(i.u, t.blocks)),
										(o.V = g(i.v, t.blocks)),
										(e.result = o),
										o
									);
								});
							};
							var m = {
								latitude: "lat",
								depth: "lev",
								longitude: "lon",
							};
							function v(e) {
								var t = {};
								if (e.sequence) {
									var n = e.sequence;
									t = (function (e, t, n) {
										for (var r = [], i = 0; i < n; )
											r.push(e + t * i), i++;
										var o = t > 0 ? r[n - 1] : e;
										return {
											array: new Float32Array(r),
											max: o,
											min: t > 0 ? e : r[n - 1],
											size: n,
											indexFor: function (n) {
												var r = (n - e) / t,
													i = Math.abs(Math.floor(r));
												return [i, r - i];
											},
										};
									})(n.start, n.delta, n.size);
								} else
									t = {
										array: e.data,
										min:
											1 === e.data.lenght
												? e.data[0]
												: Math.min.apply(null, e.data),
										max:
											1 === e.data.lenght
												? e.data[0]
												: Math.max.apply(null, e.data),
									};
								return t;
							}
							function g(e, t) {
								var n = t[e.data.block],
									r = 0,
									i = 0;
								return (
									(n = n.map(function (e) {
										var t = "7e37" === e ? null : Number(e);
										return (
											t > i && (i = null != t ? t : i),
											t < r && (r = null != t ? t : r),
											t
										);
									})),
									{
										array: new Float32Array(n),
										min: r,
										max: i,
									}
								);
							}
							function _(e, t, n) {
								for (
									var r = this.colorRgb(e),
										o = r[0],
										a = r[1],
										s = r[2],
										l = this.colorRgb(t),
										u = (l[0] - o) / n,
										c = (l[1] - a) / n,
										f = (l[2] - s) / n,
										h = [],
										p = 0;
									p < n;
									p++
								) {
									var d = this.colorHex(
										"rgb(" +
											(0, i.default)(u * p + o) +
											"," +
											(0, i.default)(c * p + a) +
											"," +
											(0, i.default)(f * p + s) +
											")"
									);
									h.push(d);
								}
								return h;
							}
							(_.prototype.colorRgb = function (e) {
								if (
									(e = e.toLowerCase()) &&
									/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)
								) {
									if (4 === e.length) {
										for (var t = "#", n = 1; n < 4; n += 1)
											t += e
												.slice(n, n + 1)
												.concat(e.slice(n, n + 1));
										e = t;
									}
									for (var r = [], o = 1; o < 7; o += 2)
										r.push(
											(0, i.default)(
												"0x" + e.slice(o, o + 2)
											)
										);
									return r;
								}
								return e;
							}),
								(_.prototype.colorHex = function (e) {
									var t = e;
									if (/^(rgb|RGB)/.test(t)) {
										for (
											var n = t
													.replace(
														/(?:(|)|rgb|RGB)*/g,
														""
													)
													.split(","),
												r = "#",
												i = 0;
											i < n.length;
											i++
										) {
											var o = Number(n[i]).toString(16);
											"0" ===
												(o = o < 10 ? "0" + o : o) &&
												(o += o),
												(r += o);
										}
										return 7 !== r.length && (r = t), r;
									}
									if (
										!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(
											t
										)
									)
										return t;
									var a = t.replace(/#/, "").split("");
									if (6 === a.length) return t;
									if (3 === a.length) {
										for (
											var s = "#", l = 0;
											l < a.length;
											l += 1
										)
											s += a[l] + a[l];
										return s;
									}
								});
							var b = a;
							e.default = b;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [
					t,
					n(83),
					n(28),
					n(27),
					n(125),
					n(5),
					n(85),
					n(8),
					n(9),
					n(43),
					n(257),
					n(298),
				]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (
							e,
							t,
							r,
							i,
							o,
							a,
							s,
							l,
							u,
							c,
							f,
							h
						) {
							"use strict";
							var p = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = p(t)),
								(r = p(r)),
								(i = p(i)),
								(o = p(o)),
								(a = p(a)),
								(s = p(s)),
								(l = p(l)),
								(u = p(u)),
								(c = p(c)),
								(f = p(f)),
								(h = p(h));
							var d = (function () {
								function e() {
									(0, l.default)(this, e);
								}
								var n;
								return (
									(0, u.default)(e, null, [
										{
											key: "initMVTManager",
											value: function (t) {
												if (!t)
													throw new Error(
														"未传入样式文件"
													);
												if (!e.mapboxRenderer)
													return (
														(e.style = t),
														(e.mapboxRenderer =
															new f.default.BasicRenderer(
																{
																	style: e.style,
																}
															)),
														e.mapboxRenderer._style
															.loadedPromise
													);
											},
										},
										{
											key: "createLayer",
											value: function (t, n) {
												var o =
														arguments.length > 2 &&
														void 0 !== arguments[2]
															? arguments[2]
															: {},
													a = !0;
												if (
													(n ||
														(n =
															Cesium.createGuid()),
													e.layerCache[n])
												)
													throw new Error(
														"图层已存在"
													);
												if (!t)
													throw new Error(
														"未传入样式文件"
													);
												var s = e.mapboxRenderer;
												return (
													s ||
														(e.initMVTManager(t),
														(a = !1),
														(s = e.mapboxRenderer)),
													s._style.loadedPromise.then(
														function () {
															if (a) {
																var l =
																		t.sources,
																	u =
																		t.layers;
																for (var c in l)
																	if (
																		Object.hasOwnProperty.call(
																			l,
																			c
																		)
																	) {
																		var f =
																			l[
																				c
																			];
																		(f.layerName =
																			n),
																			s._style.getSource(
																				c
																			) ||
																				(s._style.addSource(
																					c,
																					f
																				),
																				(s._style.stylesheet.sources[
																					c
																				] =
																					f));
																	}
																for (
																	var p = 0;
																	p <
																	u.length;
																	p++
																) {
																	var d =
																		u[p];
																	s._style.getLayer(
																		d.id
																	) ||
																		(s._style.addLayer(
																			d
																		),
																		s._style.stylesheet.layers.push(
																			d
																		));
																}
																s._style.update(
																	new y(16)
																);
															}
															var m =
																	new h.default(
																		{
																			render: s,
																			sources:
																				(0,
																				r.default)(
																					t.sources
																				),
																			layers: t.layers.map(
																				function (
																					e
																				) {
																					return e.id;
																				}
																			),
																		}
																	),
																v =
																	new Cesium.ImageryLayer(
																		m,
																		(0,
																		i.default)(
																			{
																				show: !0,
																			},
																			o
																		)
																	);
															return (
																(v.name = n),
																(e.layerCache[
																	n
																] = v),
																v
															);
														}
													)
												);
											},
										},
										{
											key: "addLayerByProvider",
											value: function (t, n) {
												var r =
														arguments.length > 2 &&
														void 0 !== arguments[2]
															? arguments[2]
															: {},
													o = t.name;
												if (t instanceof h.default) {
													if (!o)
														throw new Error(
															"图层名称不能为空"
														);
													if (e.layerCache[o])
														throw new Error(
															"图层已存在"
														);
													var a =
														null != n
															? n
															: new Cesium.ImageryLayer(
																	t,
																	(0,
																	i.default)(
																		{
																			show: !0,
																		},
																		r
																	)
															  );
													return (
														(a.name = o),
														(e.layerCache[o] = a),
														a
													);
												}
											},
										},
										{
											key: "createProvider",
											value: function (t, n) {
												var i = !0;
												if (
													(n ||
														(n =
															Cesium.createGuid()),
													e.layerCache[n])
												)
													throw new Error(
														"图层已存在"
													);
												var o = e.mapboxRenderer;
												return (
													o ||
														(e.initMVTManager(t),
														(i = !1),
														(o = e.mapboxRenderer)),
													o._style.loadedPromise.then(
														function () {
															if (i) {
																var e =
																		t.sources,
																	a =
																		t.layers;
																for (var s in e)
																	if (
																		Object.hasOwnProperty.call(
																			e,
																			s
																		)
																	) {
																		var l =
																			e[
																				s
																			];
																		(l.layerName =
																			n),
																			o._style.getSource(
																				s
																			) ||
																				(o._style.addSource(
																					s,
																					l
																				),
																				(o._style.stylesheet.sources[
																					s
																				] =
																					l));
																	}
																for (
																	var u = 0;
																	u <
																	a.length;
																	u++
																) {
																	var c =
																		a[u];
																	o._style.getLayer(
																		c.id
																	) ||
																		(o._style.addLayer(
																			c
																		),
																		o._style.stylesheet.layers.push(
																			c
																		));
																}
																o._style.update(
																	new y(16)
																);
															}
															var f =
																new h.default({
																	render: o,
																	sources: (0,
																	r.default)(
																		t.sources
																	),
																	layers: t.layers.map(
																		function (
																			e
																		) {
																			return e.id;
																		}
																	),
																});
															return (
																(f.name = n), f
															);
														}
													)
												);
											},
										},
										{
											key: "removeLayer",
											value:
												((n = (0, s.default)(
													t.default.mark(function n(
														r,
														i
													) {
														var o, a, s, l, u;
														return t.default.wrap(
															function (t) {
																for (;;)
																	switch (
																		(t.prev =
																			t.next)
																	) {
																		case 0:
																			if (
																				e
																					.mapboxRenderer
																					._style
																					._load
																			) {
																				t.next = 3;
																				break;
																			}
																			return (
																				(t.next = 3),
																				e
																					.mapboxRenderer
																					._style
																					.loadedPromise
																			);
																		case 3:
																			if (
																				((o =
																					e.mapboxRenderer),
																				(a =
																					e
																						.layerCache[
																						r
																					]))
																			) {
																				t.next = 7;
																				break;
																			}
																			return t.abrupt(
																				"return",
																				!1
																			);
																		case 7:
																			return (
																				(s =
																					a.imageryProvider),
																				(l =
																					s._layers),
																				(u =
																					s._sources),
																				l.forEach(
																					function (
																						e
																					) {
																						o._style.getLayer(
																							e
																						) &&
																							o._style.removeLayer(
																								e
																							);
																						var t =
																							o._style.stylesheet.layers.findIndex(
																								function (
																									t
																								) {
																									return (
																										t.id ===
																										e
																									);
																								}
																							);
																						o._style.stylesheet.layers.splice(
																							t,
																							1
																						);
																					}
																				),
																				u.forEach(
																					function (
																						e
																					) {
																						var t =
																							o
																								._style
																								.sourceCaches[
																								e
																							];
																						t &&
																							t.invalidateAllLoadedTiles(),
																							delete o
																								._style
																								.sourceCaches[
																								e
																							],
																							delete o
																								._style
																								.stylesheet
																								.sources[
																								e
																							];
																					}
																				),
																				o._style.update(
																					new y(
																						16
																					)
																				),
																				i &&
																					i.imageryLayers.remove(
																						a
																					),
																				delete e
																					.layerCache[
																					r
																				],
																				t.abrupt(
																					"return",
																					!0
																				)
																			);
																		case 14:
																		case "end":
																			return t.stop();
																	}
															},
															n
														);
													})
												)),
												function (e, t) {
													return n.apply(
														this,
														arguments
													);
												}),
										},
										{
											key: "setPaintProperty",
											value: function (t, n, r, i) {
												var o = e.mapboxRenderer,
													a = e.layerCache[t];
												if (!a) return !1;
												var s = a.imageryProvider,
													l = s._layers,
													u = s._sources;
												for (
													i && l.indexOf(i) > -1
														? o.setPaintProperty(
																i,
																n,
																r,
																!1
														  )
														: l.forEach(function (
																e
														  ) {
																o.setPaintProperty(
																	e,
																	n,
																	r,
																	!1
																);
														  }),
														u.forEach(function (e) {
															o._style.sourceCaches[
																e
															].invalidateAllLoadedTiles();
														});
													o._queuedConfigChanges
														.length;

												)
													o._queuedConfigChanges.shift()();
												return (
													o._style.update(new y(16)),
													(a._imageryCache = {}),
													(a.imageryProvider._requestImageList.length = 0),
													a.imageryProvider._reload(),
													!0
												);
											},
										},
										{
											key: "setLayoutProperty",
											value: function (t, n, r, i) {
												var o = e.mapboxRenderer,
													a = e.layerCache[t];
												if (!a) return !1;
												var s = a.imageryProvider,
													l = s._layers,
													u = s._sources;
												for (
													i && l.indexOf(i) > -1
														? o.setLayoutProperty(
																i,
																n,
																r,
																!1
														  )
														: l.forEach(function (
																e
														  ) {
																o.setLayoutProperty(
																	e,
																	n,
																	r,
																	!1
																);
														  }),
														u.forEach(function (e) {
															o._style.sourceCaches[
																e
															].invalidateAllLoadedTiles();
														});
													o._queuedConfigChanges
														.length;

												)
													o._queuedConfigChanges.shift()();
												return (
													o._style.update(new y(16)),
													(a._imageryCache = {}),
													(a.imageryProvider._requestImageList.length = 0),
													a.imageryProvider._reload(),
													!0
												);
											},
										},
										{
											key: "setLayerVisibility",
											value: function (t, n) {
												var r = e.layerCache[t];
												(r.show = n),
													r &&
														e.setLayoutProperty(
															t,
															"visibility",
															n
																? "visible"
																: "none"
														);
											},
										},
										{
											key: "setLayerFilter",
											value: function (t, n, r) {
												var i = e.mapboxRenderer,
													o = e.layerCache[t];
												if (!o) return !1;
												var a = o.imageryProvider,
													s = a._layers,
													l = a._sources;
												for (
													r && s.indexOf(r) > -1
														? i.setFilter(r, n, !1)
														: s.forEach(function (
																e
														  ) {
																i.setFilter(
																	e,
																	n,
																	!1
																);
														  }),
														l.forEach(function (e) {
															i._style.sourceCaches[
																e
															].invalidateAllLoadedTiles();
														});
													i._queuedConfigChanges
														.length;

												)
													i._queuedConfigChanges.shift()();
												return (
													i._style.update(new y(16)),
													(o._imageryCache = {}),
													(o.imageryProvider._requestImageList.length = 0),
													o.imageryProvider._reload(),
													!0
												);
											},
										},
										{
											key: "pickLayerFeatures",
											value: function (t, n, r) {
												var i = (0, o.default)(
													e.layerCache
												).filter(function (e) {
													return e.show;
												});
												if (
													(r &&
														(i = new Array(
															e.layerCache[r]
														)),
													0 != i.length)
												) {
													var s = Cesium.defined,
														l = n.globe.pick(t, n);
													if (s(l)) {
														var u =
																n.globe.ellipsoid.cartesianToCartographic(
																	l
																),
															c = [],
															f = [];
														if (
															((function (
																e,
																t,
																n,
																r
															) {
																for (
																	var i,
																		o =
																			Cesium,
																		a =
																			o.Rectangle,
																		s =
																			o.defined,
																		l =
																			o.Math,
																		u =
																			new a(),
																		c =
																			e
																				.globe
																				._surface
																				._tilesToRender,
																		f = 0;
																	!s(i) &&
																	f <
																		c.length;
																	++f
																) {
																	var h =
																		c[f];
																	a.contains(
																		h.rectangle,
																		t
																	) &&
																		(i = h);
																}
																if (s(i))
																	for (
																		var p =
																				i
																					.data
																					.imagery,
																			d =
																				p.length -
																				1;
																		d >= 0;
																		--d
																	) {
																		var y =
																				p[
																					d
																				],
																			m =
																				y.readyImagery;
																		if (
																			s(m)
																		) {
																			var v =
																				m
																					.imageryLayer
																					.imageryProvider;
																			if (
																				(!n ||
																					s(
																						v.pickFeatures
																					)) &&
																				a.contains(
																					m.rectangle,
																					t
																				)
																			) {
																				var g =
																					u;
																				(g.west =
																					l.lerp(
																						i
																							.rectangle
																							.west,
																						i
																							.rectangle
																							.east,
																						y
																							.textureCoordinateRectangle
																							.x -
																							1 /
																								1024
																					)),
																					(g.east =
																						l.lerp(
																							i
																								.rectangle
																								.west,
																							i
																								.rectangle
																								.east,
																							y
																								.textureCoordinateRectangle
																								.z +
																								1 /
																									1024
																						)),
																					(g.south =
																						l.lerp(
																							i
																								.rectangle
																								.south,
																							i
																								.rectangle
																								.north,
																							y
																								.textureCoordinateRectangle
																								.y -
																								1 /
																									1024
																						)),
																					(g.north =
																						l.lerp(
																							i
																								.rectangle
																								.south,
																							i
																								.rectangle
																								.north,
																							y
																								.textureCoordinateRectangle
																								.w +
																								1 /
																									1024
																						)),
																					a.contains(
																						g,
																						t
																					) &&
																						r(
																							m
																						);
																			}
																		}
																	}
															})(
																n,
																u,
																!0,
																function (e) {
																	var t =
																		e.imageryLayer.imageryProvider.pickFeatures(
																			e.x,
																			e.y,
																			e.level,
																			u.longitude,
																			u.latitude
																		);
																	s(t) &&
																		(c.push(
																			t
																		),
																		f.push(
																			e.imageryLayer
																		));
																}
															),
															0 !== c.length)
														)
															return a.default
																.all(c)
																.then(function (
																	e
																) {
																	for (
																		var t =
																				[],
																			n = 0;
																		n <
																		e.length;
																		++n
																	) {
																		var r =
																				e[
																					n
																				],
																			i =
																				f[
																					n
																				];
																		if (
																			s(
																				r
																			) &&
																			r.length >
																				0
																		)
																			for (
																				var o = 0;
																				o <
																				r.length;
																				++o
																			) {
																				var a =
																					r[
																						o
																					];
																				(a.imageryLayer =
																					i),
																					s(
																						a.position
																					) ||
																						(a.position =
																							u),
																					t.push(
																						a
																					);
																			}
																	}
																	return t;
																});
													}
												}
											},
										},
										{
											key: "containsLayer",
											value: function (t) {
												return (
													void 0 !== e.layerCache[t]
												);
											},
										},
										{
											key: "getLayer",
											value: function (t) {
												return e.layerCache[t];
											},
										},
										{
											key: "getLayerStyle",
											value: function (t) {
												var n = e.layerCache[t];
												if (!n) return null;
												var r = n.imageryProvider,
													i = r._layers,
													o = r._sources,
													a = {
														layers: [],
														sources: {},
													},
													s = e.mapboxRenderer;
												return (
													i.forEach(function (e) {
														var t =
															s._style.stylesheet.layers.findIndex(
																function (t) {
																	return (
																		t.id ===
																		e
																	);
																}
															);
														t > -1 &&
															a.layers.push(
																s._style
																	.stylesheet
																	.layers[t]
															);
													}),
													o.forEach(function (e) {
														var t =
															s._style
																.sourceCaches[
																e
															];
														t &&
															(a.sources[e] =
																t.getSource());
													}),
													a
												);
											},
										},
									]),
									e
								);
							})();
							(0, c.default)(d, "mapboxRenderer", void 0),
								(0, c.default)(d, "style", void 0),
								(0, c.default)(d, "layerCache", {});
							var y = (function () {
									function e(t, n) {
										(0, l.default)(this, e),
											(0, c.default)(
												this,
												"zoom",
												void 0
											),
											(0, c.default)(this, "now", void 0),
											(0, c.default)(
												this,
												"fadeDuration",
												void 0
											),
											(0, c.default)(
												this,
												"zoomHistory",
												void 0
											),
											(0, c.default)(
												this,
												"transition",
												void 0
											),
											(this.zoom = t),
											n
												? ((this.now = n.now),
												  (this.fadeDuration =
														n.fadeDuration),
												  (this.zoomHistory =
														n.zoomHistory),
												  (this.transition =
														n.transition))
												: ((this.now = 0),
												  (this.fadeDuration = 0),
												  (this.zoomHistory = {
														lastZoom: 0,
														lastFloorZoom: 0,
														lastIntegerZoom: 0,
														lastIntegerZoomTime: 0,
														first: !0,
												  }),
												  (this.transition = {}));
									}
									return (
										(0, u.default)(e, [
											{
												key: "crossFadingFactor",
												value: function () {
													return 0 ===
														this.fadeDuration
														? 1
														: Math.min(
																(this.now -
																	this
																		.zoomHistory
																		.lastIntegerZoomTime) /
																	this
																		.fadeDuration,
																1
														  );
												},
											},
										]),
										e
									);
								})(),
								m = d;
							e.default = m;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			n(255), (e.exports = n(1).Object.values);
		},
		function (e, t, n) {
			var r = n(2),
				i = n(256)(!1);
			r(r.S, "Object", {
				values: function (e) {
					return i(e);
				},
			});
		},
		function (e, t, n) {
			var r = n(14),
				i = n(39),
				o = n(22),
				a = n(48).f;
			e.exports = function (e) {
				return function (t) {
					for (
						var n, s = o(t), l = i(s), u = l.length, c = 0, f = [];
						u > c;

					)
						(n = l[c++]),
							(r && !a.call(s, n)) ||
								f.push(e ? [n, s[n]] : s[n]);
					return f;
				};
			};
		},
		function (e, t, n) {
			var r, i, o;
			n(15), n(65);
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [
					n(37),
					n(30),
					n(258),
					n(260),
					n(66),
					n(15),
					n(51),
					n(28),
					n(38),
					n(263),
					n(124),
					n(29),
					n(64),
					n(269),
					n(272),
					n(275),
					n(278),
					n(281),
					n(284),
					n(42),
					n(287),
					n(290),
					n(65),
					n(293),
					n(86),
					n(27),
					n(87),
					n(5),
					n(126),
					n(125),
				]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (
							t,
							r,
							i,
							o,
							a,
							s,
							l,
							u,
							c,
							f,
							h,
							p,
							d,
							y,
							m,
							v,
							g,
							_,
							b,
							x,
							w,
							C,
							T,
							k,
							P,
							E,
							S,
							A,
							M,
							I
						) {
							"use strict";
							var L = n(0);
							(t = L(t)),
								(r = L(r)),
								(i = L(i)),
								(o = L(o)),
								(a = L(a)),
								(s = L(s)),
								(l = L(l)),
								(u = L(u)),
								(c = L(c)),
								(f = L(f)),
								(h = L(h)),
								(p = L(p)),
								(d = L(d)),
								(y = L(y)),
								(m = L(m)),
								(v = L(v)),
								(g = L(g)),
								(_ = L(_)),
								(b = L(b)),
								(x = L(x)),
								(w = L(w)),
								(C = L(C)),
								(T = L(T)),
								(k = L(k)),
								(P = L(P)),
								(E = L(E)),
								(S = L(S)),
								(A = L(A)),
								(M = L(M)),
								(I = L(I)),
								(e.exports = (function (e) {
									var n = {};
									function o(t) {
										if (n[t]) return n[t].exports;
										var r = (n[t] = {
											i: t,
											l: !1,
											exports: {},
										});
										return (
											e[t].call(
												r.exports,
												r,
												r.exports,
												o
											),
											(r.l = !0),
											r.exports
										);
									}
									return (
										(o.m = e),
										(o.c = n),
										(o.d = function (e, t, n) {
											o.o(e, t) ||
												Object.defineProperty(e, t, {
													enumerable: !0,
													get: n,
												});
										}),
										(o.r = function (e) {
											void 0 !== r.default &&
												i.default &&
												Object.defineProperty(
													e,
													i.default,
													{ value: "Module" }
												),
												Object.defineProperty(
													e,
													"__esModule",
													{ value: !0 }
												);
										}),
										(o.t = function (e, n) {
											if ((1 & n && (e = o(e)), 8 & n))
												return e;
											if (
												4 & n &&
												"object" == (0, t.default)(e) &&
												e &&
												e.__esModule
											)
												return e;
											var r = Object.create(null);
											if (
												(o.r(r),
												Object.defineProperty(
													r,
													"default",
													{ enumerable: !0, value: e }
												),
												2 & n && "string" != typeof e)
											)
												for (var i in e)
													o.d(
														r,
														i,
														function (t) {
															return e[t];
														}.bind(null, i)
													);
											return r;
										}),
										(o.n = function (e) {
											var t =
												e && e.__esModule
													? function () {
															return e.default;
													  }
													: function () {
															return e;
													  };
											return o.d(t, "a", t), t;
										}),
										(o.o = function (e, t) {
											return Object.prototype.hasOwnProperty.call(
												e,
												t
											);
										}),
										(o.p = ""),
										o((o.s = 131))
									);
								})([
									function (e, n, i) {
										function l(e) {
											return (l =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										var u = i(73),
											c = i(35);
										i(3),
											(n.easeCubicInOut = function (e) {
												if (e <= 0) return 0;
												if (e >= 1) return 1;
												var t = e * e,
													n = t * e;
												return (
													4 *
													(e < 0.5
														? n
														: 3 * (e - t) +
														  n -
														  0.75)
												);
											}),
											(n.bezier = function (e, t, n, r) {
												var i = new u(e, t, n, r);
												return function (e) {
													return i.solve(e);
												};
											}),
											(n.ease = n.bezier(
												0.25,
												0.1,
												0.25,
												1
											)),
											(n.clamp = function (e, t, n) {
												return Math.min(
													n,
													Math.max(t, e)
												);
											}),
											(n.wrap = function (e, t, n) {
												var r = n - t,
													i =
														((((e - t) % r) + r) %
															r) +
														t;
												return i === t ? n : i;
											}),
											(n.asyncAll = function (e, t, n) {
												if (!e.length)
													return n(null, []);
												var r = e.length,
													i = new Array(e.length),
													o = null;
												e.forEach(function (e, a) {
													t(e, function (e, t) {
														e && (o = e),
															(i[a] = t),
															0 == --r && n(o, i);
													});
												});
											}),
											(n.values = function (e) {
												var t = [];
												for (var n in e) t.push(e[n]);
												return t;
											}),
											(n.keysDifference = function (
												e,
												t
											) {
												var n = [];
												for (var r in e)
													r in t || n.push(r);
												return n;
											}),
											(n.extend = function (e) {
												for (
													var t = arguments.length,
														n = new Array(
															t > 1 ? t - 1 : 0
														),
														r = 1;
													r < t;
													r++
												)
													n[r - 1] = arguments[r];
												for (
													var i = 0, o = n;
													i < o.length;
													i++
												) {
													var a = o[i];
													for (var s in a)
														e[s] = a[s];
												}
												return e;
											}),
											(n.pick = function (e, t) {
												for (
													var n = {}, r = 0;
													r < t.length;
													r++
												) {
													var i = t[r];
													i in e && (n[i] = e[i]);
												}
												return n;
											});
										var f = 1;
										(n.uniqueId = function () {
											return f++;
										}),
											(n.bindAll = function (e, t) {
												e.forEach(function (e) {
													t[e] &&
														(t[e] = t[e].bind(t));
												});
											}),
											(n.getCoordinatesCenter = function (
												e
											) {
												for (
													var t = 1 / 0,
														n = 1 / 0,
														r = -1 / 0,
														i = -1 / 0,
														o = 0;
													o < e.length;
													o++
												)
													(t = Math.min(
														t,
														e[o].column
													)),
														(n = Math.min(
															n,
															e[o].row
														)),
														(r = Math.max(
															r,
															e[o].column
														)),
														(i = Math.max(
															i,
															e[o].row
														));
												var a = r - t,
													s = i - n,
													l = Math.max(a, s),
													u = Math.max(
														0,
														Math.floor(
															-Math.log(l) /
																Math.LN2
														)
													);
												return new c(
													(t + r) / 2,
													(n + i) / 2,
													0
												).zoomTo(u);
											}),
											(n.endsWith = function (e, t) {
												return (
													-1 !==
													e.indexOf(
														t,
														e.length - t.length
													)
												);
											}),
											(n.mapObject = function (e, t, n) {
												var r = {};
												for (var i in e)
													r[i] = t.call(
														n || this,
														e[i],
														i,
														e
													);
												return r;
											}),
											(n.filterObject = function (
												e,
												t,
												n
											) {
												var r = {};
												for (var i in e)
													t.call(
														n || this,
														e[i],
														i,
														e
													) && (r[i] = e[i]);
												return r;
											}),
											(n.deepEqual = i(74)),
											(n.clone = function (e) {
												return Array.isArray(e)
													? e.map(n.clone)
													: "object" === l(e) && e
													? n.mapObject(e, n.clone)
													: e;
											}),
											(n.arraysIntersect = function (
												e,
												t
											) {
												for (
													var n = 0;
													n < e.length;
													n++
												)
													if (t.indexOf(e[n]) >= 0)
														return !0;
												return !1;
											});
										var h = {};
										(n.warnOnce = function (e) {
											h[e] ||
												("undefined" !=
													typeof console &&
													console.warn(e),
												(h[e] = !0));
										}),
											(n.isCounterClockwise = function (
												e,
												t,
												n
											) {
												return (
													(n.y - e.y) * (t.x - e.x) >
													(t.y - e.y) * (n.x - e.x)
												);
											}),
											(n.calculateSignedArea = function (
												e
											) {
												for (
													var t,
														n,
														r = 0,
														i = 0,
														o = e.length,
														a = o - 1;
													i < o;
													a = i++
												)
													(t = e[i]),
														(r +=
															((n = e[a]).x -
																t.x) *
															(t.y + n.y));
												return r;
											}),
											(n.isClosedPolygon = function (e) {
												if (e.length < 4) return !1;
												var t = e[0],
													r = e[e.length - 1];
												return (
													!(
														Math.abs(t.x - r.x) >
															0 ||
														Math.abs(t.y - r.y) > 0
													) &&
													Math.abs(
														n.calculateSignedArea(e)
													) > 0.01
												);
											}),
											(n.sphericalToCartesian = function (
												e
											) {
												var t = (function (e, t) {
														return (
															(function (e) {
																if (
																	Array.isArray(
																		e
																	)
																)
																	return e;
															})(e) ||
															(function (e, t) {
																var n = [],
																	r = !0,
																	i = !1,
																	a = void 0;
																try {
																	for (
																		var s,
																			l =
																				(0,
																				o.default)(
																					e
																				);
																		!(r =
																			(s =
																				l.next())
																				.done) &&
																		(n.push(
																			s.value
																		),
																		!t ||
																			n.length !==
																				t);
																		r = !0
																	);
																} catch (e) {
																	(i = !0),
																		(a = e);
																} finally {
																	try {
																		r ||
																			null ==
																				l.return ||
																			l.return();
																	} finally {
																		if (i)
																			throw a;
																	}
																}
																return n;
															})(e, t) ||
															(function () {
																throw new TypeError(
																	"Invalid attempt to destructure non-iterable instance"
																);
															})()
														);
													})(e, 3),
													n = t[0],
													r = t[1],
													i = t[2];
												return (
													(r += 90),
													(r *= Math.PI / 180),
													(i *= Math.PI / 180),
													{
														x:
															n *
															Math.cos(r) *
															Math.sin(i),
														y:
															n *
															Math.sin(r) *
															Math.sin(i),
														z: n * Math.cos(i),
													}
												);
											}),
											(n.parseCacheControl = function (
												e
											) {
												var t = {};
												if (
													(e.replace(
														/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,
														function (e, n, r, i) {
															var o = r || i;
															return (
																(t[n] =
																	!o ||
																	o.toLowerCase()),
																""
															);
														}
													),
													t["max-age"])
												) {
													var n = (0, s.default)(
														t["max-age"],
														10
													);
													isNaN(n)
														? delete t["max-age"]
														: (t["max-age"] = n);
												}
												return t;
											});
									},
									function (e, n, r) {
										(function (n) {
											var i = r(135);
											/*!
											 * The buffer module from node.js, for the browser.
											 *
											 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
											 * @license  MIT
											 */ function o(e, t) {
												if (e === t) return 0;
												for (
													var n = e.length,
														r = t.length,
														i = 0,
														o = Math.min(n, r);
													i < o;
													++i
												)
													if (e[i] !== t[i]) {
														(n = e[i]), (r = t[i]);
														break;
													}
												return n < r
													? -1
													: r < n
													? 1
													: 0;
											}
											function a(e) {
												return n.Buffer &&
													"function" ==
														typeof n.Buffer.isBuffer
													? n.Buffer.isBuffer(e)
													: !(
															null == e ||
															!e._isBuffer
													  );
											}
											var s = r(136),
												c =
													Object.prototype
														.hasOwnProperty,
												f = Array.prototype.slice,
												h =
													"foo" ===
													function () {}.name;
											function p(e) {
												return Object.prototype.toString.call(
													e
												);
											}
											function d(e) {
												return (
													!a(e) &&
													"function" ==
														typeof n.ArrayBuffer &&
													("function" ==
													typeof ArrayBuffer.isView
														? ArrayBuffer.isView(e)
														: !!e &&
														  (e instanceof
																DataView ||
																!!(
																	e.buffer &&
																	e.buffer instanceof
																		ArrayBuffer
																)))
												);
											}
											var y = (e.exports = x),
												m =
													/\s*function\s+([^\(\s]*)\s*/;
											function v(e) {
												if (s.isFunction(e)) {
													if (h) return e.name;
													var t = e
														.toString()
														.match(m);
													return t && t[1];
												}
											}
											function g(e, t) {
												return "string" == typeof e
													? e.length < t
														? e
														: e.slice(0, t)
													: e;
											}
											function _(e) {
												if (h || !s.isFunction(e))
													return s.inspect(e);
												var t = v(e);
												return (
													"[Function" +
													(t ? ": " + t : "") +
													"]"
												);
											}
											function b(e, t, n, r, i) {
												throw new y.AssertionError({
													message: n,
													actual: e,
													expected: t,
													operator: r,
													stackStartFunction: i,
												});
											}
											function x(e, t) {
												e || b(e, !0, t, "==", y.ok);
											}
											function w(e, n, r, i) {
												if (e === n) return !0;
												if (a(e) && a(n))
													return 0 === o(e, n);
												if (s.isDate(e) && s.isDate(n))
													return (
														e.getTime() ===
														n.getTime()
													);
												if (
													s.isRegExp(e) &&
													s.isRegExp(n)
												)
													return (
														e.source === n.source &&
														e.global === n.global &&
														e.multiline ===
															n.multiline &&
														e.lastIndex ===
															n.lastIndex &&
														e.ignoreCase ===
															n.ignoreCase
													);
												if (
													(null !== e &&
														"object" ==
															(0, t.default)(
																e
															)) ||
													(null !== n &&
														"object" ==
															(0, t.default)(n))
												) {
													if (
														d(e) &&
														d(n) &&
														p(e) === p(n) &&
														!(
															e instanceof
																Float32Array ||
															e instanceof
																Float64Array
														)
													)
														return (
															0 ===
															o(
																new Uint8Array(
																	e.buffer
																),
																new Uint8Array(
																	n.buffer
																)
															)
														);
													if (a(e) !== a(n))
														return !1;
													var u = (i = i || {
														actual: [],
														expected: [],
													}).actual.indexOf(e);
													return (
														(-1 !== u &&
															u ===
																i.expected.indexOf(
																	n
																)) ||
														(i.actual.push(e),
														i.expected.push(n),
														(function (e, t, n, r) {
															if (
																null == e ||
																null == t
															)
																return !1;
															if (
																s.isPrimitive(
																	e
																) ||
																s.isPrimitive(t)
															)
																return e === t;
															if (
																n &&
																(0, l.default)(
																	e
																) !==
																	(0,
																	l.default)(
																		t
																	)
															)
																return !1;
															var i = C(e),
																o = C(t);
															if (
																(i && !o) ||
																(!i && o)
															)
																return !1;
															if (i)
																return w(
																	(e =
																		f.call(
																			e
																		)),
																	(t =
																		f.call(
																			t
																		)),
																	n
																);
															var a,
																u,
																c = P(e),
																h = P(t);
															if (
																c.length !==
																h.length
															)
																return !1;
															for (
																c.sort(),
																	h.sort(),
																	u =
																		c.length -
																		1;
																u >= 0;
																u--
															)
																if (
																	c[u] !==
																	h[u]
																)
																	return !1;
															for (
																u =
																	c.length -
																	1;
																u >= 0;
																u--
															)
																if (
																	!w(
																		e[
																			(a =
																				c[
																					u
																				])
																		],
																		t[a],
																		n,
																		r
																	)
																)
																	return !1;
															return !0;
														})(e, n, r, i))
													);
												}
												return r ? e === n : e == n;
											}
											function C(e) {
												return (
													"[object Arguments]" ==
													Object.prototype.toString.call(
														e
													)
												);
											}
											function T(e, t) {
												if (!e || !t) return !1;
												if (
													"[object RegExp]" ==
													Object.prototype.toString.call(
														t
													)
												)
													return t.test(e);
												try {
													if (e instanceof t)
														return !0;
												} catch (e) {}
												return (
													!Error.isPrototypeOf(t) &&
													!0 === t.call({}, e)
												);
											}
											function k(e, t, n, r) {
												var i;
												if ("function" != typeof t)
													throw new TypeError(
														'"block" argument must be a function'
													);
												"string" == typeof n &&
													((r = n), (n = null)),
													(i = (function (e) {
														var t;
														try {
															e();
														} catch (e) {
															t = e;
														}
														return t;
													})(t)),
													(r =
														(n && n.name
															? " (" +
															  n.name +
															  ")."
															: ".") +
														(r ? " " + r : ".")),
													e &&
														!i &&
														b(
															i,
															n,
															"Missing expected exception" +
																r
														);
												var o = "string" == typeof r,
													a = !e && i && !n;
												if (
													(((!e &&
														s.isError(i) &&
														o &&
														T(i, n)) ||
														a) &&
														b(
															i,
															n,
															"Got unwanted exception" +
																r
														),
													(e && i && n && !T(i, n)) ||
														(!e && i))
												)
													throw i;
											}
											(y.AssertionError = function (e) {
												(this.name = "AssertionError"),
													(this.actual = e.actual),
													(this.expected =
														e.expected),
													(this.operator =
														e.operator),
													e.message
														? ((this.message =
																e.message),
														  (this.generatedMessage =
																!1))
														: ((this.message =
																(function (e) {
																	return (
																		g(
																			_(
																				e.actual
																			),
																			128
																		) +
																		" " +
																		e.operator +
																		" " +
																		g(
																			_(
																				e.expected
																			),
																			128
																		)
																	);
																})(this)),
														  (this.generatedMessage =
																!0));
												var t =
													e.stackStartFunction || b;
												if (Error.captureStackTrace)
													Error.captureStackTrace(
														this,
														t
													);
												else {
													var n = new Error();
													if (n.stack) {
														var r = n.stack,
															i = v(t),
															o = r.indexOf(
																"\n" + i
															);
														if (o >= 0) {
															var a = r.indexOf(
																"\n",
																o + 1
															);
															r = r.substring(
																a + 1
															);
														}
														this.stack = r;
													}
												}
											}),
												s.inherits(
													y.AssertionError,
													Error
												),
												(y.fail = b),
												(y.ok = x),
												(y.equal = function (e, t, n) {
													e != t &&
														b(
															e,
															t,
															n,
															"==",
															y.equal
														);
												}),
												(y.notEqual = function (
													e,
													t,
													n
												) {
													e == t &&
														b(
															e,
															t,
															n,
															"!=",
															y.notEqual
														);
												}),
												(y.deepEqual = function (
													e,
													t,
													n
												) {
													w(e, t, !1) ||
														b(
															e,
															t,
															n,
															"deepEqual",
															y.deepEqual
														);
												}),
												(y.deepStrictEqual = function (
													e,
													t,
													n
												) {
													w(e, t, !0) ||
														b(
															e,
															t,
															n,
															"deepStrictEqual",
															y.deepStrictEqual
														);
												}),
												(y.notDeepEqual = function (
													e,
													t,
													n
												) {
													w(e, t, !1) &&
														b(
															e,
															t,
															n,
															"notDeepEqual",
															y.notDeepEqual
														);
												}),
												(y.notDeepStrictEqual =
													function e(t, n, r) {
														w(t, n, !0) &&
															b(
																t,
																n,
																r,
																"notDeepStrictEqual",
																e
															);
													}),
												(y.strictEqual = function (
													e,
													t,
													n
												) {
													e !== t &&
														b(
															e,
															t,
															n,
															"===",
															y.strictEqual
														);
												}),
												(y.notStrictEqual = function (
													e,
													t,
													n
												) {
													e === t &&
														b(
															e,
															t,
															n,
															"!==",
															y.notStrictEqual
														);
												}),
												(y.throws = function (e, t, n) {
													k(!0, e, t, n);
												}),
												(y.doesNotThrow = function (
													e,
													t,
													n
												) {
													k(!1, e, t, n);
												}),
												(y.ifError = function (e) {
													if (e) throw e;
												}),
												(y.strict = i(
													function e(t, n) {
														t ||
															b(
																t,
																!0,
																n,
																"==",
																e
															);
													},
													y,
													{
														equal: y.strictEqual,
														deepEqual:
															y.deepStrictEqual,
														notEqual:
															y.notStrictEqual,
														notDeepEqual:
															y.notDeepStrictEqual,
													}
												)),
												(y.strict.strict = y.strict);
											var P =
												u.default ||
												function (e) {
													var t = [];
													for (var n in e)
														c.call(e, n) &&
															t.push(n);
													return t;
												};
										}.call(this, r(134)));
									},
									function (e, t, n) {
										var r = n(5),
											i =
												r.performance &&
												r.performance.now
													? r.performance.now.bind(
															r.performance
													  )
													: Date.now.bind(Date),
											o =
												r.requestAnimationFrame ||
												r.mozRequestAnimationFrame ||
												r.webkitRequestAnimationFrame ||
												r.msRequestAnimationFrame,
											a =
												r.cancelAnimationFrame ||
												r.mozCancelAnimationFrame ||
												r.webkitCancelAnimationFrame ||
												r.msCancelAnimationFrame;
										e.exports = {
											now: i,
											frame: function (e) {
												return o(e);
											},
											cancelFrame: function (e) {
												return a(e);
											},
											getImageData: function (e) {
												var t =
														r.document.createElement(
															"canvas"
														),
													n = t.getContext("2d");
												if (!n)
													throw new Error(
														"failed to create canvas 2d context"
													);
												return (
													(t.width = e.width),
													(t.height = e.height),
													n.drawImage(
														e,
														0,
														0,
														e.width,
														e.height
													),
													n.getImageData(
														0,
														0,
														e.width,
														e.height
													)
												);
											},
											hardwareConcurrency:
												r.navigator
													.hardwareConcurrency || 4,
											get devicePixelRatio() {
												return r.devicePixelRatio;
											},
											supportsWebp: !1,
										};
										var s = r.document.createElement("img");
										(s.onload = function () {
											e.exports.supportsWebp = !0;
										}),
											(s.src =
												"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");
									},
									function (e, t, n) {
										function r(e, t) {
											(this.x = e), (this.y = t);
										}
										(e.exports = r),
											(r.prototype = {
												clone: function () {
													return new r(
														this.x,
														this.y
													);
												},
												add: function (e) {
													return this.clone()._add(e);
												},
												sub: function (e) {
													return this.clone()._sub(e);
												},
												multByPoint: function (e) {
													return this.clone()._multByPoint(
														e
													);
												},
												divByPoint: function (e) {
													return this.clone()._divByPoint(
														e
													);
												},
												mult: function (e) {
													return this.clone()._mult(
														e
													);
												},
												div: function (e) {
													return this.clone()._div(e);
												},
												rotate: function (e) {
													return this.clone()._rotate(
														e
													);
												},
												rotateAround: function (e, t) {
													return this.clone()._rotateAround(
														e,
														t
													);
												},
												matMult: function (e) {
													return this.clone()._matMult(
														e
													);
												},
												unit: function () {
													return this.clone()._unit();
												},
												perp: function () {
													return this.clone()._perp();
												},
												round: function () {
													return this.clone()._round();
												},
												mag: function () {
													return Math.sqrt(
														this.x * this.x +
															this.y * this.y
													);
												},
												equals: function (e) {
													return (
														this.x === e.x &&
														this.y === e.y
													);
												},
												dist: function (e) {
													return Math.sqrt(
														this.distSqr(e)
													);
												},
												distSqr: function (e) {
													var t = e.x - this.x,
														n = e.y - this.y;
													return t * t + n * n;
												},
												angle: function () {
													return Math.atan2(
														this.y,
														this.x
													);
												},
												angleTo: function (e) {
													return Math.atan2(
														this.y - e.y,
														this.x - e.x
													);
												},
												angleWith: function (e) {
													return this.angleWithSep(
														e.x,
														e.y
													);
												},
												angleWithSep: function (e, t) {
													return Math.atan2(
														this.x * t - this.y * e,
														this.x * e + this.y * t
													);
												},
												_matMult: function (e) {
													var t =
															e[0] * this.x +
															e[1] * this.y,
														n =
															e[2] * this.x +
															e[3] * this.y;
													return (
														(this.x = t),
														(this.y = n),
														this
													);
												},
												_add: function (e) {
													return (
														(this.x += e.x),
														(this.y += e.y),
														this
													);
												},
												_sub: function (e) {
													return (
														(this.x -= e.x),
														(this.y -= e.y),
														this
													);
												},
												_mult: function (e) {
													return (
														(this.x *= e),
														(this.y *= e),
														this
													);
												},
												_div: function (e) {
													return (
														(this.x /= e),
														(this.y /= e),
														this
													);
												},
												_multByPoint: function (e) {
													return (
														(this.x *= e.x),
														(this.y *= e.y),
														this
													);
												},
												_divByPoint: function (e) {
													return (
														(this.x /= e.x),
														(this.y /= e.y),
														this
													);
												},
												_unit: function () {
													return (
														this._div(this.mag()),
														this
													);
												},
												_perp: function () {
													var e = this.y;
													return (
														(this.y = this.x),
														(this.x = -e),
														this
													);
												},
												_rotate: function (e) {
													var t = Math.cos(e),
														n = Math.sin(e),
														r =
															t * this.x -
															n * this.y,
														i =
															n * this.x +
															t * this.y;
													return (
														(this.x = r),
														(this.y = i),
														this
													);
												},
												_rotateAround: function (e, t) {
													var n = Math.cos(e),
														r = Math.sin(e),
														i =
															t.x +
															n * (this.x - t.x) -
															r * (this.y - t.y),
														o =
															t.y +
															r * (this.x - t.x) +
															n * (this.y - t.y);
													return (
														(this.x = i),
														(this.y = o),
														this
													);
												},
												_round: function () {
													return (
														(this.x = Math.round(
															this.x
														)),
														(this.y = Math.round(
															this.y
														)),
														this
													);
												},
											}),
											(r.convert = function (e) {
												return e instanceof r
													? e
													: Array.isArray(e)
													? new r(e[0], e[1])
													: e;
											});
									},
									function (e, t, n) {
										function r(e, t) {
											if (!(e instanceof t))
												throw new TypeError(
													"Cannot call a class as a function"
												);
										}
										function i(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function o(e, t, n) {
											return (
												t && i(e.prototype, t),
												n && i(e, n),
												e
											);
										}
										var a = n(1),
											s = n(0),
											l = s.clone,
											c = s.extend,
											f = s.easeCubicInOut,
											h = n(26),
											p =
												n(
													30
												).normalizePropertyExpression,
											d = (n(12), n(11).register),
											y = (function () {
												function e(t, n) {
													r(this, e),
														(this.property = t),
														(this.value = n),
														(this.expression = p(
															void 0 === n
																? t
																		.specification
																		.default
																: n,
															t.specification
														));
												}
												return (
													o(e, [
														{
															key: "isDataDriven",
															value: function () {
																return (
																	"source" ===
																		this
																			.expression
																			.kind ||
																	"composite" ===
																		this
																			.expression
																			.kind
																);
															},
														},
														{
															key: "possiblyEvaluate",
															value: function (
																e
															) {
																return this.property.possiblyEvaluate(
																	this,
																	e
																);
															},
														},
													]),
													e
												);
											})(),
											m = (function () {
												function e(t) {
													r(this, e),
														(this.property = t),
														(this.value = new y(
															t,
															void 0
														));
												}
												return (
													o(e, [
														{
															key: "transitioned",
															value: function (
																e,
																t
															) {
																return new g(
																	this.property,
																	this.value,
																	t,
																	c(
																		{},
																		e.transition,
																		this
																			.transition
																	),
																	e.now
																);
															},
														},
														{
															key: "untransitioned",
															value: function () {
																return new g(
																	this.property,
																	this.value,
																	null,
																	{},
																	0
																);
															},
														},
													]),
													e
												);
											})(),
											v = (function () {
												function e(t) {
													r(this, e),
														(this._properties = t),
														(this._values =
															Object.create(
																t.defaultTransitionablePropertyValues
															));
												}
												return (
													o(e, [
														{
															key: "getValue",
															value: function (
																e
															) {
																return l(
																	this
																		._values[
																		e
																	].value
																		.value
																);
															},
														},
														{
															key: "setValue",
															value: function (
																e,
																t
															) {
																this._values.hasOwnProperty(
																	e
																) ||
																	(this._values[
																		e
																	] = new m(
																		this._values[
																			e
																		].property
																	)),
																	(this._values[
																		e
																	].value = new y(
																		this._values[
																			e
																		].property,
																		null ===
																		t
																			? void 0
																			: l(
																					t
																			  )
																	));
															},
														},
														{
															key: "getTransition",
															value: function (
																e
															) {
																return l(
																	this
																		._values[
																		e
																	].transition
																);
															},
														},
														{
															key: "setTransition",
															value: function (
																e,
																t
															) {
																this._values.hasOwnProperty(
																	e
																) ||
																	(this._values[
																		e
																	] = new m(
																		this._values[
																			e
																		].property
																	)),
																	(this._values[
																		e
																	].transition =
																		l(t) ||
																		void 0);
															},
														},
														{
															key: "serialize",
															value: function () {
																for (
																	var e = {},
																		t = 0,
																		n = (0,
																		u.default)(
																			this
																				._values
																		);
																	t <
																	n.length;
																	t++
																) {
																	var r =
																			n[
																				t
																			],
																		i =
																			this.getValue(
																				r
																			);
																	void 0 !==
																		i &&
																		(e[r] =
																			i);
																	var o =
																		this.getTransition(
																			r
																		);
																	void 0 !==
																		o &&
																		(e[
																			"".concat(
																				r,
																				"-transition"
																			)
																		] = o);
																}
																return e;
															},
														},
														{
															key: "transitioned",
															value: function (
																e,
																t
															) {
																for (
																	var n =
																			new _(
																				this._properties
																			),
																		r = 0,
																		i = (0,
																		u.default)(
																			this
																				._values
																		);
																	r <
																	i.length;
																	r++
																) {
																	var o =
																		i[r];
																	n._values[
																		o
																	] = this._values[
																		o
																	].transitioned(
																		e,
																		t
																			._values[
																			o
																		]
																	);
																}
																return n;
															},
														},
														{
															key: "untransitioned",
															value: function () {
																for (
																	var e =
																			new _(
																				this._properties
																			),
																		t = 0,
																		n = (0,
																		u.default)(
																			this
																				._values
																		);
																	t <
																	n.length;
																	t++
																) {
																	var r =
																		n[t];
																	e._values[
																		r
																	] =
																		this._values[
																			r
																		].untransitioned();
																}
																return e;
															},
														},
													]),
													e
												);
											})(),
											g = (function () {
												function e(t, n, i, o, a) {
													r(this, e),
														(this.property = t),
														(this.value = n),
														(this.begin =
															a + o.delay || 0),
														(this.end =
															this.begin +
																o.duration ||
															0),
														t.specification
															.transition &&
															(o.delay ||
																o.duration) &&
															(this.prior = i);
												}
												return (
													o(e, [
														{
															key: "possiblyEvaluate",
															value: function (
																e
															) {
																var t =
																		e.now ||
																		0,
																	n =
																		this.value.possiblyEvaluate(
																			e
																		),
																	r =
																		this
																			.prior;
																if (r) {
																	if (
																		t >
																		this.end
																	)
																		return (
																			(this.prior =
																				null),
																			n
																		);
																	if (
																		this.value.isDataDriven()
																	)
																		return (
																			(this.prior =
																				null),
																			n
																		);
																	if (
																		t <
																		this
																			.begin
																	)
																		return r.possiblyEvaluate(
																			e
																		);
																	var i =
																		(t -
																			this
																				.begin) /
																		(this
																			.end -
																			this
																				.begin);
																	return this.property.interpolate(
																		r.possiblyEvaluate(
																			e
																		),
																		n,
																		f(i)
																	);
																}
																return n;
															},
														},
													]),
													e
												);
											})(),
											_ = (function () {
												function e(t) {
													r(this, e),
														(this._properties = t),
														(this._values =
															Object.create(
																t.defaultTransitioningPropertyValues
															));
												}
												return (
													o(e, [
														{
															key: "possiblyEvaluate",
															value: function (
																e
															) {
																for (
																	var t =
																			new w(
																				this._properties
																			),
																		n = 0,
																		r = (0,
																		u.default)(
																			this
																				._values
																		);
																	n <
																	r.length;
																	n++
																) {
																	var i =
																		r[n];
																	t._values[
																		i
																	] =
																		this._values[
																			i
																		].possiblyEvaluate(
																			e
																		);
																}
																return t;
															},
														},
														{
															key: "hasTransition",
															value: function () {
																for (
																	var e = 0,
																		t = (0,
																		u.default)(
																			this
																				._values
																		);
																	e <
																	t.length;
																	e++
																) {
																	var n =
																		t[e];
																	if (
																		this
																			._values[
																			n
																		].prior
																	)
																		return !0;
																}
																return !1;
															},
														},
													]),
													e
												);
											})(),
											b = (function () {
												function e(t) {
													r(this, e),
														(this._properties = t),
														(this._values =
															Object.create(
																t.defaultPropertyValues
															));
												}
												return (
													o(e, [
														{
															key: "getValue",
															value: function (
																e
															) {
																return l(
																	this
																		._values[
																		e
																	].value
																);
															},
														},
														{
															key: "setValue",
															value: function (
																e,
																t
															) {
																this._values[
																	e
																] = new y(
																	this._values[
																		e
																	].property,
																	null === t
																		? void 0
																		: l(t)
																);
															},
														},
														{
															key: "serialize",
															value: function () {
																for (
																	var e = {},
																		t = 0,
																		n = (0,
																		u.default)(
																			this
																				._values
																		);
																	t <
																	n.length;
																	t++
																) {
																	var r =
																			n[
																				t
																			],
																		i =
																			this.getValue(
																				r
																			);
																	void 0 !==
																		i &&
																		(e[r] =
																			i);
																}
																return e;
															},
														},
														{
															key: "possiblyEvaluate",
															value: function (
																e
															) {
																for (
																	var t =
																			new w(
																				this._properties
																			),
																		n = 0,
																		r = (0,
																		u.default)(
																			this
																				._values
																		);
																	n <
																	r.length;
																	n++
																) {
																	var i =
																		r[n];
																	t._values[
																		i
																	] =
																		this._values[
																			i
																		].possiblyEvaluate(
																			e
																		);
																}
																return t;
															},
														},
													]),
													e
												);
											})(),
											x = (function () {
												function e(t, n, i) {
													r(this, e),
														(this.property = t),
														(this.value = n),
														(this.globals = i);
												}
												return (
													o(e, [
														{
															key: "isConstant",
															value: function () {
																return (
																	"constant" ===
																	this.value
																		.kind
																);
															},
														},
														{
															key: "constantOr",
															value: function (
																e
															) {
																return "constant" ===
																	this.value
																		.kind
																	? this.value
																			.value
																	: e;
															},
														},
														{
															key: "evaluate",
															value: function (
																e
															) {
																return this.property.evaluate(
																	this.value,
																	this
																		.globals,
																	e
																);
															},
														},
													]),
													e
												);
											})(),
											w = (function () {
												function e(t) {
													r(this, e),
														(this._properties = t),
														(this._values =
															Object.create(
																t.defaultPossiblyEvaluatedValues
															));
												}
												return (
													o(e, [
														{
															key: "get",
															value: function (
																e
															) {
																return this
																	._values[e];
															},
														},
													]),
													e
												);
											})(),
											C = (function () {
												function e(t) {
													r(this, e),
														(this.specification =
															t);
												}
												return (
													o(e, [
														{
															key: "possiblyEvaluate",
															value: function (
																e,
																t
															) {
																return (
																	a(
																		!e.isDataDriven()
																	),
																	e.expression.evaluate(
																		t
																	)
																);
															},
														},
														{
															key: "interpolate",
															value: function (
																e,
																t,
																n
															) {
																var r =
																	h[
																		this
																			.specification
																			.type
																	];
																return r
																	? r(e, t, n)
																	: e;
															},
														},
													]),
													e
												);
											})(),
											T = (function () {
												function e(t) {
													r(this, e),
														(this.specification =
															t);
												}
												return (
													o(e, [
														{
															key: "possiblyEvaluate",
															value: function (
																e,
																t
															) {
																return "constant" ===
																	e.expression
																		.kind ||
																	"camera" ===
																		e
																			.expression
																			.kind
																	? new x(
																			this,
																			{
																				kind: "constant",
																				value: e.expression.evaluate(
																					t
																				),
																			},
																			t
																	  )
																	: new x(
																			this,
																			e.expression,
																			t
																	  );
															},
														},
														{
															key: "interpolate",
															value: function (
																e,
																t,
																n
															) {
																if (
																	"constant" !==
																		e.value
																			.kind ||
																	"constant" !==
																		t.value
																			.kind
																)
																	return e;
																if (
																	void 0 !==
																		e.value
																			.value &&
																	void 0 !==
																		t.value
																			.value
																) {
																	var r =
																		h[
																			this
																				.specification
																				.type
																		];
																	return r
																		? new x(
																				this,
																				{
																					kind: "constant",
																					value: r(
																						e
																							.value
																							.value,
																						t
																							.value
																							.value,
																						n
																					),
																				},
																				e.globals
																		  )
																		: e;
																}
															},
														},
														{
															key: "evaluate",
															value: function (
																e,
																t,
																n
															) {
																return "constant" ===
																	e.kind
																	? e.value
																	: e.evaluate(
																			t,
																			n
																	  );
															},
														},
													]),
													e
												);
											})(),
											k = (function () {
												function e(t) {
													r(this, e),
														(this.specification =
															t);
												}
												return (
													o(e, [
														{
															key: "possiblyEvaluate",
															value: function (
																e,
																t
															) {
																if (
																	void 0 !==
																	e.value
																) {
																	if (
																		"constant" ===
																		e
																			.expression
																			.kind
																	) {
																		var n =
																			e.expression.evaluate(
																				t
																			);
																		return this._calculate(
																			n,
																			n,
																			n,
																			t
																		);
																	}
																	return (
																		a(
																			!e.isDataDriven()
																		),
																		this._calculate(
																			e.expression.evaluate(
																				{
																					zoom:
																						t.zoom -
																						1,
																				}
																			),
																			e.expression.evaluate(
																				{
																					zoom: t.zoom,
																				}
																			),
																			e.expression.evaluate(
																				{
																					zoom:
																						t.zoom +
																						1,
																				}
																			),
																			t
																		)
																	);
																}
															},
														},
														{
															key: "_calculate",
															value: function (
																e,
																t,
																n,
																r
															) {
																var i = r.zoom,
																	o =
																		i -
																		Math.floor(
																			i
																		),
																	a =
																		r.crossFadingFactor();
																return i >
																	r
																		.zoomHistory
																		.lastIntegerZoom
																	? {
																			from: e,
																			to: t,
																			fromScale: 2,
																			toScale: 1,
																			t:
																				o +
																				(1 -
																					o) *
																					a,
																	  }
																	: {
																			from: n,
																			to: t,
																			fromScale: 0.5,
																			toScale: 1,
																			t:
																				1 -
																				(1 -
																					a) *
																					o,
																	  };
															},
														},
														{
															key: "interpolate",
															value: function (
																e
															) {
																return e;
															},
														},
													]),
													e
												);
											})(),
											P = (function () {
												function e(t) {
													r(this, e),
														(this.specification =
															t);
												}
												return (
													o(e, [
														{
															key: "possiblyEvaluate",
															value: function () {},
														},
														{
															key: "interpolate",
															value: function () {},
														},
													]),
													e
												);
											})();
										d("DataDrivenProperty", T),
											d("DataConstantProperty", C),
											d("CrossFadedProperty", k),
											d("HeatmapColorProperty", P),
											(e.exports = {
												PropertyValue: y,
												Transitionable: v,
												Transitioning: _,
												Layout: b,
												PossiblyEvaluatedPropertyValue:
													x,
												PossiblyEvaluated: w,
												DataConstantProperty: C,
												DataDrivenProperty: T,
												CrossFadedProperty: k,
												HeatmapColorProperty: P,
												Properties: function e(t) {
													for (var n in (r(this, e),
													(this.properties = t),
													(this.defaultPropertyValues =
														{}),
													(this.defaultTransitionablePropertyValues =
														{}),
													(this.defaultTransitioningPropertyValues =
														{}),
													(this.defaultPossiblyEvaluatedValues =
														{}),
													t)) {
														var i = t[n],
															o =
																(this.defaultPropertyValues[
																	n
																] = new y(
																	i,
																	void 0
																)),
															a =
																(this.defaultTransitionablePropertyValues[
																	n
																] = new m(i));
														(this.defaultTransitioningPropertyValues[
															n
														] = a.untransitioned()),
															(this.defaultPossiblyEvaluatedValues[
																n
															] = o.possiblyEvaluate(
																{}
															));
													}
												},
											});
									},
									function (e, t) {
										e.exports = self;
									},
									function (e, t) {
										e.exports = 8192;
									},
									function (e, t) {
										e.exports = function (e, t, n) {
											(this.message =
												(e ? "".concat(e, ": ") : "") +
												n),
												null != t &&
													t.__line__ &&
													(this.line = t.__line__);
										};
									},
									function (e, t) {
										var n = { kind: "null" },
											r = { kind: "number" },
											i = { kind: "string" },
											o = { kind: "boolean" },
											a = { kind: "color" },
											s = { kind: "object" },
											l = { kind: "value" };
										function u(e, t) {
											return {
												kind: "array",
												itemType: e,
												N: t,
											};
										}
										function c(e) {
											if ("array" === e.kind) {
												var t = c(e.itemType);
												return "number" == typeof e.N
													? "array<"
															.concat(t, ", ")
															.concat(e.N, ">")
													: "value" ===
													  e.itemType.kind
													? "array"
													: "array<".concat(t, ">");
											}
											return e.kind;
										}
										var f = [n, r, i, o, a, s, u(l)];
										e.exports = {
											NullType: n,
											NumberType: r,
											StringType: i,
											BooleanType: o,
											ColorType: a,
											ObjectType: s,
											ValueType: l,
											array: u,
											ErrorType: { kind: "error" },
											toString: c,
											checkSubtype: function e(t, n) {
												if ("error" === n.kind)
													return null;
												if ("array" === t.kind) {
													if (
														"array" === n.kind &&
														!e(
															t.itemType,
															n.itemType
														) &&
														("number" !=
															typeof t.N ||
															t.N === n.N)
													)
														return null;
												} else {
													if (t.kind === n.kind)
														return null;
													if ("value" === t.kind)
														for (
															var r = 0, i = f;
															r < i.length;
															r++
														)
															if (!e(i[r], n))
																return null;
												}
												return "Expected "
													.concat(c(t), " but found ")
													.concat(c(n), " instead.");
											},
										};
									},
									function (e, t, n) {
										var r = n(3),
											i = n(5);
										(t.create = function (e, t, n) {
											var r = i.document.createElement(e);
											return (
												t && (r.className = t),
												n && n.appendChild(r),
												r
											);
										}),
											(t.createNS = function (e, t) {
												return i.document.createElementNS(
													e,
													t
												);
											});
										var o =
											i.document.documentElement.style;
										function a(e) {
											for (var t = 0; t < e.length; t++)
												if (e[t] in o) return e[t];
											return e[0];
										}
										var s,
											l = a([
												"userSelect",
												"MozUserSelect",
												"WebkitUserSelect",
												"msUserSelect",
											]);
										(t.disableDrag = function () {
											l && ((s = o[l]), (o[l] = "none"));
										}),
											(t.enableDrag = function () {
												l && (o[l] = s);
											});
										var u = a([
											"transform",
											"WebkitTransform",
										]);
										t.setTransform = function (e, t) {
											e.style[u] = t;
										};
										var c = function e(t) {
											t.preventDefault(),
												t.stopPropagation(),
												i.removeEventListener(
													"click",
													e,
													!0
												);
										};
										(t.suppressClick = function () {
											i.addEventListener("click", c, !0),
												i.setTimeout(function () {
													i.removeEventListener(
														"click",
														c,
														!0
													);
												}, 0);
										}),
											(t.mousePos = function (e, t) {
												var n =
													e.getBoundingClientRect();
												return (
													(t = t.touches
														? t.touches[0]
														: t),
													new r(
														t.clientX -
															n.left -
															e.clientLeft,
														t.clientY -
															n.top -
															e.clientTop
													)
												);
											}),
											(t.touchPos = function (e, t) {
												for (
													var n =
															e.getBoundingClientRect(),
														i = [],
														o =
															"touchend" ===
															t.type
																? t.changedTouches
																: t.touches,
														a = 0;
													a < o.length;
													a++
												)
													i.push(
														new r(
															o[a].clientX -
																n.left -
																e.clientLeft,
															o[a].clientY -
																n.top -
																e.clientTop
														)
													);
												return i;
											}),
											(t.remove = function (e) {
												e.parentNode &&
													e.parentNode.removeChild(e);
											});
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(0);
										function a(e, t, n) {
											(n[e] = n[e] || []), n[e].push(t);
										}
										function s(e, t, n) {
											if (n && n[e]) {
												var r = n[e].indexOf(t);
												-1 !== r && n[e].splice(r, 1);
											}
										}
										var l = (function () {
											function e() {
												!(function (e, t) {
													if (!(e instanceof t))
														throw new TypeError(
															"Cannot call a class as a function"
														);
												})(this, e);
											}
											var t, n;
											return (
												(t = e),
												(n = [
													{
														key: "on",
														value: function (e, t) {
															return (
																(this._listeners =
																	this
																		._listeners ||
																	{}),
																a(
																	e,
																	t,
																	this
																		._listeners
																),
																this
															);
														},
													},
													{
														key: "off",
														value: function (e, t) {
															return (
																s(
																	e,
																	t,
																	this
																		._listeners
																),
																s(
																	e,
																	t,
																	this
																		._oneTimeListeners
																),
																this
															);
														},
													},
													{
														key: "once",
														value: function (e, t) {
															return (
																(this._oneTimeListeners =
																	this
																		._oneTimeListeners ||
																	{}),
																a(
																	e,
																	t,
																	this
																		._oneTimeListeners
																),
																this
															);
														},
													},
													{
														key: "fire",
														value: function (e, t) {
															if (
																this.listens(e)
															) {
																t = i.extend(
																	{},
																	t,
																	{
																		type: e,
																		target: this,
																	}
																);
																var n =
																		this
																			._listeners &&
																		this
																			._listeners[
																			e
																		]
																			? this._listeners[
																					e
																			  ].slice()
																			: [],
																	r = !0,
																	a = !1,
																	l = void 0;
																try {
																	for (
																		var u,
																			c =
																				(0,
																				o.default)(
																					n
																				);
																		!(r =
																			(u =
																				c.next())
																				.done);
																		r = !0
																	)
																		u.value.call(
																			this,
																			t
																		);
																} catch (e) {
																	(a = !0),
																		(l = e);
																} finally {
																	try {
																		r ||
																			null ==
																				c.return ||
																			c.return();
																	} finally {
																		if (a)
																			throw l;
																	}
																}
																var f =
																		this
																			._oneTimeListeners &&
																		this
																			._oneTimeListeners[
																			e
																		]
																			? this._oneTimeListeners[
																					e
																			  ].slice()
																			: [],
																	h = !0,
																	p = !1,
																	d = void 0;
																try {
																	for (
																		var y,
																			m =
																				(0,
																				o.default)(
																					f
																				);
																		!(h =
																			(y =
																				m.next())
																				.done);
																		h = !0
																	) {
																		var v =
																			y.value;
																		s(
																			e,
																			v,
																			this
																				._oneTimeListeners
																		),
																			v.call(
																				this,
																				t
																			);
																	}
																} catch (e) {
																	(p = !0),
																		(d = e);
																} finally {
																	try {
																		h ||
																			null ==
																				m.return ||
																			m.return();
																	} finally {
																		if (p)
																			throw d;
																	}
																}
																this
																	._eventedParent &&
																	this._eventedParent.fire(
																		e,
																		i.extend(
																			{},
																			t,
																			"function" ==
																				typeof this
																					._eventedParentData
																				? this._eventedParentData()
																				: this
																						._eventedParentData
																		)
																	);
															} else
																i.endsWith(
																	e,
																	"error"
																) &&
																	console.error(
																		(t &&
																			t.error) ||
																			t ||
																			"Empty error event"
																	);
															return this;
														},
													},
													{
														key: "listens",
														value: function (e) {
															return (
																(this
																	._listeners &&
																	this
																		._listeners[
																		e
																	] &&
																	this
																		._listeners[
																		e
																	].length >
																		0) ||
																(this
																	._oneTimeListeners &&
																	this
																		._oneTimeListeners[
																		e
																	] &&
																	this
																		._oneTimeListeners[
																		e
																	].length >
																		0) ||
																(this
																	._eventedParent &&
																	this._eventedParent.listens(
																		e
																	))
															);
														},
													},
													{
														key: "setEventedParent",
														value: function (e, t) {
															return (
																(this._eventedParent =
																	e),
																(this._eventedParentData =
																	t),
																this
															);
														},
													},
												]) && r(t.prototype, n),
												e
											);
										})();
										e.exports = l;
									},
									function (e, n, i) {
										function s(e) {
											return (s =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										var l = i(1),
											c = i(102),
											f = i(12),
											h = i(30),
											p = h.StylePropertyFunction,
											d = h.StyleExpression,
											y =
												h.StyleExpressionWithErrorHandling,
											m = h.ZoomDependentExpression,
											v = h.ZoomConstantExpression,
											g = i(42).CompoundExpression,
											_ = i(90),
											b = i(5).ImageData,
											x = {};
										function w(e, t) {
											var n =
												arguments.length > 2 &&
												void 0 !== arguments[2]
													? arguments[2]
													: {};
											l(
												!x[e],
												"".concat(
													e,
													" is already registered."
												)
											),
												Object.defineProperty(
													t,
													"_classRegistryKey",
													{ value: e, writeable: !1 }
												),
												(x[e] = {
													klass: t,
													omit: n.omit || [],
													shallow: n.shallow || [],
												});
										}
										for (var C in (w("Object", Object),
										(c.serialize = function (e, t) {
											var n = e.toArrayBuffer();
											return t && t.push(n), n;
										}),
										(c.deserialize = function (e) {
											return new c(e);
										}),
										w("Grid", c),
										w("Color", f),
										w("StylePropertyFunction", p),
										w("StyleExpression", d, {
											omit: ["_evaluator"],
										}),
										w(
											"StyleExpressionWithErrorHandling",
											y,
											{ omit: ["_evaluator"] }
										),
										w("ZoomDependentExpression", m),
										w("ZoomConstantExpression", v),
										w("CompoundExpression", g, {
											omit: ["_evaluate"],
										}),
										_))
											_[C]._classRegistryKey ||
												w(
													"Expression_".concat(C),
													_[C]
												);
										e.exports = {
											register: w,
											serialize: function e(t, n) {
												if (
													null == t ||
													"boolean" == typeof t ||
													"number" == typeof t ||
													"string" == typeof t ||
													t instanceof Boolean ||
													t instanceof Number ||
													t instanceof String ||
													t instanceof Date ||
													t instanceof RegExp
												)
													return t;
												if (t instanceof ArrayBuffer)
													return n && n.push(t), t;
												if (ArrayBuffer.isView(t)) {
													var r = t;
													return (
														n && n.push(r.buffer), r
													);
												}
												if (t instanceof b)
													return (
														n &&
															n.push(
																t.data.buffer
															),
														t
													);
												if (Array.isArray(t)) {
													var i = [],
														a = !0,
														u = !1,
														c = void 0;
													try {
														for (
															var f,
																h = (0,
																o.default)(t);
															!(a = (f = h.next())
																.done);
															a = !0
														) {
															var p = f.value;
															i.push(e(p, n));
														}
													} catch (e) {
														(u = !0), (c = e);
													} finally {
														try {
															a ||
																null ==
																	h.return ||
																h.return();
														} finally {
															if (u) throw c;
														}
													}
													return i;
												}
												if ("object" === s(t)) {
													var d = t.constructor,
														y = d._classRegistryKey;
													if (!y)
														throw new Error(
															"can't serialize object of unregistered class"
														);
													l(x[y]);
													var m = {};
													if (d.serialize)
														m._serialized =
															d.serialize(t, n);
													else
														for (var v in t)
															if (
																t.hasOwnProperty(
																	v
																) &&
																!(
																	x[
																		y
																	].omit.indexOf(
																		v
																	) >= 0
																)
															) {
																var g = t[v];
																m[v] =
																	x[
																		y
																	].shallow.indexOf(
																		v
																	) >= 0
																		? g
																		: e(
																				g,
																				n
																		  );
															}
													return {
														name: y,
														properties: m,
													};
												}
												throw new Error(
													"can't serialize object of type ".concat(
														s(t)
													)
												);
											},
											deserialize: function e(t) {
												if (
													null == t ||
													"boolean" == typeof t ||
													"number" == typeof t ||
													"string" == typeof t ||
													t instanceof Boolean ||
													t instanceof Number ||
													t instanceof String ||
													t instanceof Date ||
													t instanceof RegExp ||
													t instanceof ArrayBuffer ||
													ArrayBuffer.isView(t) ||
													t instanceof b
												)
													return t;
												if (Array.isArray(t))
													return t.map(function (t) {
														return e(t);
													});
												if ("object" === s(t)) {
													var n = t,
														r = n.name,
														i = n.properties;
													if (!r)
														throw new Error(
															"can't deserialize object of anonymous class"
														);
													var o = x[r].klass;
													if (!o)
														throw new Error(
															"can't deserialize unregistered class ".concat(
																r
															)
														);
													if (o.deserialize)
														return o.deserialize(
															i._serialized
														);
													for (
														var a = Object.create(
																o.prototype
															),
															l = 0,
															c = (0, u.default)(
																i
															);
														l < c.length;
														l++
													) {
														var f = c[l];
														a[f] =
															x[
																r
															].shallow.indexOf(
																f
															) >= 0
																? i[f]
																: e(i[f]);
													}
													return a;
												}
												throw new Error(
													"can't deserialize object of type ".concat(
														s(t)
													)
												);
											},
										};
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(80).parseCSSColor,
											o = (function () {
												function e(t, n, r) {
													var i =
														arguments.length > 3 &&
														void 0 !== arguments[3]
															? arguments[3]
															: 1;
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.r = t),
														(this.g = n),
														(this.b = r),
														(this.a = i);
												}
												var t, n, o;
												return (
													(t = e),
													(o = [
														{
															key: "parse",
															value: function (
																t
															) {
																if (t) {
																	if (
																		t instanceof
																		e
																	)
																		return t;
																	if (
																		"string" ==
																		typeof t
																	) {
																		var n =
																			i(
																				t
																			);
																		if (n)
																			return new e(
																				(n[0] /
																					255) *
																					n[3],
																				(n[1] /
																					255) *
																					n[3],
																				(n[2] /
																					255) *
																					n[3],
																				n[3]
																			);
																	}
																}
															},
														},
													]),
													(n = [
														{
															key: "toString",
															value: function () {
																var e = this,
																	t = [
																		this.r,
																		this.g,
																		this.b,
																	].map(
																		function (
																			t
																		) {
																			return Math.round(
																				(255 *
																					t) /
																					e.a
																			);
																		}
																	);
																return "rgba(".concat(
																	t
																		.concat(
																			this
																				.a
																		)
																		.join(
																			","
																		),
																	")"
																);
															},
														},
													]) && r(t.prototype, n),
													o && r(t, o),
													e
												);
											})();
										(o.black = new o(0, 0, 0, 1)),
											(o.white = new o(1, 1, 1, 1)),
											(o.transparent = new o(0, 0, 0, 0)),
											(e.exports = o);
									},
									function (e, t, n) {
										e.exports = n(140);
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											if (!(e instanceof t))
												throw new TypeError(
													"Cannot call a class as a function"
												);
										}
										function u(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function f(e, t, n) {
											return (
												t && u(e.prototype, t),
												n && u(e, n),
												e
											);
										}
										function h(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function p(e) {
											return (p = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function d(e, t) {
											if (
												"function" != typeof t &&
												null !== t
											)
												throw new TypeError(
													"Super expression must either be null or a function"
												);
											(e.prototype = Object.create(
												t && t.prototype,
												{
													constructor: {
														value: e,
														writable: !0,
														configurable: !0,
													},
												}
											)),
												t &&
													(function (e, t) {
														(
															c.default ||
															function (e, t) {
																return (
																	(e.__proto__ =
																		t),
																	e
																);
															}
														)(e, t);
													})(e, t);
										}
										var y = i(1),
											m = i(23).StructArray,
											v = i(23).Struct,
											g = i(11).register,
											_ = i(3),
											b = (function (e) {
												function t() {
													return (
														s(this, t),
														h(
															this,
															p(t).apply(
																this,
																arguments
															)
														)
													);
												}
												return (
													d(t, m),
													f(t, [
														{
															key: "_refreshViews",
															value: function () {
																(this.uint8 =
																	new Uint8Array(
																		this.arrayBuffer
																	)),
																	(this.int16 =
																		new Int16Array(
																			this.arrayBuffer
																		));
															},
														},
														{
															key: "emplaceBack",
															value: function (
																e,
																t
															) {
																var n =
																	this.length;
																this.resize(
																	n + 1
																);
																var r = 2 * n;
																return (
																	(this.int16[
																		r + 0
																	] = e),
																	(this.int16[
																		r + 1
																	] = t),
																	n
																);
															},
														},
													]),
													t
												);
											})();
										(b.prototype.bytesPerElement = 4),
											g("StructArrayLayout2i4", b);
										var x = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.int16 =
																	new Int16Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (
															e,
															t,
															n,
															r
														) {
															var i = this.length;
															this.resize(i + 1);
															var o = 4 * i;
															return (
																(this.int16[
																	o + 0
																] = e),
																(this.int16[
																	o + 1
																] = t),
																(this.int16[
																	o + 2
																] = n),
																(this.int16[
																	o + 3
																] = r),
																i
															);
														},
													},
												]),
												t
											);
										})();
										(x.prototype.bytesPerElement = 8),
											g("StructArrayLayout4i8", x);
										var w = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.int16 =
																	new Int16Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o
														) {
															var a = this.length;
															this.resize(a + 1);
															var s = 6 * a;
															return (
																(this.int16[
																	s + 0
																] = e),
																(this.int16[
																	s + 1
																] = t),
																(this.int16[
																	s + 2
																] = n),
																(this.int16[
																	s + 3
																] = r),
																(this.int16[
																	s + 4
																] = i),
																(this.int16[
																	s + 5
																] = o),
																a
															);
														},
													},
												]),
												t
											);
										})();
										(w.prototype.bytesPerElement = 12),
											g("StructArrayLayout2i4i12", w);
										var C = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.int16 =
																	new Int16Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o,
															a,
															s
														) {
															var l = this.length;
															this.resize(l + 1);
															var u = 6 * l,
																c = 12 * l;
															return (
																(this.int16[
																	u + 0
																] = e),
																(this.int16[
																	u + 1
																] = t),
																(this.int16[
																	u + 2
																] = n),
																(this.int16[
																	u + 3
																] = r),
																(this.uint8[
																	c + 8
																] = i),
																(this.uint8[
																	c + 9
																] = o),
																(this.uint8[
																	c + 10
																] = a),
																(this.uint8[
																	c + 11
																] = s),
																l
															);
														},
													},
												]),
												t
											);
										})();
										(C.prototype.bytesPerElement = 12),
											g("StructArrayLayout4i4ub12", C);
										var T = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.int16 =
																	new Int16Array(
																		this.arrayBuffer
																	)),
																(this.uint16 =
																	new Uint16Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o,
															a,
															s
														) {
															var l = this.length;
															this.resize(l + 1);
															var u = 8 * l;
															return (
																(this.int16[
																	u + 0
																] = e),
																(this.int16[
																	u + 1
																] = t),
																(this.int16[
																	u + 2
																] = n),
																(this.int16[
																	u + 3
																] = r),
																(this.uint16[
																	u + 4
																] = i),
																(this.uint16[
																	u + 5
																] = o),
																(this.uint16[
																	u + 6
																] = a),
																(this.uint16[
																	u + 7
																] = s),
																l
															);
														},
													},
												]),
												t
											);
										})();
										(T.prototype.bytesPerElement = 16),
											g("StructArrayLayout4i4ui16", T);
										var k = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.float32 =
																	new Float32Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (
															e,
															t,
															n
														) {
															var r = this.length;
															this.resize(r + 1);
															var i = 3 * r;
															return (
																(this.float32[
																	i + 0
																] = e),
																(this.float32[
																	i + 1
																] = t),
																(this.float32[
																	i + 2
																] = n),
																r
															);
														},
													},
												]),
												t
											);
										})();
										(k.prototype.bytesPerElement = 12),
											g("StructArrayLayout3f12", k);
										var P = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.uint32 =
																	new Uint32Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (e) {
															var t = this.length;
															this.resize(t + 1);
															var n = 1 * t;
															return (
																(this.uint32[
																	n + 0
																] = e),
																t
															);
														},
													},
												]),
												t
											);
										})();
										(P.prototype.bytesPerElement = 4),
											g("StructArrayLayout1ul4", P);
										var E = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.int16 =
																	new Int16Array(
																		this.arrayBuffer
																	)),
																(this.uint32 =
																	new Uint32Array(
																		this.arrayBuffer
																	)),
																(this.uint16 =
																	new Uint16Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o,
															a,
															s,
															l,
															u,
															c
														) {
															var f = this.length;
															this.resize(f + 1);
															var h = 12 * f,
																p = 6 * f;
															return (
																(this.int16[
																	h + 0
																] = e),
																(this.int16[
																	h + 1
																] = t),
																(this.int16[
																	h + 2
																] = n),
																(this.int16[
																	h + 3
																] = r),
																(this.int16[
																	h + 4
																] = i),
																(this.int16[
																	h + 5
																] = o),
																(this.uint32[
																	p + 3
																] = a),
																(this.uint16[
																	h + 8
																] = s),
																(this.uint16[
																	h + 9
																] = l),
																(this.int16[
																	h + 10
																] = u),
																(this.int16[
																	h + 11
																] = c),
																f
															);
														},
													},
												]),
												t
											);
										})();
										(E.prototype.bytesPerElement = 24),
											g(
												"StructArrayLayout6i1ul2ui2i24",
												E
											);
										var S = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.int16 =
																	new Int16Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o
														) {
															var a = this.length;
															this.resize(a + 1);
															var s = 6 * a;
															return (
																(this.int16[
																	s + 0
																] = e),
																(this.int16[
																	s + 1
																] = t),
																(this.int16[
																	s + 2
																] = n),
																(this.int16[
																	s + 3
																] = r),
																(this.int16[
																	s + 4
																] = i),
																(this.int16[
																	s + 5
																] = o),
																a
															);
														},
													},
												]),
												t
											);
										})();
										(S.prototype.bytesPerElement = 12),
											g("StructArrayLayout2i2i2i12", S);
										var A = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																);
														},
													},
													{
														key: "emplaceBack",
														value: function (e, t) {
															var n = this.length;
															this.resize(n + 1);
															var r = 4 * n;
															return (
																(this.uint8[
																	r + 0
																] = e),
																(this.uint8[
																	r + 1
																] = t),
																n
															);
														},
													},
												]),
												t
											);
										})();
										(A.prototype.bytesPerElement = 4),
											g("StructArrayLayout2ub4", A);
										var M = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.int16 =
																	new Int16Array(
																		this.arrayBuffer
																	)),
																(this.uint16 =
																	new Uint16Array(
																		this.arrayBuffer
																	)),
																(this.uint32 =
																	new Uint32Array(
																		this.arrayBuffer
																	)),
																(this.float32 =
																	new Float32Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o,
															a,
															s,
															l,
															u,
															c,
															f,
															h,
															p
														) {
															var d = this.length;
															this.resize(d + 1);
															var y = 20 * d,
																m = 10 * d,
																v = 40 * d;
															return (
																(this.int16[
																	y + 0
																] = e),
																(this.int16[
																	y + 1
																] = t),
																(this.uint16[
																	y + 2
																] = n),
																(this.uint16[
																	y + 3
																] = r),
																(this.uint32[
																	m + 2
																] = i),
																(this.uint32[
																	m + 3
																] = o),
																(this.uint32[
																	m + 4
																] = a),
																(this.uint16[
																	y + 10
																] = s),
																(this.uint16[
																	y + 11
																] = l),
																(this.uint16[
																	y + 12
																] = u),
																(this.float32[
																	m + 7
																] = c),
																(this.float32[
																	m + 8
																] = f),
																(this.uint8[
																	v + 36
																] = h),
																(this.uint8[
																	v + 37
																] = p),
																d
															);
														},
													},
												]),
												t
											);
										})();
										(M.prototype.bytesPerElement = 40),
											g(
												"StructArrayLayout2i2ui3ul3ui2f2ub40",
												M
											);
										var I = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.float32 =
																	new Float32Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (e) {
															var t = this.length;
															this.resize(t + 1);
															var n = 1 * t;
															return (
																(this.float32[
																	n + 0
																] = e),
																t
															);
														},
													},
												]),
												t
											);
										})();
										(I.prototype.bytesPerElement = 4),
											g("StructArrayLayout1f4", I);
										var L = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.int16 =
																	new Int16Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (
															e,
															t,
															n
														) {
															var r = this.length;
															this.resize(r + 1);
															var i = 3 * r;
															return (
																(this.int16[
																	i + 0
																] = e),
																(this.int16[
																	i + 1
																] = t),
																(this.int16[
																	i + 2
																] = n),
																r
															);
														},
													},
												]),
												t
											);
										})();
										(L.prototype.bytesPerElement = 6),
											g("StructArrayLayout3i6", L);
										var D = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.uint32 =
																	new Uint32Array(
																		this.arrayBuffer
																	)),
																(this.uint16 =
																	new Uint16Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (
															e,
															t,
															n
														) {
															var r = this.length;
															this.resize(r + 1);
															var i = 2 * r,
																o = 4 * r;
															return (
																(this.uint32[
																	i + 0
																] = e),
																(this.uint16[
																	o + 2
																] = t),
																(this.uint16[
																	o + 3
																] = n),
																r
															);
														},
													},
												]),
												t
											);
										})();
										(D.prototype.bytesPerElement = 8),
											g("StructArrayLayout1ul2ui8", D);
										var O = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.uint16 =
																	new Uint16Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (
															e,
															t,
															n
														) {
															var r = this.length;
															this.resize(r + 1);
															var i = 3 * r;
															return (
																(this.uint16[
																	i + 0
																] = e),
																(this.uint16[
																	i + 1
																] = t),
																(this.uint16[
																	i + 2
																] = n),
																r
															);
														},
													},
												]),
												t
											);
										})();
										(O.prototype.bytesPerElement = 6),
											g("StructArrayLayout3ui6", O);
										var z = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.uint16 =
																	new Uint16Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (e, t) {
															var n = this.length;
															this.resize(n + 1);
															var r = 2 * n;
															return (
																(this.uint16[
																	r + 0
																] = e),
																(this.uint16[
																	r + 1
																] = t),
																n
															);
														},
													},
												]),
												t
											);
										})();
										(z.prototype.bytesPerElement = 4),
											g("StructArrayLayout2ui4", z);
										var R = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.float32 =
																	new Float32Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (e, t) {
															var n = this.length;
															this.resize(n + 1);
															var r = 2 * n;
															return (
																(this.float32[
																	r + 0
																] = e),
																(this.float32[
																	r + 1
																] = t),
																n
															);
														},
													},
												]),
												t
											);
										})();
										(R.prototype.bytesPerElement = 8),
											g("StructArrayLayout2f8", R);
										var B = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, m),
												f(t, [
													{
														key: "_refreshViews",
														value: function () {
															(this.uint8 =
																new Uint8Array(
																	this.arrayBuffer
																)),
																(this.float32 =
																	new Float32Array(
																		this.arrayBuffer
																	));
														},
													},
													{
														key: "emplaceBack",
														value: function (
															e,
															t,
															n,
															r
														) {
															var i = this.length;
															this.resize(i + 1);
															var o = 4 * i;
															return (
																(this.float32[
																	o + 0
																] = e),
																(this.float32[
																	o + 1
																] = t),
																(this.float32[
																	o + 2
																] = n),
																(this.float32[
																	o + 3
																] = r),
																i
															);
														},
													},
												]),
												t
											);
										})();
										(B.prototype.bytesPerElement = 16),
											g("StructArrayLayout4f16", B);
										var j = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, v),
												f(t, [
													{
														key: "anchorPointX",
														get: function () {
															return this
																._structArray
																.int16[
																this._pos2 + 0
															];
														},
														set: function (e) {
															this._structArray.int16[
																this._pos2 + 0
															] = e;
														},
													},
													{
														key: "anchorPointY",
														get: function () {
															return this
																._structArray
																.int16[
																this._pos2 + 1
															];
														},
														set: function (e) {
															this._structArray.int16[
																this._pos2 + 1
															] = e;
														},
													},
													{
														key: "x1",
														get: function () {
															return this
																._structArray
																.int16[
																this._pos2 + 2
															];
														},
														set: function (e) {
															this._structArray.int16[
																this._pos2 + 2
															] = e;
														},
													},
													{
														key: "y1",
														get: function () {
															return this
																._structArray
																.int16[
																this._pos2 + 3
															];
														},
														set: function (e) {
															this._structArray.int16[
																this._pos2 + 3
															] = e;
														},
													},
													{
														key: "x2",
														get: function () {
															return this
																._structArray
																.int16[
																this._pos2 + 4
															];
														},
														set: function (e) {
															this._structArray.int16[
																this._pos2 + 4
															] = e;
														},
													},
													{
														key: "y2",
														get: function () {
															return this
																._structArray
																.int16[
																this._pos2 + 5
															];
														},
														set: function (e) {
															this._structArray.int16[
																this._pos2 + 5
															] = e;
														},
													},
													{
														key: "featureIndex",
														get: function () {
															return this
																._structArray
																.uint32[
																this._pos4 + 3
															];
														},
														set: function (e) {
															this._structArray.uint32[
																this._pos4 + 3
															] = e;
														},
													},
													{
														key: "sourceLayerIndex",
														get: function () {
															return this
																._structArray
																.uint16[
																this._pos2 + 8
															];
														},
														set: function (e) {
															this._structArray.uint16[
																this._pos2 + 8
															] = e;
														},
													},
													{
														key: "bucketIndex",
														get: function () {
															return this
																._structArray
																.uint16[
																this._pos2 + 9
															];
														},
														set: function (e) {
															this._structArray.uint16[
																this._pos2 + 9
															] = e;
														},
													},
													{
														key: "radius",
														get: function () {
															return this
																._structArray
																.int16[
																this._pos2 + 10
															];
														},
														set: function (e) {
															this._structArray.int16[
																this._pos2 + 10
															] = e;
														},
													},
													{
														key: "signedDistanceFromAnchor",
														get: function () {
															return this
																._structArray
																.int16[
																this._pos2 + 11
															];
														},
														set: function (e) {
															this._structArray.int16[
																this._pos2 + 11
															] = e;
														},
													},
													{
														key: "anchorPoint",
														get: function () {
															return new _(
																this.anchorPointX,
																this.anchorPointY
															);
														},
													},
												]),
												t
											);
										})();
										j.prototype.size = 24;
										var F = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, E),
												f(t, [
													{
														key: "get",
														value: function (e) {
															return (
																y(
																	!this
																		.isTransferred
																),
																new j(this, e)
															);
														},
													},
												]),
												t
											);
										})();
										g("CollisionBoxArray", F);
										var N = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, v),
												f(t, [
													{
														key: "anchorX",
														get: function () {
															return this
																._structArray
																.int16[
																this._pos2 + 0
															];
														},
														set: function (e) {
															this._structArray.int16[
																this._pos2 + 0
															] = e;
														},
													},
													{
														key: "anchorY",
														get: function () {
															return this
																._structArray
																.int16[
																this._pos2 + 1
															];
														},
														set: function (e) {
															this._structArray.int16[
																this._pos2 + 1
															] = e;
														},
													},
													{
														key: "glyphStartIndex",
														get: function () {
															return this
																._structArray
																.uint16[
																this._pos2 + 2
															];
														},
														set: function (e) {
															this._structArray.uint16[
																this._pos2 + 2
															] = e;
														},
													},
													{
														key: "numGlyphs",
														get: function () {
															return this
																._structArray
																.uint16[
																this._pos2 + 3
															];
														},
														set: function (e) {
															this._structArray.uint16[
																this._pos2 + 3
															] = e;
														},
													},
													{
														key: "vertexStartIndex",
														get: function () {
															return this
																._structArray
																.uint32[
																this._pos4 + 2
															];
														},
														set: function (e) {
															this._structArray.uint32[
																this._pos4 + 2
															] = e;
														},
													},
													{
														key: "lineStartIndex",
														get: function () {
															return this
																._structArray
																.uint32[
																this._pos4 + 3
															];
														},
														set: function (e) {
															this._structArray.uint32[
																this._pos4 + 3
															] = e;
														},
													},
													{
														key: "lineLength",
														get: function () {
															return this
																._structArray
																.uint32[
																this._pos4 + 4
															];
														},
														set: function (e) {
															this._structArray.uint32[
																this._pos4 + 4
															] = e;
														},
													},
													{
														key: "segment",
														get: function () {
															return this
																._structArray
																.uint16[
																this._pos2 + 10
															];
														},
														set: function (e) {
															this._structArray.uint16[
																this._pos2 + 10
															] = e;
														},
													},
													{
														key: "lowerSize",
														get: function () {
															return this
																._structArray
																.uint16[
																this._pos2 + 11
															];
														},
														set: function (e) {
															this._structArray.uint16[
																this._pos2 + 11
															] = e;
														},
													},
													{
														key: "upperSize",
														get: function () {
															return this
																._structArray
																.uint16[
																this._pos2 + 12
															];
														},
														set: function (e) {
															this._structArray.uint16[
																this._pos2 + 12
															] = e;
														},
													},
													{
														key: "lineOffsetX",
														get: function () {
															return this
																._structArray
																.float32[
																this._pos4 + 7
															];
														},
														set: function (e) {
															this._structArray.float32[
																this._pos4 + 7
															] = e;
														},
													},
													{
														key: "lineOffsetY",
														get: function () {
															return this
																._structArray
																.float32[
																this._pos4 + 8
															];
														},
														set: function (e) {
															this._structArray.float32[
																this._pos4 + 8
															] = e;
														},
													},
													{
														key: "writingMode",
														get: function () {
															return this
																._structArray
																.uint8[
																this._pos1 + 36
															];
														},
														set: function (e) {
															this._structArray.uint8[
																this._pos1 + 36
															] = e;
														},
													},
													{
														key: "hidden",
														get: function () {
															return this
																._structArray
																.uint8[
																this._pos1 + 37
															];
														},
														set: function (e) {
															this._structArray.uint8[
																this._pos1 + 37
															] = e;
														},
													},
												]),
												t
											);
										})();
										N.prototype.size = 40;
										var V = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, M),
												f(t, [
													{
														key: "get",
														value: function (e) {
															return (
																y(
																	!this
																		.isTransferred
																),
																new N(this, e)
															);
														},
													},
												]),
												t
											);
										})();
										g("PlacedSymbolArray", V);
										var U = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, v),
												f(t, [
													{
														key: "offsetX",
														get: function () {
															return this
																._structArray
																.float32[
																this._pos4 + 0
															];
														},
														set: function (e) {
															this._structArray.float32[
																this._pos4 + 0
															] = e;
														},
													},
												]),
												t
											);
										})();
										U.prototype.size = 4;
										var H = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, I),
												f(t, [
													{
														key: "getoffsetX",
														value: function (e) {
															return this.float32[
																1 * e + 0
															];
														},
													},
													{
														key: "get",
														value: function (e) {
															return (
																y(
																	!this
																		.isTransferred
																),
																new U(this, e)
															);
														},
													},
												]),
												t
											);
										})();
										g("GlyphOffsetArray", H);
										var G = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, v),
												f(t, [
													{
														key: "x",
														get: function () {
															return this
																._structArray
																.int16[
																this._pos2 + 0
															];
														},
														set: function (e) {
															this._structArray.int16[
																this._pos2 + 0
															] = e;
														},
													},
													{
														key: "y",
														get: function () {
															return this
																._structArray
																.int16[
																this._pos2 + 1
															];
														},
														set: function (e) {
															this._structArray.int16[
																this._pos2 + 1
															] = e;
														},
													},
													{
														key: "tileUnitDistanceFromAnchor",
														get: function () {
															return this
																._structArray
																.int16[
																this._pos2 + 2
															];
														},
														set: function (e) {
															this._structArray.int16[
																this._pos2 + 2
															] = e;
														},
													},
												]),
												t
											);
										})();
										G.prototype.size = 6;
										var q = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, L),
												f(t, [
													{
														key: "getx",
														value: function (e) {
															return this.int16[
																3 * e + 0
															];
														},
													},
													{
														key: "gety",
														value: function (e) {
															return this.int16[
																3 * e + 1
															];
														},
													},
													{
														key: "gettileUnitDistanceFromAnchor",
														value: function (e) {
															return this.int16[
																3 * e + 2
															];
														},
													},
													{
														key: "get",
														value: function (e) {
															return (
																y(
																	!this
																		.isTransferred
																),
																new G(this, e)
															);
														},
													},
												]),
												t
											);
										})();
										g("SymbolLineVertexArray", q);
										var W = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, v),
												f(t, [
													{
														key: "featureIndex",
														get: function () {
															return this
																._structArray
																.uint32[
																this._pos4 + 0
															];
														},
														set: function (e) {
															this._structArray.uint32[
																this._pos4 + 0
															] = e;
														},
													},
													{
														key: "sourceLayerIndex",
														get: function () {
															return this
																._structArray
																.uint16[
																this._pos2 + 2
															];
														},
														set: function (e) {
															this._structArray.uint16[
																this._pos2 + 2
															] = e;
														},
													},
													{
														key: "bucketIndex",
														get: function () {
															return this
																._structArray
																.uint16[
																this._pos2 + 3
															];
														},
														set: function (e) {
															this._structArray.uint16[
																this._pos2 + 3
															] = e;
														},
													},
												]),
												t
											);
										})();
										W.prototype.size = 8;
										var Z = (function (e) {
											function t() {
												return (
													s(this, t),
													h(
														this,
														p(t).apply(
															this,
															arguments
														)
													)
												);
											}
											return (
												d(t, D),
												f(t, [
													{
														key: "get",
														value: function (e) {
															return (
																y(
																	!this
																		.isTransferred
																),
																new W(this, e)
															);
														},
													},
												]),
												t
											);
										})();
										g("FeatureIndexArray", Z),
											(e.exports = {
												StructArrayLayout2i4: b,
												StructArrayLayout4i8: x,
												StructArrayLayout2i4i12: w,
												StructArrayLayout4i4ub12: C,
												StructArrayLayout4i4ui16: T,
												StructArrayLayout3f12: k,
												StructArrayLayout1ul4: P,
												StructArrayLayout6i1ul2ui2i24:
													E,
												StructArrayLayout2i2i2i12: S,
												StructArrayLayout2ub4: A,
												StructArrayLayout2i2ui3ul3ui2f2ub40:
													M,
												StructArrayLayout1f4: I,
												StructArrayLayout3i6: L,
												StructArrayLayout1ul2ui8: D,
												StructArrayLayout3ui6: O,
												StructArrayLayout2ui4: z,
												StructArrayLayout2f8: R,
												StructArrayLayout4f16: B,
												PosArray: b,
												RasterBoundsArray: x,
												CircleLayoutArray: b,
												FillLayoutArray: b,
												FillExtrusionLayoutArray: w,
												HeatmapLayoutArray: b,
												LineLayoutArray: C,
												SymbolLayoutArray: T,
												SymbolDynamicLayoutArray: k,
												SymbolOpacityArray: P,
												CollisionBoxLayoutArray: S,
												CollisionCircleLayoutArray: S,
												CollisionVertexArray: A,
												TriangleIndexArray: O,
												LineIndexArray: z,
												CollisionBoxArray: F,
												PlacedSymbolArray: V,
												GlyphOffsetArray: H,
												SymbolLineVertexArray: q,
												FeatureIndexArray: Z,
											});
									},
									function (e, t) {
										var n = function e(t, n, r) {
											!(function (e, t) {
												if (!(e instanceof t))
													throw new TypeError(
														"Cannot call a class as a function"
													);
											})(this, e),
												(this.func = t),
												(this.mask = n),
												(this.range = r);
										};
										(n.ReadOnly = !1),
											(n.ReadWrite = !0),
											(n.disabled = new n(
												519,
												n.ReadOnly,
												[0, 1]
											)),
											(e.exports = n);
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function u(e) {
											var t =
												"function" == typeof f.default
													? new f.default()
													: void 0;
											return (u = function (e) {
												if (
													null === e ||
													((n = e),
													-1 ===
														Function.toString
															.call(n)
															.indexOf(
																"[native code]"
															))
												)
													return e;
												var n;
												if ("function" != typeof e)
													throw new TypeError(
														"Super expression must either be null or a function"
													);
												if (void 0 !== t) {
													if (t.has(e))
														return t.get(e);
													t.set(e, r);
												}
												function r() {
													return d(
														e,
														arguments,
														m(this).constructor
													);
												}
												return (
													(r.prototype =
														Object.create(
															e.prototype,
															{
																constructor: {
																	value: r,
																	enumerable:
																		!1,
																	writable:
																		!0,
																	configurable:
																		!0,
																},
															}
														)),
													y(r, e)
												);
											})(e);
										}
										function d(e, t, n) {
											return (d = (function () {
												if (
													"undefined" ==
														typeof Reflect ||
													!h.default
												)
													return !1;
												if (h.default.sham) return !1;
												if ("function" == typeof Proxy)
													return !0;
												try {
													return (
														Date.prototype.toString.call(
															(0, h.default)(
																Date,
																[],
																function () {}
															)
														),
														!0
													);
												} catch (e) {
													return !1;
												}
											})()
												? h.default
												: function (e, t, n) {
														var r = [null];
														r.push.apply(r, t);
														var i =
															new (Function.bind.apply(
																e,
																r
															))();
														return (
															n &&
																y(
																	i,
																	n.prototype
																),
															i
														);
												  }).apply(null, arguments);
										}
										function y(e, t) {
											return (y =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										function m(e) {
											return (m = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										var v = i(5),
											g = {
												Unknown: "Unknown",
												Style: "Style",
												Source: "Source",
												Tile: "Tile",
												Glyphs: "Glyphs",
												SpriteImage: "SpriteImage",
												SpriteJSON: "SpriteJSON",
												Image: "Image",
											};
										(n.ResourceType = g),
											"function" == typeof p.default &&
												(0, p.default)(g);
										var _ = (function (e) {
											function t(e, n) {
												var r;
												return (
													(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, t),
													((r = s(
														this,
														m(t).call(this, e)
													)).status = n),
													r
												);
											}
											return (
												(function (e, t) {
													if (
														"function" !=
															typeof t &&
														null !== t
													)
														throw new TypeError(
															"Super expression must either be null or a function"
														);
													(e.prototype =
														Object.create(
															t && t.prototype,
															{
																constructor: {
																	value: e,
																	writable:
																		!0,
																	configurable:
																		!0,
																},
															}
														)),
														t && y(e, t);
												})(t, u(Error)),
												t
											);
										})();
										function b(e) {
											var t = new v.XMLHttpRequest();
											for (var n in (t.open(
												"GET",
												e.url,
												!0
											),
											e.headers))
												t.setRequestHeader(
													n,
													e.headers[n]
												);
											return (
												(t.withCredentials =
													"include" ===
													e.credentials),
												t
											);
										}
										(n.getJSON = function (e, t) {
											var n = b(e);
											return (
												n.setRequestHeader(
													"Accept",
													"application/json"
												),
												(n.onerror = function () {
													t(new Error(n.statusText));
												}),
												(n.onload = function () {
													if (
														n.status >= 200 &&
														n.status < 300 &&
														n.response
													) {
														var e;
														try {
															e = JSON.parse(
																n.response
															);
														} catch (e) {
															return t(e);
														}
														t(null, e);
													} else
														t(
															new _(
																n.statusText,
																n.status
															)
														);
												}),
												n.send(),
												n
											);
										}),
											(n.getArrayBuffer = function (
												e,
												t
											) {
												var n = b(e);
												return (
													(n.responseType =
														"arraybuffer"),
													(n.onerror = function () {
														t(
															new Error(
																n.statusText
															)
														);
													}),
													(n.onload = function () {
														var e = n.response;
														if (
															0 ===
																e.byteLength &&
															200 === n.status
														)
															return t(
																new Error(
																	"http status 200 returned without content."
																)
															);
														n.status >= 200 &&
														n.status < 300 &&
														n.response
															? t(null, {
																	data: e,
																	cacheControl:
																		n.getResponseHeader(
																			"Cache-Control"
																		),
																	expires:
																		n.getResponseHeader(
																			"Expires"
																		),
															  })
															: t(
																	new _(
																		n.statusText,
																		n.status
																	)
															  );
													}),
													n.send(),
													n
												);
											}),
											(n.getImage = function (e, t) {
												return n.getArrayBuffer(
													e,
													function (e, n) {
														if (e) t(e);
														else if (n) {
															var r =
																	new v.Image(),
																i =
																	v.URL ||
																	v.webkitURL;
															r.onload =
																function () {
																	t(null, r),
																		i.revokeObjectURL(
																			r.src
																		);
																};
															var o = new v.Blob(
																[
																	new Uint8Array(
																		n.data
																	),
																],
																{
																	type: "image/png",
																}
															);
															(r.cacheControl =
																n.cacheControl),
																(r.expires =
																	n.expires),
																(r.src = n.data
																	.byteLength
																	? i.createObjectURL(
																			o
																	  )
																	: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=");
														}
													}
												);
											}),
											(n.getVideo = function (e, t) {
												var n,
													r,
													i =
														v.document.createElement(
															"video"
														);
												i.onloadstart = function () {
													t(null, i);
												};
												for (
													var o = 0;
													o < e.length;
													o++
												) {
													var a =
														v.document.createElement(
															"source"
														);
													(n = e[o]),
														(r = void 0),
														((r =
															v.document.createElement(
																"a"
															)).href = n),
														(r.protocol !==
															v.document.location
																.protocol ||
															r.host !==
																v.document
																	.location
																	.host) &&
															(i.crossOrigin =
																"Anonymous"),
														(a.src = e[o]),
														i.appendChild(a);
												}
												return i;
											});
									},
									function (e, n) {
										function i(e) {
											return (i =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										e.exports = function (e) {
											return e instanceof Number
												? "number"
												: e instanceof String
												? "string"
												: e instanceof Boolean
												? "boolean"
												: Array.isArray(e)
												? "array"
												: null === e
												? "null"
												: i(e);
										};
									},
									function (e, t) {
										var n = function e(t, n, r, i, o, a) {
											!(function (e, t) {
												if (!(e instanceof t))
													throw new TypeError(
														"Cannot call a class as a function"
													);
											})(this, e),
												(this.test = t),
												(this.ref = n),
												(this.mask = r),
												(this.fail = i),
												(this.depthFail = o),
												(this.pass = a);
										};
										(n.disabled = new n(
											{ func: 519, mask: 0 },
											0,
											0,
											7680,
											7680,
											7680
										)),
											(e.exports = n);
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function f(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function h(e) {
											return (h = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function p(e, t) {
											return (p =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var d = i(0),
											y = i(13),
											m = i(54),
											v = i(10),
											g = i(4),
											_ = g.Layout,
											b = g.Transitionable,
											x =
												(g.Transitioning,
												g.Properties,
												(function (e) {
													function t(e, n) {
														var r;
														for (var i in ((function (
															e,
															t
														) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((r = f(
															this,
															h(t).call(this)
														)).id = e.id),
														(r.metadata =
															e.metadata),
														(r.type = e.type),
														(r.minzoom = e.minzoom),
														(r.maxzoom = e.maxzoom),
														(r.visibility =
															"visible"),
														"background" !==
															e.type &&
															((r.source =
																e.source),
															(r.sourceLayer =
																e[
																	"source-layer"
																]),
															(r.filter =
																e.filter)),
														(r._featureFilter =
															function () {
																return !0;
															}),
														n.layout &&
															(r._unevaluatedLayout =
																new _(
																	n.layout
																)),
														(r._transitionablePaint =
															new b(n.paint)),
														e.paint))
															r.setPaintProperty(
																i,
																e.paint[i],
																{ validate: !1 }
															);
														for (var o in e.layout)
															r.setLayoutProperty(
																o,
																e.layout[o],
																{ validate: !1 }
															);
														return (
															(r._transitioningPaint =
																r._transitionablePaint.untransitioned()),
															r
														);
													}
													var n, r;
													return (
														(function (e, t) {
															if (
																"function" !=
																	typeof t &&
																null !== t
															)
																throw new TypeError(
																	"Super expression must either be null or a function"
																);
															(e.prototype =
																Object.create(
																	t &&
																		t.prototype,
																	{
																		constructor:
																			{
																				value: e,
																				writable:
																					!0,
																				configurable:
																					!0,
																			},
																	}
																)),
																t && p(e, t);
														})(t, v),
														(n = t),
														(r = [
															{
																key: "getLayoutProperty",
																value: function (
																	e
																) {
																	return "visibility" ===
																		e
																		? this
																				.visibility
																		: this._unevaluatedLayout.getValue(
																				e
																		  );
																},
															},
															{
																key: "setLayoutProperty",
																value: function (
																	e,
																	t,
																	n
																) {
																	if (
																		null !=
																		t
																	) {
																		var r =
																			"layers."
																				.concat(
																					this
																						.id,
																					".layout."
																				)
																				.concat(
																					e
																				);
																		if (
																			this._validate(
																				m.layoutProperty,
																				r,
																				e,
																				t,
																				n
																			)
																		)
																			return;
																	}
																	"visibility" !==
																	e
																		? this._unevaluatedLayout.setValue(
																				e,
																				t
																		  )
																		: (this.visibility =
																				"none" ===
																				t
																					? t
																					: "visible");
																},
															},
															{
																key: "getPaintProperty",
																value: function (
																	e
																) {
																	return d.endsWith(
																		e,
																		"-transition"
																	)
																		? this._transitionablePaint.getTransition(
																				e.slice(
																					0,
																					-"-transition"
																						.length
																				)
																		  )
																		: this._transitionablePaint.getValue(
																				e
																		  );
																},
															},
															{
																key: "setPaintProperty",
																value: function (
																	e,
																	t,
																	n
																) {
																	if (
																		null !=
																		t
																	) {
																		var r =
																			"layers."
																				.concat(
																					this
																						.id,
																					".paint."
																				)
																				.concat(
																					e
																				);
																		if (
																			this._validate(
																				m.paintProperty,
																				r,
																				e,
																				t,
																				n
																			)
																		)
																			return;
																	}
																	d.endsWith(
																		e,
																		"-transition"
																	)
																		? this._transitionablePaint.setTransition(
																				e.slice(
																					0,
																					-"-transition"
																						.length
																				),
																				t ||
																					void 0
																		  )
																		: this._transitionablePaint.setValue(
																				e,
																				t
																		  );
																},
															},
															{
																key: "isHidden",
																value: function (
																	e
																) {
																	return (
																		!!(
																			this
																				.minzoom &&
																			e <
																				this
																					.minzoom
																		) ||
																		!!(
																			this
																				.maxzoom &&
																			e >=
																				this
																					.maxzoom
																		) ||
																		"none" ===
																			this
																				.visibility
																	);
																},
															},
															{
																key: "updateTransitions",
																value: function (
																	e
																) {
																	this._transitioningPaint =
																		this._transitionablePaint.transitioned(
																			e,
																			this
																				._transitioningPaint
																		);
																},
															},
															{
																key: "hasTransition",
																value: function () {
																	return this._transitioningPaint.hasTransition();
																},
															},
															{
																key: "recalculate",
																value: function (
																	e
																) {
																	this
																		._unevaluatedLayout &&
																		(this.layout =
																			this._unevaluatedLayout.possiblyEvaluate(
																				e
																			)),
																		(this.paint =
																			this._transitioningPaint.possiblyEvaluate(
																				e
																			));
																},
															},
															{
																key: "serialize",
																value: function () {
																	var e = {
																		id: this
																			.id,
																		type: this
																			.type,
																		source: this
																			.source,
																		"source-layer":
																			this
																				.sourceLayer,
																		metadata:
																			this
																				.metadata,
																		minzoom:
																			this
																				.minzoom,
																		maxzoom:
																			this
																				.maxzoom,
																		filter: this
																			.filter,
																		layout:
																			this
																				._unevaluatedLayout &&
																			this._unevaluatedLayout.serialize(),
																		paint:
																			this
																				._transitionablePaint &&
																			this._transitionablePaint.serialize(),
																	};
																	return (
																		"none" ===
																			this
																				.visibility &&
																			((e.layout =
																				e.layout ||
																				{}),
																			(e.layout.visibility =
																				"none")),
																		d.filterObject(
																			e,
																			function (
																				e,
																				t
																			) {
																				return !(
																					void 0 ===
																						e ||
																					("layout" ===
																						t &&
																						!(0,
																						u.default)(
																							e
																						)
																							.length) ||
																					("paint" ===
																						t &&
																						!(0,
																						u.default)(
																							e
																						)
																							.length)
																				);
																			}
																		)
																	);
																},
															},
															{
																key: "_validate",
																value: function (
																	e,
																	t,
																	n,
																	r,
																	i
																) {
																	return (
																		(!i ||
																			!1 !==
																				i.validate) &&
																		m.emitErrors(
																			this,
																			e.call(
																				m,
																				{
																					key: t,
																					layerType:
																						this
																							.type,
																					objectKey:
																						n,
																					value: r,
																					styleSpec:
																						y,
																					style: {
																						glyphs: !0,
																						sprite: !0,
																					},
																				}
																			)
																		)
																	);
																},
															},
															{
																key: "hasOffscreenPass",
																value: function () {
																	return !1;
																},
															},
															{
																key: "resize",
																value: function () {},
															},
														]) && s(n.prototype, r),
														t
													);
												})());
										e.exports = x;
										var w = {
											circle: i(151),
											heatmap: i(155),
											hillshade: i(158),
											fill: i(160),
											"fill-extrusion": i(165),
											line: i(169),
											symbol: i(174),
											background: i(180),
											raster: i(182),
										};
										x.create = function (e) {
											return new w[e.type](e);
										};
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(5),
											o = i.HTMLImageElement,
											a = i.HTMLCanvasElement,
											s = i.HTMLVideoElement,
											l = i.ImageData,
											u = (function () {
												function e(t, n, r, i) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.context = t);
													var o = n.width,
														a = n.height;
													(this.size = [o, a]),
														(this.format = r),
														(this.texture =
															t.gl.createTexture()),
														this.update(n, i);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "update",
															value: function (
																e,
																t
															) {
																var n = e.width,
																	r =
																		e.height;
																this.size = [
																	n,
																	r,
																];
																var i =
																		this
																			.context,
																	u = i.gl;
																u.bindTexture(
																	u.TEXTURE_2D,
																	this.texture
																),
																	i.pixelStoreUnpack.set(
																		1
																	),
																	this
																		.format ===
																		u.RGBA &&
																		!1 !==
																			t &&
																		i.pixelStoreUnpackPremultiplyAlpha.set(
																			!0
																		),
																	e instanceof
																		o ||
																	e instanceof
																		a ||
																	e instanceof
																		s ||
																	e instanceof
																		l
																		? u.texImage2D(
																				u.TEXTURE_2D,
																				0,
																				this
																					.format,
																				this
																					.format,
																				u.UNSIGNED_BYTE,
																				e
																		  )
																		: u.texImage2D(
																				u.TEXTURE_2D,
																				0,
																				this
																					.format,
																				n,
																				r,
																				0,
																				this
																					.format,
																				u.UNSIGNED_BYTE,
																				e.data
																		  );
															},
														},
														{
															key: "bind",
															value: function (
																e,
																t,
																n
															) {
																var r =
																	this.context
																		.gl;
																r.bindTexture(
																	r.TEXTURE_2D,
																	this.texture
																),
																	e !==
																		this
																			.filter &&
																		(r.texParameteri(
																			r.TEXTURE_2D,
																			r.TEXTURE_MAG_FILTER,
																			e
																		),
																		r.texParameteri(
																			r.TEXTURE_2D,
																			r.TEXTURE_MIN_FILTER,
																			n ||
																				e
																		),
																		(this.filter =
																			e)),
																	t !==
																		this
																			.wrap &&
																		(r.texParameteri(
																			r.TEXTURE_2D,
																			r.TEXTURE_WRAP_S,
																			t
																		),
																		r.texParameteri(
																			r.TEXTURE_2D,
																			r.TEXTURE_WRAP_T,
																			t
																		),
																		(this.wrap =
																			t));
															},
														},
														{
															key: "destroy",
															value: function () {
																this.context.gl.deleteTexture(
																	this.texture
																),
																	(this.texture =
																		null);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = u;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var l = i(0).wrap,
											u = (function () {
												function e(t, n) {
													if (
														((function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, e),
														isNaN(t) || isNaN(n))
													)
														throw new Error(
															"Invalid LngLat object: ("
																.concat(t, ", ")
																.concat(n, ")")
														);
													if (
														((this.lng = +t),
														(this.lat = +n),
														this.lat > 90 ||
															this.lat < -90)
													)
														throw new Error(
															"Invalid LngLat latitude value: must be between -90 and 90"
														);
												}
												var t, n, r;
												return (
													(t = e),
													(r = [
														{
															key: "convert",
															value: function (
																t
															) {
																if (
																	t instanceof
																	e
																)
																	return t;
																if (
																	Array.isArray(
																		t
																	) &&
																	(2 ===
																		t.length ||
																		3 ===
																			t.length)
																)
																	return new e(
																		Number(
																			t[0]
																		),
																		Number(
																			t[1]
																		)
																	);
																if (
																	!Array.isArray(
																		t
																	) &&
																	"object" ===
																		o(t) &&
																	null !== t
																)
																	return new e(
																		Number(
																			t.lng
																		),
																		Number(
																			t.lat
																		)
																	);
																throw new Error(
																	"`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]"
																);
															},
														},
													]),
													(n = [
														{
															key: "wrap",
															value: function () {
																return new e(
																	l(
																		this
																			.lng,
																		-180,
																		180
																	),
																	this.lat
																);
															},
														},
														{
															key: "toArray",
															value: function () {
																return [
																	this.lng,
																	this.lat,
																];
															},
														},
														{
															key: "toString",
															value: function () {
																return "LngLat("
																	.concat(
																		this
																			.lng,
																		", "
																	)
																	.concat(
																		this
																			.lat,
																		")"
																	);
															},
														},
														{
															key: "toBounds",
															value: function (
																t
															) {
																var n =
																		(360 *
																			t) /
																		40075017,
																	r =
																		n /
																		Math.cos(
																			(Math.PI /
																				180) *
																				this
																					.lat
																		);
																return new (i(
																	39
																))(
																	new e(
																		this
																			.lng -
																			r,
																		this
																			.lat -
																			n
																	),
																	new e(
																		this
																			.lng +
																			r,
																		this
																			.lat +
																			n
																	)
																);
															},
														},
													]) && s(t.prototype, n),
													r && s(t, r),
													e
												);
											})();
										e.exports = u;
									},
									function (e, t, n) {
										e.exports = (function () {
											var e;
											return (
												((e = new Float32Array(
													3
												))[0] = 0),
												(e[1] = 0),
												(e[2] = 0),
												(function () {
													var e = new Float32Array(4);
													(e[0] = 0),
														(e[1] = 0),
														(e[2] = 0),
														(e[3] = 0);
												})(),
												{
													vec3: {
														transformMat3:
															function (e, t, n) {
																var r = t[0],
																	i = t[1],
																	o = t[2];
																return (
																	(e[0] =
																		r *
																			n[0] +
																		i *
																			n[3] +
																		o *
																			n[6]),
																	(e[1] =
																		r *
																			n[1] +
																		i *
																			n[4] +
																		o *
																			n[7]),
																	(e[2] =
																		r *
																			n[2] +
																		i *
																			n[5] +
																		o *
																			n[8]),
																	e
																);
															},
													},
													vec4: {
														transformMat4:
															function (e, t, n) {
																var r = t[0],
																	i = t[1],
																	o = t[2],
																	a = t[3];
																return (
																	(e[0] =
																		n[0] *
																			r +
																		n[4] *
																			i +
																		n[8] *
																			o +
																		n[12] *
																			a),
																	(e[1] =
																		n[1] *
																			r +
																		n[5] *
																			i +
																		n[9] *
																			o +
																		n[13] *
																			a),
																	(e[2] =
																		n[2] *
																			r +
																		n[6] *
																			i +
																		n[10] *
																			o +
																		n[14] *
																			a),
																	(e[3] =
																		n[3] *
																			r +
																		n[7] *
																			i +
																		n[11] *
																			o +
																		n[15] *
																			a),
																	e
																);
															},
													},
													mat2: {
														create: function () {
															var e =
																new Float32Array(
																	4
																);
															return (
																(e[0] = 1),
																(e[1] = 0),
																(e[2] = 0),
																(e[3] = 1),
																e
															);
														},
														rotate: function (
															e,
															t,
															n
														) {
															var r = t[0],
																i = t[1],
																o = t[2],
																a = t[3],
																s = Math.sin(n),
																l = Math.cos(n);
															return (
																(e[0] =
																	r * l +
																	o * s),
																(e[1] =
																	i * l +
																	a * s),
																(e[2] =
																	r * -s +
																	o * l),
																(e[3] =
																	i * -s +
																	a * l),
																e
															);
														},
														scale: function (
															e,
															t,
															n
														) {
															var r = t[0],
																i = t[1],
																o = t[2],
																a = t[3],
																s = n[0],
																l = n[1];
															return (
																(e[0] = r * s),
																(e[1] = i * s),
																(e[2] = o * l),
																(e[3] = a * l),
																e
															);
														},
													},
													mat3: {
														create: function () {
															var e =
																new Float32Array(
																	9
																);
															return (
																(e[0] = 1),
																(e[1] = 0),
																(e[2] = 0),
																(e[3] = 0),
																(e[4] = 1),
																(e[5] = 0),
																(e[6] = 0),
																(e[7] = 0),
																(e[8] = 1),
																e
															);
														},
														fromRotation: function (
															e,
															t
														) {
															var n = Math.sin(t),
																r = Math.cos(t);
															return (
																(e[0] = r),
																(e[1] = n),
																(e[2] = 0),
																(e[3] = -n),
																(e[4] = r),
																(e[5] = 0),
																(e[6] = 0),
																(e[7] = 0),
																(e[8] = 1),
																e
															);
														},
													},
													mat4: {
														create: function () {
															var e =
																new Float32Array(
																	16
																);
															return (
																(e[0] = 1),
																(e[1] = 0),
																(e[2] = 0),
																(e[3] = 0),
																(e[4] = 0),
																(e[5] = 1),
																(e[6] = 0),
																(e[7] = 0),
																(e[8] = 0),
																(e[9] = 0),
																(e[10] = 1),
																(e[11] = 0),
																(e[12] = 0),
																(e[13] = 0),
																(e[14] = 0),
																(e[15] = 1),
																e
															);
														},
														identity: function (e) {
															return (
																(e[0] = 1),
																(e[1] = 0),
																(e[2] = 0),
																(e[3] = 0),
																(e[4] = 0),
																(e[5] = 1),
																(e[6] = 0),
																(e[7] = 0),
																(e[8] = 0),
																(e[9] = 0),
																(e[10] = 1),
																(e[11] = 0),
																(e[12] = 0),
																(e[13] = 0),
																(e[14] = 0),
																(e[15] = 1),
																e
															);
														},
														translate: function (
															e,
															t,
															n
														) {
															var r,
																i,
																o,
																a,
																s,
																l,
																u,
																c,
																f,
																h,
																p,
																d,
																y = n[0],
																m = n[1],
																v = n[2];
															return (
																t === e
																	? ((e[12] =
																			t[0] *
																				y +
																			t[4] *
																				m +
																			t[8] *
																				v +
																			t[12]),
																	  (e[13] =
																			t[1] *
																				y +
																			t[5] *
																				m +
																			t[9] *
																				v +
																			t[13]),
																	  (e[14] =
																			t[2] *
																				y +
																			t[6] *
																				m +
																			t[10] *
																				v +
																			t[14]),
																	  (e[15] =
																			t[3] *
																				y +
																			t[7] *
																				m +
																			t[11] *
																				v +
																			t[15]))
																	: ((r =
																			t[0]),
																	  (i =
																			t[1]),
																	  (o =
																			t[2]),
																	  (a =
																			t[3]),
																	  (s =
																			t[4]),
																	  (l =
																			t[5]),
																	  (u =
																			t[6]),
																	  (c =
																			t[7]),
																	  (f =
																			t[8]),
																	  (h =
																			t[9]),
																	  (p =
																			t[10]),
																	  (d =
																			t[11]),
																	  (e[0] =
																			r),
																	  (e[1] =
																			i),
																	  (e[2] =
																			o),
																	  (e[3] =
																			a),
																	  (e[4] =
																			s),
																	  (e[5] =
																			l),
																	  (e[6] =
																			u),
																	  (e[7] =
																			c),
																	  (e[8] =
																			f),
																	  (e[9] =
																			h),
																	  (e[10] =
																			p),
																	  (e[11] =
																			d),
																	  (e[12] =
																			r *
																				y +
																			s *
																				m +
																			f *
																				v +
																			t[12]),
																	  (e[13] =
																			i *
																				y +
																			l *
																				m +
																			h *
																				v +
																			t[13]),
																	  (e[14] =
																			o *
																				y +
																			u *
																				m +
																			p *
																				v +
																			t[14]),
																	  (e[15] =
																			a *
																				y +
																			c *
																				m +
																			d *
																				v +
																			t[15])),
																e
															);
														},
														scale: function (
															e,
															t,
															n
														) {
															var r = n[0],
																i = n[1],
																o = n[2];
															return (
																(e[0] =
																	t[0] * r),
																(e[1] =
																	t[1] * r),
																(e[2] =
																	t[2] * r),
																(e[3] =
																	t[3] * r),
																(e[4] =
																	t[4] * i),
																(e[5] =
																	t[5] * i),
																(e[6] =
																	t[6] * i),
																(e[7] =
																	t[7] * i),
																(e[8] =
																	t[8] * o),
																(e[9] =
																	t[9] * o),
																(e[10] =
																	t[10] * o),
																(e[11] =
																	t[11] * o),
																(e[12] = t[12]),
																(e[13] = t[13]),
																(e[14] = t[14]),
																(e[15] = t[15]),
																e
															);
														},
														multiply: function (
															e,
															t,
															n
														) {
															var r = t[0],
																i = t[1],
																o = t[2],
																a = t[3],
																s = t[4],
																l = t[5],
																u = t[6],
																c = t[7],
																f = t[8],
																h = t[9],
																p = t[10],
																d = t[11],
																y = t[12],
																m = t[13],
																v = t[14],
																g = t[15],
																_ = n[0],
																b = n[1],
																x = n[2],
																w = n[3];
															return (
																(e[0] =
																	_ * r +
																	b * s +
																	x * f +
																	w * y),
																(e[1] =
																	_ * i +
																	b * l +
																	x * h +
																	w * m),
																(e[2] =
																	_ * o +
																	b * u +
																	x * p +
																	w * v),
																(e[3] =
																	_ * a +
																	b * c +
																	x * d +
																	w * g),
																(_ = n[4]),
																(b = n[5]),
																(x = n[6]),
																(w = n[7]),
																(e[4] =
																	_ * r +
																	b * s +
																	x * f +
																	w * y),
																(e[5] =
																	_ * i +
																	b * l +
																	x * h +
																	w * m),
																(e[6] =
																	_ * o +
																	b * u +
																	x * p +
																	w * v),
																(e[7] =
																	_ * a +
																	b * c +
																	x * d +
																	w * g),
																(_ = n[8]),
																(b = n[9]),
																(x = n[10]),
																(w = n[11]),
																(e[8] =
																	_ * r +
																	b * s +
																	x * f +
																	w * y),
																(e[9] =
																	_ * i +
																	b * l +
																	x * h +
																	w * m),
																(e[10] =
																	_ * o +
																	b * u +
																	x * p +
																	w * v),
																(e[11] =
																	_ * a +
																	b * c +
																	x * d +
																	w * g),
																(_ = n[12]),
																(b = n[13]),
																(x = n[14]),
																(w = n[15]),
																(e[12] =
																	_ * r +
																	b * s +
																	x * f +
																	w * y),
																(e[13] =
																	_ * i +
																	b * l +
																	x * h +
																	w * m),
																(e[14] =
																	_ * o +
																	b * u +
																	x * p +
																	w * v),
																(e[15] =
																	_ * a +
																	b * c +
																	x * d +
																	w * g),
																e
															);
														},
														perspective: function (
															e,
															t,
															n,
															r,
															i
														) {
															var o =
																	1 /
																	Math.tan(
																		t / 2
																	),
																a = 1 / (r - i);
															return (
																(e[0] = o / n),
																(e[1] = 0),
																(e[2] = 0),
																(e[3] = 0),
																(e[4] = 0),
																(e[5] = o),
																(e[6] = 0),
																(e[7] = 0),
																(e[8] = 0),
																(e[9] = 0),
																(e[10] =
																	(i + r) *
																	a),
																(e[11] = -1),
																(e[12] = 0),
																(e[13] = 0),
																(e[14] =
																	2 *
																	i *
																	r *
																	a),
																(e[15] = 0),
																e
															);
														},
														rotateX: function (
															e,
															t,
															n
														) {
															var r = Math.sin(n),
																i = Math.cos(n),
																o = t[4],
																a = t[5],
																s = t[6],
																l = t[7],
																u = t[8],
																c = t[9],
																f = t[10],
																h = t[11];
															return (
																t !== e &&
																	((e[0] =
																		t[0]),
																	(e[1] =
																		t[1]),
																	(e[2] =
																		t[2]),
																	(e[3] =
																		t[3]),
																	(e[12] =
																		t[12]),
																	(e[13] =
																		t[13]),
																	(e[14] =
																		t[14]),
																	(e[15] =
																		t[15])),
																(e[4] =
																	o * i +
																	u * r),
																(e[5] =
																	a * i +
																	c * r),
																(e[6] =
																	s * i +
																	f * r),
																(e[7] =
																	l * i +
																	h * r),
																(e[8] =
																	u * i -
																	o * r),
																(e[9] =
																	c * i -
																	a * r),
																(e[10] =
																	f * i -
																	s * r),
																(e[11] =
																	h * i -
																	l * r),
																e
															);
														},
														rotateZ: function (
															e,
															t,
															n
														) {
															var r = Math.sin(n),
																i = Math.cos(n),
																o = t[0],
																a = t[1],
																s = t[2],
																l = t[3],
																u = t[4],
																c = t[5],
																f = t[6],
																h = t[7];
															return (
																t !== e &&
																	((e[8] =
																		t[8]),
																	(e[9] =
																		t[9]),
																	(e[10] =
																		t[10]),
																	(e[11] =
																		t[11]),
																	(e[12] =
																		t[12]),
																	(e[13] =
																		t[13]),
																	(e[14] =
																		t[14]),
																	(e[15] =
																		t[15])),
																(e[0] =
																	o * i +
																	u * r),
																(e[1] =
																	a * i +
																	c * r),
																(e[2] =
																	s * i +
																	f * r),
																(e[3] =
																	l * i +
																	h * r),
																(e[4] =
																	u * i -
																	o * r),
																(e[5] =
																	c * i -
																	a * r),
																(e[6] =
																	f * i -
																	s * r),
																(e[7] =
																	h * i -
																	l * r),
																e
															);
														},
														invert: function (
															e,
															t
														) {
															var n = t[0],
																r = t[1],
																i = t[2],
																o = t[3],
																a = t[4],
																s = t[5],
																l = t[6],
																u = t[7],
																c = t[8],
																f = t[9],
																h = t[10],
																p = t[11],
																d = t[12],
																y = t[13],
																m = t[14],
																v = t[15],
																g =
																	n * s -
																	r * a,
																_ =
																	n * l -
																	i * a,
																b =
																	n * u -
																	o * a,
																x =
																	r * l -
																	i * s,
																w =
																	r * u -
																	o * s,
																C =
																	i * u -
																	o * l,
																T =
																	c * y -
																	f * d,
																k =
																	c * m -
																	h * d,
																P =
																	c * v -
																	p * d,
																E =
																	f * m -
																	h * y,
																S =
																	f * v -
																	p * y,
																A =
																	h * v -
																	p * m,
																M =
																	g * A -
																	_ * S +
																	b * E +
																	x * P -
																	w * k +
																	C * T;
															return M
																? ((M = 1 / M),
																  (e[0] =
																		(s * A -
																			l *
																				S +
																			u *
																				E) *
																		M),
																  (e[1] =
																		(i * S -
																			r *
																				A -
																			o *
																				E) *
																		M),
																  (e[2] =
																		(y * C -
																			m *
																				w +
																			v *
																				x) *
																		M),
																  (e[3] =
																		(h * w -
																			f *
																				C -
																			p *
																				x) *
																		M),
																  (e[4] =
																		(l * P -
																			a *
																				A -
																			u *
																				k) *
																		M),
																  (e[5] =
																		(n * A -
																			i *
																				P +
																			o *
																				k) *
																		M),
																  (e[6] =
																		(m * b -
																			d *
																				C -
																			v *
																				_) *
																		M),
																  (e[7] =
																		(c * C -
																			h *
																				b +
																			p *
																				_) *
																		M),
																  (e[8] =
																		(a * S -
																			s *
																				P +
																			u *
																				T) *
																		M),
																  (e[9] =
																		(r * P -
																			n *
																				S -
																			o *
																				T) *
																		M),
																  (e[10] =
																		(d * w -
																			y *
																				b +
																			v *
																				g) *
																		M),
																  (e[11] =
																		(f * b -
																			c *
																				w -
																			p *
																				g) *
																		M),
																  (e[12] =
																		(s * k -
																			a *
																				E -
																			l *
																				T) *
																		M),
																  (e[13] =
																		(n * E -
																			r *
																				k +
																			i *
																				T) *
																		M),
																  (e[14] =
																		(y * _ -
																			d *
																				x -
																			m *
																				g) *
																		M),
																  (e[15] =
																		(c * x -
																			f *
																				_ +
																			h *
																				g) *
																		M),
																  e)
																: null;
														},
														ortho: function (
															e,
															t,
															n,
															r,
															i,
															o,
															a
														) {
															var s = 1 / (t - n),
																l = 1 / (r - i),
																u = 1 / (o - a);
															return (
																(e[0] = -2 * s),
																(e[1] = 0),
																(e[2] = 0),
																(e[3] = 0),
																(e[4] = 0),
																(e[5] = -2 * l),
																(e[6] = 0),
																(e[7] = 0),
																(e[8] = 0),
																(e[9] = 0),
																(e[10] = 2 * u),
																(e[11] = 0),
																(e[12] =
																	(t + n) *
																	s),
																(e[13] =
																	(i + r) *
																	l),
																(e[14] =
																	(a + o) *
																	u),
																(e[15] = 1),
																e
															);
														},
													},
												}
											);
										})();
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function i(e, t) {
											if (!(e instanceof t))
												throw new TypeError(
													"Cannot call a class as a function"
												);
										}
										var o = n(1),
											a = {
												Int8: Int8Array,
												Uint8: Uint8Array,
												Int16: Int16Array,
												Uint16: Uint16Array,
												Int32: Int32Array,
												Uint32: Uint32Array,
												Float32: Float32Array,
											},
											s = (function () {
												function e() {
													i(this, e),
														(this.isTransferred =
															!1),
														(this.capacity = -1),
														this.resize(0);
												}
												var t, n, a;
												return (
													(t = e),
													(a = [
														{
															key: "serialize",
															value: function (
																e,
																t
															) {
																return (
																	o(
																		!e.isTransferred
																	),
																	e._trim(),
																	t &&
																		((e.isTransferred =
																			!0),
																		t.push(
																			e.arrayBuffer
																		)),
																	{
																		length: e.length,
																		arrayBuffer:
																			e.arrayBuffer,
																	}
																);
															},
														},
														{
															key: "deserialize",
															value: function (
																e
															) {
																var t =
																	Object.create(
																		this
																			.prototype
																	);
																return (
																	(t.arrayBuffer =
																		e.arrayBuffer),
																	(t.length =
																		e.length),
																	(t.capacity =
																		e
																			.arrayBuffer
																			.byteLength /
																		t.bytesPerElement),
																	t._refreshViews(),
																	t
																);
															},
														},
													]),
													(n = [
														{
															key: "_trim",
															value: function () {
																this.length !==
																	this
																		.capacity &&
																	((this.capacity =
																		this.length),
																	(this.arrayBuffer =
																		this.arrayBuffer.slice(
																			0,
																			this
																				.length *
																				this
																					.bytesPerElement
																		)),
																	this._refreshViews());
															},
														},
														{
															key: "clear",
															value: function () {
																this.length = 0;
															},
														},
														{
															key: "resize",
															value: function (
																e
															) {
																o(
																	!this
																		.isTransferred
																),
																	this.reserve(
																		e
																	),
																	(this.length =
																		e);
															},
														},
														{
															key: "reserve",
															value: function (
																e
															) {
																if (
																	e >
																	this
																		.capacity
																) {
																	(this.capacity =
																		Math.max(
																			e,
																			Math.floor(
																				5 *
																					this
																						.capacity
																			),
																			128
																		)),
																		(this.arrayBuffer =
																			new ArrayBuffer(
																				this
																					.capacity *
																					this
																						.bytesPerElement
																			));
																	var t =
																		this
																			.uint8;
																	this._refreshViews(),
																		t &&
																			this.uint8.set(
																				t
																			);
																}
															},
														},
														{
															key: "_refreshViews",
															value: function () {
																throw new Error(
																	"_refreshViews() must be implemented by each concrete StructArray layout"
																);
															},
														},
													]) && r(t.prototype, n),
													a && r(t, a),
													e
												);
											})();
										function l(e, t) {
											return Math.ceil(e / t) * t;
										}
										(e.exports.StructArray = s),
											(e.exports.Struct = function e(
												t,
												n
											) {
												i(this, e),
													(this._structArray = t),
													(this._pos1 =
														n * this.size),
													(this._pos2 =
														this._pos1 / 2),
													(this._pos4 =
														this._pos1 / 4),
													(this._pos8 =
														this._pos1 / 8);
											}),
											(e.exports.viewTypes = a),
											(e.exports.createLayout = function (
												e
											) {
												var t =
														arguments.length > 1 &&
														void 0 !== arguments[1]
															? arguments[1]
															: 1,
													n = 0,
													r = 0;
												return {
													members: e.map(function (
														e
													) {
														o(e.name.length);
														var i,
															s =
																((i = e.type),
																a[i]
																	.BYTES_PER_ELEMENT),
															u = (n = l(
																n,
																Math.max(t, s)
															)),
															c =
																e.components ||
																1;
														return (
															(r = Math.max(
																r,
																s
															)),
															(n += s * c),
															{
																name: e.name,
																type: e.type,
																components: c,
																offset: u,
															}
														);
													}),
													size: l(n, Math.max(r, t)),
													alignment: t,
												};
											});
									},
									function (e, t) {
										function n(e) {
											return e instanceof Number ||
												e instanceof String ||
												e instanceof Boolean
												? e.valueOf()
												: e;
										}
										(e.exports = n),
											(e.exports.deep = function e(t) {
												return Array.isArray(t)
													? t.map(e)
													: n(t);
											});
									},
									function (e, n, i) {
										function s(e) {
											return (s =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										var l = i(1),
											u = i(12),
											c = i(8),
											f = c.NullType,
											h = c.NumberType,
											p = c.StringType,
											d = c.BooleanType,
											y = c.ColorType,
											m = c.ObjectType,
											v = c.ValueType,
											g = c.array;
										e.exports = {
											Color: u,
											validateRGBA: function (
												e,
												t,
												n,
												r
											) {
												return "number" == typeof e &&
													e >= 0 &&
													e <= 255 &&
													"number" == typeof t &&
													t >= 0 &&
													t <= 255 &&
													"number" == typeof n &&
													n >= 0 &&
													n <= 255
													? void 0 === r ||
													  ("number" == typeof r &&
															r >= 0 &&
															r <= 1)
														? null
														: "Invalid rgba value [".concat(
																[
																	e,
																	t,
																	n,
																	r,
																].join(", "),
																"]: 'a' must be between 0 and 1."
														  )
													: "Invalid rgba value [".concat(
															("number" ==
															typeof r
																? [e, t, n, r]
																: [e, t, n]
															).join(", "),
															"]: 'r', 'g', and 'b' must be between 0 and 255."
													  );
											},
											isValue: function e(t) {
												if (null === t) return !0;
												if ("string" == typeof t)
													return !0;
												if ("boolean" == typeof t)
													return !0;
												if ("number" == typeof t)
													return !0;
												if (t instanceof u) return !0;
												if (Array.isArray(t)) {
													var n = !0,
														r = !1,
														i = void 0;
													try {
														for (
															var a,
																l = (0,
																o.default)(t);
															!(n = (a = l.next())
																.done);
															n = !0
														)
															if (!e(a.value))
																return !1;
													} catch (e) {
														(r = !0), (i = e);
													} finally {
														try {
															n ||
																null ==
																	l.return ||
																l.return();
														} finally {
															if (r) throw i;
														}
													}
													return !0;
												}
												if ("object" === s(t)) {
													for (var c in t)
														if (!e(t[c])) return !1;
													return !0;
												}
												return !1;
											},
											typeOf: function e(t) {
												if (null === t) return f;
												if ("string" == typeof t)
													return p;
												if ("boolean" == typeof t)
													return d;
												if ("number" == typeof t)
													return h;
												if (t instanceof u) return y;
												if (Array.isArray(t)) {
													var n,
														r = t.length,
														i = !0,
														a = !1,
														c = void 0;
													try {
														for (
															var _,
																b = (0,
																o.default)(t);
															!(i = (_ = b.next())
																.done);
															i = !0
														) {
															var x = e(_.value);
															if (n) {
																if (n === x)
																	continue;
																n = v;
																break;
															}
															n = x;
														}
													} catch (e) {
														(a = !0), (c = e);
													} finally {
														try {
															i ||
																null ==
																	b.return ||
																b.return();
														} finally {
															if (a) throw c;
														}
													}
													return g(n || v, r);
												}
												return l("object" === s(t)), m;
											},
										};
									},
									function (e, t, n) {
										var r = n(12);
										function i(e, t, n) {
											return e * (1 - n) + t * n;
										}
										e.exports = {
											number: i,
											color: function (e, t, n) {
												return new r(
													i(e.r, t.r, n),
													i(e.g, t.g, n),
													i(e.b, t.b, n),
													i(e.a, t.a, n)
												);
											},
											array: function (e, t, n) {
												return e.map(function (e, r) {
													return i(e, t[r], n);
												});
											},
										};
									},
									function (e, t, n) {
										function r(e, t) {
											if (!(e instanceof t))
												throw new TypeError(
													"Cannot call a class as a function"
												);
										}
										function i(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function o(e, t, n) {
											return (
												t && i(e.prototype, t),
												n && i(e, n),
												e
											);
										}
										var a = n(198),
											s = n(1),
											l = n(11).register,
											u = n(35),
											c = (function () {
												function e(t, n, i) {
													r(this, e),
														s(t >= 0 && t <= 25),
														s(
															n >= 0 &&
																n <
																	Math.pow(
																		2,
																		t
																	)
														),
														s(
															i >= 0 &&
																i <
																	Math.pow(
																		2,
																		t
																	)
														),
														(this.z = t),
														(this.x = n),
														(this.y = i),
														(this.key = p(
															0,
															t,
															n,
															i
														));
												}
												return (
													o(e, [
														{
															key: "equals",
															value: function (
																e
															) {
																return (
																	this.z ===
																		e.z &&
																	this.x ===
																		e.x &&
																	this.y ===
																		e.y
																);
															},
														},
														{
															key: "url",
															value: function (
																e,
																t
															) {
																var n =
																		a.getTileBBox(
																			this
																				.x,
																			this
																				.y,
																			this
																				.z
																		),
																	r =
																		(function (
																			e,
																			t,
																			n
																		) {
																			for (
																				var r,
																					i =
																						"",
																					o =
																						e;
																				o >
																				0;
																				o--
																			)
																				i +=
																					(t &
																					(r =
																						1 <<
																						(o -
																							1))
																						? 1
																						: 0) +
																					(n &
																					r
																						? 2
																						: 0);
																			return i;
																		})(
																			this
																				.z,
																			this
																				.x,
																			this
																				.y
																		);
																return e[
																	(this.x +
																		this
																			.y) %
																		e.length
																]
																	.replace(
																		"{prefix}",
																		(
																			this
																				.x %
																			16
																		).toString(
																			16
																		) +
																			(
																				this
																					.y %
																				16
																			).toString(
																				16
																			)
																	)
																	.replace(
																		"{z}",
																		String(
																			this
																				.z
																		)
																	)
																	.replace(
																		"{x}",
																		String(
																			this
																				.x
																		)
																	)
																	.replace(
																		"{y}",
																		String(
																			"tms" ===
																				t
																				? Math.pow(
																						2,
																						this
																							.z
																				  ) -
																						this
																							.y -
																						1
																				: this
																						.y
																		)
																	)
																	.replace(
																		"{quadkey}",
																		r
																	)
																	.replace(
																		"{bbox-epsg-3857}",
																		n
																	);
															},
														},
													]),
													e
												);
											})(),
											f = function e(t, n, i) {
												r(this, e),
													(this.wrap = t),
													(this.canonical = n),
													(this.key = p(
														t,
														n.z,
														n.x,
														n.y
													)),
													(this.posMatrix = i);
											},
											h = (function () {
												function e(t, n, i, o, a) {
													r(this, e),
														s(t >= i),
														(this.overscaledZ = t),
														(this.wrap = n),
														(this.canonical = new c(
															i,
															+o,
															+a
														)),
														(this.key = p(
															n,
															t,
															o,
															a
														));
												}
												return (
													o(e, [
														{
															key: "scaledTo",
															value: function (
																t
															) {
																s(
																	t <=
																		this
																			.overscaledZ
																);
																var n =
																	this
																		.canonical
																		.z - t;
																return t >
																	this
																		.canonical
																		.z
																	? new e(
																			t,
																			this.wrap,
																			this.canonical.z,
																			this.canonical.x,
																			this.canonical.y
																	  )
																	: new e(
																			t,
																			this.wrap,
																			t,
																			this
																				.canonical
																				.x >>
																				n,
																			this
																				.canonical
																				.y >>
																				n
																	  );
															},
														},
														{
															key: "isChildOf",
															value: function (
																e
															) {
																var t =
																	this
																		.canonical
																		.z -
																	e.canonical
																		.z;
																return (
																	0 ===
																		e.overscaledZ ||
																	(e.overscaledZ <
																		this
																			.overscaledZ &&
																		e
																			.canonical
																			.x ===
																			this
																				.canonical
																				.x >>
																				t &&
																		e
																			.canonical
																			.y ===
																			this
																				.canonical
																				.y >>
																				t)
																);
															},
														},
														{
															key: "children",
															value: function (
																t
															) {
																if (
																	this
																		.overscaledZ >=
																	t
																)
																	return [
																		new e(
																			this
																				.overscaledZ +
																				1,
																			this.wrap,
																			this.canonical.z,
																			this.canonical.x,
																			this.canonical.y
																		),
																	];
																var n =
																		this
																			.canonical
																			.z +
																		1,
																	r =
																		2 *
																		this
																			.canonical
																			.x,
																	i =
																		2 *
																		this
																			.canonical
																			.y;
																return [
																	new e(
																		n,
																		this.wrap,
																		n,
																		r,
																		i
																	),
																	new e(
																		n,
																		this.wrap,
																		n,
																		r + 1,
																		i
																	),
																	new e(
																		n,
																		this.wrap,
																		n,
																		r,
																		i + 1
																	),
																	new e(
																		n,
																		this.wrap,
																		n,
																		r + 1,
																		i + 1
																	),
																];
															},
														},
														{
															key: "isLessThan",
															value: function (
																e
															) {
																return (
																	this.wrap <
																		e.wrap ||
																	(!(
																		this
																			.wrap >
																		e.wrap
																	) &&
																		(this
																			.overscaledZ <
																			e.overscaledZ ||
																			(!(
																				this
																					.overscaledZ >
																				e.overscaledZ
																			) &&
																				(this
																					.canonical
																					.x <
																					e
																						.canonical
																						.x ||
																					(!(
																						this
																							.canonical
																							.x >
																						e
																							.canonical
																							.x
																					) &&
																						this
																							.canonical
																							.y <
																							e
																								.canonical
																								.y)))))
																);
															},
														},
														{
															key: "wrapped",
															value: function () {
																return new e(
																	this.overscaledZ,
																	0,
																	this.canonical.z,
																	this.canonical.x,
																	this.canonical.y
																);
															},
														},
														{
															key: "overscaleFactor",
															value: function () {
																return Math.pow(
																	2,
																	this
																		.overscaledZ -
																		this
																			.canonical
																			.z
																);
															},
														},
														{
															key: "toUnwrapped",
															value: function () {
																return new f(
																	this.wrap,
																	this.canonical,
																	this.posMatrix
																);
															},
														},
														{
															key: "toString",
															value: function () {
																return ""
																	.concat(
																		this
																			.overscaledZ,
																		"/"
																	)
																	.concat(
																		this
																			.canonical
																			.x,
																		"/"
																	)
																	.concat(
																		this
																			.canonical
																			.y
																	);
															},
														},
														{
															key: "toCoordinate",
															value: function () {
																return new u(
																	this
																		.canonical
																		.x +
																		Math.pow(
																			2,
																			this
																				.wrap
																		),
																	this.canonical.y,
																	this.canonical.z
																);
															},
														},
													]),
													e
												);
											})();
										function p(e, t, n, r) {
											(e *= 2) < 0 && (e = -1 * e - 1);
											var i = 1 << t;
											return (
												32 * (i * i * e + i * r + n) + t
											);
										}
										l("CanonicalTileID", c),
											l("OverscaledTileID", h, {
												omit: ["posMatrix"],
											}),
											(e.exports = {
												CanonicalTileID: c,
												OverscaledTileID: h,
												UnwrappedTileID: f,
											});
									},
									function (e, t, n) {
										var r = n(6);
										e.exports = function (e, t, n) {
											return t * (r / e.tileSize);
										};
									},
									function (e, t, n) {
										var r = n(41),
											i = n(24),
											o = n(30).isExpression,
											a = n(57).isFunction;
										e.exports = function (e) {
											var t = n(91),
												s = n(94),
												l = n(43),
												u = {
													"*": function () {
														return [];
													},
													array: n(92),
													boolean: n(148),
													number: n(93),
													color: n(149),
													constants: n(75),
													enum: n(58),
													filter: n(59),
													function: n(91),
													layer: n(95),
													object: n(43),
													source: n(99),
													light: n(100),
													string: n(101),
												},
												c = e.value,
												f = e.valueSpec,
												h = e.styleSpec;
											return f.function && a(i(c))
												? t(e)
												: f.function && o(i.deep(c))
												? s(e)
												: f.type && u[f.type]
												? u[f.type](e)
												: l(
														r({}, e, {
															valueSpec: f.type
																? h[f.type]
																: f,
														})
												  );
										};
									},
									function (e, n, i) {
										function s(e) {
											return (s =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function f(e, t) {
											return !t ||
												("object" !== s(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function h(e) {
											return (h = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function p(e, t) {
											return (p =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										function y(e, t) {
											if (!(e instanceof t))
												throw new TypeError(
													"Cannot call a class as a function"
												);
										}
										function m(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function v(e, t, n) {
											return (
												t && m(e.prototype, t),
												n && m(e, n),
												e
											);
										}
										var g = i(1),
											_ = i(41),
											b = i(76),
											x = i(77),
											w = i(55),
											C = i(42).CompoundExpression,
											T = i(86),
											k = i(56),
											P = i(88),
											E = i(89),
											S = i(90),
											A = i(84),
											M = i(31),
											I = i(146),
											L = I.success,
											D = I.error,
											O = (function () {
												function e(t) {
													y(this, e),
														(this.expression = t);
												}
												return (
													v(e, [
														{
															key: "evaluate",
															value: function (
																e,
																t
															) {
																return (
																	this
																		._evaluator ||
																		(this._evaluator =
																			new w()),
																	(this._evaluator.globals =
																		e),
																	(this._evaluator.feature =
																		t),
																	this.expression.evaluate(
																		this
																			._evaluator
																	)
																);
															},
														},
													]),
													e
												);
											})(),
											z = (function (e) {
												function t(e, n) {
													var r, i;
													return (
														y(this, t),
														((r = f(
															this,
															h(t).call(this, e)
														))._warningHistory = {}),
														(r._defaultValue =
															"color" ===
																(i = n).type &&
															U(i.default)
																? new G(
																		0,
																		0,
																		0,
																		0
																  )
																: "color" ===
																  i.type
																? G.parse(
																		i.default
																  ) || null
																: void 0 ===
																  i.default
																? null
																: i.default),
														"enum" === n.type &&
															(r._enumValues =
																n.values),
														r
													);
												}
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && p(e, t);
													})(t, O),
													v(t, [
														{
															key: "evaluate",
															value: function (
																e,
																t
															) {
																this
																	._evaluator ||
																	(this._evaluator =
																		new w()),
																	(this._evaluator.globals =
																		e),
																	(this._evaluator.feature =
																		t);
																try {
																	var n =
																		this.expression.evaluate(
																			this
																				._evaluator
																		);
																	if (
																		null ==
																		n
																	)
																		return this
																			._defaultValue;
																	if (
																		this
																			._enumValues &&
																		!(
																			n in
																			this
																				._enumValues
																		)
																	)
																		throw new M(
																			"Expected value to be one of "
																				.concat(
																					(0,
																					u.default)(
																						this
																							._enumValues
																					)
																						.map(
																							function (
																								e
																							) {
																								return (0,
																								d.default)(
																									e
																								);
																							}
																						)
																						.join(
																							", "
																						),
																					", but found "
																				)
																				.concat(
																					(0,
																					d.default)(
																						n
																					),
																					" instead."
																				)
																		);
																	return n;
																} catch (e) {
																	return (
																		this
																			._warningHistory[
																			e
																				.message
																		] ||
																			((this._warningHistory[
																				e.message
																			] =
																				!0),
																			"undefined" !=
																				typeof console &&
																				console.warn(
																					e.message
																				)),
																		this
																			._defaultValue
																	);
																}
															},
														},
													]),
													t
												);
											})();
										function R(e) {
											return (
												Array.isArray(e) &&
												e.length > 0 &&
												"string" == typeof e[0] &&
												e[0] in S
											);
										}
										function B(e, t) {
											var n =
													arguments.length > 2 &&
													void 0 !== arguments[2]
														? arguments[2]
														: {},
												r = new x(
													S,
													[],
													(function (e) {
														var t = {
															color: Z,
															string: Y,
															number: K,
															enum: Y,
															boolean: X,
														};
														return "array" ===
															e.type
															? Q(
																	t[
																		e.value
																	] || J,
																	e.length
															  )
															: t[e.type] || null;
													})(t)
												),
												i = r.parse(e);
											return i
												? !1 === n.handleErrors
													? L(new O(i))
													: L(new z(i, t))
												: (g(r.errors.length > 0),
												  D(r.errors));
										}
										var j = (function () {
												function e(t, n) {
													y(this, e),
														(this.kind = t),
														(this._styleExpression =
															n);
												}
												return (
													v(e, [
														{
															key: "evaluate",
															value: function (
																e,
																t
															) {
																return this._styleExpression.evaluate(
																	e,
																	t
																);
															},
														},
													]),
													e
												);
											})(),
											F = (function () {
												function e(t, n, r) {
													y(this, e),
														(this.kind = t),
														(this.zoomStops =
															r.labels),
														(this._styleExpression =
															n),
														r instanceof k &&
															(this._interpolationType =
																r.interpolation);
												}
												return (
													v(e, [
														{
															key: "evaluate",
															value: function (
																e,
																t
															) {
																return this._styleExpression.evaluate(
																	e,
																	t
																);
															},
														},
														{
															key: "interpolationFactor",
															value: function (
																e,
																t,
																n
															) {
																return this
																	._interpolationType
																	? k.interpolationFactor(
																			this
																				._interpolationType,
																			e,
																			t,
																			n
																	  )
																	: 0;
															},
														},
													]),
													e
												);
											})();
										function N(e, t) {
											if (
												"error" ===
												(e = B(
													e,
													t,
													arguments.length > 2 &&
														void 0 !== arguments[2]
														? arguments[2]
														: {}
												)).result
											)
												return e;
											var n = e.value.expression,
												r = A.isFeatureConstant(n);
											if (!r && !t["property-function"])
												return D([
													new b(
														"",
														"property expressions not supported"
													),
												]);
											var i = A.isGlobalPropertyConstant(
												n,
												["zoom"]
											);
											if (!i && !1 === t["zoom-function"])
												return D([
													new b(
														"",
														"zoom expressions not supported"
													),
												]);
											var a = (function e(t) {
												var n = null;
												if (t instanceof E)
													n = e(t.result);
												else if (t instanceof P) {
													var r = !0,
														i = !1,
														a = void 0;
													try {
														for (
															var s,
																l = (0,
																o.default)(
																	t.args
																);
															!(r = (s = l.next())
																.done);
															r = !0
														) {
															var u = s.value;
															if ((n = e(u)))
																break;
														}
													} catch (e) {
														(i = !0), (a = e);
													} finally {
														try {
															r ||
																null ==
																	l.return ||
																l.return();
														} finally {
															if (i) throw a;
														}
													}
												} else
													(t instanceof T ||
														t instanceof k) &&
														t.input instanceof C &&
														"zoom" ===
															t.input.name &&
														(n = t);
												return (
													n instanceof b ||
														t.eachChild(function (
															t
														) {
															var r = e(t);
															r instanceof b
																? (n = r)
																: !n && r
																? (n = new b(
																		"",
																		'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'
																  ))
																: n &&
																  r &&
																  n !== r &&
																  (n = new b(
																		"",
																		'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'
																  ));
														}),
													n
												);
											})(n);
											return a || i
												? a instanceof b
													? D([a])
													: a instanceof k &&
													  "piecewise-constant" ===
															t.function
													? D([
															new b(
																"",
																'"interpolate" expressions cannot be used with this property'
															),
													  ])
													: L(
															a
																? new F(
																		r
																			? "camera"
																			: "composite",
																		e.value,
																		a
																  )
																: new j(
																		r
																			? "constant"
																			: "source",
																		e.value
																  )
													  )
												: D([
														new b(
															"",
															'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'
														),
												  ]);
										}
										var V = i(57),
											U = V.isFunction,
											H = V.createFunction,
											G = i(25).Color,
											q = (function () {
												function e(t, n) {
													y(this, e),
														(this._parameters = t),
														(this._specification =
															n),
														_(
															this,
															H(
																this
																	._parameters,
																this
																	._specification
															)
														);
												}
												return (
													v(e, null, [
														{
															key: "deserialize",
															value: function (
																t
															) {
																return new e(
																	t._parameters,
																	t._specification
																);
															},
														},
														{
															key: "serialize",
															value: function (
																e
															) {
																return {
																	_parameters:
																		e._parameters,
																	_specification:
																		e._specification,
																};
															},
														},
													]),
													e
												);
											})();
										e.exports = {
											StyleExpression: O,
											StyleExpressionWithErrorHandling: z,
											isExpression: R,
											createExpression: B,
											createPropertyExpression: N,
											normalizePropertyExpression:
												function (e, t) {
													if (U(e))
														return new q(e, t);
													if (R(e)) {
														var n = N(e, t);
														if (
															"error" === n.result
														)
															throw new Error(
																n.value
																	.map(
																		function (
																			e
																		) {
																			return ""
																				.concat(
																					e.key,
																					": "
																				)
																				.concat(
																					e.message
																				);
																		}
																	)
																	.join(", ")
															);
														return n.value;
													}
													var r = e;
													return (
														"string" == typeof e &&
															"color" ===
																t.type &&
															(r = G.parse(e)),
														{
															kind: "constant",
															evaluate:
																function () {
																	return r;
																},
														}
													);
												},
											ZoomConstantExpression: j,
											ZoomDependentExpression: F,
											StylePropertyFunction: q,
										};
										var W = i(8),
											Z = W.ColorType,
											Y = W.StringType,
											K = W.NumberType,
											X = W.BooleanType,
											J = W.ValueType,
											Q = W.array;
									},
									function (e, t) {
										function n(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var r = (function () {
											function e(t) {
												!(function (e, t) {
													if (!(e instanceof t))
														throw new TypeError(
															"Cannot call a class as a function"
														);
												})(this, e),
													(this.name =
														"ExpressionEvaluationError"),
													(this.message = t);
											}
											var t, r;
											return (
												(t = e),
												(r = [
													{
														key: "toJSON",
														value: function () {
															return this.message;
														},
													},
												]) && n(t.prototype, r),
												e
											);
										})();
										e.exports = r;
									},
									function (e, t, n) {
										function r(e, t) {
											if (!(e instanceof t))
												throw new TypeError(
													"Cannot call a class as a function"
												);
										}
										function i(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function a(e, t, n) {
											return (
												t && i(e.prototype, t),
												n && i(e, n),
												e
											);
										}
										var s = n(153).packUint8ToFloat,
											l = (n(12), n(11).register),
											u =
												n(
													4
												).PossiblyEvaluatedPropertyValue,
											c = n(14),
											f = c.StructArrayLayout1f4,
											h = c.StructArrayLayout2f8,
											p = c.StructArrayLayout4f16;
										function d(e) {
											return [
												s(255 * e.r, 255 * e.g),
												s(255 * e.b, 255 * e.a),
											];
										}
										var y = (function () {
												function e(t, n, i) {
													r(this, e),
														(this.value = t),
														(this.name = n),
														(this.type = i),
														(this.statistics = {
															max: -1 / 0,
														});
												}
												return (
													a(e, [
														{
															key: "defines",
															value: function () {
																return [
																	"#define HAS_UNIFORM_u_".concat(
																		this
																			.name
																	),
																];
															},
														},
														{
															key: "populatePaintArray",
															value: function () {},
														},
														{
															key: "upload",
															value: function () {},
														},
														{
															key: "destroy",
															value: function () {},
														},
														{
															key: "setUniforms",
															value: function (
																e,
																t,
																n,
																r
															) {
																var i =
																		r.constantOr(
																			this
																				.value
																		),
																	o = e.gl;
																"color" ===
																this.type
																	? o.uniform4f(
																			t
																				.uniforms[
																				"u_".concat(
																					this
																						.name
																				)
																			],
																			i.r,
																			i.g,
																			i.b,
																			i.a
																	  )
																	: o.uniform1f(
																			t
																				.uniforms[
																				"u_".concat(
																					this
																						.name
																				)
																			],
																			i
																	  );
															},
														},
													]),
													e
												);
											})(),
											m = (function () {
												function e(t, n, i) {
													r(this, e),
														(this.expression = t),
														(this.name = n),
														(this.type = i),
														(this.statistics = {
															max: -1 / 0,
														});
													var o =
														"color" === i ? h : f;
													(this.paintVertexAttributes =
														[
															{
																name: "a_".concat(
																	n
																),
																type: "Float32",
																components:
																	"color" ===
																	i
																		? 2
																		: 1,
																offset: 0,
															},
														]),
														(this.paintVertexArray =
															new o());
												}
												return (
													a(e, [
														{
															key: "defines",
															value: function () {
																return [];
															},
														},
														{
															key: "populatePaintArray",
															value: function (
																e,
																t
															) {
																var n =
																		this
																			.paintVertexArray,
																	r =
																		n.length;
																n.reserve(e);
																var i =
																	this.expression.evaluate(
																		{
																			zoom: 0,
																		},
																		t
																	);
																if (
																	"color" ===
																	this.type
																)
																	for (
																		var o =
																				d(
																					i
																				),
																			a =
																				r;
																		a < e;
																		a++
																	)
																		n.emplaceBack(
																			o[0],
																			o[1]
																		);
																else {
																	for (
																		var s =
																			r;
																		s < e;
																		s++
																	)
																		n.emplaceBack(
																			i
																		);
																	this.statistics.max =
																		Math.max(
																			this
																				.statistics
																				.max,
																			i
																		);
																}
															},
														},
														{
															key: "upload",
															value: function (
																e
															) {
																this
																	.paintVertexArray &&
																	(this.paintVertexBuffer =
																		e.createVertexBuffer(
																			this
																				.paintVertexArray,
																			this
																				.paintVertexAttributes
																		));
															},
														},
														{
															key: "destroy",
															value: function () {
																this
																	.paintVertexBuffer &&
																	this.paintVertexBuffer.destroy();
															},
														},
														{
															key: "setUniforms",
															value: function (
																e,
																t
															) {
																e.gl.uniform1f(
																	t.uniforms[
																		"a_".concat(
																			this
																				.name,
																			"_t"
																		)
																	],
																	0
																);
															},
														},
													]),
													e
												);
											})(),
											v = (function () {
												function e(t, n, i, o, a) {
													r(this, e),
														(this.expression = t),
														(this.name = n),
														(this.type = i),
														(this.useIntegerZoom =
															o),
														(this.zoom = a),
														(this.statistics = {
															max: -1 / 0,
														});
													var s =
														"color" === i ? p : h;
													(this.paintVertexAttributes =
														[
															{
																name: "a_".concat(
																	n
																),
																type: "Float32",
																components:
																	"color" ===
																	i
																		? 4
																		: 2,
																offset: 0,
															},
														]),
														(this.paintVertexArray =
															new s());
												}
												return (
													a(e, [
														{
															key: "defines",
															value: function () {
																return [];
															},
														},
														{
															key: "populatePaintArray",
															value: function (
																e,
																t
															) {
																var n =
																		this
																			.paintVertexArray,
																	r =
																		n.length;
																n.reserve(e);
																var i =
																		this.expression.evaluate(
																			{
																				zoom: this
																					.zoom,
																			},
																			t
																		),
																	o =
																		this.expression.evaluate(
																			{
																				zoom:
																					this
																						.zoom +
																					1,
																			},
																			t
																		);
																if (
																	"color" ===
																	this.type
																)
																	for (
																		var a =
																				d(
																					i
																				),
																			s =
																				d(
																					o
																				),
																			l =
																				r;
																		l < e;
																		l++
																	)
																		n.emplaceBack(
																			a[0],
																			a[1],
																			s[0],
																			s[1]
																		);
																else {
																	for (
																		var u =
																			r;
																		u < e;
																		u++
																	)
																		n.emplaceBack(
																			i,
																			o
																		);
																	this.statistics.max =
																		Math.max(
																			this
																				.statistics
																				.max,
																			i,
																			o
																		);
																}
															},
														},
														{
															key: "upload",
															value: function (
																e
															) {
																this
																	.paintVertexArray &&
																	(this.paintVertexBuffer =
																		e.createVertexBuffer(
																			this
																				.paintVertexArray,
																			this
																				.paintVertexAttributes
																		));
															},
														},
														{
															key: "destroy",
															value: function () {
																this
																	.paintVertexBuffer &&
																	this.paintVertexBuffer.destroy();
															},
														},
														{
															key: "interpolationFactor",
															value: function (
																e
															) {
																return this
																	.useIntegerZoom
																	? this.expression.interpolationFactor(
																			Math.floor(
																				e
																			),
																			this
																				.zoom,
																			this
																				.zoom +
																				1
																	  )
																	: this.expression.interpolationFactor(
																			e,
																			this
																				.zoom,
																			this
																				.zoom +
																				1
																	  );
															},
														},
														{
															key: "setUniforms",
															value: function (
																e,
																t,
																n
															) {
																e.gl.uniform1f(
																	t.uniforms[
																		"a_".concat(
																			this
																				.name,
																			"_t"
																		)
																	],
																	this.interpolationFactor(
																		n.zoom
																	)
																);
															},
														},
													]),
													e
												);
											})(),
											g = (function () {
												function e() {
													r(this, e),
														(this.binders = {}),
														(this.cacheKey = ""),
														(this._buffers = []);
												}
												return (
													a(
														e,
														[
															{
																key: "populatePaintArrays",
																value: function (
																	e,
																	t
																) {
																	for (var n in this
																		.binders)
																		this.binders[
																			n
																		].populatePaintArray(
																			e,
																			t
																		);
																},
															},
															{
																key: "defines",
																value: function () {
																	var e = [];
																	for (var t in this
																		.binders)
																		e.push.apply(
																			e,
																			this.binders[
																				t
																			].defines()
																		);
																	return e;
																},
															},
															{
																key: "setUniforms",
																value: function (
																	e,
																	t,
																	n,
																	r
																) {
																	for (var i in this
																		.binders)
																		this.binders[
																			i
																		].setUniforms(
																			e,
																			t,
																			r,
																			n.get(
																				i
																			)
																		);
																},
															},
															{
																key: "getPaintVertexBuffers",
																value: function () {
																	return this
																		._buffers;
																},
															},
															{
																key: "upload",
																value: function (
																	e
																) {
																	for (var t in this
																		.binders)
																		this.binders[
																			t
																		].upload(
																			e
																		);
																	var n = [];
																	for (var r in this
																		.binders) {
																		var i =
																			this
																				.binders[
																				r
																			];
																		(i instanceof
																			m ||
																			i instanceof
																				v) &&
																			i.paintVertexBuffer &&
																			n.push(
																				i.paintVertexBuffer
																			);
																	}
																	this._buffers =
																		n;
																},
															},
															{
																key: "destroy",
																value: function () {
																	for (var e in this
																		.binders)
																		this.binders[
																			e
																		].destroy();
																},
															},
														],
														[
															{
																key: "createDynamic",
																value: function (
																	t,
																	n,
																	r
																) {
																	var i =
																			new e(),
																		o = [];
																	for (var a in t
																		.paint
																		._values)
																		if (
																			r(a)
																		) {
																			var s =
																				t.paint.get(
																					a
																				);
																			if (
																				s instanceof
																					u &&
																				s
																					.property
																					.specification[
																					"property-function"
																				]
																			) {
																				var l =
																						b(
																							a,
																							t.type
																						),
																					c =
																						s
																							.property
																							.specification
																							.type,
																					f =
																						s
																							.property
																							.useIntegerZoom;
																				"constant" ===
																				s
																					.value
																					.kind
																					? ((i.binders[
																							a
																					  ] =
																							new y(
																								s.value,
																								l,
																								c
																							)),
																					  o.push(
																							"/u_".concat(
																								l
																							)
																					  ))
																					: "source" ===
																					  s
																							.value
																							.kind
																					? ((i.binders[
																							a
																					  ] =
																							new m(
																								s.value,
																								l,
																								c
																							)),
																					  o.push(
																							"/a_".concat(
																								l
																							)
																					  ))
																					: ((i.binders[
																							a
																					  ] =
																							new v(
																								s.value,
																								l,
																								c,
																								f,
																								n
																							)),
																					  o.push(
																							"/z_".concat(
																								l
																							)
																					  ));
																			}
																		}
																	return (
																		(i.cacheKey =
																			o
																				.sort()
																				.join(
																					""
																				)),
																		i
																	);
																},
															},
														]
													),
													e
												);
											})(),
											_ = (function () {
												function e(t, n, i) {
													var a =
														arguments.length > 3 &&
														void 0 !== arguments[3]
															? arguments[3]
															: function () {
																	return !0;
															  };
													r(this, e),
														(this.programConfigurations =
															{});
													var s = !0,
														l = !1,
														u = void 0;
													try {
														for (
															var c,
																f = (0,
																o.default)(n);
															!(s = (c = f.next())
																.done);
															s = !0
														) {
															var h = c.value;
															(this.programConfigurations[
																h.id
															] = g.createDynamic(
																h,
																i,
																a
															)),
																(this.programConfigurations[
																	h.id
																].layoutAttributes =
																	t);
														}
													} catch (e) {
														(l = !0), (u = e);
													} finally {
														try {
															s ||
																null ==
																	f.return ||
																f.return();
														} finally {
															if (l) throw u;
														}
													}
												}
												return (
													a(e, [
														{
															key: "populatePaintArrays",
															value: function (
																e,
																t
															) {
																for (var n in this
																	.programConfigurations)
																	this.programConfigurations[
																		n
																	].populatePaintArrays(
																		e,
																		t
																	);
															},
														},
														{
															key: "get",
															value: function (
																e
															) {
																return this
																	.programConfigurations[
																	e
																];
															},
														},
														{
															key: "upload",
															value: function (
																e
															) {
																for (var t in this
																	.programConfigurations)
																	this.programConfigurations[
																		t
																	].upload(e);
															},
														},
														{
															key: "destroy",
															value: function () {
																for (var e in this
																	.programConfigurations)
																	this.programConfigurations[
																		e
																	].destroy();
															},
														},
													]),
													e
												);
											})();
										function b(e, t) {
											return (
												{
													"text-opacity": "opacity",
													"icon-opacity": "opacity",
													"text-color": "fill_color",
													"icon-color": "fill_color",
													"text-halo-color":
														"halo_color",
													"icon-halo-color":
														"halo_color",
													"text-halo-blur":
														"halo_blur",
													"icon-halo-blur":
														"halo_blur",
													"text-halo-width":
														"halo_width",
													"icon-halo-width":
														"halo_width",
													"line-gap-width":
														"gapwidth",
												}[e] ||
												e
													.replace(
														"".concat(t, "-"),
														""
													)
													.replace(/-/g, "_")
											);
										}
										l("ConstantBinder", y),
											l("SourceExpressionBinder", m),
											l("CompositeExpressionBinder", v),
											l("ProgramConfiguration", g, {
												omit: ["_buffers"],
											}),
											l("ProgramConfigurationSet", _),
											(e.exports = {
												ProgramConfiguration: g,
												ProgramConfigurationSet: _,
											});
									},
									function (e, t, n) {
										function r(e, t) {
											if (!(e instanceof t))
												throw new TypeError(
													"Cannot call a class as a function"
												);
										}
										function i(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function o(e, t, n) {
											return (
												t && i(e.prototype, t),
												n && i(e, n),
												e
											);
										}
										var a = n(1),
											s = n(11).register;
										function l(e, t, n, r) {
											var i = t.width,
												o = t.height;
											if (r) {
												if (r.length !== i * o * n)
													throw new RangeError(
														"mismatched image size"
													);
											} else
												r = new Uint8Array(i * o * n);
											return (
												(e.width = i),
												(e.height = o),
												(e.data = r),
												e
											);
										}
										function u(e, t, n) {
											var r = t.width,
												i = t.height;
											if (
												r !== e.width ||
												i !== e.height
											) {
												var o = l(
													{},
													{ width: r, height: i },
													n
												);
												c(
													e,
													o,
													{ x: 0, y: 0 },
													{ x: 0, y: 0 },
													{
														width: Math.min(
															e.width,
															r
														),
														height: Math.min(
															e.height,
															i
														),
													},
													n
												),
													(e.width = r),
													(e.height = i),
													(e.data = o.data);
											}
										}
										function c(e, t, n, r, i, o) {
											if (0 === i.width || 0 === i.height)
												return t;
											if (
												i.width > e.width ||
												i.height > e.height ||
												n.x > e.width - i.width ||
												n.y > e.height - i.height
											)
												throw new RangeError(
													"out of range source coordinates for image copy"
												);
											if (
												i.width > t.width ||
												i.height > t.height ||
												r.x > t.width - i.width ||
												r.y > t.height - i.height
											)
												throw new RangeError(
													"out of range destination coordinates for image copy"
												);
											var s = e.data,
												l = t.data;
											a(s !== l);
											for (var u = 0; u < i.height; u++)
												for (
													var c =
															((n.y + u) *
																e.width +
																n.x) *
															o,
														f =
															((r.y + u) *
																t.width +
																r.x) *
															o,
														h = 0;
													h < i.width * o;
													h++
												)
													l[f + h] = s[c + h];
											return t;
										}
										var f = (function () {
												function e(t, n) {
													r(this, e),
														l(this, t, 1, n);
												}
												return (
													o(
														e,
														[
															{
																key: "resize",
																value: function (
																	e
																) {
																	u(
																		this,
																		e,
																		1
																	);
																},
															},
															{
																key: "clone",
																value: function () {
																	return new e(
																		{
																			width: this
																				.width,
																			height: this
																				.height,
																		},
																		new Uint8Array(
																			this.data
																		)
																	);
																},
															},
														],
														[
															{
																key: "copy",
																value: function (
																	e,
																	t,
																	n,
																	r,
																	i
																) {
																	c(
																		e,
																		t,
																		n,
																		r,
																		i,
																		1
																	);
																},
															},
														]
													),
													e
												);
											})(),
											h = (function () {
												function e(t, n) {
													r(this, e),
														l(this, t, 4, n);
												}
												return (
													o(
														e,
														[
															{
																key: "resize",
																value: function (
																	e
																) {
																	u(
																		this,
																		e,
																		4
																	);
																},
															},
															{
																key: "clone",
																value: function () {
																	return new e(
																		{
																			width: this
																				.width,
																			height: this
																				.height,
																		},
																		new Uint8Array(
																			this.data
																		)
																	);
																},
															},
														],
														[
															{
																key: "copy",
																value: function (
																	e,
																	t,
																	n,
																	r,
																	i
																) {
																	c(
																		e,
																		t,
																		n,
																		r,
																		i,
																		4
																	);
																},
															},
														]
													),
													e
												);
											})();
										s("AlphaImage", f),
											s("RGBAImage", h),
											(e.exports = {
												AlphaImage: f,
												RGBAImage: h,
											});
									},
									function (e, t, n) {
										var r = n(64),
											i = n(2),
											o =
												"See https://www.mapbox.com/api-documentation/#access-tokens";
										function a(e, t) {
											var n = c(r.API_URL);
											if (
												((e.protocol = n.protocol),
												(e.authority = n.authority),
												"/" !== n.path &&
													(e.path = ""
														.concat(n.path)
														.concat(e.path)),
												!r.REQUIRE_ACCESS_TOKEN)
											)
												return f(e);
											if (!(t = t || r.ACCESS_TOKEN))
												throw new Error(
													"An API access token is required to use Mapbox GL. ".concat(
														o
													)
												);
											if ("s" === t[0])
												throw new Error(
													"Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ".concat(
														o
													)
												);
											return (
												e.params.push(
													"access_token=".concat(t)
												),
												f(e)
											);
										}
										function s(e) {
											return 0 === e.indexOf("mapbox:");
										}
										(t.isMapboxURL = s),
											(t.normalizeStyleURL = function (
												e,
												t
											) {
												if (!s(e)) return e;
												var n = c(e);
												return (
													(n.path =
														"/styles/v1".concat(
															n.path
														)),
													a(n, t)
												);
											}),
											(t.normalizeGlyphsURL = function (
												e,
												t
											) {
												if (!s(e)) return e;
												var n = c(e);
												return (
													(n.path =
														"/fonts/v1".concat(
															n.path
														)),
													a(n, t)
												);
											}),
											(t.normalizeSourceURL = function (
												e,
												t
											) {
												if (!s(e)) return e;
												var n = c(e);
												return (
													(n.path = "/v4/".concat(
														n.authority,
														".json"
													)),
													n.params.push("secure"),
													a(n, t)
												);
											}),
											(t.normalizeSpriteURL = function (
												e,
												t,
												n,
												r
											) {
												var i = c(e);
												return s(e)
													? ((i.path = "/styles/v1"
															.concat(
																i.path,
																"/sprite"
															)
															.concat(t)
															.concat(n)),
													  a(i, r))
													: ((i.path += ""
															.concat(t)
															.concat(n)),
													  f(i));
											});
										var l = /(\.(png|jpg)\d*)(?=$)/;
										t.normalizeTileURL = function (
											e,
											t,
											n
										) {
											if (!t || !s(t)) return e;
											var o = c(e),
												a =
													i.devicePixelRatio >= 2 ||
													512 === n
														? "@2x"
														: "",
												u = i.supportsWebp
													? ".webp"
													: "$1";
											return (
												(o.path = o.path.replace(
													l,
													"".concat(a).concat(u)
												)),
												(function (e) {
													for (
														var t = 0;
														t < e.length;
														t++
													)
														0 ===
															e[t].indexOf(
																"access_token=tk."
															) &&
															(e[t] =
																"access_token=".concat(
																	r.ACCESS_TOKEN ||
																		""
																));
												})(o.params),
												f(o)
											);
										};
										var u =
											/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/;
										function c(e) {
											var t = e.match(u);
											if (!t)
												throw new Error(
													"Unable to parse URL object"
												);
											return {
												protocol: t[1],
												authority: t[2],
												path: t[3] || "/",
												params: t[4]
													? t[4].split("&")
													: [],
											};
										}
										function f(e) {
											var t = e.params.length
												? "?".concat(e.params.join("&"))
												: "";
											return ""
												.concat(e.protocol, "://")
												.concat(e.authority)
												.concat(e.path)
												.concat(t);
										}
									},
									function (e, t) {
										function n(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var r = (function () {
											function e(t, n, r) {
												!(function (e, t) {
													if (!(e instanceof t))
														throw new TypeError(
															"Cannot call a class as a function"
														);
												})(this, e),
													(this.column = t),
													(this.row = n),
													(this.zoom = r);
											}
											var t, r;
											return (
												(t = e),
												(r = [
													{
														key: "clone",
														value: function () {
															return new e(
																this.column,
																this.row,
																this.zoom
															);
														},
													},
													{
														key: "zoomTo",
														value: function (e) {
															return this.clone()._zoomTo(
																e
															);
														},
													},
													{
														key: "sub",
														value: function (e) {
															return this.clone()._sub(
																e
															);
														},
													},
													{
														key: "_zoomTo",
														value: function (e) {
															var t = Math.pow(
																2,
																e - this.zoom
															);
															return (
																(this.column *=
																	t),
																(this.row *= t),
																(this.zoom = e),
																this
															);
														},
													},
													{
														key: "_sub",
														value: function (e) {
															return (
																(e = e.zoomTo(
																	this.zoom
																)),
																(this.column -=
																	e.column),
																(this.row -=
																	e.row),
																this
															);
														},
													},
												]) && n(t.prototype, r),
												e
											);
										})();
										e.exports = r;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(0).warnOnce,
											a = n(11).register,
											s = Math.pow(2, 16) - 1,
											l = (function () {
												function t() {
													var e =
														arguments.length > 0 &&
														void 0 !== arguments[0]
															? arguments[0]
															: [];
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, t),
														(this.segments = e);
												}
												var n, a;
												return (
													(n = t),
													(a = [
														{
															key: "prepareSegment",
															value: function (
																t,
																n,
																r
															) {
																var o =
																	this
																		.segments[
																		this
																			.segments
																			.length -
																			1
																	];
																return (
																	t > s &&
																		i(
																			"Max vertices per segment is "
																				.concat(
																					s,
																					": bucket requested "
																				)
																				.concat(
																					t
																				)
																		),
																	(!o ||
																		o.vertexLength +
																			t >
																			e
																				.exports
																				.MAX_VERTEX_ARRAY_LENGTH) &&
																		((o = {
																			vertexOffset:
																				n.length,
																			primitiveOffset:
																				r.length,
																			vertexLength: 0,
																			primitiveLength: 0,
																		}),
																		this.segments.push(
																			o
																		)),
																	o
																);
															},
														},
														{
															key: "get",
															value: function () {
																return this
																	.segments;
															},
														},
														{
															key: "destroy",
															value: function () {
																var e = !0,
																	t = !1,
																	n = void 0;
																try {
																	for (
																		var r,
																			i =
																				(0,
																				o.default)(
																					this
																						.segments
																				);
																		!(e =
																			(r =
																				i.next())
																				.done);
																		e = !0
																	) {
																		var a =
																			r.value;
																		for (var s in a.vaos)
																			a.vaos[
																				s
																			].destroy();
																	}
																} catch (e) {
																	(t = !0),
																		(n = e);
																} finally {
																	try {
																		e ||
																			null ==
																				i.return ||
																			i.return();
																	} finally {
																		if (t)
																			throw n;
																	}
																}
															},
														},
													]) && r(n.prototype, a),
													t
												);
											})();
										a("SegmentVector", l),
											(e.exports = {
												SegmentVector: l,
												MAX_VERTEX_ARRAY_LENGTH: s,
											});
									},
									function (e, t, n) {
										e.exports = {
											LineIndexArray:
												n(14).LineIndexArray,
											TriangleIndexArray:
												n(14).TriangleIndexArray,
										};
									},
									function (e, t, n) {
										var r = n(0),
											i = n(6),
											o = {
												min: -1 * Math.pow(2, 15),
												max: Math.pow(2, 15) - 1,
											};
										e.exports = function (e) {
											for (
												var t = i / e.extent,
													n = e.loadGeometry(),
													a = 0;
												a < n.length;
												a++
											)
												for (
													var s = n[a], l = 0;
													l < s.length;
													l++
												) {
													var u = s[l];
													(u.x = Math.round(u.x * t)),
														(u.y = Math.round(
															u.y * t
														)),
														(u.x < o.min ||
															u.x > o.max ||
															u.y < o.min ||
															u.y > o.max) &&
															r.warnOnce(
																"Geometry exceeds allowed extent, reduce your vector tile buffer size"
															);
												}
											return n;
										};
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(21),
											o = (function () {
												function e(t, n) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														t &&
															(n
																? this.setSouthWest(
																		t
																  ).setNorthEast(
																		n
																  )
																: 4 === t.length
																? this.setSouthWest(
																		[
																			t[0],
																			t[1],
																		]
																  ).setNorthEast(
																		[
																			t[2],
																			t[3],
																		]
																  )
																: this.setSouthWest(
																		t[0]
																  ).setNorthEast(
																		t[1]
																  ));
												}
												var t, n, o;
												return (
													(t = e),
													(o = [
														{
															key: "convert",
															value: function (
																t
															) {
																return !t ||
																	t instanceof
																		e
																	? t
																	: new e(t);
															},
														},
													]),
													(n = [
														{
															key: "setNorthEast",
															value: function (
																e
															) {
																return (
																	(this._ne =
																		e instanceof
																		i
																			? new i(
																					e.lng,
																					e.lat
																			  )
																			: i.convert(
																					e
																			  )),
																	this
																);
															},
														},
														{
															key: "setSouthWest",
															value: function (
																e
															) {
																return (
																	(this._sw =
																		e instanceof
																		i
																			? new i(
																					e.lng,
																					e.lat
																			  )
																			: i.convert(
																					e
																			  )),
																	this
																);
															},
														},
														{
															key: "extend",
															value: function (
																t
															) {
																var n,
																	r,
																	o =
																		this
																			._sw,
																	a =
																		this
																			._ne;
																if (
																	t instanceof
																	i
																)
																	(n = t),
																		(r = t);
																else {
																	if (
																		!(
																			t instanceof
																			e
																		)
																	)
																		return Array.isArray(
																			t
																		)
																			? t.every(
																					Array.isArray
																			  )
																				? this.extend(
																						e.convert(
																							t
																						)
																				  )
																				: this.extend(
																						i.convert(
																							t
																						)
																				  )
																			: this;
																	if (
																		((n =
																			t._sw),
																		(r =
																			t._ne),
																		!n ||
																			!r)
																	)
																		return this;
																}
																return (
																	o || a
																		? ((o.lng =
																				Math.min(
																					n.lng,
																					o.lng
																				)),
																		  (o.lat =
																				Math.min(
																					n.lat,
																					o.lat
																				)),
																		  (a.lng =
																				Math.max(
																					r.lng,
																					a.lng
																				)),
																		  (a.lat =
																				Math.max(
																					r.lat,
																					a.lat
																				)))
																		: ((this._sw =
																				new i(
																					n.lng,
																					n.lat
																				)),
																		  (this._ne =
																				new i(
																					r.lng,
																					r.lat
																				))),
																	this
																);
															},
														},
														{
															key: "getCenter",
															value: function () {
																return new i(
																	(this._sw
																		.lng +
																		this._ne
																			.lng) /
																		2,
																	(this._sw
																		.lat +
																		this._ne
																			.lat) /
																		2
																);
															},
														},
														{
															key: "getSouthWest",
															value: function () {
																return this._sw;
															},
														},
														{
															key: "getNorthEast",
															value: function () {
																return this._ne;
															},
														},
														{
															key: "getNorthWest",
															value: function () {
																return new i(
																	this.getWest(),
																	this.getNorth()
																);
															},
														},
														{
															key: "getSouthEast",
															value: function () {
																return new i(
																	this.getEast(),
																	this.getSouth()
																);
															},
														},
														{
															key: "getWest",
															value: function () {
																return this._sw
																	.lng;
															},
														},
														{
															key: "getSouth",
															value: function () {
																return this._sw
																	.lat;
															},
														},
														{
															key: "getEast",
															value: function () {
																return this._ne
																	.lng;
															},
														},
														{
															key: "getNorth",
															value: function () {
																return this._ne
																	.lat;
															},
														},
														{
															key: "toArray",
															value: function () {
																return [
																	this._sw.toArray(),
																	this._ne.toArray(),
																];
															},
														},
														{
															key: "toString",
															value: function () {
																return "LngLatBounds("
																	.concat(
																		this._sw.toString(),
																		", "
																	)
																	.concat(
																		this._ne.toString(),
																		")"
																	);
															},
														},
														{
															key: "isEmpty",
															value: function () {
																return !(
																	this._sw &&
																	this._ne
																);
															},
														},
													]) && r(t.prototype, n),
													o && r(t, o),
													e
												);
											})();
										e.exports = o;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(1),
											a = (function () {
												function e() {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.boundProgram =
															null),
														(this.boundLayoutVertexBuffer =
															null),
														(this.boundPaintVertexBuffers =
															[]),
														(this.boundIndexBuffer =
															null),
														(this.boundVertexOffset =
															null),
														(this.boundDynamicVertexBuffer =
															null),
														(this.vao = null);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "bind",
															value: function (
																e,
																t,
																n,
																r,
																i,
																o,
																a,
																s
															) {
																this.context =
																	e;
																for (
																	var l =
																			this
																				.boundPaintVertexBuffers
																				.length !==
																			r.length,
																		u = 0;
																	!l &&
																	u <
																		r.length;
																	u++
																)
																	this
																		.boundPaintVertexBuffers[
																		u
																	] !==
																		r[u] &&
																		(l =
																			!0);
																var c =
																	!this.vao ||
																	this
																		.boundProgram !==
																		t ||
																	this
																		.boundLayoutVertexBuffer !==
																		n ||
																	l ||
																	this
																		.boundIndexBuffer !==
																		i ||
																	this
																		.boundVertexOffset !==
																		o ||
																	this
																		.boundDynamicVertexBuffer !==
																		a ||
																	this
																		.boundDynamicVertexBuffer2 !==
																		s;
																!e.extVertexArrayObject ||
																c
																	? this.freshBind(
																			t,
																			n,
																			r,
																			i,
																			o,
																			a,
																			s
																	  )
																	: (e.bindVertexArrayOES.set(
																			this
																				.vao
																	  ),
																	  a &&
																			a.bind(),
																	  i &&
																			i.dynamicDraw &&
																			i.bind(),
																	  s &&
																			s.bind());
															},
														},
														{
															key: "freshBind",
															value: function (
																e,
																t,
																n,
																r,
																a,
																s,
																l
															) {
																var u,
																	c =
																		e.numAttributes,
																	f =
																		this
																			.context,
																	h = f.gl;
																if (
																	f.extVertexArrayObject
																)
																	this.vao &&
																		this.destroy(),
																		(this.vao =
																			f.extVertexArrayObject.createVertexArrayOES()),
																		f.bindVertexArrayOES.set(
																			this
																				.vao
																		),
																		(u = 0),
																		(this.boundProgram =
																			e),
																		(this.boundLayoutVertexBuffer =
																			t),
																		(this.boundPaintVertexBuffers =
																			n),
																		(this.boundIndexBuffer =
																			r),
																		(this.boundVertexOffset =
																			a),
																		(this.boundDynamicVertexBuffer =
																			s),
																		(this.boundDynamicVertexBuffer2 =
																			l);
																else {
																	u =
																		f.currentNumAttributes ||
																		0;
																	for (
																		var p =
																			c;
																		p < u;
																		p++
																	)
																		i(
																			0 !==
																				p
																		),
																			h.disableVertexAttribArray(
																				p
																			);
																}
																t.enableAttributes(
																	h,
																	e
																);
																var d = !0,
																	y = !1,
																	m = void 0;
																try {
																	for (
																		var v,
																			g =
																				(0,
																				o.default)(
																					n
																				);
																		!(d =
																			(v =
																				g.next())
																				.done);
																		d = !0
																	)
																		v.value.enableAttributes(
																			h,
																			e
																		);
																} catch (e) {
																	(y = !0),
																		(m = e);
																} finally {
																	try {
																		d ||
																			null ==
																				g.return ||
																			g.return();
																	} finally {
																		if (y)
																			throw m;
																	}
																}
																s &&
																	s.enableAttributes(
																		h,
																		e
																	),
																	l &&
																		l.enableAttributes(
																			h,
																			e
																		),
																	t.bind(),
																	t.setVertexAttribPointers(
																		h,
																		e,
																		a
																	);
																var _ = !0,
																	b = !1,
																	x = void 0;
																try {
																	for (
																		var w,
																			C =
																				(0,
																				o.default)(
																					n
																				);
																		!(_ =
																			(w =
																				C.next())
																				.done);
																		_ = !0
																	) {
																		var T =
																			w.value;
																		T.bind(),
																			T.setVertexAttribPointers(
																				h,
																				e,
																				a
																			);
																	}
																} catch (e) {
																	(b = !0),
																		(x = e);
																} finally {
																	try {
																		_ ||
																			null ==
																				C.return ||
																			C.return();
																	} finally {
																		if (b)
																			throw x;
																	}
																}
																s &&
																	(s.bind(),
																	s.setVertexAttribPointers(
																		h,
																		e,
																		a
																	)),
																	r &&
																		r.bind(),
																	l &&
																		(l.bind(),
																		l.setVertexAttribPointers(
																			h,
																			e,
																			a
																		)),
																	(f.currentNumAttributes =
																		c);
															},
														},
														{
															key: "destroy",
															value: function () {
																this.vao &&
																	(this.context.extVertexArrayObject.deleteVertexArrayOES(
																		this.vao
																	),
																	(this.vao =
																		null));
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = a;
									},
									function (e, t) {
										e.exports = function (e) {
											for (
												var t = arguments.length,
													n = new Array(
														t > 1 ? t - 1 : 0
													),
													r = 1;
												r < t;
												r++
											)
												n[r - 1] = arguments[r];
											for (
												var i = 0, o = n;
												i < o.length;
												i++
											) {
												var a = o[i];
												for (var s in a) e[s] = a[s];
											}
											return e;
										};
									},
									function (e, t, n) {
										function r(e, t) {
											return (
												(function (e) {
													if (Array.isArray(e))
														return e;
												})(e) ||
												(function (e, t) {
													var n = [],
														r = !0,
														i = !1,
														a = void 0;
													try {
														for (
															var s,
																l = (0,
																o.default)(e);
															!(r = (s = l.next())
																.done) &&
															(n.push(s.value),
															!t ||
																n.length !== t);
															r = !0
														);
													} catch (e) {
														(i = !0), (a = e);
													} finally {
														try {
															r ||
																null ==
																	l.return ||
																l.return();
														} finally {
															if (i) throw a;
														}
													}
													return n;
												})(e, t) ||
												(function () {
													throw new TypeError(
														"Invalid attempt to destructure non-iterable instance"
													);
												})()
											);
										}
										function i(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var a = n(8).toString,
											s = n(77),
											l = (n(55), n(1)),
											u = (function () {
												function e(t, n, r, i) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.name = t),
														(this.type = n),
														(this._evaluate = r),
														(this.args = i);
												}
												var t, n, u;
												return (
													(t = e),
													(u = [
														{
															key: "parse",
															value: function (
																t,
																n
															) {
																var i = t[0],
																	u =
																		e
																			.definitions[
																			i
																		];
																if (!u)
																	return n.error(
																		'Unknown expression "'.concat(
																			i,
																			'". If you wanted a literal array, use ["literal", [...]].'
																		),
																		0
																	);
																for (
																	var c =
																			Array.isArray(
																				u
																			)
																				? u[0]
																				: u.type,
																		f =
																			Array.isArray(
																				u
																			)
																				? [
																						[
																							u[1],
																							u[2],
																						],
																				  ]
																				: u.overloads,
																		h =
																			f.filter(
																				function (
																					e
																				) {
																					var n =
																						r(
																							e,
																							1
																						)[0];
																					return (
																						!Array.isArray(
																							n
																						) ||
																						n.length ===
																							t.length -
																								1
																					);
																				}
																			),
																		p = [],
																		d = 1;
																	d <
																	t.length;
																	d++
																) {
																	var y =
																			t[
																				d
																			],
																		m =
																			void 0;
																	if (
																		1 ===
																		h.length
																	) {
																		var v =
																			h[0][0];
																		m =
																			Array.isArray(
																				v
																			)
																				? v[
																						d -
																							1
																				  ]
																				: v.type;
																	}
																	var g =
																		n.parse(
																			y,
																			1 +
																				p.length,
																			m
																		);
																	if (!g)
																		return null;
																	p.push(g);
																}
																var _ = null,
																	b = !0,
																	x = !1,
																	w = void 0;
																try {
																	for (
																		var C,
																			T =
																				(0,
																				o.default)(
																					h
																				);
																		!(b =
																			(C =
																				T.next())
																				.done);
																		b = !0
																	) {
																		var k =
																				r(
																					C.value,
																					2
																				),
																			P =
																				k[0],
																			E =
																				k[1];
																		if (
																			((_ =
																				new s(
																					n.registry,
																					n.path,
																					null,
																					n.scope
																				)),
																			Array.isArray(
																				P
																			) &&
																				P.length !==
																					p.length)
																		)
																			_.error(
																				"Expected "
																					.concat(
																						P.length,
																						" arguments, but found "
																					)
																					.concat(
																						p.length,
																						" instead."
																					)
																			);
																		else {
																			for (
																				var S = 0;
																				S <
																				p.length;
																				S++
																			) {
																				var A =
																						Array.isArray(
																							P
																						)
																							? P[
																									S
																							  ]
																							: P.type,
																					M =
																						p[
																							S
																						];
																				_.concat(
																					S +
																						1
																				).checkSubtype(
																					A,
																					M.type
																				);
																			}
																			if (
																				0 ===
																				_
																					.errors
																					.length
																			)
																				return new e(
																					i,
																					c,
																					E,
																					p
																				);
																		}
																	}
																} catch (e) {
																	(x = !0),
																		(w = e);
																} finally {
																	try {
																		b ||
																			null ==
																				T.return ||
																			T.return();
																	} finally {
																		if (x)
																			throw w;
																	}
																}
																if (
																	(l(
																		!_ ||
																			_
																				.errors
																				.length >
																				0
																	),
																	1 ===
																		h.length)
																)
																	n.errors.push.apply(
																		n.errors,
																		_.errors
																	);
																else {
																	var I = (
																			h.length
																				? h
																				: f
																		)
																			.map(
																				function (
																					e
																				) {
																					var t;
																					return (
																						(t =
																							r(
																								e,
																								1
																							)[0]),
																						Array.isArray(
																							t
																						)
																							? "(".concat(
																									t
																										.map(
																											a
																										)
																										.join(
																											", "
																										),
																									")"
																							  )
																							: "(".concat(
																									a(
																										t.type
																									),
																									"...)"
																							  )
																					);
																				}
																			)
																			.join(
																				" | "
																			),
																		L = p
																			.map(
																				function (
																					e
																				) {
																					return a(
																						e.type
																					);
																				}
																			)
																			.join(
																				", "
																			);
																	n.error(
																		"Expected arguments of type "
																			.concat(
																				I,
																				", but found ("
																			)
																			.concat(
																				L,
																				") instead."
																			)
																	);
																}
																return null;
															},
														},
														{
															key: "register",
															value: function (
																t,
																n
															) {
																for (var r in (l(
																	!e.definitions
																),
																(e.definitions =
																	n),
																n))
																	t[r] = e;
															},
														},
													]),
													(n = [
														{
															key: "evaluate",
															value: function (
																e
															) {
																return this._evaluate(
																	e,
																	this.args
																);
															},
														},
														{
															key: "eachChild",
															value: function (
																e
															) {
																this.args.forEach(
																	e
																);
															},
														},
														{
															key: "possibleOutputs",
															value: function () {
																return [void 0];
															},
														},
													]) && i(t.prototype, n),
													u && i(t, u),
													e
												);
											})();
										e.exports = {
											CompoundExpression: u,
											varargs: function (e) {
												return { type: e };
											},
										};
									},
									function (e, t, n) {
										var r = n(7),
											i = n(17),
											o = n(29);
										e.exports = function (e) {
											var t = e.key,
												n = e.value,
												a = e.valueSpec || {},
												s =
													e.objectElementValidators ||
													{},
												l = e.style,
												u = e.styleSpec,
												c = [],
												f = i(n);
											if ("object" !== f)
												return [
													new r(
														t,
														n,
														"object expected, ".concat(
															f,
															" found"
														)
													),
												];
											for (var h in n) {
												var p = h.split(".")[0],
													d = a[p] || a["*"],
													y = void 0;
												if (s[p]) y = s[p];
												else if (a[p]) y = o;
												else if (s["*"]) y = s["*"];
												else {
													if (!a["*"]) {
														c.push(
															new r(
																t,
																n[h],
																'unknown property "'.concat(
																	h,
																	'"'
																)
															)
														);
														continue;
													}
													y = o;
												}
												c = c.concat(
													y(
														{
															key:
																(t
																	? "".concat(
																			t,
																			"."
																	  )
																	: t) + h,
															value: n[h],
															valueSpec: d,
															style: l,
															styleSpec: u,
															object: n,
															objectKey: h,
														},
														n
													)
												);
											}
											for (var m in a)
												s[m] ||
													(a[m].required &&
														void 0 ===
															a[m].default &&
														void 0 === n[m] &&
														c.push(
															new r(
																t,
																n,
																'missing required property "'.concat(
																	m,
																	'"'
																)
															)
														));
											return c;
										};
									},
									function (e, t, n) {
										var r = n(0).isCounterClockwise;
										function i(e, t, n) {
											if (e.length > 1) {
												if (o(e, t)) return !0;
												for (
													var r = 0;
													r < t.length;
													r++
												)
													if (s(t[r], e, n))
														return !0;
											}
											for (var i = 0; i < e.length; i++)
												if (s(e[i], t, n)) return !0;
											return !1;
										}
										function o(e, t) {
											if (
												0 === e.length ||
												0 === t.length
											)
												return !1;
											for (
												var n = 0;
												n < e.length - 1;
												n++
											)
												for (
													var r = e[n],
														i = e[n + 1],
														o = 0;
													o < t.length - 1;
													o++
												)
													if (a(r, i, t[o], t[o + 1]))
														return !0;
											return !1;
										}
										function a(e, t, n, i) {
											return (
												r(e, n, i) !== r(t, n, i) &&
												r(e, t, n) !== r(e, t, i)
											);
										}
										function s(e, t, n) {
											var r = n * n;
											if (1 === t.length)
												return e.distSqr(t[0]) < r;
											for (var i = 1; i < t.length; i++)
												if (l(e, t[i - 1], t[i]) < r)
													return !0;
											return !1;
										}
										function l(e, t, n) {
											var r = t.distSqr(n);
											if (0 === r) return e.distSqr(t);
											var i =
												((e.x - t.x) * (n.x - t.x) +
													(e.y - t.y) * (n.y - t.y)) /
												r;
											return i < 0
												? e.distSqr(t)
												: i > 1
												? e.distSqr(n)
												: e.distSqr(
														n
															.sub(t)
															._mult(i)
															._add(t)
												  );
										}
										function u(e, t) {
											for (
												var n, r, i, o = !1, a = 0;
												a < e.length;
												a++
											)
												for (
													var s = 0,
														l =
															(n = e[a]).length -
															1;
													s < n.length;
													l = s++
												)
													(r = n[s]),
														(i = n[l]),
														r.y > t.y !=
															i.y > t.y &&
															t.x <
																((i.x - r.x) *
																	(t.y -
																		r.y)) /
																	(i.y -
																		r.y) +
																	r.x &&
															(o = !o);
											return o;
										}
										function c(e, t) {
											for (
												var n = !1,
													r = 0,
													i = e.length - 1;
												r < e.length;
												i = r++
											) {
												var o = e[r],
													a = e[i];
												o.y > t.y != a.y > t.y &&
													t.x <
														((a.x - o.x) *
															(t.y - o.y)) /
															(a.y - o.y) +
															o.x &&
													(n = !n);
											}
											return n;
										}
										e.exports = {
											multiPolygonIntersectsBufferedMultiPoint:
												function (e, t, n) {
													for (
														var r = 0;
														r < e.length;
														r++
													)
														for (
															var i = e[r], o = 0;
															o < t.length;
															o++
														)
															for (
																var a = t[o],
																	l = 0;
																l < a.length;
																l++
															) {
																var u = a[l];
																if (c(i, u))
																	return !0;
																if (s(u, i, n))
																	return !0;
															}
													return !1;
												},
											multiPolygonIntersectsMultiPolygon:
												function (e, t) {
													if (
														1 === e.length &&
														1 === e[0].length
													)
														return u(t, e[0][0]);
													for (
														var n = 0;
														n < t.length;
														n++
													)
														for (
															var r = t[n], i = 0;
															i < r.length;
															i++
														)
															if (u(e, r[i]))
																return !0;
													for (
														var a = 0;
														a < e.length;
														a++
													) {
														for (
															var s = e[a], l = 0;
															l < s.length;
															l++
														)
															if (u(t, s[l]))
																return !0;
														for (
															var c = 0;
															c < t.length;
															c++
														)
															if (o(s, t[c]))
																return !0;
													}
													return !1;
												},
											multiPolygonIntersectsBufferedMultiLine:
												function (e, t, n) {
													for (
														var r = 0;
														r < t.length;
														r++
													)
														for (
															var o = t[r], a = 0;
															a < e.length;
															a++
														) {
															var s = e[a];
															if (s.length >= 3)
																for (
																	var l = 0;
																	l <
																	o.length;
																	l++
																)
																	if (
																		c(
																			s,
																			o[l]
																		)
																	)
																		return !0;
															if (i(s, o, n))
																return !0;
														}
													return !1;
												},
											polygonIntersectsPolygon: function (
												e,
												t
											) {
												for (
													var n = 0;
													n < e.length;
													n++
												)
													if (c(t, e[n])) return !0;
												for (
													var r = 0;
													r < t.length;
													r++
												)
													if (c(e, t[r])) return !0;
												return !!o(e, t);
											},
											distToSegmentSquared: l,
										};
									},
									function (e, t, n) {
										var r = n(0),
											i = {
												vector: n(196),
												raster: n(114),
												"raster-dem": n(197),
												geojson: n(115),
												video: n(199),
												image: n(52),
												canvas: n(200),
											};
										(t.create = function (e, t, n, o) {
											var a = new i[t.type](e, t, n, o);
											if (a.id !== e)
												throw new Error(
													"Expected Source id to be "
														.concat(
															e,
															" instead of "
														)
														.concat(a.id)
												);
											return (
												r.bindAll(
													[
														"load",
														"abort",
														"unload",
														"serialize",
														"prepare",
													],
													a
												),
												a
											);
										}),
											(t.getType = function (e) {
												return i[e];
											}),
											(t.setType = function (e, t) {
												i[e] = t;
											});
									},
									function (e, t, n) {
										var r = n(23).createLayout;
										e.exports = r([
											{
												name: "a_pos",
												type: "Int16",
												components: 2,
											},
											{
												name: "a_texture_pos",
												type: "Int16",
												components: 2,
											},
										]);
									},
									function (e, t, n) {
										var r = n(3);
										e.exports = {
											getMaximumPaintValue: function (
												e,
												t,
												n
											) {
												var r = t.paint.get(e).value;
												return "constant" === r.kind
													? r.value
													: n.programConfigurations.get(
															t.id
													  ).binders[e].statistics
															.max;
											},
											translateDistance: function (e) {
												return Math.sqrt(
													e[0] * e[0] + e[1] * e[1]
												);
											},
											translate: function (
												e,
												t,
												n,
												i,
												o
											) {
												if (!t[0] && !t[1]) return e;
												var a = r.convert(t);
												"viewport" === n &&
													a._rotate(-i);
												for (
													var s = [], l = 0;
													l < e.length;
													l++
												) {
													for (
														var u = e[l],
															c = [],
															f = 0;
														f < u.length;
														f++
													)
														c.push(
															u[f].sub(a._mult(o))
														);
													s.push(c);
												}
												return s;
											},
										};
									},
									function (e, t, n) {
										(e.exports.VectorTile = n(172)),
											(e.exports.VectorTileFeature =
												n(107)),
											(e.exports.VectorTileLayer =
												n(106));
									},
									function (e, t, n) {
										var r = n(16),
											i = n(10),
											o = n(5),
											a = !1,
											s = null;
										(e.exports.evented = new i()),
											(e.exports.registerForPluginAvailability =
												function (t) {
													return (
														s
															? t({
																	pluginBlobURL:
																		s,
																	errorCallback:
																		e
																			.exports
																			.errorCallback,
															  })
															: e.exports.evented.once(
																	"pluginAvailable",
																	t
															  ),
														t
													);
												}),
											(e.exports.createBlobURL =
												function (e) {
													return o.URL.createObjectURL(
														new o.Blob([e.data], {
															type: "text/javascript",
														})
													);
												}),
											(e.exports.clearRTLTextPlugin =
												function () {
													(a = !1), (s = null);
												}),
											(e.exports.setRTLTextPlugin =
												function (t, n) {
													if (a)
														throw new Error(
															"setRTLTextPlugin cannot be called multiple times."
														);
													(a = !0),
														(e.exports.errorCallback =
															n),
														r.getArrayBuffer(
															{ url: t },
															function (t, r) {
																t
																	? n(t)
																	: r &&
																	  ((s =
																			e.exports.createBlobURL(
																				r
																			)),
																	  e.exports.evented.fire(
																			"pluginAvailable",
																			{
																				pluginBlobURL:
																					s,
																				errorCallback:
																					n,
																			}
																	  ));
															}
														);
												}),
											(e.exports.applyArabicShaping =
												null),
											(e.exports.processBidirectionalText =
												null);
									},
									function (e, t, n) {
										var r =
												n(
													30
												).normalizePropertyExpression,
											i = n(26),
											o = n(0);
										e.exports = {
											getSizeData: function (e, t) {
												var n = t.expression;
												if ("constant" === n.kind)
													return {
														functionType:
															"constant",
														layoutSize: n.evaluate({
															zoom: e + 1,
														}),
													};
												if ("source" === n.kind)
													return {
														functionType: "source",
													};
												for (
													var r = n.zoomStops, i = 0;
													i < r.length && r[i] <= e;

												)
													i++;
												for (
													var o = (i = Math.max(
														0,
														i - 1
													));
													o < r.length &&
													r[o] < e + 1;

												)
													o++;
												o = Math.min(r.length - 1, o);
												var a = {
													min: r[i],
													max: r[o],
												};
												return "composite" === n.kind
													? {
															functionType:
																"composite",
															zoomRange: a,
															propertyValue:
																t.value,
													  }
													: {
															functionType:
																"camera",
															layoutSize:
																n.evaluate({
																	zoom: e + 1,
																}),
															zoomRange: a,
															sizeRange: {
																min: n.evaluate(
																	{
																		zoom: a.min,
																	}
																),
																max: n.evaluate(
																	{
																		zoom: a.max,
																	}
																),
															},
															propertyValue:
																t.value,
													  };
											},
											evaluateSizeForFeature: function (
												e,
												t,
												n
											) {
												var r = t;
												return "source" ===
													e.functionType
													? n.lowerSize / 10
													: "composite" ===
													  e.functionType
													? i.number(
															n.lowerSize / 10,
															n.upperSize / 10,
															r.uSizeT
													  )
													: r.uSize;
											},
											evaluateSizeForZoom: function (
												e,
												t,
												n
											) {
												if (
													"constant" ===
													e.functionType
												)
													return {
														uSizeT: 0,
														uSize: e.layoutSize,
													};
												if ("source" === e.functionType)
													return {
														uSizeT: 0,
														uSize: 0,
													};
												if (
													"camera" === e.functionType
												) {
													var i = e.propertyValue,
														a = e.zoomRange,
														s = e.sizeRange,
														l = r(
															i,
															n.specification
														),
														u = o.clamp(
															l.interpolationFactor(
																t,
																a.min,
																a.max
															),
															0,
															1
														);
													return {
														uSizeT: 0,
														uSize:
															s.min +
															u * (s.max - s.min),
													};
												}
												var c = e.propertyValue,
													f = e.zoomRange,
													h = r(c, n.specification);
												return {
													uSizeT: o.clamp(
														h.interpolationFactor(
															t,
															f.min,
															f.max
														),
														0,
														1
													),
													uSize: 0,
												};
											},
										};
									},
									function (e, t, n) {
										var r = n(13),
											i = n(4),
											o = i.Properties,
											a = i.DataConstantProperty,
											s = i.DataDrivenProperty,
											l =
												(i.CrossFadedProperty,
												i.HeatmapColorProperty,
												new o({
													"symbol-placement": new a(
														r.layout_symbol[
															"symbol-placement"
														]
													),
													"symbol-spacing": new a(
														r.layout_symbol[
															"symbol-spacing"
														]
													),
													"symbol-avoid-edges": new a(
														r.layout_symbol[
															"symbol-avoid-edges"
														]
													),
													"icon-allow-overlap": new a(
														r.layout_symbol[
															"icon-allow-overlap"
														]
													),
													"icon-ignore-placement":
														new a(
															r.layout_symbol[
																"icon-ignore-placement"
															]
														),
													"icon-optional": new a(
														r.layout_symbol[
															"icon-optional"
														]
													),
													"icon-rotation-alignment":
														new a(
															r.layout_symbol[
																"icon-rotation-alignment"
															]
														),
													"icon-size": new s(
														r.layout_symbol[
															"icon-size"
														]
													),
													"icon-text-fit": new a(
														r.layout_symbol[
															"icon-text-fit"
														]
													),
													"icon-text-fit-padding":
														new a(
															r.layout_symbol[
																"icon-text-fit-padding"
															]
														),
													"icon-image": new s(
														r.layout_symbol[
															"icon-image"
														]
													),
													"icon-rotate": new s(
														r.layout_symbol[
															"icon-rotate"
														]
													),
													"icon-padding": new a(
														r.layout_symbol[
															"icon-padding"
														]
													),
													"icon-keep-upright": new a(
														r.layout_symbol[
															"icon-keep-upright"
														]
													),
													"icon-offset": new s(
														r.layout_symbol[
															"icon-offset"
														]
													),
													"icon-anchor": new s(
														r.layout_symbol[
															"icon-anchor"
														]
													),
													"icon-pitch-alignment":
														new a(
															r.layout_symbol[
																"icon-pitch-alignment"
															]
														),
													"text-pitch-alignment":
														new a(
															r.layout_symbol[
																"text-pitch-alignment"
															]
														),
													"text-rotation-alignment":
														new a(
															r.layout_symbol[
																"text-rotation-alignment"
															]
														),
													"text-field": new s(
														r.layout_symbol[
															"text-field"
														]
													),
													"text-font": new s(
														r.layout_symbol[
															"text-font"
														]
													),
													"text-size": new s(
														r.layout_symbol[
															"text-size"
														]
													),
													"text-max-width": new s(
														r.layout_symbol[
															"text-max-width"
														]
													),
													"text-line-height": new a(
														r.layout_symbol[
															"text-line-height"
														]
													),
													"text-letter-spacing":
														new s(
															r.layout_symbol[
																"text-letter-spacing"
															]
														),
													"text-justify": new s(
														r.layout_symbol[
															"text-justify"
														]
													),
													"text-anchor": new s(
														r.layout_symbol[
															"text-anchor"
														]
													),
													"text-max-angle": new a(
														r.layout_symbol[
															"text-max-angle"
														]
													),
													"text-rotate": new s(
														r.layout_symbol[
															"text-rotate"
														]
													),
													"text-padding": new a(
														r.layout_symbol[
															"text-padding"
														]
													),
													"text-keep-upright": new a(
														r.layout_symbol[
															"text-keep-upright"
														]
													),
													"text-transform": new s(
														r.layout_symbol[
															"text-transform"
														]
													),
													"text-offset": new s(
														r.layout_symbol[
															"text-offset"
														]
													),
													"text-allow-overlap": new a(
														r.layout_symbol[
															"text-allow-overlap"
														]
													),
													"text-ignore-placement":
														new a(
															r.layout_symbol[
																"text-ignore-placement"
															]
														),
													"text-optional": new a(
														r.layout_symbol[
															"text-optional"
														]
													),
												})),
											u = new o({
												"icon-opacity": new s(
													r.paint_symbol[
														"icon-opacity"
													]
												),
												"icon-color": new s(
													r.paint_symbol["icon-color"]
												),
												"icon-halo-color": new s(
													r.paint_symbol[
														"icon-halo-color"
													]
												),
												"icon-halo-width": new s(
													r.paint_symbol[
														"icon-halo-width"
													]
												),
												"icon-halo-blur": new s(
													r.paint_symbol[
														"icon-halo-blur"
													]
												),
												"icon-translate": new a(
													r.paint_symbol[
														"icon-translate"
													]
												),
												"icon-translate-anchor": new a(
													r.paint_symbol[
														"icon-translate-anchor"
													]
												),
												"text-opacity": new s(
													r.paint_symbol[
														"text-opacity"
													]
												),
												"text-color": new s(
													r.paint_symbol["text-color"]
												),
												"text-halo-color": new s(
													r.paint_symbol[
														"text-halo-color"
													]
												),
												"text-halo-width": new s(
													r.paint_symbol[
														"text-halo-width"
													]
												),
												"text-halo-blur": new s(
													r.paint_symbol[
														"text-halo-blur"
													]
												),
												"text-translate": new a(
													r.paint_symbol[
														"text-translate"
													]
												),
												"text-translate-anchor": new a(
													r.paint_symbol[
														"text-translate-anchor"
													]
												),
											});
										e.exports = { paint: u, layout: l };
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function f(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function h(e) {
											return (h = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function p(e, t) {
											return (p =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var d = i(0),
											y = i(27).CanonicalTileID,
											m = i(21),
											v = i(3),
											g = i(10),
											_ = i(16),
											b = i(2),
											x = i(6),
											w = i(14).RasterBoundsArray,
											C = i(46),
											T = i(40),
											k = i(20),
											P = (function (e) {
												function t(e, n, r, i) {
													var o;
													return (
														(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((o = f(
															this,
															h(t).call(this)
														)).id = e),
														(o.dispatcher = r),
														(o.coordinates =
															n.coordinates),
														(o.type = "image"),
														(o.minzoom = 0),
														(o.maxzoom = 22),
														(o.tileSize = 512),
														(o.tiles = {}),
														o.setEventedParent(i),
														(o.options = n),
														o
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && p(e, t);
													})(t, g),
													(n = t),
													(r = [
														{
															key: "load",
															value: function () {
																var e = this;
																this.fire(
																	"dataloading",
																	{
																		dataType:
																			"source",
																	}
																),
																	(this.url =
																		this.options.url),
																	_.getImage(
																		this.map._transformRequest(
																			this
																				.url,
																			_
																				.ResourceType
																				.Image
																		),
																		function (
																			t,
																			n
																		) {
																			t
																				? e.fire(
																						"error",
																						{
																							error: t,
																						}
																				  )
																				: n &&
																				  ((e.image =
																						b.getImageData(
																							n
																						)),
																				  e._finishLoading());
																		}
																	);
															},
														},
														{
															key: "_finishLoading",
															value: function () {
																this.map &&
																	(this.setCoordinates(
																		this
																			.coordinates
																	),
																	this.fire(
																		"data",
																		{
																			dataType:
																				"source",
																			sourceDataType:
																				"metadata",
																		}
																	));
															},
														},
														{
															key: "onAdd",
															value: function (
																e
															) {
																(this.map = e),
																	this.load();
															},
														},
														{
															key: "setCoordinates",
															value: function (
																e
															) {
																this.coordinates =
																	e;
																var t =
																		this
																			.map,
																	n = e.map(
																		function (
																			e
																		) {
																			return t.transform
																				.locationCoordinate(
																					m.convert(
																						e
																					)
																				)
																				.zoomTo(
																					0
																				);
																		}
																	),
																	r =
																		(this.centerCoord =
																			d.getCoordinatesCenter(
																				n
																			));
																(r.column =
																	Math.floor(
																		r.column
																	)),
																	(r.row =
																		Math.floor(
																			r.row
																		)),
																	(this.tileID =
																		new y(
																			r.zoom,
																			r.column,
																			r.row
																		)),
																	(this.minzoom =
																		this.maxzoom =
																			r.zoom);
																var i = n.map(
																	function (
																		e
																	) {
																		var t =
																			e.zoomTo(
																				r.zoom
																			);
																		return new v(
																			Math.round(
																				(t.column -
																					r.column) *
																					x
																			),
																			Math.round(
																				(t.row -
																					r.row) *
																					x
																			)
																		);
																	}
																);
																return (
																	(this._boundsArray =
																		new w()),
																	this._boundsArray.emplaceBack(
																		i[0].x,
																		i[0].y,
																		0,
																		0
																	),
																	this._boundsArray.emplaceBack(
																		i[1].x,
																		i[1].y,
																		x,
																		0
																	),
																	this._boundsArray.emplaceBack(
																		i[3].x,
																		i[3].y,
																		0,
																		x
																	),
																	this._boundsArray.emplaceBack(
																		i[2].x,
																		i[2].y,
																		x,
																		x
																	),
																	this
																		.boundsBuffer &&
																		(this.boundsBuffer.destroy(),
																		delete this
																			.boundsBuffer),
																	this.fire(
																		"data",
																		{
																			dataType:
																				"source",
																			sourceDataType:
																				"content",
																		}
																	),
																	this
																);
															},
														},
														{
															key: "prepare",
															value: function () {
																if (
																	0 !==
																		(0,
																		u.default)(
																			this
																				.tiles
																		)
																			.length &&
																	this.image
																) {
																	var e =
																			this
																				.map
																				.painter
																				.context,
																		t =
																			e.gl;
																	for (var n in (this
																		.boundsBuffer ||
																		(this.boundsBuffer =
																			e.createVertexBuffer(
																				this
																					._boundsArray,
																				C.members
																			)),
																	this
																		.boundsVAO ||
																		(this.boundsVAO =
																			new T()),
																	this
																		.texture ||
																		((this.texture =
																			new k(
																				e,
																				this.image,
																				t.RGBA
																			)),
																		this.texture.bind(
																			t.LINEAR,
																			t.CLAMP_TO_EDGE
																		)),
																	this
																		.tiles)) {
																		var r =
																			this
																				.tiles[
																				n
																			];
																		"loaded" !==
																			r.state &&
																			((r.state =
																				"loaded"),
																			(r.texture =
																				this.texture));
																	}
																}
															},
														},
														{
															key: "loadTile",
															value: function (
																e,
																t
															) {
																this.tileID &&
																this.tileID.equals(
																	e.tileID
																		.canonical
																)
																	? ((this.tiles[
																			String(
																				e
																					.tileID
																					.wrap
																			)
																	  ] = e),
																	  (e.buckets =
																			{}),
																	  t(null))
																	: ((e.state =
																			"errored"),
																	  t(null));
															},
														},
														{
															key: "serialize",
															value: function () {
																return {
																	type: "image",
																	url: this
																		.options
																		.url,
																	coordinates:
																		this
																			.coordinates,
																};
															},
														},
														{
															key: "hasTransition",
															value: function () {
																return !1;
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										e.exports = P;
									},
									function (e, n, i) {
										function s(e) {
											return (s =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function f(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function h(e) {
											return (h = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function p(e) {
											if (void 0 === e)
												throw new ReferenceError(
													"this hasn't been initialised - super() hasn't been called"
												);
											return e;
										}
										function d(e, t) {
											return (d =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var y = i(1),
											m = i(10),
											v = i(19),
											g = i(184),
											_ = i(185),
											b = i(187),
											x = i(192),
											w = i(193),
											C = i(0),
											T = i(16),
											k = i(34),
											P = i(2),
											E = i(194),
											S = i(54),
											A = i(45).getType,
											M = i(45).setType,
											I = i(116),
											L = i(117),
											D = (i(115), i(13)),
											O = i(209),
											z = i(214),
											R = i(216),
											B = i(49),
											j = i(217),
											F = i(108),
											N = i(123),
											V = C.pick(R.operations, [
												"addLayer",
												"removeLayer",
												"setPaintProperty",
												"setLayoutProperty",
												"setFilter",
												"addSource",
												"removeSource",
												"setLayerZoomRange",
												"setLight",
												"setTransition",
												"setGeoJSONSourceData",
											]),
											U = C.pick(R.operations, [
												"setCenter",
												"setZoom",
												"setBearing",
												"setPitch",
											]),
											H = (function (e) {
												function t(e) {
													var n,
														r =
															arguments.length >
																1 &&
															void 0 !==
																arguments[1]
																? arguments[1]
																: {};
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, t),
														((n = (function (e, t) {
															return !t ||
																("object" !==
																	s(t) &&
																	"function" !=
																		typeof t)
																? p(e)
																: t;
														})(
															this,
															h(t).call(this)
														)).map = e),
														(n.dispatcher = new E(
															O(),
															p(n)
														)),
														(n.imageManager =
															new _()),
														(n.glyphManager = new b(
															e._transformRequest,
															r.localIdeographFontFamily
														)),
														(n.lineAtlas = new w(
															256,
															512
														)),
														(n.crossTileSymbolIndex =
															new N()),
														(n._layers = {}),
														(n._order = []),
														(n.sourceCaches = {}),
														(n.zoomHistory =
															new F()),
														(n._loaded = !1),
														n._resetUpdates();
													var i = p(n);
													return (
														(n._rtlTextPluginCallback =
															B.registerForPluginAvailability(
																function (e) {
																	for (var t in (i.dispatcher.broadcast(
																		"loadRTLTextPlugin",
																		e.pluginBlobURL,
																		e.errorCallback
																	),
																	i.sourceCaches))
																		i.sourceCaches[
																			t
																		].reload();
																}
															)),
														n.on(
															"data",
															function (e) {
																if (
																	"source" ===
																		e.dataType &&
																	"metadata" ===
																		e.sourceDataType
																) {
																	var t =
																		n
																			.sourceCaches[
																			e
																				.sourceId
																		];
																	if (t) {
																		var r =
																			t.getSource();
																		if (
																			r &&
																			r.vectorLayerIds
																		)
																			for (var i in n._layers) {
																				var o =
																					n
																						._layers[
																						i
																					];
																				o.source ===
																					r.id &&
																					n._validateLayer(
																						o
																					);
																			}
																	}
																}
															}
														),
														n
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && d(e, t);
													})(t, m),
													(n = t),
													(r = [
														{
															key: "loadURL",
															value: function (
																e
															) {
																var t = this,
																	n =
																		arguments.length >
																			1 &&
																		void 0 !==
																			arguments[1]
																			? arguments[1]
																			: {};
																this.fire(
																	"dataloading",
																	{
																		dataType:
																			"style",
																	}
																);
																var r =
																	"boolean" ==
																	typeof n.validate
																		? n.validate
																		: !k.isMapboxURL(
																				e
																		  );
																e =
																	k.normalizeStyleURL(
																		e,
																		n.accessToken
																	);
																var i =
																	this.map._transformRequest(
																		e,
																		T
																			.ResourceType
																			.Style
																	);
																T.getJSON(
																	i,
																	function (
																		e,
																		n
																	) {
																		e
																			? t.fire(
																					"error",
																					{
																						error: e,
																					}
																			  )
																			: n &&
																			  t._load(
																					n,
																					r
																			  );
																	}
																);
															},
														},
														{
															key: "loadJSON",
															value: function (
																e
															) {
																var t = this,
																	n =
																		arguments.length >
																			1 &&
																		void 0 !==
																			arguments[1]
																			? arguments[1]
																			: {};
																this.fire(
																	"dataloading",
																	{
																		dataType:
																			"style",
																	}
																),
																	P.frame(
																		function () {
																			t._load(
																				e,
																				!1 !==
																					n.validate
																			);
																		}
																	);
															},
														},
														{
															key: "_load",
															value: function (
																e,
																t
															) {
																var n = this;
																if (
																	!t ||
																	!S.emitErrors(
																		this,
																		S(e)
																	)
																) {
																	for (var r in ((this._loaded =
																		!0),
																	(this.stylesheet =
																		e),
																	e.sources))
																		this.addSource(
																			r,
																			e
																				.sources[
																				r
																			],
																			{
																				validate:
																					!1,
																			}
																		);
																	e.sprite
																		? g(
																				e.sprite,
																				this
																					.map
																					._transformRequest,
																				function (
																					e,
																					t
																				) {
																					if (
																						e
																					)
																						n.fire(
																							"error",
																							e
																						);
																					else if (
																						t
																					)
																						for (var r in t)
																							n.imageManager.addImage(
																								r,
																								t[
																									r
																								]
																							);
																					n.imageManager.setLoaded(
																						!0
																					),
																						n.fire(
																							"data",
																							{
																								dataType:
																									"style",
																							}
																						);
																				}
																		  )
																		: this.imageManager.setLoaded(
																				!0
																		  ),
																		this.glyphManager.setURL(
																			e.glyphs
																		);
																	var i = z(
																		this
																			.stylesheet
																			.layers
																	);
																	(this._order =
																		i.map(
																			function (
																				e
																			) {
																				return e.id;
																			}
																		)),
																		(this._layers =
																			{});
																	var a = !0,
																		s = !1,
																		l =
																			void 0;
																	try {
																		for (
																			var u,
																				c =
																					(0,
																					o.default)(
																						i
																					);
																			!(a =
																				(u =
																					c.next())
																					.done);
																			a =
																				!0
																		) {
																			var f =
																				u.value;
																			(f =
																				v.create(
																					f
																				)).setEventedParent(
																				this,
																				{
																					layer: {
																						id: f.id,
																					},
																				}
																			),
																				(this._layers[
																					f.id
																				] =
																					f);
																		}
																	} catch (e) {
																		(s =
																			!0),
																			(l =
																				e);
																	} finally {
																		try {
																			a ||
																				null ==
																					c.return ||
																				c.return();
																		} finally {
																			if (
																				s
																			)
																				throw l;
																		}
																	}
																	this.dispatcher.broadcast(
																		"setLayers",
																		this._serializeLayers(
																			this
																				._order
																		)
																	),
																		(this.light =
																			new x(
																				this.stylesheet.light
																			)),
																		this.fire(
																			"data",
																			{
																				dataType:
																					"style",
																			}
																		),
																		this.fire(
																			"style.load"
																		);
																}
															},
														},
														{
															key: "_validateLayer",
															value: function (
																e
															) {
																var t =
																	this
																		.sourceCaches[
																		e.source
																	];
																if (t) {
																	var n =
																		e.sourceLayer;
																	if (n) {
																		var r =
																			t.getSource();
																		("geojson" ===
																			r.type ||
																			(r.vectorLayerIds &&
																				-1 ===
																					r.vectorLayerIds.indexOf(
																						n
																					))) &&
																			this.fire(
																				"error",
																				{
																					error: new Error(
																						'Source layer "'.concat(
																							n,
																							'" '
																						) +
																							'does not exist on source "'.concat(
																								r.id,
																								'" '
																							) +
																							'as specified by style layer "'.concat(
																								e.id,
																								'"'
																							)
																					),
																				}
																			);
																	}
																}
															},
														},
														{
															key: "loaded",
															value: function () {
																if (
																	!this
																		._loaded
																)
																	return !1;
																if (
																	(0,
																	u.default)(
																		this
																			._updatedSources
																	).length
																)
																	return !1;
																for (var e in this
																	.sourceCaches)
																	if (
																		!this.sourceCaches[
																			e
																		].loaded()
																	)
																		return !1;
																return !!this.imageManager.isLoaded();
															},
														},
														{
															key: "_serializeLayers",
															value: function (
																e
															) {
																var t = this;
																return e.map(
																	function (
																		e
																	) {
																		return t._layers[
																			e
																		].serialize();
																	}
																);
															},
														},
														{
															key: "hasTransitions",
															value: function () {
																if (
																	this
																		.light &&
																	this.light.hasTransition()
																)
																	return !0;
																for (var e in this
																	.sourceCaches)
																	if (
																		this.sourceCaches[
																			e
																		].hasTransition()
																	)
																		return !0;
																for (var t in this
																	._layers)
																	if (
																		this._layers[
																			t
																		].hasTransition()
																	)
																		return !0;
																return !1;
															},
														},
														{
															key: "_checkLoaded",
															value: function () {
																if (
																	!this
																		._loaded
																)
																	throw new Error(
																		"Style is not done loading"
																	);
															},
														},
														{
															key: "update",
															value: function (
																e
															) {
																if (
																	this._loaded
																) {
																	if (
																		this
																			._changed
																	) {
																		var t =
																				(0,
																				u.default)(
																					this
																						._updatedLayers
																				),
																			n =
																				(0,
																				u.default)(
																					this
																						._removedLayers
																				);
																		for (var r in ((t.length ||
																			n.length) &&
																			this._updateWorkerLayers(
																				t,
																				n
																			),
																		this
																			._updatedSources)) {
																			var i =
																				this
																					._updatedSources[
																					r
																				];
																			y(
																				"reload" ===
																					i ||
																					"clear" ===
																						i
																			),
																				"reload" ===
																				i
																					? this._reloadSource(
																							r
																					  )
																					: "clear" ===
																							i &&
																					  this._clearSource(
																							r
																					  );
																		}
																		for (var a in this
																			._updatedPaintProps)
																			this._layers[
																				a
																			].updateTransitions(
																				e
																			);
																		this.light.updateTransitions(
																			e
																		),
																			this._resetUpdates(),
																			this.fire(
																				"data",
																				{
																					dataType:
																						"style",
																				}
																			);
																	}
																	for (var s in this
																		.sourceCaches)
																		this.sourceCaches[
																			s
																		].used =
																			!1;
																	var l = !0,
																		c = !1,
																		f =
																			void 0;
																	try {
																		for (
																			var h,
																				p =
																					(0,
																					o.default)(
																						this
																							._order
																					);
																			!(l =
																				(h =
																					p.next())
																					.done);
																			l =
																				!0
																		) {
																			var d =
																					h.value,
																				m =
																					this
																						._layers[
																						d
																					];
																			m.recalculate(
																				e
																			),
																				!m.isHidden(
																					e.zoom
																				) &&
																					m.source &&
																					(this.sourceCaches[
																						m.source
																					].used =
																						!0);
																		}
																	} catch (e) {
																		(c =
																			!0),
																			(f =
																				e);
																	} finally {
																		try {
																			l ||
																				null ==
																					p.return ||
																				p.return();
																		} finally {
																			if (
																				c
																			)
																				throw f;
																		}
																	}
																	this.light.recalculate(
																		e
																	),
																		(this.z =
																			e.zoom);
																}
															},
														},
														{
															key: "_updateWorkerLayers",
															value: function (
																e,
																t
															) {
																this.dispatcher.broadcast(
																	"updateLayers",
																	{
																		layers: this._serializeLayers(
																			e
																		),
																		removedIds:
																			t,
																	}
																);
															},
														},
														{
															key: "_resetUpdates",
															value: function () {
																(this._changed =
																	!1),
																	(this._updatedLayers =
																		{}),
																	(this._removedLayers =
																		{}),
																	(this._updatedSources =
																		{}),
																	(this._updatedPaintProps =
																		{});
															},
														},
														{
															key: "setState",
															value: function (
																e
															) {
																var t = this;
																if (
																	(this._checkLoaded(),
																	S.emitErrors(
																		this,
																		S(e)
																	))
																)
																	return !1;
																(e =
																	C.clone(
																		e
																	)).layers =
																	z(e.layers);
																var n = R(
																	this.serialize(),
																	e
																).filter(
																	function (
																		e
																	) {
																		return !(
																			e.command in
																			U
																		);
																	}
																);
																if (
																	0 ===
																	n.length
																)
																	return !1;
																var r =
																	n.filter(
																		function (
																			e
																		) {
																			return !(
																				e.command in
																				V
																			);
																		}
																	);
																if (
																	r.length > 0
																)
																	throw new Error(
																		"Unimplemented: ".concat(
																			r
																				.map(
																					function (
																						e
																					) {
																						return e.command;
																					}
																				)
																				.join(
																					", "
																				),
																			"."
																		)
																	);
																return (
																	n.forEach(
																		function (
																			e
																		) {
																			"setTransition" !==
																				e.command &&
																				t[
																					e
																						.command
																				].apply(
																					t,
																					e.args
																				);
																		}
																	),
																	(this.stylesheet =
																		e),
																	!0
																);
															},
														},
														{
															key: "addImage",
															value: function (
																e,
																t
															) {
																if (
																	this.getImage(
																		e
																	)
																)
																	return this.fire(
																		"error",
																		{
																			error: new Error(
																				"An image with this name already exists."
																			),
																		}
																	);
																this.imageManager.addImage(
																	e,
																	t
																),
																	this.fire(
																		"data",
																		{
																			dataType:
																				"style",
																		}
																	);
															},
														},
														{
															key: "getImage",
															value: function (
																e
															) {
																return this.imageManager.getImage(
																	e
																);
															},
														},
														{
															key: "removeImage",
															value: function (
																e
															) {
																if (
																	!this.getImage(
																		e
																	)
																)
																	return this.fire(
																		"error",
																		{
																			error: new Error(
																				"No image with this name exists."
																			),
																		}
																	);
																this.imageManager.removeImage(
																	e
																),
																	this.fire(
																		"data",
																		{
																			dataType:
																				"style",
																		}
																	);
															},
														},
														{
															key: "addSource",
															value: function (
																e,
																t,
																n
															) {
																var r = this;
																if (
																	(this._checkLoaded(),
																	void 0 !==
																		this
																			.sourceCaches[
																			e
																		])
																)
																	throw new Error(
																		"There is already a source with this ID"
																	);
																if (!t.type)
																	throw new Error(
																		"The type property must be defined, but the only the following properties were given: ".concat(
																			(0,
																			u.default)(
																				t
																			).join(
																				", "
																			),
																			"."
																		)
																	);
																if (
																	!(
																		[
																			"vector",
																			"raster",
																			"geojson",
																			"video",
																			"image",
																			"canvas",
																		].indexOf(
																			t.type
																		) >=
																			0 &&
																		this._validate(
																			S.source,
																			"sources.".concat(
																				e
																			),
																			t,
																			null,
																			n
																		)
																	)
																) {
																	var i =
																		(this.sourceCaches[
																			e
																		] = new L(
																			e,
																			t,
																			this.dispatcher
																		));
																	(i.style =
																		this),
																		i.setEventedParent(
																			this,
																			function () {
																				return {
																					isSourceLoaded:
																						r.loaded(),
																					source: i.serialize(),
																					sourceId:
																						e,
																				};
																			}
																		),
																		i.onAdd(
																			this
																				.map
																		),
																		(this._changed =
																			!0);
																}
															},
														},
														{
															key: "removeSource",
															value: function (
																e
															) {
																if (
																	(this._checkLoaded(),
																	void 0 ===
																		this
																			.sourceCaches[
																			e
																		])
																)
																	throw new Error(
																		"There is no source with this ID"
																	);
																for (var t in this
																	._layers)
																	if (
																		this
																			._layers[
																			t
																		]
																			.source ===
																		e
																	)
																		return this.fire(
																			"error",
																			{
																				error: new Error(
																					'Source "'
																						.concat(
																							e,
																							'" cannot be removed while layer "'
																						)
																						.concat(
																							t,
																							'" is using it.'
																						)
																				),
																			}
																		);
																var n =
																	this
																		.sourceCaches[
																		e
																	];
																delete this
																	.sourceCaches[
																	e
																],
																	delete this
																		._updatedSources[
																		e
																	],
																	n.fire(
																		"data",
																		{
																			sourceDataType:
																				"metadata",
																			dataType:
																				"source",
																			sourceId:
																				e,
																		}
																	),
																	n.setEventedParent(
																		null
																	),
																	n.clearTiles(),
																	n.onRemove &&
																		n.onRemove(
																			this
																				.map
																		),
																	(this._changed =
																		!0);
															},
														},
														{
															key: "setGeoJSONSourceData",
															value: function (
																e,
																t
															) {
																this._checkLoaded(),
																	y(
																		void 0 !==
																			this
																				.sourceCaches[
																				e
																			],
																		"There is no source with this ID"
																	);
																var n =
																	this.sourceCaches[
																		e
																	].getSource();
																y(
																	"geojson" ===
																		n.type
																),
																	n.setData(
																		t
																	),
																	(this._changed =
																		!0);
															},
														},
														{
															key: "getSource",
															value: function (
																e
															) {
																return (
																	this
																		.sourceCaches[
																		e
																	] &&
																	this.sourceCaches[
																		e
																	].getSource()
																);
															},
														},
														{
															key: "addLayer",
															value: function (
																e,
																t,
																n
															) {
																this._checkLoaded();
																var r = e.id;
																if (
																	("object" ===
																		s(
																			e.source
																		) &&
																		(this.addSource(
																			r,
																			e.source
																		),
																		(e =
																			C.clone(
																				e
																			)),
																		(e =
																			C.extend(
																				e,
																				{
																					source: r,
																				}
																			))),
																	!this._validate(
																		S.layer,
																		"layers.".concat(
																			r
																		),
																		e,
																		{
																			arrayIndex:
																				-1,
																		},
																		n
																	))
																) {
																	var i =
																		v.create(
																			e
																		);
																	this._validateLayer(
																		i
																	),
																		i.setEventedParent(
																			this,
																			{
																				layer: {
																					id: r,
																				},
																			}
																		);
																	var o = t
																		? this._order.indexOf(
																				t
																		  )
																		: this
																				._order
																				.length;
																	if (
																		t &&
																		-1 === o
																	)
																		this.fire(
																			"error",
																			{
																				error: new Error(
																					'Layer with id "'.concat(
																						t,
																						'" does not exist on this map.'
																					)
																				),
																			}
																		);
																	else {
																		if (
																			(this._order.splice(
																				o,
																				0,
																				r
																			),
																			(this._layerOrderChanged =
																				!0),
																			(this._layers[
																				r
																			] =
																				i),
																			this
																				._removedLayers[
																				r
																			] &&
																				i.source)
																		) {
																			var a =
																				this
																					._removedLayers[
																					r
																				];
																			delete this
																				._removedLayers[
																				r
																			],
																				a.type !==
																				i.type
																					? (this._updatedSources[
																							i.source
																					  ] =
																							"clear")
																					: ((this._updatedSources[
																							i.source
																					  ] =
																							"reload"),
																					  this.sourceCaches[
																							i
																								.source
																					  ].pause());
																		}
																		this._updateLayer(
																			i
																		);
																	}
																}
															},
														},
														{
															key: "moveLayer",
															value: function (
																e,
																t
															) {
																if (
																	(this._checkLoaded(),
																	(this._changed =
																		!0),
																	this
																		._layers[
																		e
																	])
																) {
																	var n =
																		this._order.indexOf(
																			e
																		);
																	this._order.splice(
																		n,
																		1
																	);
																	var r = t
																		? this._order.indexOf(
																				t
																		  )
																		: this
																				._order
																				.length;
																	t &&
																	-1 === r
																		? this.fire(
																				"error",
																				{
																					error: new Error(
																						'Layer with id "'.concat(
																							t,
																							'" does not exist on this map.'
																						)
																					),
																				}
																		  )
																		: (this._order.splice(
																				r,
																				0,
																				e
																		  ),
																		  (this._layerOrderChanged =
																				!0));
																} else
																	this.fire(
																		"error",
																		{
																			error: new Error(
																				"The layer '".concat(
																					e,
																					"' does not exist in "
																				) +
																					"the map's style and cannot be moved."
																			),
																		}
																	);
															},
														},
														{
															key: "removeLayer",
															value: function (
																e
															) {
																this._checkLoaded();
																var t =
																	this
																		._layers[
																		e
																	];
																if (t) {
																	t.setEventedParent(
																		null
																	);
																	var n =
																		this._order.indexOf(
																			e
																		);
																	this._order.splice(
																		n,
																		1
																	),
																		(this._layerOrderChanged =
																			!0),
																		(this._changed =
																			!0),
																		(this._removedLayers[
																			e
																		] = t),
																		delete this
																			._layers[
																			e
																		],
																		delete this
																			._updatedLayers[
																			e
																		],
																		delete this
																			._updatedPaintProps[
																			e
																		];
																} else
																	this.fire(
																		"error",
																		{
																			error: new Error(
																				"The layer '".concat(
																					e,
																					"' does not exist in "
																				) +
																					"the map's style and cannot be removed."
																			),
																		}
																	);
															},
														},
														{
															key: "getLayer",
															value: function (
																e
															) {
																return this
																	._layers[e];
															},
														},
														{
															key: "setLayerZoomRange",
															value: function (
																e,
																t,
																n
															) {
																this._checkLoaded();
																var r =
																	this.getLayer(
																		e
																	);
																r
																	? (r.minzoom ===
																			t &&
																			r.maxzoom ===
																				n) ||
																	  (null !=
																			t &&
																			(r.minzoom =
																				t),
																	  null !=
																			n &&
																			(r.maxzoom =
																				n),
																	  this._updateLayer(
																			r
																	  ))
																	: this.fire(
																			"error",
																			{
																				error: new Error(
																					"The layer '".concat(
																						e,
																						"' does not exist in "
																					) +
																						"the map's style and cannot have zoom extent."
																				),
																			}
																	  );
															},
														},
														{
															key: "setFilter",
															value: function (
																e,
																t
															) {
																this._checkLoaded();
																var n =
																	this.getLayer(
																		e
																	);
																if (n) {
																	if (
																		!C.deepEqual(
																			n.filter,
																			t
																		)
																	)
																		return null ==
																			t
																			? ((n.filter =
																					void 0),
																			  void this._updateLayer(
																					n
																			  ))
																			: void (
																					this._validate(
																						S.filter,
																						"layers.".concat(
																							n.id,
																							".filter"
																						),
																						t
																					) ||
																					((n.filter =
																						C.clone(
																							t
																						)),
																					this._updateLayer(
																						n
																					))
																			  );
																} else
																	this.fire(
																		"error",
																		{
																			error: new Error(
																				"The layer '".concat(
																					e,
																					"' does not exist in "
																				) +
																					"the map's style and cannot be filtered."
																			),
																		}
																	);
															},
														},
														{
															key: "getFilter",
															value: function (
																e
															) {
																return C.clone(
																	this.getLayer(
																		e
																	).filter
																);
															},
														},
														{
															key: "setLayoutProperty",
															value: function (
																e,
																t,
																n
															) {
																this._checkLoaded();
																var r =
																	this.getLayer(
																		e
																	);
																r
																	? C.deepEqual(
																			r.getLayoutProperty(
																				t
																			),
																			n
																	  ) ||
																	  (r.setLayoutProperty(
																			t,
																			n
																	  ),
																	  this._updateLayer(
																			r
																	  ))
																	: this.fire(
																			"error",
																			{
																				error: new Error(
																					"The layer '".concat(
																						e,
																						"' does not exist in "
																					) +
																						"the map's style and cannot be styled."
																				),
																			}
																	  );
															},
														},
														{
															key: "getLayoutProperty",
															value: function (
																e,
																t
															) {
																return this.getLayer(
																	e
																).getLayoutProperty(
																	t
																);
															},
														},
														{
															key: "setPaintProperty",
															value: function (
																e,
																t,
																n
															) {
																this._checkLoaded();
																var r =
																	this.getLayer(
																		e
																	);
																if (r) {
																	if (
																		!C.deepEqual(
																			r.getPaintProperty(
																				t
																			),
																			n
																		)
																	) {
																		var i =
																			r._transitionablePaint._values[
																				t
																			].value.isDataDriven();
																		r.setPaintProperty(
																			t,
																			n
																		),
																			(r._transitionablePaint._values[
																				t
																			].value.isDataDriven() ||
																				i) &&
																				this._updateLayer(
																					r
																				),
																			(this._changed =
																				!0),
																			(this._updatedPaintProps[
																				e
																			] =
																				!0);
																	}
																} else
																	this.fire(
																		"error",
																		{
																			error: new Error(
																				"The layer '".concat(
																					e,
																					"' does not exist in "
																				) +
																					"the map's style and cannot be styled."
																			),
																		}
																	);
															},
														},
														{
															key: "getPaintProperty",
															value: function (
																e,
																t
															) {
																return this.getLayer(
																	e
																).getPaintProperty(
																	t
																);
															},
														},
														{
															key: "getTransition",
															value: function () {
																return C.extend(
																	{
																		duration: 300,
																		delay: 0,
																	},
																	this
																		.stylesheet &&
																		this
																			.stylesheet
																			.transition
																);
															},
														},
														{
															key: "serialize",
															value: function () {
																var e = this;
																return C.filterObject(
																	{
																		version:
																			this
																				.stylesheet
																				.version,
																		name: this
																			.stylesheet
																			.name,
																		metadata:
																			this
																				.stylesheet
																				.metadata,
																		light: this
																			.stylesheet
																			.light,
																		center: this
																			.stylesheet
																			.center,
																		zoom: this
																			.stylesheet
																			.zoom,
																		bearing:
																			this
																				.stylesheet
																				.bearing,
																		pitch: this
																			.stylesheet
																			.pitch,
																		sprite: this
																			.stylesheet
																			.sprite,
																		glyphs: this
																			.stylesheet
																			.glyphs,
																		transition:
																			this
																				.stylesheet
																				.transition,
																		sources:
																			C.mapObject(
																				this
																					.sourceCaches,
																				function (
																					e
																				) {
																					return e.serialize();
																				}
																			),
																		layers: this._order.map(
																			function (
																				t
																			) {
																				return e._layers[
																					t
																				].serialize();
																			}
																		),
																	},
																	function (
																		e
																	) {
																		return (
																			void 0 !==
																			e
																		);
																	}
																);
															},
														},
														{
															key: "_updateLayer",
															value: function (
																e
															) {
																(this._updatedLayers[
																	e.id
																] = !0),
																	e.source &&
																		!this
																			._updatedSources[
																			e
																				.source
																		] &&
																		((this._updatedSources[
																			e.source
																		] =
																			"reload"),
																		this.sourceCaches[
																			e
																				.source
																		].pause()),
																	(this._changed =
																		!0);
															},
														},
														{
															key: "_flattenRenderedFeatures",
															value: function (
																e
															) {
																for (
																	var t = [],
																		n =
																			this
																				._order
																				.length -
																			1;
																	n >= 0;
																	n--
																) {
																	var r =
																			this
																				._order[
																				n
																			],
																		i = !0,
																		a = !1,
																		s =
																			void 0;
																	try {
																		for (
																			var l,
																				u =
																					(0,
																					o.default)(
																						e
																					);
																			!(i =
																				(l =
																					u.next())
																					.done);
																			i =
																				!0
																		) {
																			var c =
																				l
																					.value[
																					r
																				];
																			if (
																				c
																			) {
																				var f =
																						!0,
																					h =
																						!1,
																					p =
																						void 0;
																				try {
																					for (
																						var d,
																							y =
																								(0,
																								o.default)(
																									c
																								);
																						!(f =
																							(d =
																								y.next())
																								.done);
																						f =
																							!0
																					) {
																						var m =
																							d.value;
																						t.push(
																							m
																						);
																					}
																				} catch (e) {
																					(h =
																						!0),
																						(p =
																							e);
																				} finally {
																					try {
																						f ||
																							null ==
																								y.return ||
																							y.return();
																					} finally {
																						if (
																							h
																						)
																							throw p;
																					}
																				}
																			}
																		}
																	} catch (e) {
																		(a =
																			!0),
																			(s =
																				e);
																	} finally {
																		try {
																			i ||
																				null ==
																					u.return ||
																				u.return();
																		} finally {
																			if (
																				a
																			)
																				throw s;
																		}
																	}
																}
																return t;
															},
														},
														{
															key: "queryRenderedFeatures",
															value: function (
																e,
																t,
																n,
																r
															) {
																t &&
																	t.filter &&
																	this._validate(
																		S.filter,
																		"queryRenderedFeatures.filter",
																		t.filter
																	);
																var i = {};
																if (
																	t &&
																	t.layers
																) {
																	if (
																		!Array.isArray(
																			t.layers
																		)
																	)
																		return (
																			this.fire(
																				"error",
																				{
																					error: "parameters.layers must be an Array.",
																				}
																			),
																			[]
																		);
																	var a = !0,
																		s = !1,
																		l =
																			void 0;
																	try {
																		for (
																			var u,
																				c =
																					(0,
																					o.default)(
																						t.layers
																					);
																			!(a =
																				(u =
																					c.next())
																					.done);
																			a =
																				!0
																		) {
																			var f =
																					u.value,
																				h =
																					this
																						._layers[
																						f
																					];
																			if (
																				!h
																			)
																				return (
																					this.fire(
																						"error",
																						{
																							error:
																								"The layer '".concat(
																									f,
																									"' does not exist "
																								) +
																								"in the map's style and cannot be queried for features.",
																						}
																					),
																					[]
																				);
																			i[
																				h.source
																			] =
																				!0;
																		}
																	} catch (e) {
																		(s =
																			!0),
																			(l =
																				e);
																	} finally {
																		try {
																			a ||
																				null ==
																					c.return ||
																				c.return();
																		} finally {
																			if (
																				s
																			)
																				throw l;
																		}
																	}
																}
																var p = [];
																for (var d in this
																	.sourceCaches)
																	if (
																		!t.layers ||
																		i[d]
																	) {
																		var y =
																			I.rendered(
																				this
																					.sourceCaches[
																					d
																				],
																				this
																					._layers,
																				e,
																				t,
																				n,
																				r,
																				this
																					.collisionIndex
																			);
																		p.push(
																			y
																		);
																	}
																return this._flattenRenderedFeatures(
																	p
																);
															},
														},
														{
															key: "querySourceFeatures",
															value: function (
																e,
																t
															) {
																t &&
																	t.filter &&
																	this._validate(
																		S.filter,
																		"querySourceFeatures.filter",
																		t.filter
																	);
																var n =
																	this
																		.sourceCaches[
																		e
																	];
																return n
																	? I.source(
																			n,
																			t
																	  )
																	: [];
															},
														},
														{
															key: "addSourceType",
															value: function (
																e,
																t,
																n
															) {
																return A(e)
																	? n(
																			new Error(
																				'A source type called "'.concat(
																					e,
																					'" already exists.'
																				)
																			)
																	  )
																	: (M(e, t),
																	  t.workerSourceURL
																			? void this.dispatcher.broadcast(
																					"loadWorkerSource",
																					{
																						name: e,
																						url: t.workerSourceURL,
																					},
																					n
																			  )
																			: n(
																					null,
																					null
																			  ));
															},
														},
														{
															key: "getLight",
															value: function () {
																return this.light.getLight();
															},
														},
														{
															key: "setLight",
															value: function (
																e
															) {
																this._checkLoaded();
																var t =
																		this.light.getLight(),
																	n = !1;
																for (var r in e)
																	if (
																		!C.deepEqual(
																			e[
																				r
																			],
																			t[r]
																		)
																	) {
																		n = !0;
																		break;
																	}
																if (n) {
																	var i = {
																		now: P.now(),
																		transition:
																			C.extend(
																				{
																					duration: 300,
																					delay: 0,
																				},
																				this
																					.stylesheet
																					.transition
																			),
																	};
																	this.light.setLight(
																		e
																	),
																		this.light.updateTransitions(
																			i
																		);
																}
															},
														},
														{
															key: "_validate",
															value: function (
																e,
																t,
																n,
																r,
																i
															) {
																return (
																	(!i ||
																		!1 !==
																			i.validate) &&
																	S.emitErrors(
																		this,
																		e.call(
																			S,
																			C.extend(
																				{
																					key: t,
																					style: this.serialize(),
																					value: n,
																					styleSpec:
																						D,
																				},
																				r
																			)
																		)
																	)
																);
															},
														},
														{
															key: "_remove",
															value: function () {
																for (var e in (B.evented.off(
																	"pluginAvailable",
																	this
																		._rtlTextPluginCallback
																),
																this
																	.sourceCaches))
																	this.sourceCaches[
																		e
																	].clearTiles();
																this.dispatcher.remove();
															},
														},
														{
															key: "_clearSource",
															value: function (
																e
															) {
																this.sourceCaches[
																	e
																].clearTiles();
															},
														},
														{
															key: "_reloadSource",
															value: function (
																e
															) {
																this.sourceCaches[
																	e
																].resume(),
																	this.sourceCaches[
																		e
																	].reload();
															},
														},
														{
															key: "_updateSources",
															value: function (
																e
															) {
																for (var t in this
																	.sourceCaches)
																	this.sourceCaches[
																		t
																	].update(e);
															},
														},
														{
															key: "_generateCollisionBoxes",
															value: function () {
																for (var e in this
																	.sourceCaches)
																	this._reloadSource(
																		e
																	);
															},
														},
														{
															key: "_updatePlacement",
															value: function (
																e,
																t,
																n
															) {
																var r = this,
																	i = !1,
																	a = !1,
																	s = {},
																	l = !0,
																	u = !1,
																	c = void 0;
																try {
																	for (
																		var f,
																			h =
																				(0,
																				o.default)(
																					this
																						._order
																				);
																		!(l =
																			(f =
																				h.next())
																				.done);
																		l = !0
																	) {
																		var p =
																				f.value,
																			d =
																				this
																					._layers[
																					p
																				];
																		if (
																			"symbol" ===
																			d.type
																		) {
																			s[
																				d
																					.source
																			] ||
																				(function () {
																					var e =
																						r
																							.sourceCaches[
																							d
																								.source
																						];
																					s[
																						d.source
																					] =
																						e
																							.getRenderableIds()
																							.map(
																								function (
																									t
																								) {
																									return e.getTileByID(
																										t
																									);
																								}
																							)
																							.sort(
																								function (
																									e,
																									t
																								) {
																									return (
																										t
																											.tileID
																											.overscaledZ -
																											e
																												.tileID
																												.overscaledZ ||
																										(e.tileID.isLessThan(
																											t.tileID
																										)
																											? -1
																											: 1)
																									);
																								}
																							);
																				})();
																			var y =
																				this.crossTileSymbolIndex.addLayer(
																					d,
																					s[
																						d
																							.source
																					]
																				);
																			i =
																				i ||
																				y;
																		}
																	}
																} catch (e) {
																	(u = !0),
																		(c = e);
																} finally {
																	try {
																		l ||
																			null ==
																				h.return ||
																			h.return();
																	} finally {
																		if (u)
																			throw c;
																	}
																}
																var m =
																	this
																		._layerOrderChanged;
																if (
																	((m ||
																		!this
																			.pauseablePlacement ||
																		(this.pauseablePlacement.isDone() &&
																			!this.placement.stillRecent(
																				P.now()
																			))) &&
																		((this.pauseablePlacement =
																			new j(
																				e,
																				this._order,
																				m,
																				t,
																				n
																			)),
																		(this._layerOrderChanged =
																			!1)),
																	this.pauseablePlacement.isDone())
																)
																	this.placement.setStale();
																else {
																	if (
																		(this.pauseablePlacement.continuePlacement(
																			this
																				._order,
																			this
																				._layers,
																			s
																		),
																		this.pauseablePlacement.isDone())
																	) {
																		var v =
																			this
																				.pauseablePlacement
																				.placement;
																		(a =
																			v.commit(
																				this
																					.placement,
																				P.now()
																			)),
																			(!this
																				.placement ||
																				a ||
																				i) &&
																				((this.placement =
																					v),
																				(this.collisionIndex =
																					this.placement.collisionIndex)),
																			this.placement.setRecent(
																				P.now(),
																				v.stale
																			);
																	}
																	i &&
																		this.pauseablePlacement.placement.setStale();
																}
																if (a || i) {
																	var g = !0,
																		_ = !1,
																		b =
																			void 0;
																	try {
																		for (
																			var x,
																				w =
																					(0,
																					o.default)(
																						this
																							._order
																					);
																			!(g =
																				(x =
																					w.next())
																					.done);
																			g =
																				!0
																		) {
																			var C =
																					x.value,
																				T =
																					this
																						._layers[
																						C
																					];
																			"symbol" ===
																				T.type &&
																				this.placement.updateLayerOpacities(
																					T,
																					s[
																						T
																							.source
																					]
																				);
																		}
																	} catch (e) {
																		(_ =
																			!0),
																			(b =
																				e);
																	} finally {
																		try {
																			g ||
																				null ==
																					w.return ||
																				w.return();
																		} finally {
																			if (
																				_
																			)
																				throw b;
																		}
																	}
																}
																return (
																	!this.pauseablePlacement.isDone() ||
																	this.placement.hasTransitions(
																		P.now()
																	)
																);
															},
														},
														{
															key: "getImages",
															value: function (
																e,
																t,
																n
															) {
																this.imageManager.getImages(
																	t.icons,
																	n
																);
															},
														},
														{
															key: "getGlyphs",
															value: function (
																e,
																t,
																n
															) {
																this.glyphManager.getGlyphs(
																	t.stacks,
																	n
																);
															},
														},
													]) && f(n.prototype, r),
													t
												);
											})();
										e.exports = H;
									},
									function (e, t, n) {
										(e.exports = n(141)),
											(e.exports.emitErrors = function (
												e,
												t
											) {
												if (t && t.length) {
													var n = !0,
														r = !1,
														i = void 0;
													try {
														for (
															var a,
																s = (0,
																o.default)(t);
															!(n = (a = s.next())
																.done);
															n = !0
														) {
															var l =
																a.value.message;
															e.fire("error", {
																error: new Error(
																	l
																),
															});
														}
													} catch (e) {
														(r = !0), (i = e);
													} finally {
														try {
															n ||
																null ==
																	s.return ||
																s.return();
														} finally {
															if (r) throw i;
														}
													}
													return !0;
												}
												return !1;
											});
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(1),
											o = n(78),
											a = n(25).Color,
											s = [
												"Unknown",
												"Point",
												"LineString",
												"Polygon",
											],
											l = (function () {
												function e() {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.scope = new o()),
														(this._parseColorCache =
															{});
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "id",
															value: function () {
																return this
																	.feature &&
																	"id" in
																		this
																			.feature
																	? this
																			.feature
																			.id
																	: null;
															},
														},
														{
															key: "geometryType",
															value: function () {
																return this
																	.feature
																	? "number" ==
																	  typeof this
																			.feature
																			.type
																		? s[
																				this
																					.feature
																					.type
																		  ]
																		: this
																				.feature
																				.type
																	: null;
															},
														},
														{
															key: "properties",
															value: function () {
																return (
																	(this
																		.feature &&
																		this
																			.feature
																			.properties) ||
																	{}
																);
															},
														},
														{
															key: "pushScope",
															value: function (
																e
															) {
																this.scope =
																	this.scope.concat(
																		e
																	);
															},
														},
														{
															key: "popScope",
															value: function () {
																i(
																	this.scope
																		.parent
																),
																	(this.scope =
																		this.scope.parent);
															},
														},
														{
															key: "parseColor",
															value: function (
																e
															) {
																var t =
																	this
																		._parseColorCache[
																		e
																	];
																return (
																	t ||
																		(t =
																			this._parseColorCache[
																				e
																			] =
																				a.parse(
																					e
																				)),
																	t
																);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = l;
									},
									function (e, t, n) {
										function r(e) {
											if (
												(0, y.default)(Object(e)) ||
												"[object Arguments]" ===
													Object.prototype.toString.call(
														e
													)
											)
												return (0, m.default)(e);
										}
										function i(e, t) {
											return (
												s(e) ||
												(function (e, t) {
													var n = [],
														r = !0,
														i = !1,
														a = void 0;
													try {
														for (
															var s,
																l = (0,
																o.default)(e);
															!(r = (s = l.next())
																.done) &&
															(n.push(s.value),
															!t ||
																n.length !== t);
															r = !0
														);
													} catch (e) {
														(i = !0), (a = e);
													} finally {
														try {
															r ||
																null ==
																	l.return ||
																l.return();
														} finally {
															if (i) throw a;
														}
													}
													return n;
												})(e, t) ||
												a()
											);
										}
										function a() {
											throw new TypeError(
												"Invalid attempt to destructure non-iterable instance"
											);
										}
										function s(e) {
											if (Array.isArray(e)) return e;
										}
										function l(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var u = n(73),
											c = n(26),
											f = n(8),
											h = f.toString,
											p = f.NumberType,
											d = n(87).findStopLessThanOrEqualTo,
											v = (function () {
												function e(t, n, r, a) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.type = t),
														(this.interpolation =
															n),
														(this.input = r),
														(this.labels = []),
														(this.outputs = []);
													var s = !0,
														l = !1,
														u = void 0;
													try {
														for (
															var c,
																f = (0,
																o.default)(a);
															!(s = (c = f.next())
																.done);
															s = !0
														) {
															var h = i(
																	c.value,
																	2
																),
																p = h[0],
																d = h[1];
															this.labels.push(p),
																this.outputs.push(
																	d
																);
														}
													} catch (e) {
														(l = !0), (u = e);
													} finally {
														try {
															s ||
																null ==
																	f.return ||
																f.return();
														} finally {
															if (l) throw u;
														}
													}
												}
												var t, n, f;
												return (
													(t = e),
													(f = [
														{
															key: "interpolationFactor",
															value: function (
																e,
																t,
																n,
																r
															) {
																var i = 0;
																if (
																	"exponential" ===
																	e.name
																)
																	i = g(
																		t,
																		e.base,
																		n,
																		r
																	);
																else if (
																	"linear" ===
																	e.name
																)
																	i = g(
																		t,
																		1,
																		n,
																		r
																	);
																else if (
																	"cubic-bezier" ===
																	e.name
																) {
																	var o =
																		e.controlPoints;
																	i = new u(
																		o[0],
																		o[1],
																		o[2],
																		o[3]
																	).solve(
																		g(
																			t,
																			1,
																			n,
																			r
																		)
																	);
																}
																return i;
															},
														},
														{
															key: "parse",
															value: function (
																t,
																n
															) {
																var i,
																	o =
																		s(
																			(i =
																				t)
																		) ||
																		r(i) ||
																		a(),
																	l = o[1],
																	u = o[2],
																	c =
																		o.slice(
																			3
																		);
																if (
																	!Array.isArray(
																		l
																	) ||
																	0 ===
																		l.length
																)
																	return n.error(
																		"Expected an interpolation type expression.",
																		1
																	);
																if (
																	"linear" ===
																	l[0]
																)
																	l = {
																		name: "linear",
																	};
																else if (
																	"exponential" ===
																	l[0]
																) {
																	var f =
																		l[1];
																	if (
																		"number" !=
																		typeof f
																	)
																		return n.error(
																			"Exponential interpolation requires a numeric base.",
																			1,
																			1
																		);
																	l = {
																		name: "exponential",
																		base: f,
																	};
																} else {
																	if (
																		"cubic-bezier" !==
																		l[0]
																	)
																		return n.error(
																			"Unknown interpolation type ".concat(
																				String(
																					l[0]
																				)
																			),
																			1,
																			0
																		);
																	var d =
																		l.slice(
																			1
																		);
																	if (
																		4 !==
																			d.length ||
																		d.some(
																			function (
																				e
																			) {
																				return (
																					"number" !=
																						typeof e ||
																					e <
																						0 ||
																					e >
																						1
																				);
																			}
																		)
																	)
																		return n.error(
																			"Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",
																			1
																		);
																	l = {
																		name: "cubic-bezier",
																		controlPoints:
																			d,
																	};
																}
																if (
																	t.length -
																		1 <
																	4
																)
																	return n.error(
																		"Expected at least 4 arguments, but found only ".concat(
																			t.length -
																				1,
																			"."
																		)
																	);
																if (
																	(t.length -
																		1) %
																		2 !=
																	0
																)
																	return n.error(
																		"Expected an even number of arguments."
																	);
																if (
																	!(u =
																		n.parse(
																			u,
																			2,
																			p
																		))
																)
																	return null;
																var y = [],
																	m = null;
																n.expectedType &&
																	"value" !==
																		n
																			.expectedType
																			.kind &&
																	(m =
																		n.expectedType);
																for (
																	var v = 0;
																	v <
																	c.length;
																	v += 2
																) {
																	var g =
																			c[
																				v
																			],
																		_ =
																			c[
																				v +
																					1
																			],
																		b =
																			v +
																			3,
																		x =
																			v +
																			4;
																	if (
																		"number" !=
																		typeof g
																	)
																		return n.error(
																			'Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',
																			b
																		);
																	if (
																		y.length &&
																		y[
																			y.length -
																				1
																		][0] >=
																			g
																	)
																		return n.error(
																			'Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',
																			b
																		);
																	var w =
																		n.parse(
																			_,
																			x,
																			m
																		);
																	if (!w)
																		return null;
																	(m =
																		m ||
																		w.type),
																		y.push([
																			g,
																			w,
																		]);
																}
																return "number" ===
																	m.kind ||
																	"color" ===
																		m.kind ||
																	("array" ===
																		m.kind &&
																		"number" ===
																			m
																				.itemType
																				.kind &&
																		"number" ==
																			typeof m.N)
																	? new e(
																			m,
																			l,
																			u,
																			y
																	  )
																	: n.error(
																			"Type ".concat(
																				h(
																					m
																				),
																				" is not interpolatable."
																			)
																	  );
															},
														},
													]),
													(n = [
														{
															key: "evaluate",
															value: function (
																t
															) {
																var n =
																		this
																			.labels,
																	r =
																		this
																			.outputs;
																if (
																	1 ===
																	n.length
																)
																	return r[0].evaluate(
																		t
																	);
																var i =
																	this.input.evaluate(
																		t
																	);
																if (i <= n[0])
																	return r[0].evaluate(
																		t
																	);
																var o =
																	n.length;
																if (
																	i >=
																	n[o - 1]
																)
																	return r[
																		o - 1
																	].evaluate(
																		t
																	);
																var a = d(n, i),
																	s = n[a],
																	l =
																		n[
																			a +
																				1
																		],
																	u =
																		e.interpolationFactor(
																			this
																				.interpolation,
																			i,
																			s,
																			l
																		),
																	f =
																		r[
																			a
																		].evaluate(
																			t
																		),
																	h =
																		r[
																			a +
																				1
																		].evaluate(
																			t
																		);
																return c[
																	this.type.kind.toLowerCase()
																](f, h, u);
															},
														},
														{
															key: "eachChild",
															value: function (
																e
															) {
																e(this.input);
																var t = !0,
																	n = !1,
																	r = void 0;
																try {
																	for (
																		var i,
																			a =
																				(0,
																				o.default)(
																					this
																						.outputs
																				);
																		!(t =
																			(i =
																				a.next())
																				.done);
																		t = !0
																	)
																		e(
																			i.value
																		);
																} catch (e) {
																	(n = !0),
																		(r = e);
																} finally {
																	try {
																		t ||
																			null ==
																				a.return ||
																			a.return();
																	} finally {
																		if (n)
																			throw r;
																	}
																}
															},
														},
														{
															key: "possibleOutputs",
															value: function () {
																var e;
																return (e =
																	[]).concat.apply(
																	e,
																	(function (
																		e
																	) {
																		return (
																			(function (
																				e
																			) {
																				if (
																					Array.isArray(
																						e
																					)
																				) {
																					for (
																						var t = 0,
																							n =
																								new Array(
																									e.length
																								);
																						t <
																						e.length;
																						t++
																					)
																						n[
																							t
																						] =
																							e[
																								t
																							];
																					return n;
																				}
																			})(
																				e
																			) ||
																			r(
																				e
																			) ||
																			(function () {
																				throw new TypeError(
																					"Invalid attempt to spread non-iterable instance"
																				);
																			})()
																		);
																	})(
																		this.outputs.map(
																			function (
																				e
																			) {
																				return e.possibleOutputs();
																			}
																		)
																	)
																);
															},
														},
													]) && l(t.prototype, n),
													f && l(t, f),
													e
												);
											})();
										function g(e, t, n, r) {
											var i = r - n,
												o = e - n;
											return 0 === i
												? 0
												: 1 === t
												? o / i
												: (Math.pow(t, o) - 1) /
												  (Math.pow(t, i) - 1);
										}
										e.exports = v;
									},
									function (e, n, i) {
										function s(e) {
											return (s =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										var l = i(147),
											u = i(12),
											c = i(41),
											f = i(17),
											h = i(26),
											p = i(56);
										function d(e) {
											return e;
										}
										function y(e, t, n) {
											return void 0 !== e
												? e
												: void 0 !== t
												? t
												: void 0 !== n
												? n
												: void 0;
										}
										function m(e, t, n, r, i) {
											return y(
												s(n) === i ? r[n] : void 0,
												e.default,
												t.default
											);
										}
										function v(e, t, n) {
											if ("number" !== f(n))
												return y(e.default, t.default);
											var r = e.stops.length;
											if (1 === r) return e.stops[0][1];
											if (n <= e.stops[0][0])
												return e.stops[0][1];
											if (n >= e.stops[r - 1][0])
												return e.stops[r - 1][1];
											var i = b(e.stops, n);
											return e.stops[i][1];
										}
										function g(e, t, n) {
											var r =
												void 0 !== e.base ? e.base : 1;
											if ("number" !== f(n))
												return y(e.default, t.default);
											var i = e.stops.length;
											if (1 === i) return e.stops[0][1];
											if (n <= e.stops[0][0])
												return e.stops[0][1];
											if (n >= e.stops[i - 1][0])
												return e.stops[i - 1][1];
											var o = b(e.stops, n),
												a = (function (e, t, n, r) {
													var i = r - n,
														o = e - n;
													return 0 === i
														? 0
														: 1 === t
														? o / i
														: (Math.pow(t, o) - 1) /
														  (Math.pow(t, i) - 1);
												})(
													n,
													r,
													e.stops[o][0],
													e.stops[o + 1][0]
												),
												s = e.stops[o][1],
												u = e.stops[o + 1][1],
												c = h[t.type] || d;
											if (
												e.colorSpace &&
												"rgb" !== e.colorSpace
											) {
												var p = l[e.colorSpace];
												c = function (e, t) {
													return p.reverse(
														p.interpolate(
															p.forward(e),
															p.forward(t),
															a
														)
													);
												};
											}
											return "function" ==
												typeof s.evaluate
												? {
														evaluate: function () {
															for (
																var e =
																		arguments.length,
																	t =
																		new Array(
																			e
																		),
																	n = 0;
																n < e;
																n++
															)
																t[n] =
																	arguments[
																		n
																	];
															var r =
																	s.evaluate.apply(
																		void 0,
																		t
																	),
																i =
																	u.evaluate.apply(
																		void 0,
																		t
																	);
															if (
																void 0 !== r &&
																void 0 !== i
															)
																return c(
																	r,
																	i,
																	a
																);
														},
												  }
												: c(s, u, a);
										}
										function _(e, t, n) {
											return (
												"color" === t.type
													? (n = u.parse(n))
													: f(n) === t.type ||
													  ("enum" === t.type &&
															t.values[n]) ||
													  (n = void 0),
												y(n, e.default, t.default)
											);
										}
										function b(e, t) {
											for (
												var n,
													r,
													i = 0,
													o = e.length - 1,
													a = 0;
												i <= o;

											) {
												if (
													((n =
														e[
															(a = Math.floor(
																(i + o) / 2
															))
														][0]),
													(r = e[a + 1][0]),
													t === n || (t > n && t < r))
												)
													return a;
												n < t
													? (i = a + 1)
													: n > t && (o = a - 1);
											}
											return Math.max(a - 1, 0);
										}
										e.exports = {
											createFunction: function e(t, n) {
												var r,
													i,
													a,
													f = "color" === n.type,
													h =
														t.stops &&
														"object" ===
															s(t.stops[0][0]),
													d =
														h ||
														void 0 !== t.property,
													b = h || !d,
													x =
														t.type ||
														("interpolated" ===
														n.function
															? "exponential"
															: "interval");
												if (
													(f &&
														((t = c({}, t)).stops &&
															(t.stops =
																t.stops.map(
																	function (
																		e
																	) {
																		return [
																			e[0],
																			u.parse(
																				e[1]
																			),
																		];
																	}
																)),
														t.default
															? (t.default =
																	u.parse(
																		t.default
																	))
															: (t.default =
																	u.parse(
																		n.default
																	))),
													t.colorSpace &&
														"rgb" !==
															t.colorSpace &&
														!l[t.colorSpace])
												)
													throw new Error(
														"Unknown color space: ".concat(
															t.colorSpace
														)
													);
												if ("exponential" === x) r = g;
												else if ("interval" === x)
													r = v;
												else if ("categorical" === x) {
													(r = m),
														(i =
															Object.create(
																null
															));
													var w = !0,
														C = !1,
														T = void 0;
													try {
														for (
															var k,
																P = (0,
																o.default)(
																	t.stops
																);
															!(w = (k = P.next())
																.done);
															w = !0
														) {
															var E = k.value;
															i[E[0]] = E[1];
														}
													} catch (e) {
														(C = !0), (T = e);
													} finally {
														try {
															w ||
																null ==
																	P.return ||
																P.return();
														} finally {
															if (C) throw T;
														}
													}
													a = s(t.stops[0][0]);
												} else {
													if ("identity" !== x)
														throw new Error(
															'Unknown function type "'.concat(
																x,
																'"'
															)
														);
													r = _;
												}
												if (h) {
													for (
														var S = {},
															A = [],
															M = 0;
														M < t.stops.length;
														M++
													) {
														var I = t.stops[M],
															L = I[0].zoom;
														void 0 === S[L] &&
															((S[L] = {
																zoom: L,
																type: t.type,
																property:
																	t.property,
																default:
																	t.default,
																stops: [],
															}),
															A.push(L)),
															S[L].stops.push([
																I[0].value,
																I[1],
															]);
													}
													for (
														var D = [],
															O = 0,
															z = A;
														O < z.length;
														O++
													) {
														var R = z[O];
														D.push([
															S[R].zoom,
															e(S[R], n),
														]);
													}
													return {
														kind: "composite",
														interpolationFactor:
															p.interpolationFactor.bind(
																void 0,
																{
																	name: "linear",
																}
															),
														zoomStops: D.map(
															function (e) {
																return e[0];
															}
														),
														evaluate: function (
															e,
															r
														) {
															var i = e.zoom;
															return g(
																{
																	stops: D,
																	base: t.base,
																},
																n,
																i
															).evaluate(i, r);
														},
													};
												}
												return b
													? {
															kind: "camera",
															interpolationFactor:
																"exponential" ===
																x
																	? p.interpolationFactor.bind(
																			void 0,
																			{
																				name: "exponential",
																				base:
																					void 0 !==
																					t.base
																						? t.base
																						: 1,
																			}
																	  )
																	: function () {
																			return 0;
																	  },
															zoomStops:
																t.stops.map(
																	function (
																		e
																	) {
																		return e[0];
																	}
																),
															evaluate: function (
																e
															) {
																var o = e.zoom;
																return r(
																	t,
																	n,
																	o,
																	i,
																	a
																);
															},
													  }
													: {
															kind: "source",
															evaluate: function (
																e,
																o
															) {
																var s =
																	o &&
																	o.properties
																		? o
																				.properties[
																				t
																					.property
																		  ]
																		: void 0;
																return void 0 ===
																	s
																	? y(
																			t.default,
																			n.default
																	  )
																	: r(
																			t,
																			n,
																			s,
																			i,
																			a
																	  );
															},
													  };
											},
											isFunction: function (e) {
												return (
													"object" === s(e) &&
													null !== e &&
													!Array.isArray(e)
												);
											},
										};
									},
									function (e, t, n) {
										var r = n(7),
											i = n(24);
										e.exports = function (e) {
											var t = e.key,
												n = e.value,
												o = e.valueSpec,
												a = [];
											return (
												Array.isArray(o.values)
													? -1 ===
															o.values.indexOf(
																i(n)
															) &&
													  a.push(
															new r(
																t,
																n,
																"expected one of ["
																	.concat(
																		o.values.join(
																			", "
																		),
																		"], "
																	)
																	.concat(
																		(0,
																		d.default)(
																			n
																		),
																		" found"
																	)
															)
													  )
													: -1 ===
															(0, u.default)(
																o.values
															).indexOf(i(n)) &&
													  a.push(
															new r(
																t,
																n,
																"expected one of ["
																	.concat(
																		(0,
																		u.default)(
																			o.values
																		).join(
																			", "
																		),
																		"], "
																	)
																	.concat(
																		(0,
																		d.default)(
																			n
																		),
																		" found"
																	)
															)
													  ),
												a
											);
										};
									},
									function (e, t, n) {
										var r = n(7),
											i = n(94),
											o = n(58),
											a = n(17),
											s = n(24),
											l = n(41),
											u = n(60).isExpressionFilter;
										e.exports = function (e) {
											return u(s.deep(e.value))
												? i(
														l({}, e, {
															expressionContext:
																"filter",
															valueSpec: {
																value: "boolean",
															},
														})
												  )
												: (function e(t) {
														var n = t.value,
															i = t.key;
														if ("array" !== a(n))
															return [
																new r(
																	i,
																	n,
																	"array expected, ".concat(
																		a(n),
																		" found"
																	)
																),
															];
														var l,
															u = t.styleSpec,
															c = [];
														if (n.length < 1)
															return [
																new r(
																	i,
																	n,
																	"filter array must have at least 1 element"
																),
															];
														switch (
															((c = c.concat(
																o({
																	key: "".concat(
																		i,
																		"[0]"
																	),
																	value: n[0],
																	valueSpec:
																		u.filter_operator,
																	style: t.style,
																	styleSpec:
																		t.styleSpec,
																})
															)),
															s(n[0]))
														) {
															case "<":
															case "<=":
															case ">":
															case ">=":
																n.length >= 2 &&
																	"$type" ===
																		s(
																			n[1]
																		) &&
																	c.push(
																		new r(
																			i,
																			n,
																			'"$type" cannot be use with operator "'.concat(
																				n[0],
																				'"'
																			)
																		)
																	);
															case "==":
															case "!=":
																3 !==
																	n.length &&
																	c.push(
																		new r(
																			i,
																			n,
																			'filter array for operator "'.concat(
																				n[0],
																				'" must have 3 elements'
																			)
																		)
																	);
															case "in":
															case "!in":
																n.length >= 2 &&
																	"string" !==
																		(l = a(
																			n[1]
																		)) &&
																	c.push(
																		new r(
																			"".concat(
																				i,
																				"[1]"
																			),
																			n[1],
																			"string expected, ".concat(
																				l,
																				" found"
																			)
																		)
																	);
																for (
																	var f = 2;
																	f <
																	n.length;
																	f++
																)
																	(l = a(
																		n[f]
																	)),
																		"$type" ===
																		s(n[1])
																			? (c =
																					c.concat(
																						o(
																							{
																								key: ""
																									.concat(
																										i,
																										"["
																									)
																									.concat(
																										f,
																										"]"
																									),
																								value: n[
																									f
																								],
																								valueSpec:
																									u.geometry_type,
																								style: t.style,
																								styleSpec:
																									t.styleSpec,
																							}
																						)
																					))
																			: "string" !==
																					l &&
																			  "number" !==
																					l &&
																			  "boolean" !==
																					l &&
																			  c.push(
																					new r(
																						""
																							.concat(
																								i,
																								"["
																							)
																							.concat(
																								f,
																								"]"
																							),
																						n[
																							f
																						],
																						"string, number, or boolean expected, ".concat(
																							l,
																							" found"
																						)
																					)
																			  );
																break;
															case "any":
															case "all":
															case "none":
																for (
																	var h = 1;
																	h <
																	n.length;
																	h++
																)
																	c =
																		c.concat(
																			e({
																				key: ""
																					.concat(
																						i,
																						"["
																					)
																					.concat(
																						h,
																						"]"
																					),
																				value: n[
																					h
																				],
																				style: t.style,
																				styleSpec:
																					t.styleSpec,
																			})
																		);
																break;
															case "has":
															case "!has":
																(l = a(n[1])),
																	2 !==
																	n.length
																		? c.push(
																				new r(
																					i,
																					n,
																					'filter array for "'.concat(
																						n[0],
																						'" operator must have 2 elements'
																					)
																				)
																		  )
																		: "string" !==
																				l &&
																		  c.push(
																				new r(
																					"".concat(
																						i,
																						"[1]"
																					),
																					n[1],
																					"string expected, ".concat(
																						l,
																						" found"
																					)
																				)
																		  );
														}
														return c;
												  })(e);
										};
									},
									function (e, n, i) {
										function s(e) {
											return (s =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										var l = i(30).createExpression;
										function u(e) {
											if (
												!Array.isArray(e) ||
												0 === e.length
											)
												return !1;
											switch (e[0]) {
												case "has":
													return (
														e.length >= 2 &&
														"$id" !== e[1] &&
														"$type" !== e[1]
													);
												case "in":
												case "!in":
												case "!has":
												case "none":
													return !1;
												case "==":
												case "!=":
												case ">":
												case ">=":
												case "<":
												case "<=":
													return (
														3 === e.length &&
														(Array.isArray(e[1]) ||
															Array.isArray(e[2]))
													);
												case "any":
												case "all":
													var t = !0,
														n = !1,
														r = void 0;
													try {
														for (
															var i,
																a = (0,
																o.default)(
																	e.slice(1)
																);
															!(t = (i = a.next())
																.done);
															t = !0
														) {
															var s = i.value;
															if (
																!u(s) &&
																"boolean" !=
																	typeof s
															)
																return !1;
														}
													} catch (e) {
														(n = !0), (r = e);
													} finally {
														try {
															t ||
																null ==
																	a.return ||
																a.return();
														} finally {
															if (n) throw r;
														}
													}
													return !0;
												default:
													return !0;
											}
										}
										(e.exports = function (e) {
											if (!e)
												return function () {
													return !0;
												};
											u(e) || (e = h(e));
											var t = l(e, c);
											if ("error" === t.result)
												throw new Error(
													t.value
														.map(function (e) {
															return ""
																.concat(
																	e.key,
																	": "
																)
																.concat(
																	e.message
																);
														})
														.join(", ")
												);
											return function (e, n) {
												return t.value.evaluate(e, n);
											};
										}),
											(e.exports.isExpressionFilter = u);
										var c = {
											type: "boolean",
											default: !1,
											function: !0,
											"property-function": !0,
											"zoom-function": !0,
										};
										function f(e, t) {
											return e < t ? -1 : e > t ? 1 : 0;
										}
										function h(e) {
											if (!e) return !0;
											var t,
												n = e[0];
											return e.length <= 1
												? "any" !== n
												: "==" === n
												? p(e[1], e[2], "==")
												: "!=" === n
												? m(p(e[1], e[2], "=="))
												: "<" === n ||
												  ">" === n ||
												  "<=" === n ||
												  ">=" === n
												? p(e[1], e[2], n)
												: "any" === n
												? ((t = e.slice(1)),
												  ["any"].concat(t.map(h)))
												: "all" === n
												? ["all"].concat(
														e.slice(1).map(h)
												  )
												: "none" === n
												? ["all"].concat(
														e.slice(1).map(h).map(m)
												  )
												: "in" === n
												? d(e[1], e.slice(2))
												: "!in" === n
												? m(d(e[1], e.slice(2)))
												: "has" === n
												? y(e[1])
												: "!has" !== n || m(y(e[1]));
										}
										function p(e, t, n) {
											switch (e) {
												case "$type":
													return [
														"filter-type-".concat(
															n
														),
														t,
													];
												case "$id":
													return [
														"filter-id-".concat(n),
														t,
													];
												default:
													return [
														"filter-".concat(n),
														e,
														t,
													];
											}
										}
										function d(e, t) {
											if (0 === t.length) return !1;
											switch (e) {
												case "$type":
													return [
														"filter-type-in",
														["literal", t],
													];
												case "$id":
													return [
														"filter-id-in",
														["literal", t],
													];
												default:
													return t.length > 200 &&
														!t.some(function (e) {
															return (
																s(e) !== s(t[0])
															);
														})
														? [
																"filter-in-large",
																e,
																[
																	"literal",
																	t.sort(f),
																],
														  ]
														: [
																"filter-in-small",
																e,
																["literal", t],
														  ];
											}
										}
										function y(e) {
											switch (e) {
												case "$type":
													return !0;
												case "$id":
													return ["filter-has-id"];
												default:
													return ["filter-has", e];
											}
										}
										function m(e) {
											return ["!", e];
										}
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(108),
											o = (function () {
												function e(t, n) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.zoom = t),
														n
															? ((this.now =
																	n.now),
															  (this.fadeDuration =
																	n.fadeDuration),
															  (this.zoomHistory =
																	n.zoomHistory),
															  (this.transition =
																	n.transition))
															: ((this.now = 0),
															  (this.fadeDuration = 0),
															  (this.zoomHistory =
																	new i()),
															  (this.transition =
																	{}));
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "crossFadingFactor",
															value: function () {
																return 0 ===
																	this
																		.fadeDuration
																	? 1
																	: Math.min(
																			(this
																				.now -
																				this
																					.zoomHistory
																					.lastIntegerZoomTime) /
																				this
																					.fadeDuration,
																			1
																	  );
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = o;
									},
									function (e, t, n) {
										function r(e, t) {
											if (!(e instanceof t))
												throw new TypeError(
													"Cannot call a class as a function"
												);
										}
										function i(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function a(e, t, n) {
											return (
												t && i(e.prototype, t),
												n && i(e, n),
												e
											);
										}
										var s = n(175),
											l = s.symbolLayoutAttributes,
											u = s.collisionVertexAttributes,
											c = s.collisionBoxLayout,
											f = s.collisionCircleLayout,
											h = s.dynamicLayoutAttributes,
											p = n(14),
											d = p.SymbolLayoutArray,
											y = p.SymbolDynamicLayoutArray,
											m = p.SymbolOpacityArray,
											v = p.CollisionBoxLayoutArray,
											g = p.CollisionCircleLayoutArray,
											_ = p.CollisionVertexArray,
											b = p.PlacedSymbolArray,
											x = p.GlyphOffsetArray,
											w = p.SymbolLineVertexArray,
											C = n(3),
											T = n(36).SegmentVector,
											k = n(32).ProgramConfigurationSet,
											P = n(37),
											E = P.TriangleIndexArray,
											S = P.LineIndexArray,
											A = n(176),
											M = n(177),
											I = n(63),
											L = n(38),
											D = n(48).VectorTileFeature.types,
											O = n(110),
											z = (n(178), n(50).getSizeData),
											R = n(11).register,
											B = [
												{
													name: "a_fade_opacity",
													components: 1,
													type: "Uint8",
													offset: 0,
												},
											];
										function j(e, t, n, r, i, o, a, s) {
											e.emplaceBack(
												t,
												n,
												Math.round(64 * r),
												Math.round(64 * i),
												o,
												a,
												s ? s[0] : 0,
												s ? s[1] : 0
											);
										}
										function F(e, t, n) {
											e.emplaceBack(t.x, t.y, n),
												e.emplaceBack(t.x, t.y, n),
												e.emplaceBack(t.x, t.y, n),
												e.emplaceBack(t.x, t.y, n);
										}
										var N = (function () {
											function e(t) {
												r(this, e),
													(this.layoutVertexArray =
														new d()),
													(this.indexArray = new E()),
													(this.programConfigurations =
														t),
													(this.segments = new T()),
													(this.dynamicLayoutVertexArray =
														new y()),
													(this.opacityVertexArray =
														new m()),
													(this.placedSymbolArray =
														new b());
											}
											return (
												a(e, [
													{
														key: "upload",
														value: function (e, t) {
															(this.layoutVertexBuffer =
																e.createVertexBuffer(
																	this
																		.layoutVertexArray,
																	l.members
																)),
																(this.indexBuffer =
																	e.createIndexBuffer(
																		this
																			.indexArray,
																		t
																	)),
																this.programConfigurations.upload(
																	e
																),
																(this.dynamicLayoutVertexBuffer =
																	e.createVertexBuffer(
																		this
																			.dynamicLayoutVertexArray,
																		h.members,
																		!0
																	)),
																(this.opacityVertexBuffer =
																	e.createVertexBuffer(
																		this
																			.opacityVertexArray,
																		B,
																		!0
																	)),
																(this.opacityVertexBuffer.itemSize = 1);
														},
													},
													{
														key: "destroy",
														value: function () {
															this
																.layoutVertexBuffer &&
																(this.layoutVertexBuffer.destroy(),
																this.indexBuffer.destroy(),
																this.programConfigurations.destroy(),
																this.segments.destroy(),
																this.dynamicLayoutVertexBuffer.destroy(),
																this.opacityVertexBuffer.destroy());
														},
													},
												]),
												e
											);
										})();
										R("SymbolBuffers", N);
										var V = (function () {
											function e(t, n, i) {
												r(this, e),
													(this.layoutVertexArray =
														new t()),
													(this.layoutAttributes = n),
													(this.indexArray = new i()),
													(this.segments = new T()),
													(this.collisionVertexArray =
														new _());
											}
											return (
												a(e, [
													{
														key: "upload",
														value: function (e) {
															(this.layoutVertexBuffer =
																e.createVertexBuffer(
																	this
																		.layoutVertexArray,
																	this
																		.layoutAttributes
																)),
																(this.indexBuffer =
																	e.createIndexBuffer(
																		this
																			.indexArray
																	)),
																(this.collisionVertexBuffer =
																	e.createVertexBuffer(
																		this
																			.collisionVertexArray,
																		u.members,
																		!0
																	));
														},
													},
													{
														key: "destroy",
														value: function () {
															this
																.layoutVertexBuffer &&
																(this.layoutVertexBuffer.destroy(),
																this.indexBuffer.destroy(),
																this.segments.destroy(),
																this.collisionVertexBuffer.destroy());
														},
													},
												]),
												e
											);
										})();
										R("CollisionBuffers", V);
										var U = (function () {
											function e(t) {
												r(this, e),
													(this.collisionBoxArray =
														t.collisionBoxArray),
													(this.zoom = t.zoom),
													(this.overscaling =
														t.overscaling),
													(this.layers = t.layers),
													(this.layerIds =
														this.layers.map(
															function (e) {
																return e.id;
															}
														)),
													(this.index = t.index),
													(this.pixelRatio =
														t.pixelRatio);
												var n =
													this.layers[0]
														._unevaluatedLayout
														._values;
												(this.textSizeData = z(
													this.zoom,
													n["text-size"]
												)),
													(this.iconSizeData = z(
														this.zoom,
														n["icon-size"]
													));
												var i = this.layers[0].layout;
												this.sortFeaturesByY =
													i.get(
														"text-allow-overlap"
													) ||
													i.get(
														"icon-allow-overlap"
													) ||
													i.get(
														"text-ignore-placement"
													) ||
													i.get(
														"icon-ignore-placement"
													);
											}
											return (
												a(e, [
													{
														key: "createArrays",
														value: function () {
															(this.text = new N(
																new k(
																	l.members,
																	this.layers,
																	this.zoom,
																	function (
																		e
																	) {
																		return /^text/.test(
																			e
																		);
																	}
																)
															)),
																(this.icon =
																	new N(
																		new k(
																			l.members,
																			this.layers,
																			this.zoom,
																			function (
																				e
																			) {
																				return /^icon/.test(
																					e
																				);
																			}
																		)
																	)),
																(this.collisionBox =
																	new V(
																		v,
																		c.members,
																		S
																	)),
																(this.collisionCircle =
																	new V(
																		g,
																		f.members,
																		E
																	)),
																(this.glyphOffsetArray =
																	new x()),
																(this.lineVertexArray =
																	new w());
														},
													},
													{
														key: "populate",
														value: function (e, t) {
															var n =
																	this
																		.layers[0],
																r = n.layout,
																i =
																	r.get(
																		"text-font"
																	),
																a =
																	r.get(
																		"text-field"
																	),
																s =
																	r.get(
																		"icon-image"
																	),
																l =
																	("constant" !==
																		a.value
																			.kind ||
																		a.value
																			.value
																			.length >
																			0) &&
																	("constant" !==
																		i.value
																			.kind ||
																		i.value
																			.value
																			.length >
																			0),
																u =
																	"constant" !==
																		s.value
																			.kind ||
																	(s.value
																		.value &&
																		s.value
																			.value
																			.length >
																			0);
															if (
																((this.features =
																	[]),
																l || u)
															) {
																var c =
																		t.iconDependencies,
																	f =
																		t.glyphDependencies,
																	h = {
																		zoom: this
																			.zoom,
																	},
																	p = !0,
																	d = !1,
																	y = void 0;
																try {
																	for (
																		var m,
																			v =
																				(0,
																				o.default)(
																					e
																				);
																		!(p =
																			(m =
																				v.next())
																				.done);
																		p = !0
																	) {
																		var g =
																				m.value,
																			_ =
																				g.feature,
																			b =
																				g.index,
																			x =
																				g.sourceLayerIndex;
																		if (
																			n._featureFilter(
																				h,
																				_
																			)
																		) {
																			var w =
																				void 0;
																			l &&
																				((w =
																					n.getValueAndResolveTokens(
																						"text-field",
																						_
																					)),
																				(w =
																					A(
																						w,
																						n,
																						_
																					)));
																			var C =
																				void 0;
																			if (
																				(u &&
																					(C =
																						n.getValueAndResolveTokens(
																							"icon-image",
																							_
																						)),
																				w ||
																					C)
																			) {
																				var T =
																					{
																						text: w,
																						icon: C,
																						index: b,
																						sourceLayerIndex:
																							x,
																						geometry:
																							L(
																								_
																							),
																						properties:
																							_.properties,
																						type: D[
																							_
																								.type
																						],
																					};
																				if (
																					(void 0 !==
																						_.id &&
																						(T.id =
																							_.id),
																					this.features.push(
																						T
																					),
																					C &&
																						(c[
																							C
																						] =
																							!0),
																					w)
																				)
																					for (
																						var k =
																								i
																									.evaluate(
																										_
																									)
																									.join(
																										","
																									),
																							P =
																								(f[
																									k
																								] =
																									f[
																										k
																									] ||
																									{}),
																							E =
																								"map" ===
																									r.get(
																										"text-rotation-alignment"
																									) &&
																								"line" ===
																									r.get(
																										"symbol-placement"
																									),
																							S =
																								I.allowsVerticalWritingMode(
																									w
																								),
																							z = 0;
																						z <
																						w.length;
																						z++
																					)
																						if (
																							((P[
																								w.charCodeAt(
																									z
																								)
																							] =
																								!0),
																							E &&
																								S)
																						) {
																							var R =
																								O
																									.lookup[
																									w.charAt(
																										z
																									)
																								];
																							R &&
																								(P[
																									R.charCodeAt(
																										0
																									)
																								] =
																									!0);
																						}
																			}
																		}
																	}
																} catch (e) {
																	(d = !0),
																		(y = e);
																} finally {
																	try {
																		p ||
																			null ==
																				v.return ||
																			v.return();
																	} finally {
																		if (d)
																			throw y;
																	}
																}
																"line" ===
																	r.get(
																		"symbol-placement"
																	) &&
																	(this.features =
																		M(
																			this
																				.features
																		));
															}
														},
													},
													{
														key: "isEmpty",
														value: function () {
															return (
																0 ===
																this
																	.symbolInstances
																	.length
															);
														},
													},
													{
														key: "upload",
														value: function (e) {
															this.text.upload(
																e,
																this
																	.sortFeaturesByY
															),
																this.icon.upload(
																	e,
																	this
																		.sortFeaturesByY
																),
																this.collisionBox.upload(
																	e
																),
																this.collisionCircle.upload(
																	e
																);
														},
													},
													{
														key: "destroy",
														value: function () {
															this.text.destroy(),
																this.icon.destroy(),
																this.collisionBox.destroy(),
																this.collisionCircle.destroy();
														},
													},
													{
														key: "addToLineVertexArray",
														value: function (e, t) {
															var n =
																this
																	.lineVertexArray
																	.length;
															if (
																void 0 !==
																e.segment
															) {
																for (
																	var r =
																			e.dist(
																				t[
																					e.segment +
																						1
																				]
																			),
																		i =
																			e.dist(
																				t[
																					e
																						.segment
																				]
																			),
																		o = {},
																		a =
																			e.segment +
																			1;
																	a <
																	t.length;
																	a++
																)
																	(o[a] = {
																		x: t[a]
																			.x,
																		y: t[a]
																			.y,
																		tileUnitDistanceFromAnchor:
																			r,
																	}),
																		a <
																			t.length -
																				1 &&
																			(r +=
																				t[
																					a +
																						1
																				].dist(
																					t[
																						a
																					]
																				));
																for (
																	var s =
																		e.segment ||
																		0;
																	s >= 0;
																	s--
																)
																	(o[s] = {
																		x: t[s]
																			.x,
																		y: t[s]
																			.y,
																		tileUnitDistanceFromAnchor:
																			i,
																	}),
																		s > 0 &&
																			(i +=
																				t[
																					s -
																						1
																				].dist(
																					t[
																						s
																					]
																				));
																for (
																	var l = 0;
																	l <
																	t.length;
																	l++
																) {
																	var u =
																		o[l];
																	this.lineVertexArray.emplaceBack(
																		u.x,
																		u.y,
																		u.tileUnitDistanceFromAnchor
																	);
																}
															}
															return {
																lineStartIndex:
																	n,
																lineLength:
																	this
																		.lineVertexArray
																		.length -
																	n,
															};
														},
													},
													{
														key: "addSymbols",
														value: function (
															e,
															t,
															n,
															r,
															i,
															a,
															s,
															l,
															u,
															c
														) {
															var f =
																	e.indexArray,
																h =
																	e.layoutVertexArray,
																p =
																	e.dynamicLayoutVertexArray,
																d =
																	e.segments.prepareSegment(
																		4 *
																			t.length,
																		e.layoutVertexArray,
																		e.indexArray
																	),
																y =
																	this
																		.glyphOffsetArray
																		.length,
																m =
																	d.vertexLength,
																v = !0,
																g = !1,
																_ = void 0;
															try {
																for (
																	var b,
																		x = (0,
																		o.default)(
																			t
																		);
																	!(v = (b =
																		x.next())
																		.done);
																	v = !0
																) {
																	var w =
																			b.value,
																		C =
																			w.tl,
																		T =
																			w.tr,
																		k =
																			w.bl,
																		P =
																			w.br,
																		E =
																			w.tex,
																		S =
																			d.vertexLength,
																		A =
																			w
																				.glyphOffset[1];
																	j(
																		h,
																		l.x,
																		l.y,
																		C.x,
																		A + C.y,
																		E.x,
																		E.y,
																		n
																	),
																		j(
																			h,
																			l.x,
																			l.y,
																			T.x,
																			A +
																				T.y,
																			E.x +
																				E.w,
																			E.y,
																			n
																		),
																		j(
																			h,
																			l.x,
																			l.y,
																			k.x,
																			A +
																				k.y,
																			E.x,
																			E.y +
																				E.h,
																			n
																		),
																		j(
																			h,
																			l.x,
																			l.y,
																			P.x,
																			A +
																				P.y,
																			E.x +
																				E.w,
																			E.y +
																				E.h,
																			n
																		),
																		F(
																			p,
																			l,
																			0
																		),
																		f.emplaceBack(
																			S,
																			S +
																				1,
																			S +
																				2
																		),
																		f.emplaceBack(
																			S +
																				1,
																			S +
																				2,
																			S +
																				3
																		),
																		(d.vertexLength += 4),
																		(d.primitiveLength += 2),
																		this.glyphOffsetArray.emplaceBack(
																			w
																				.glyphOffset[0]
																		);
																}
															} catch (e) {
																(g = !0),
																	(_ = e);
															} finally {
																try {
																	v ||
																		null ==
																			x.return ||
																		x.return();
																} finally {
																	if (g)
																		throw _;
																}
															}
															e.placedSymbolArray.emplaceBack(
																l.x,
																l.y,
																y,
																this
																	.glyphOffsetArray
																	.length - y,
																m,
																u,
																c,
																l.segment,
																n ? n[0] : 0,
																n ? n[1] : 0,
																r[0],
																r[1],
																s,
																!1
															),
																e.programConfigurations.populatePaintArrays(
																	e
																		.layoutVertexArray
																		.length,
																	a
																);
														},
													},
													{
														key: "_addCollisionDebugVertex",
														value: function (
															e,
															t,
															n,
															r,
															i
														) {
															return (
																t.emplaceBack(
																	0,
																	0
																),
																e.emplaceBack(
																	n.x,
																	n.y,
																	r.x,
																	r.y,
																	Math.round(
																		i.x
																	),
																	Math.round(
																		i.y
																	)
																)
															);
														},
													},
													{
														key: "addCollisionDebugVertices",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o,
															a,
															s
														) {
															var l =
																	i.segments.prepareSegment(
																		4,
																		i.layoutVertexArray,
																		i.indexArray
																	),
																u =
																	l.vertexLength,
																c =
																	i.layoutVertexArray,
																f =
																	i.collisionVertexArray;
															if (
																(this._addCollisionDebugVertex(
																	c,
																	f,
																	o,
																	a.anchor,
																	new C(e, t)
																),
																this._addCollisionDebugVertex(
																	c,
																	f,
																	o,
																	a.anchor,
																	new C(n, t)
																),
																this._addCollisionDebugVertex(
																	c,
																	f,
																	o,
																	a.anchor,
																	new C(n, r)
																),
																this._addCollisionDebugVertex(
																	c,
																	f,
																	o,
																	a.anchor,
																	new C(e, r)
																),
																(l.vertexLength += 4),
																s)
															) {
																var h =
																	i.indexArray;
																h.emplaceBack(
																	u,
																	u + 1,
																	u + 2
																),
																	h.emplaceBack(
																		u,
																		u + 2,
																		u + 3
																	),
																	(l.primitiveLength += 2);
															} else {
																var p =
																	i.indexArray;
																p.emplaceBack(
																	u,
																	u + 1
																),
																	p.emplaceBack(
																		u + 1,
																		u + 2
																	),
																	p.emplaceBack(
																		u + 2,
																		u + 3
																	),
																	p.emplaceBack(
																		u + 3,
																		u
																	),
																	(l.primitiveLength += 4);
															}
														},
													},
													{
														key: "generateCollisionDebugBuffers",
														value: function () {
															var e = !0,
																t = !1,
																n = void 0;
															try {
																for (
																	var r,
																		i = (0,
																		o.default)(
																			this
																				.symbolInstances
																		);
																	!(e = (r =
																		i.next())
																		.done);
																	e = !0
																) {
																	var a =
																		r.value;
																	(a.textCollisionFeature =
																		{
																			boxStartIndex:
																				a.textBoxStartIndex,
																			boxEndIndex:
																				a.textBoxEndIndex,
																		}),
																		(a.iconCollisionFeature =
																			{
																				boxStartIndex:
																					a.iconBoxStartIndex,
																				boxEndIndex:
																					a.iconBoxEndIndex,
																			});
																	for (
																		var s = 0;
																		s < 2;
																		s++
																	) {
																		var l =
																			a[
																				0 ===
																				s
																					? "textCollisionFeature"
																					: "iconCollisionFeature"
																			];
																		if (l)
																			for (
																				var u =
																					l.boxStartIndex;
																				u <
																				l.boxEndIndex;
																				u++
																			) {
																				var c =
																						this.collisionBoxArray.get(
																							u
																						),
																					f =
																						c.x1,
																					h =
																						c.y1,
																					p =
																						c.x2,
																					d =
																						c.y2,
																					y =
																						c.radius >
																						0;
																				this.addCollisionDebugVertices(
																					f,
																					h,
																					p,
																					d,
																					y
																						? this
																								.collisionCircle
																						: this
																								.collisionBox,
																					c.anchorPoint,
																					a,
																					y
																				);
																			}
																	}
																}
															} catch (e) {
																(t = !0),
																	(n = e);
															} finally {
																try {
																	e ||
																		null ==
																			i.return ||
																		i.return();
																} finally {
																	if (t)
																		throw n;
																}
															}
														},
													},
													{
														key: "deserializeCollisionBoxes",
														value: function (
															e,
															t,
															n,
															r,
															i
														) {
															for (
																var o = {},
																	a = t;
																a < n;
																a++
															) {
																var s =
																	e.get(a);
																if (
																	0 ===
																	s.radius
																) {
																	o.textBox =
																		{
																			x1: s.x1,
																			y1: s.y1,
																			x2: s.x2,
																			y2: s.y2,
																			anchorPointX:
																				s.anchorPointX,
																			anchorPointY:
																				s.anchorPointY,
																		};
																	break;
																}
																o.textCircles ||
																	(o.textCircles =
																		[]),
																	o.textCircles.push(
																		s.anchorPointX,
																		s.anchorPointY,
																		s.radius,
																		s.signedDistanceFromAnchor,
																		1
																	);
															}
															for (
																var l = r;
																l < i;
																l++
															) {
																var u =
																	e.get(l);
																if (
																	0 ===
																	u.radius
																) {
																	o.iconBox =
																		{
																			x1: u.x1,
																			y1: u.y1,
																			x2: u.x2,
																			y2: u.y2,
																			anchorPointX:
																				u.anchorPointX,
																			anchorPointY:
																				u.anchorPointY,
																		};
																	break;
																}
															}
															return o;
														},
													},
													{
														key: "hasTextData",
														value: function () {
															return (
																this.text.segments.get()
																	.length > 0
															);
														},
													},
													{
														key: "hasIconData",
														value: function () {
															return (
																this.icon.segments.get()
																	.length > 0
															);
														},
													},
													{
														key: "hasCollisionBoxData",
														value: function () {
															return (
																this.collisionBox.segments.get()
																	.length > 0
															);
														},
													},
													{
														key: "hasCollisionCircleData",
														value: function () {
															return (
																this.collisionCircle.segments.get()
																	.length > 0
															);
														},
													},
													{
														key: "sortFeatures",
														value: function (e) {
															var t = this;
															if (
																this
																	.sortFeaturesByY &&
																this
																	.sortedAngle !==
																	e &&
																((this.sortedAngle =
																	e),
																!(
																	this.text.segments.get()
																		.length >
																		1 ||
																	this.icon.segments.get()
																		.length >
																		1
																))
															) {
																for (
																	var n = [],
																		r = 0;
																	r <
																	this
																		.symbolInstances
																		.length;
																	r++
																)
																	n.push(r);
																var i =
																		Math.sin(
																			e
																		),
																	a =
																		Math.cos(
																			e
																		);
																n.sort(
																	function (
																		e,
																		n
																	) {
																		var r =
																				t
																					.symbolInstances[
																					e
																				],
																			o =
																				t
																					.symbolInstances[
																					n
																				];
																		return (
																			((i *
																				r
																					.anchor
																					.x +
																				a *
																					r
																						.anchor
																						.y) |
																				0) -
																				((i *
																					o
																						.anchor
																						.x +
																					a *
																						o
																							.anchor
																							.y) |
																					0) ||
																			o.featureIndex -
																				r.featureIndex
																		);
																	}
																),
																	this.text.indexArray.clear(),
																	this.icon.indexArray.clear();
																for (
																	var s = 0,
																		l = n;
																	s <
																	l.length;
																	s++
																) {
																	var u =
																			l[
																				s
																			],
																		c =
																			this
																				.symbolInstances[
																				u
																			],
																		f = !0,
																		h = !1,
																		p =
																			void 0;
																	try {
																		for (
																			var d,
																				y =
																					(0,
																					o.default)(
																						c.placedTextSymbolIndices
																					);
																			!(f =
																				(d =
																					y.next())
																					.done);
																			f =
																				!0
																		)
																			for (
																				var m =
																						d.value,
																					v =
																						this.text.placedSymbolArray.get(
																							m
																						),
																					g =
																						v.vertexStartIndex +
																						4 *
																							v.numGlyphs,
																					_ =
																						v.vertexStartIndex;
																				_ <
																				g;
																				_ += 4
																			)
																				this.text.indexArray.emplaceBack(
																					_,
																					_ +
																						1,
																					_ +
																						2
																				),
																					this.text.indexArray.emplaceBack(
																						_ +
																							1,
																						_ +
																							2,
																						_ +
																							3
																					);
																	} catch (e) {
																		(h =
																			!0),
																			(p =
																				e);
																	} finally {
																		try {
																			f ||
																				null ==
																					y.return ||
																				y.return();
																		} finally {
																			if (
																				h
																			)
																				throw p;
																		}
																	}
																	var b =
																		this.icon.placedSymbolArray.get(
																			u
																		);
																	if (
																		b.numGlyphs
																	) {
																		var x =
																			b.vertexStartIndex;
																		this.icon.indexArray.emplaceBack(
																			x,
																			x +
																				1,
																			x +
																				2
																		),
																			this.icon.indexArray.emplaceBack(
																				x +
																					1,
																				x +
																					2,
																				x +
																					3
																			);
																	}
																}
																this.text
																	.indexBuffer &&
																	this.text.indexBuffer.updateData(
																		this
																			.text
																			.indexArray
																	),
																	this.icon
																		.indexBuffer &&
																		this.icon.indexBuffer.updateData(
																			this
																				.icon
																				.indexArray
																		);
															}
														},
													},
												]),
												e
											);
										})();
										R("SymbolBucket", U, {
											omit: [
												"layers",
												"collisionBoxArray",
												"features",
												"compareText",
											],
											shallow: ["symbolInstances"],
										}),
											(U.MAX_GLYPHS = 65535),
											(U.addDynamicAttributes = F),
											(e.exports = U);
									},
									function (e, t, n) {
										var r = n(109);
										(e.exports.allowsIdeographicBreaking =
											function (e) {
												var n = !0,
													r = !1,
													i = void 0;
												try {
													for (
														var a,
															s = (0, o.default)(
																e
															);
														!(n = (a = s.next())
															.done);
														n = !0
													) {
														var l = a.value;
														if (
															!t.charAllowsIdeographicBreaking(
																l.charCodeAt(0)
															)
														)
															return !1;
													}
												} catch (e) {
													(r = !0), (i = e);
												} finally {
													try {
														n ||
															null == s.return ||
															s.return();
													} finally {
														if (r) throw i;
													}
												}
												return !0;
											}),
											(e.exports.allowsVerticalWritingMode =
												function (e) {
													var n = !0,
														r = !1,
														i = void 0;
													try {
														for (
															var a,
																s = (0,
																o.default)(e);
															!(n = (a = s.next())
																.done);
															n = !0
														) {
															var l = a.value;
															if (
																t.charHasUprightVerticalOrientation(
																	l.charCodeAt(
																		0
																	)
																)
															)
																return !0;
														}
													} catch (e) {
														(r = !0), (i = e);
													} finally {
														try {
															n ||
																null ==
																	s.return ||
																s.return();
														} finally {
															if (r) throw i;
														}
													}
													return !1;
												}),
											(e.exports.allowsLetterSpacing =
												function (e) {
													var n = !0,
														r = !1,
														i = void 0;
													try {
														for (
															var a,
																s = (0,
																o.default)(e);
															!(n = (a = s.next())
																.done);
															n = !0
														) {
															var l = a.value;
															if (
																!t.charAllowsLetterSpacing(
																	l.charCodeAt(
																		0
																	)
																)
															)
																return !1;
														}
													} catch (e) {
														(r = !0), (i = e);
													} finally {
														try {
															n ||
																null ==
																	s.return ||
																s.return();
														} finally {
															if (r) throw i;
														}
													}
													return !0;
												}),
											(e.exports.charAllowsLetterSpacing =
												function (e) {
													return !(
														r.Arabic(e) ||
														r["Arabic Supplement"](
															e
														) ||
														r["Arabic Extended-A"](
															e
														) ||
														r[
															"Arabic Presentation Forms-A"
														](e) ||
														r[
															"Arabic Presentation Forms-B"
														](e)
													);
												}),
											(e.exports.charAllowsIdeographicBreaking =
												function (e) {
													return !(
														e < 11904 ||
														!(
															r[
																"Bopomofo Extended"
															](e) ||
															r.Bopomofo(e) ||
															r[
																"CJK Compatibility Forms"
															](e) ||
															r[
																"CJK Compatibility Ideographs"
															](e) ||
															r[
																"CJK Compatibility"
															](e) ||
															r[
																"CJK Radicals Supplement"
															](e) ||
															r["CJK Strokes"](
																e
															) ||
															r[
																"CJK Symbols and Punctuation"
															](e) ||
															r[
																"CJK Unified Ideographs Extension A"
															](e) ||
															r[
																"CJK Unified Ideographs"
															](e) ||
															r[
																"Enclosed CJK Letters and Months"
															](e) ||
															r[
																"Halfwidth and Fullwidth Forms"
															](e) ||
															r.Hiragana(e) ||
															r[
																"Ideographic Description Characters"
															](e) ||
															r[
																"Kangxi Radicals"
															](e) ||
															r[
																"Katakana Phonetic Extensions"
															](e) ||
															r.Katakana(e) ||
															r["Vertical Forms"](
																e
															) ||
															r["Yi Radicals"](
																e
															) ||
															r["Yi Syllables"](e)
														)
													);
												}),
											(t.charHasUprightVerticalOrientation =
												function (e) {
													return !(
														746 !== e &&
														747 !== e &&
														(e < 4352 ||
															!(
																r[
																	"Bopomofo Extended"
																](e) ||
																r.Bopomofo(e) ||
																(r[
																	"CJK Compatibility Forms"
																](e) &&
																	!(
																		e >=
																			65097 &&
																		e <=
																			65103
																	)) ||
																r[
																	"CJK Compatibility Ideographs"
																](e) ||
																r[
																	"CJK Compatibility"
																](e) ||
																r[
																	"CJK Radicals Supplement"
																](e) ||
																r[
																	"CJK Strokes"
																](e) ||
																!(
																	!r[
																		"CJK Symbols and Punctuation"
																	](e) ||
																	(e >=
																		12296 &&
																		e <=
																			12305) ||
																	(e >=
																		12308 &&
																		e <=
																			12319) ||
																	12336 === e
																) ||
																r[
																	"CJK Unified Ideographs Extension A"
																](e) ||
																r[
																	"CJK Unified Ideographs"
																](e) ||
																r[
																	"Enclosed CJK Letters and Months"
																](e) ||
																r[
																	"Hangul Compatibility Jamo"
																](e) ||
																r[
																	"Hangul Jamo Extended-A"
																](e) ||
																r[
																	"Hangul Jamo Extended-B"
																](e) ||
																r[
																	"Hangul Jamo"
																](e) ||
																r[
																	"Hangul Syllables"
																](e) ||
																r.Hiragana(e) ||
																r[
																	"Ideographic Description Characters"
																](e) ||
																r.Kanbun(e) ||
																r[
																	"Kangxi Radicals"
																](e) ||
																r[
																	"Katakana Phonetic Extensions"
																](e) ||
																(r.Katakana(
																	e
																) &&
																	12540 !==
																		e) ||
																!(
																	!r[
																		"Halfwidth and Fullwidth Forms"
																	](e) ||
																	65288 ===
																		e ||
																	65289 ===
																		e ||
																	65293 ===
																		e ||
																	(e >=
																		65306 &&
																		e <=
																			65310) ||
																	65339 ===
																		e ||
																	65341 ===
																		e ||
																	65343 ===
																		e ||
																	(e >=
																		65371 &&
																		e <=
																			65503) ||
																	65507 ===
																		e ||
																	(e >=
																		65512 &&
																		e <=
																			65519)
																) ||
																!(
																	!r[
																		"Small Form Variants"
																	](e) ||
																	(e >=
																		65112 &&
																		e <=
																			65118) ||
																	(e >=
																		65123 &&
																		e <=
																			65126)
																) ||
																r[
																	"Unified Canadian Aboriginal Syllabics"
																](e) ||
																r[
																	"Unified Canadian Aboriginal Syllabics Extended"
																](e) ||
																r[
																	"Vertical Forms"
																](e) ||
																r[
																	"Yijing Hexagram Symbols"
																](e) ||
																r[
																	"Yi Syllables"
																](e) ||
																r[
																	"Yi Radicals"
																](e)
															))
													);
												}),
											(t.charHasNeutralVerticalOrientation =
												function (e) {
													return !!(
														(r[
															"Latin-1 Supplement"
														](e) &&
															(167 === e ||
																169 === e ||
																174 === e ||
																177 === e ||
																188 === e ||
																189 === e ||
																190 === e ||
																215 === e ||
																247 === e)) ||
														(r[
															"General Punctuation"
														](e) &&
															(8214 === e ||
																8224 === e ||
																8225 === e ||
																8240 === e ||
																8241 === e ||
																8251 === e ||
																8252 === e ||
																8258 === e ||
																8263 === e ||
																8264 === e ||
																8265 === e ||
																8273 === e)) ||
														r["Letterlike Symbols"](
															e
														) ||
														r["Number Forms"](e) ||
														(r[
															"Miscellaneous Technical"
														](e) &&
															((e >= 8960 &&
																e <= 8967) ||
																(e >= 8972 &&
																	e <=
																		8991) ||
																(e >= 8996 &&
																	e <= 9e3) ||
																9003 === e ||
																(e >= 9085 &&
																	e <=
																		9114) ||
																(e >= 9150 &&
																	e <=
																		9165) ||
																9167 === e ||
																(e >= 9169 &&
																	e <=
																		9179) ||
																(e >= 9186 &&
																	e <=
																		9215))) ||
														(r["Control Pictures"](
															e
														) &&
															9251 !== e) ||
														r[
															"Optical Character Recognition"
														](e) ||
														r[
															"Enclosed Alphanumerics"
														](e) ||
														r["Geometric Shapes"](
															e
														) ||
														(r[
															"Miscellaneous Symbols"
														](e) &&
															!(
																e >= 9754 &&
																e <= 9759
															)) ||
														(r[
															"Miscellaneous Symbols and Arrows"
														](e) &&
															((e >= 11026 &&
																e <= 11055) ||
																(e >= 11088 &&
																	e <=
																		11097) ||
																(e >= 11192 &&
																	e <=
																		11243))) ||
														r[
															"CJK Symbols and Punctuation"
														](e) ||
														r.Katakana(e) ||
														r["Private Use Area"](
															e
														) ||
														r[
															"CJK Compatibility Forms"
														](e) ||
														r[
															"Small Form Variants"
														](e) ||
														r[
															"Halfwidth and Fullwidth Forms"
														](e) ||
														8734 === e ||
														8756 === e ||
														8757 === e ||
														(e >= 9984 &&
															e <= 10087) ||
														(e >= 10102 &&
															e <= 10131) ||
														65532 === e ||
														65533 === e
													);
												}),
											(t.charHasRotatedVerticalOrientation =
												function (e) {
													return !(
														t.charHasUprightVerticalOrientation(
															e
														) ||
														t.charHasNeutralVerticalOrientation(
															e
														)
													);
												});
									},
									function (e, t) {
										e.exports = {
											API_URL: "https://api.mapbox.com",
											REQUIRE_ACCESS_TOKEN: !0,
											ACCESS_TOKEN: null,
										};
									},
									function (e, t, n) {
										e.exports = i;
										var r = n(190);
										function i(e) {
											(this.buf =
												ArrayBuffer.isView &&
												ArrayBuffer.isView(e)
													? e
													: new Uint8Array(e || 0)),
												(this.pos = 0),
												(this.type = 0),
												(this.length = this.buf.length);
										}
										function o(e) {
											return e.type === i.Bytes
												? e.readVarint() + e.pos
												: e.pos + 1;
										}
										function a(e, t, n) {
											return n
												? 4294967296 * t + (e >>> 0)
												: 4294967296 * (t >>> 0) +
														(e >>> 0);
										}
										function s(e, t, n) {
											var r =
												t <= 16383
													? 1
													: t <= 2097151
													? 2
													: t <= 268435455
													? 3
													: Math.floor(
															Math.log(t) /
																(7 * Math.LN2)
													  );
											n.realloc(r);
											for (var i = n.pos - 1; i >= e; i--)
												n.buf[i + r] = n.buf[i];
										}
										function l(e, t) {
											for (var n = 0; n < e.length; n++)
												t.writeVarint(e[n]);
										}
										function u(e, t) {
											for (var n = 0; n < e.length; n++)
												t.writeSVarint(e[n]);
										}
										function c(e, t) {
											for (var n = 0; n < e.length; n++)
												t.writeFloat(e[n]);
										}
										function f(e, t) {
											for (var n = 0; n < e.length; n++)
												t.writeDouble(e[n]);
										}
										function h(e, t) {
											for (var n = 0; n < e.length; n++)
												t.writeBoolean(e[n]);
										}
										function p(e, t) {
											for (var n = 0; n < e.length; n++)
												t.writeFixed32(e[n]);
										}
										function d(e, t) {
											for (var n = 0; n < e.length; n++)
												t.writeSFixed32(e[n]);
										}
										function y(e, t) {
											for (var n = 0; n < e.length; n++)
												t.writeFixed64(e[n]);
										}
										function m(e, t) {
											for (var n = 0; n < e.length; n++)
												t.writeSFixed64(e[n]);
										}
										function v(e, t) {
											return (
												(e[t] |
													(e[t + 1] << 8) |
													(e[t + 2] << 16)) +
												16777216 * e[t + 3]
											);
										}
										function g(e, t, n) {
											(e[n] = t),
												(e[n + 1] = t >>> 8),
												(e[n + 2] = t >>> 16),
												(e[n + 3] = t >>> 24);
										}
										function _(e, t) {
											return (
												(e[t] |
													(e[t + 1] << 8) |
													(e[t + 2] << 16)) +
												(e[t + 3] << 24)
											);
										}
										(i.Varint = 0),
											(i.Fixed64 = 1),
											(i.Bytes = 2),
											(i.Fixed32 = 5),
											(i.prototype = {
												destroy: function () {
													this.buf = null;
												},
												readFields: function (e, t, n) {
													for (
														n = n || this.length;
														this.pos < n;

													) {
														var r =
																this.readVarint(),
															i = r >> 3,
															o = this.pos;
														(this.type = 7 & r),
															e(i, t, this),
															this.pos === o &&
																this.skip(r);
													}
													return t;
												},
												readMessage: function (e, t) {
													return this.readFields(
														e,
														t,
														this.readVarint() +
															this.pos
													);
												},
												readFixed32: function () {
													var e = v(
														this.buf,
														this.pos
													);
													return (this.pos += 4), e;
												},
												readSFixed32: function () {
													var e = _(
														this.buf,
														this.pos
													);
													return (this.pos += 4), e;
												},
												readFixed64: function () {
													var e =
														v(this.buf, this.pos) +
														4294967296 *
															v(
																this.buf,
																this.pos + 4
															);
													return (this.pos += 8), e;
												},
												readSFixed64: function () {
													var e =
														v(this.buf, this.pos) +
														4294967296 *
															_(
																this.buf,
																this.pos + 4
															);
													return (this.pos += 8), e;
												},
												readFloat: function () {
													var e = r.read(
														this.buf,
														this.pos,
														!0,
														23,
														4
													);
													return (this.pos += 4), e;
												},
												readDouble: function () {
													var e = r.read(
														this.buf,
														this.pos,
														!0,
														52,
														8
													);
													return (this.pos += 8), e;
												},
												readVarint: function (e) {
													var t,
														n,
														r = this.buf;
													return (
														(t =
															127 &
															(n =
																r[this.pos++])),
														n < 128
															? t
															: ((t |=
																	(127 &
																		(n =
																			r[
																				this
																					.pos++
																			])) <<
																	7),
															  n < 128
																	? t
																	: ((t |=
																			(127 &
																				(n =
																					r[
																						this
																							.pos++
																					])) <<
																			14),
																	  n < 128
																			? t
																			: ((t |=
																					(127 &
																						(n =
																							r[
																								this
																									.pos++
																							])) <<
																					21),
																			  n <
																			  128
																					? t
																					: (function (
																							e,
																							t,
																							n
																					  ) {
																							var r,
																								i,
																								o =
																									n.buf;
																							if (
																								((r =
																									(112 &
																										(i =
																											o[
																												n.pos++
																											])) >>
																									4),
																								i <
																									128)
																							)
																								return a(
																									e,
																									r,
																									t
																								);
																							if (
																								((r |=
																									(127 &
																										(i =
																											o[
																												n.pos++
																											])) <<
																									3),
																								i <
																									128)
																							)
																								return a(
																									e,
																									r,
																									t
																								);
																							if (
																								((r |=
																									(127 &
																										(i =
																											o[
																												n.pos++
																											])) <<
																									10),
																								i <
																									128)
																							)
																								return a(
																									e,
																									r,
																									t
																								);
																							if (
																								((r |=
																									(127 &
																										(i =
																											o[
																												n.pos++
																											])) <<
																									17),
																								i <
																									128)
																							)
																								return a(
																									e,
																									r,
																									t
																								);
																							if (
																								((r |=
																									(127 &
																										(i =
																											o[
																												n.pos++
																											])) <<
																									24),
																								i <
																									128)
																							)
																								return a(
																									e,
																									r,
																									t
																								);
																							if (
																								((r |=
																									(1 &
																										(i =
																											o[
																												n.pos++
																											])) <<
																									31),
																								i <
																									128)
																							)
																								return a(
																									e,
																									r,
																									t
																								);
																							throw new Error(
																								"Expected varint not more than 10 bytes"
																							);
																					  })(
																							(t |=
																								(15 &
																									(n =
																										r[
																											this
																												.pos
																										])) <<
																								28),
																							e,
																							this
																					  ))))
													);
												},
												readVarint64: function () {
													return this.readVarint(!0);
												},
												readSVarint: function () {
													var e = this.readVarint();
													return e % 2 == 1
														? (e + 1) / -2
														: e / 2;
												},
												readBoolean: function () {
													return Boolean(
														this.readVarint()
													);
												},
												readString: function () {
													var e =
															this.readVarint() +
															this.pos,
														t = (function (
															e,
															t,
															n
														) {
															for (
																var r = "",
																	i = t;
																i < n;

															) {
																var o,
																	a,
																	s,
																	l = e[i],
																	u = null,
																	c =
																		l > 239
																			? 4
																			: l >
																			  223
																			? 3
																			: l >
																			  191
																			? 2
																			: 1;
																if (i + c > n)
																	break;
																1 === c
																	? l < 128 &&
																	  (u = l)
																	: 2 === c
																	? 128 ==
																			(192 &
																				(o =
																					e[
																						i +
																							1
																					])) &&
																	  (u =
																			((31 &
																				l) <<
																				6) |
																			(63 &
																				o)) <=
																			127 &&
																	  (u = null)
																	: 3 === c
																	? ((o =
																			e[
																				i +
																					1
																			]),
																	  (a =
																			e[
																				i +
																					2
																			]),
																	  128 ==
																			(192 &
																				o) &&
																			128 ==
																				(192 &
																					a) &&
																			((u =
																				((15 &
																					l) <<
																					12) |
																				((63 &
																					o) <<
																					6) |
																				(63 &
																					a)) <=
																				2047 ||
																				(u >=
																					55296 &&
																					u <=
																						57343)) &&
																			(u =
																				null))
																	: 4 === c &&
																	  ((o =
																			e[
																				i +
																					1
																			]),
																	  (a =
																			e[
																				i +
																					2
																			]),
																	  (s =
																			e[
																				i +
																					3
																			]),
																	  128 ==
																			(192 &
																				o) &&
																			128 ==
																				(192 &
																					a) &&
																			128 ==
																				(192 &
																					s) &&
																			((u =
																				((15 &
																					l) <<
																					18) |
																				((63 &
																					o) <<
																					12) |
																				((63 &
																					a) <<
																					6) |
																				(63 &
																					s)) <=
																				65535 ||
																				u >=
																					1114112) &&
																			(u =
																				null)),
																	null === u
																		? ((u = 65533),
																		  (c = 1))
																		: u >
																				65535 &&
																		  ((u -= 65536),
																		  (r +=
																				String.fromCharCode(
																					((u >>>
																						10) &
																						1023) |
																						55296
																				)),
																		  (u =
																				56320 |
																				(1023 &
																					u))),
																	(r +=
																		String.fromCharCode(
																			u
																		)),
																	(i += c);
															}
															return r;
														})(
															this.buf,
															this.pos,
															e
														);
													return (this.pos = e), t;
												},
												readBytes: function () {
													var e =
															this.readVarint() +
															this.pos,
														t = this.buf.subarray(
															this.pos,
															e
														);
													return (this.pos = e), t;
												},
												readPackedVarint: function (
													e,
													t
												) {
													if (this.type !== i.Bytes)
														return e.push(
															this.readVarint(t)
														);
													var n = o(this);
													for (
														e = e || [];
														this.pos < n;

													)
														e.push(
															this.readVarint(t)
														);
													return e;
												},
												readPackedSVarint: function (
													e
												) {
													if (this.type !== i.Bytes)
														return e.push(
															this.readSVarint()
														);
													var t = o(this);
													for (
														e = e || [];
														this.pos < t;

													)
														e.push(
															this.readSVarint()
														);
													return e;
												},
												readPackedBoolean: function (
													e
												) {
													if (this.type !== i.Bytes)
														return e.push(
															this.readBoolean()
														);
													var t = o(this);
													for (
														e = e || [];
														this.pos < t;

													)
														e.push(
															this.readBoolean()
														);
													return e;
												},
												readPackedFloat: function (e) {
													if (this.type !== i.Bytes)
														return e.push(
															this.readFloat()
														);
													var t = o(this);
													for (
														e = e || [];
														this.pos < t;

													)
														e.push(
															this.readFloat()
														);
													return e;
												},
												readPackedDouble: function (e) {
													if (this.type !== i.Bytes)
														return e.push(
															this.readDouble()
														);
													var t = o(this);
													for (
														e = e || [];
														this.pos < t;

													)
														e.push(
															this.readDouble()
														);
													return e;
												},
												readPackedFixed32: function (
													e
												) {
													if (this.type !== i.Bytes)
														return e.push(
															this.readFixed32()
														);
													var t = o(this);
													for (
														e = e || [];
														this.pos < t;

													)
														e.push(
															this.readFixed32()
														);
													return e;
												},
												readPackedSFixed32: function (
													e
												) {
													if (this.type !== i.Bytes)
														return e.push(
															this.readSFixed32()
														);
													var t = o(this);
													for (
														e = e || [];
														this.pos < t;

													)
														e.push(
															this.readSFixed32()
														);
													return e;
												},
												readPackedFixed64: function (
													e
												) {
													if (this.type !== i.Bytes)
														return e.push(
															this.readFixed64()
														);
													var t = o(this);
													for (
														e = e || [];
														this.pos < t;

													)
														e.push(
															this.readFixed64()
														);
													return e;
												},
												readPackedSFixed64: function (
													e
												) {
													if (this.type !== i.Bytes)
														return e.push(
															this.readSFixed64()
														);
													var t = o(this);
													for (
														e = e || [];
														this.pos < t;

													)
														e.push(
															this.readSFixed64()
														);
													return e;
												},
												skip: function (e) {
													var t = 7 & e;
													if (t === i.Varint)
														for (
															;
															this.buf[
																this.pos++
															] > 127;

														);
													else if (t === i.Bytes)
														this.pos =
															this.readVarint() +
															this.pos;
													else if (t === i.Fixed32)
														this.pos += 4;
													else {
														if (t !== i.Fixed64)
															throw new Error(
																"Unimplemented type: " +
																	t
															);
														this.pos += 8;
													}
												},
												writeTag: function (e, t) {
													this.writeVarint(
														(e << 3) | t
													);
												},
												realloc: function (e) {
													for (
														var t =
															this.length || 16;
														t < this.pos + e;

													)
														t *= 2;
													if (t !== this.length) {
														var n = new Uint8Array(
															t
														);
														n.set(this.buf),
															(this.buf = n),
															(this.length = t);
													}
												},
												finish: function () {
													return (
														(this.length =
															this.pos),
														(this.pos = 0),
														this.buf.subarray(
															0,
															this.length
														)
													);
												},
												writeFixed32: function (e) {
													this.realloc(4),
														g(
															this.buf,
															e,
															this.pos
														),
														(this.pos += 4);
												},
												writeSFixed32: function (e) {
													this.realloc(4),
														g(
															this.buf,
															e,
															this.pos
														),
														(this.pos += 4);
												},
												writeFixed64: function (e) {
													this.realloc(8),
														g(
															this.buf,
															-1 & e,
															this.pos
														),
														g(
															this.buf,
															Math.floor(
																e *
																	(1 /
																		4294967296)
															),
															this.pos + 4
														),
														(this.pos += 8);
												},
												writeSFixed64: function (e) {
													this.realloc(8),
														g(
															this.buf,
															-1 & e,
															this.pos
														),
														g(
															this.buf,
															Math.floor(
																e *
																	(1 /
																		4294967296)
															),
															this.pos + 4
														),
														(this.pos += 8);
												},
												writeVarint: function (e) {
													(e = +e || 0) > 268435455 ||
													e < 0
														? (function (e, t) {
																var n, r;
																if (
																	(e >= 0
																		? ((n =
																				e %
																					4294967296 |
																				0),
																		  (r =
																				(e /
																					4294967296) |
																				0))
																		: ((r =
																				~(
																					-e /
																					4294967296
																				)),
																		  4294967295 ^
																		  (n =
																				~(
																					-e %
																					4294967296
																				))
																				? (n =
																						(n +
																							1) |
																						0)
																				: ((n = 0),
																				  (r =
																						(r +
																							1) |
																						0))),
																	e >=
																		0x10000000000000000 ||
																		e <
																			-0x10000000000000000)
																)
																	throw new Error(
																		"Given varint doesn't fit into 10 bytes"
																	);
																t.realloc(10),
																	(function (
																		e,
																		t,
																		n
																	) {
																		(n.buf[
																			n.pos++
																		] =
																			(127 &
																				e) |
																			128),
																			(e >>>= 7),
																			(n.buf[
																				n.pos++
																			] =
																				(127 &
																					e) |
																				128),
																			(e >>>= 7),
																			(n.buf[
																				n.pos++
																			] =
																				(127 &
																					e) |
																				128),
																			(e >>>= 7),
																			(n.buf[
																				n.pos++
																			] =
																				(127 &
																					e) |
																				128),
																			(e >>>= 7),
																			(n.buf[
																				n.pos
																			] =
																				127 &
																				e);
																	})(n, 0, t),
																	(function (
																		e,
																		t
																	) {
																		var n =
																			(7 &
																				e) <<
																			4;
																		(t.buf[
																			t.pos++
																		] |=
																			n |
																			((e >>>= 3)
																				? 128
																				: 0)),
																			e &&
																				((t.buf[
																					t.pos++
																				] =
																					(127 &
																						e) |
																					((e >>>= 7)
																						? 128
																						: 0)),
																				e &&
																					((t.buf[
																						t.pos++
																					] =
																						(127 &
																							e) |
																						((e >>>= 7)
																							? 128
																							: 0)),
																					e &&
																						((t.buf[
																							t.pos++
																						] =
																							(127 &
																								e) |
																							((e >>>= 7)
																								? 128
																								: 0)),
																						e &&
																							((t.buf[
																								t.pos++
																							] =
																								(127 &
																									e) |
																								((e >>>= 7)
																									? 128
																									: 0)),
																							e &&
																								(t.buf[
																									t.pos++
																								] =
																									127 &
																									e)))));
																	})(r, t);
														  })(e, this)
														: (this.realloc(4),
														  (this.buf[
																this.pos++
														  ] =
																(127 & e) |
																(e > 127
																	? 128
																	: 0)),
														  e <= 127 ||
																((this.buf[
																	this.pos++
																] =
																	(127 &
																		(e >>>= 7)) |
																	(e > 127
																		? 128
																		: 0)),
																e <= 127 ||
																	((this.buf[
																		this
																			.pos++
																	] =
																		(127 &
																			(e >>>= 7)) |
																		(e > 127
																			? 128
																			: 0)),
																	e <= 127 ||
																		(this.buf[
																			this
																				.pos++
																		] =
																			(e >>>
																				7) &
																			127))));
												},
												writeSVarint: function (e) {
													this.writeVarint(
														e < 0
															? 2 * -e - 1
															: 2 * e
													);
												},
												writeBoolean: function (e) {
													this.writeVarint(
														Boolean(e)
													);
												},
												writeString: function (e) {
													(e = String(e)),
														this.realloc(
															4 * e.length
														),
														this.pos++;
													var t = this.pos;
													this.pos = (function (
														e,
														t,
														n
													) {
														for (
															var r, i, o = 0;
															o < t.length;
															o++
														) {
															if (
																(r =
																	t.charCodeAt(
																		o
																	)) >
																	55295 &&
																r < 57344
															) {
																if (!i) {
																	r > 56319 ||
																	o + 1 ===
																		t.length
																		? ((e[
																				n++
																		  ] = 239),
																		  (e[
																				n++
																		  ] = 191),
																		  (e[
																				n++
																		  ] = 189))
																		: (i =
																				r);
																	continue;
																}
																if (r < 56320) {
																	(e[
																		n++
																	] = 239),
																		(e[
																			n++
																		] = 191),
																		(e[
																			n++
																		] = 189),
																		(i = r);
																	continue;
																}
																(r =
																	((i -
																		55296) <<
																		10) |
																	(r -
																		56320) |
																	65536),
																	(i = null);
															} else
																i &&
																	((e[
																		n++
																	] = 239),
																	(e[
																		n++
																	] = 191),
																	(e[
																		n++
																	] = 189),
																	(i = null));
															r < 128
																? (e[n++] = r)
																: (r < 2048
																		? (e[
																				n++
																		  ] =
																				(r >>
																					6) |
																				192)
																		: (r <
																		  65536
																				? (e[
																						n++
																				  ] =
																						(r >>
																							12) |
																						224)
																				: ((e[
																						n++
																				  ] =
																						(r >>
																							18) |
																						240),
																				  (e[
																						n++
																				  ] =
																						((r >>
																							12) &
																							63) |
																						128)),
																		  (e[
																				n++
																		  ] =
																				((r >>
																					6) &
																					63) |
																				128)),
																  (e[n++] =
																		(63 &
																			r) |
																		128));
														}
														return n;
													})(this.buf, e, this.pos);
													var n = this.pos - t;
													n >= 128 && s(t, n, this),
														(this.pos = t - 1),
														this.writeVarint(n),
														(this.pos += n);
												},
												writeFloat: function (e) {
													this.realloc(4),
														r.write(
															this.buf,
															e,
															this.pos,
															!0,
															23,
															4
														),
														(this.pos += 4);
												},
												writeDouble: function (e) {
													this.realloc(8),
														r.write(
															this.buf,
															e,
															this.pos,
															!0,
															52,
															8
														),
														(this.pos += 8);
												},
												writeBytes: function (e) {
													var t = e.length;
													this.writeVarint(t),
														this.realloc(t);
													for (var n = 0; n < t; n++)
														this.buf[this.pos++] =
															e[n];
												},
												writeRawMessage: function (
													e,
													t
												) {
													this.pos++;
													var n = this.pos;
													e(t, this);
													var r = this.pos - n;
													r >= 128 && s(n, r, this),
														(this.pos = n - 1),
														this.writeVarint(r),
														(this.pos += r);
												},
												writeMessage: function (
													e,
													t,
													n
												) {
													this.writeTag(e, i.Bytes),
														this.writeRawMessage(
															t,
															n
														);
												},
												writePackedVarint: function (
													e,
													t
												) {
													t.length &&
														this.writeMessage(
															e,
															l,
															t
														);
												},
												writePackedSVarint: function (
													e,
													t
												) {
													t.length &&
														this.writeMessage(
															e,
															u,
															t
														);
												},
												writePackedBoolean: function (
													e,
													t
												) {
													t.length &&
														this.writeMessage(
															e,
															h,
															t
														);
												},
												writePackedFloat: function (
													e,
													t
												) {
													t.length &&
														this.writeMessage(
															e,
															c,
															t
														);
												},
												writePackedDouble: function (
													e,
													t
												) {
													t.length &&
														this.writeMessage(
															e,
															f,
															t
														);
												},
												writePackedFixed32: function (
													e,
													t
												) {
													t.length &&
														this.writeMessage(
															e,
															p,
															t
														);
												},
												writePackedSFixed32: function (
													e,
													t
												) {
													t.length &&
														this.writeMessage(
															e,
															d,
															t
														);
												},
												writePackedFixed64: function (
													e,
													t
												) {
													t.length &&
														this.writeMessage(
															e,
															y,
															t
														);
												},
												writePackedSFixed64: function (
													e,
													t
												) {
													t.length &&
														this.writeMessage(
															e,
															m,
															t
														);
												},
												writeBytesField: function (
													e,
													t
												) {
													this.writeTag(e, i.Bytes),
														this.writeBytes(t);
												},
												writeFixed32Field: function (
													e,
													t
												) {
													this.writeTag(e, i.Fixed32),
														this.writeFixed32(t);
												},
												writeSFixed32Field: function (
													e,
													t
												) {
													this.writeTag(e, i.Fixed32),
														this.writeSFixed32(t);
												},
												writeFixed64Field: function (
													e,
													t
												) {
													this.writeTag(e, i.Fixed64),
														this.writeFixed64(t);
												},
												writeSFixed64Field: function (
													e,
													t
												) {
													this.writeTag(e, i.Fixed64),
														this.writeSFixed64(t);
												},
												writeVarintField: function (
													e,
													t
												) {
													this.writeTag(e, i.Varint),
														this.writeVarint(t);
												},
												writeSVarintField: function (
													e,
													t
												) {
													this.writeTag(e, i.Varint),
														this.writeSVarint(t);
												},
												writeStringField: function (
													e,
													t
												) {
													this.writeTag(e, i.Bytes),
														this.writeString(t);
												},
												writeFloatField: function (
													e,
													t
												) {
													this.writeTag(e, i.Fixed32),
														this.writeFloat(t);
												},
												writeDoubleField: function (
													e,
													t
												) {
													this.writeTag(e, i.Fixed64),
														this.writeDouble(t);
												},
												writeBooleanField: function (
													e,
													t
												) {
													this.writeVarintField(
														e,
														Boolean(t)
													);
												},
											});
									},
									function (e, t, n) {
										var r = n(3),
											i = n(22),
											a = i.mat4,
											s = i.vec4,
											l = n(50),
											u = n(62).addDynamicAttributes,
											c = n(51).layout,
											f = n(205).WritingMode;
										function h(e, t) {
											var n = [e.x, e.y, 0, 1];
											x(n, n, t);
											var i = n[3];
											return {
												point: new r(
													n[0] / i,
													n[1] / i
												),
												signedDistanceFromCamera: i,
											};
										}
										function p(e, t) {
											var n = e[0] / e[3],
												r = e[1] / e[3];
											return (
												n >= -t[0] &&
												n <= t[0] &&
												r >= -t[1] &&
												r <= t[1]
											);
										}
										function d(
											e,
											t,
											n,
											r,
											i,
											o,
											a,
											s,
											l,
											u,
											c,
											f
										) {
											var h =
													s.glyphStartIndex +
													s.numGlyphs,
												p = s.lineStartIndex,
												d =
													s.lineStartIndex +
													s.lineLength,
												y = t.getoffsetX(
													s.glyphStartIndex
												),
												m = t.getoffsetX(h - 1),
												v = g(
													e * y,
													n,
													r,
													i,
													o,
													a,
													s.segment,
													p,
													d,
													l,
													u,
													c,
													f
												);
											if (!v) return null;
											var _ = g(
												e * m,
												n,
												r,
												i,
												o,
												a,
												s.segment,
												p,
												d,
												l,
												u,
												c,
												f
											);
											return _
												? { first: v, last: _ }
												: null;
										}
										function y(e, t, n, r) {
											return e === f.horizontal &&
												Math.abs(n.y - t.y) >
													Math.abs(n.x - t.x) * r
												? { useVertical: !0 }
												: (
														e === f.vertical
															? t.y < n.y
															: t.x > n.x
												  )
												? { needsFlipping: !0 }
												: null;
										}
										function m(
											e,
											t,
											n,
											i,
											a,
											s,
											l,
											c,
											f,
											p,
											m,
											_,
											b,
											x
										) {
											var w,
												C = t / 24,
												T = e.lineOffsetX * t,
												k = e.lineOffsetY * t;
											if (e.numGlyphs > 1) {
												var P =
														e.glyphStartIndex +
														e.numGlyphs,
													E = e.lineStartIndex,
													S =
														e.lineStartIndex +
														e.lineLength,
													A = d(
														C,
														c,
														T,
														k,
														n,
														m,
														_,
														e,
														f,
														s,
														b,
														!1
													);
												if (!A)
													return {
														notEnoughRoom: !0,
													};
												var M = h(
														A.first.point,
														l
													).point,
													I = h(
														A.last.point,
														l
													).point;
												if (i && !n) {
													var L = y(
														e.writingMode,
														M,
														I,
														x
													);
													if (L) return L;
												}
												w = [A.first];
												for (
													var D =
														e.glyphStartIndex + 1;
													D < P - 1;
													D++
												)
													w.push(
														g(
															C * c.getoffsetX(D),
															T,
															k,
															n,
															m,
															_,
															e.segment,
															E,
															S,
															f,
															s,
															b,
															!1
														)
													);
												w.push(A.last);
											} else {
												if (i && !n) {
													var O = h(_, a).point,
														z =
															e.lineStartIndex +
															e.segment +
															1,
														R = new r(
															f.getx(z),
															f.gety(z)
														),
														B = h(R, a),
														j =
															B.signedDistanceFromCamera >
															0
																? B.point
																: v(
																		_,
																		R,
																		O,
																		1,
																		a
																  ),
														F = y(
															e.writingMode,
															O,
															j,
															x
														);
													if (F) return F;
												}
												var N = g(
													C *
														c.getoffsetX(
															e.glyphStartIndex
														),
													T,
													k,
													n,
													m,
													_,
													e.segment,
													e.lineStartIndex,
													e.lineStartIndex +
														e.lineLength,
													f,
													s,
													b,
													!1
												);
												if (!N)
													return {
														notEnoughRoom: !0,
													};
												w = [N];
											}
											var V = !0,
												U = !1,
												H = void 0;
											try {
												for (
													var G,
														q = (0, o.default)(w);
													!(V = (G = q.next()).done);
													V = !0
												) {
													var W = G.value;
													u(p, W.point, W.angle);
												}
											} catch (e) {
												(U = !0), (H = e);
											} finally {
												try {
													V ||
														null == q.return ||
														q.return();
												} finally {
													if (U) throw H;
												}
											}
											return {};
										}
										function v(e, t, n, r, i) {
											var o = h(
													e.add(e.sub(t)._unit()),
													i
												).point,
												a = n.sub(o);
											return n.add(a._mult(r / a.mag()));
										}
										function g(
											e,
											t,
											n,
											i,
											o,
											a,
											s,
											l,
											u,
											c,
											f,
											p,
											d
										) {
											var y = i ? e - t : e + t,
												m = y > 0 ? 1 : -1,
												g = 0;
											i && ((m *= -1), (g = Math.PI)),
												m < 0 && (g += Math.PI);
											for (
												var _ =
														m > 0
															? l + s
															: l + s + 1,
													b = _,
													x = o,
													w = o,
													C = 0,
													T = 0,
													k = Math.abs(y);
												C + T <= k;

											) {
												if ((_ += m) < l || _ >= u)
													return null;
												if (
													((w = x),
													void 0 === (x = p[_]))
												) {
													var P = new r(
															c.getx(_),
															c.gety(_)
														),
														E = h(P, f);
													if (
														E.signedDistanceFromCamera >
														0
													)
														x = p[_] = E.point;
													else {
														var S = _ - m;
														x = v(
															0 === C
																? a
																: new r(
																		c.getx(
																			S
																		),
																		c.gety(
																			S
																		)
																  ),
															P,
															w,
															k - C + 1,
															f
														);
													}
												}
												(C += T), (T = w.dist(x));
											}
											var A = (k - C) / T,
												M = x.sub(w),
												I = M.mult(A)._add(w);
											return (
												I._add(
													M._unit()
														._perp()
														._mult(n * m)
												),
												{
													point: I,
													angle:
														g +
														Math.atan2(
															x.y - w.y,
															x.x - w.x
														),
													tileDistance: d
														? {
																prevTileDistance:
																	_ - m === b
																		? 0
																		: c.gettileUnitDistanceFromAnchor(
																				_ -
																					m
																		  ),
																lastSegmentViewportDistance:
																	k - C,
														  }
														: null,
												}
											);
										}
										e.exports = {
											updateLineLabels: function (
												e,
												t,
												n,
												i,
												o,
												a,
												u,
												d
											) {
												var y = i
														? e.textSizeData
														: e.iconSizeData,
													v = l.evaluateSizeForZoom(
														y,
														n.transform.zoom,
														c.properties[
															i
																? "text-size"
																: "icon-size"
														]
													),
													g = [
														(256 / n.width) * 2 + 1,
														(256 / n.height) * 2 +
															1,
													],
													_ = i
														? e.text
																.dynamicLayoutVertexArray
														: e.icon
																.dynamicLayoutVertexArray;
												_.clear();
												for (
													var x = e.lineVertexArray,
														w = i
															? e.text
																	.placedSymbolArray
															: e.icon
																	.placedSymbolArray,
														C =
															n.transform.width /
															n.transform.height,
														T = !1,
														k = 0;
													k < w.length;
													k++
												) {
													var P = w.get(k);
													if (
														P.hidden ||
														(P.writingMode ===
															f.vertical &&
															!T)
													)
														b(P.numGlyphs, _);
													else {
														T = !1;
														var E = [
															P.anchorX,
															P.anchorY,
															0,
															1,
														];
														if (
															(s.transformMat4(
																E,
																E,
																t
															),
															p(E, g))
														) {
															var S =
																	0.5 +
																	(E[3] /
																		n
																			.transform
																			.cameraToCenterDistance) *
																		0.5,
																A =
																	l.evaluateSizeForFeature(
																		y,
																		v,
																		P
																	),
																M = u
																	? A * S
																	: A / S,
																I = new r(
																	P.anchorX,
																	P.anchorY
																),
																L = h(
																	I,
																	o
																).point,
																D = {},
																O = m(
																	P,
																	M,
																	!1,
																	d,
																	t,
																	o,
																	a,
																	e.glyphOffsetArray,
																	x,
																	_,
																	L,
																	I,
																	D,
																	C
																);
															(T = O.useVertical),
																(O.notEnoughRoom ||
																	T ||
																	(O.needsFlipping &&
																		m(
																			P,
																			M,
																			!0,
																			d,
																			t,
																			o,
																			a,
																			e.glyphOffsetArray,
																			x,
																			_,
																			L,
																			I,
																			D,
																			C
																		)
																			.notEnoughRoom)) &&
																	b(
																		P.numGlyphs,
																		_
																	);
														} else
															b(P.numGlyphs, _);
													}
												}
												i
													? e.text.dynamicLayoutVertexBuffer.updateData(
															_
													  )
													: e.icon.dynamicLayoutVertexBuffer.updateData(
															_
													  );
											},
											getLabelPlaneMatrix: function (
												e,
												t,
												n,
												r,
												i
											) {
												var o = a.identity(
													new Float32Array(16)
												);
												return (
													t
														? (a.identity(o),
														  a.scale(o, o, [
																1 / i,
																1 / i,
																1,
														  ]),
														  n ||
																a.rotateZ(
																	o,
																	o,
																	r.angle
																))
														: (a.scale(o, o, [
																r.width / 2,
																-r.height / 2,
																1,
														  ]),
														  a.translate(
																o,
																o,
																[1, -1, 0]
														  ),
														  a.multiply(o, o, e)),
													o
												);
											},
											getGlCoordMatrix: function (
												e,
												t,
												n,
												r,
												i
											) {
												var o = a.identity(
													new Float32Array(16)
												);
												return (
													t
														? (a.multiply(o, o, e),
														  a.scale(o, o, [
																i,
																i,
																1,
														  ]),
														  n ||
																a.rotateZ(
																	o,
																	o,
																	-r.angle
																))
														: (a.scale(
																o,
																o,
																[1, -1, 1]
														  ),
														  a.translate(
																o,
																o,
																[-1, -1, 0]
														  ),
														  a.scale(o, o, [
																2 / r.width,
																2 / r.height,
																1,
														  ])),
													o
												);
											},
											project: h,
											placeFirstAndLastGlyph: d,
											xyTransformMat4: x,
										};
										var _ = new Float32Array([
											-1 / 0,
											-1 / 0,
											0,
											-1 / 0,
											-1 / 0,
											0,
											-1 / 0,
											-1 / 0,
											0,
											-1 / 0,
											-1 / 0,
											0,
										]);
										function b(e, t) {
											for (var n = 0; n < e; n++) {
												var r = t.length;
												t.resize(r + 4),
													t.float32.set(_, 3 * r);
											}
										}
										function x(e, t, n) {
											var r = t[0],
												i = t[1];
											return (
												(e[0] =
													n[0] * r +
													n[4] * i +
													n[12]),
												(e[1] =
													n[1] * r +
													n[5] * i +
													n[13]),
												(e[3] =
													n[3] * r +
													n[7] * i +
													n[15]),
												e
											);
										}
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(206),
											o = n(207),
											a = n(208),
											s = (n(15), n(18), n(68)),
											l = n(0),
											u = n(122),
											c = u.ClearColor,
											f = u.ClearDepth,
											h = u.ClearStencil,
											p = u.ColorMask,
											d = u.DepthMask,
											y = u.StencilMask,
											m = u.StencilFunc,
											v = u.StencilOp,
											g = u.StencilTest,
											_ = u.DepthRange,
											b = u.DepthTest,
											x = u.DepthFunc,
											w = u.Blend,
											C = u.BlendFunc,
											T = u.BlendColor,
											k = u.Program,
											P = u.LineWidth,
											E = u.ActiveTextureUnit,
											S = u.Viewport,
											A = u.BindFramebuffer,
											M = u.BindRenderbuffer,
											I = u.BindTexture,
											L = u.BindVertexBuffer,
											D = u.BindElementBuffer,
											O = u.BindVertexArrayOES,
											z = u.PixelStoreUnpack,
											R =
												u.PixelStoreUnpackPremultiplyAlpha,
											B = (function () {
												function e(t) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.gl = t),
														(this.extVertexArrayObject =
															this.gl.getExtension(
																"OES_vertex_array_object"
															)),
														(this.lineWidthRange =
															t.getParameter(
																t.ALIASED_LINE_WIDTH_RANGE
															)),
														(this.clearColor =
															new c(this)),
														(this.clearDepth =
															new f(this)),
														(this.clearStencil =
															new h(this)),
														(this.colorMask = new p(
															this
														)),
														(this.depthMask = new d(
															this
														)),
														(this.stencilMask =
															new y(this)),
														(this.stencilFunc =
															new m(this)),
														(this.stencilOp = new v(
															this
														)),
														(this.stencilTest =
															new g(this)),
														(this.depthRange =
															new _(this)),
														(this.depthTest = new b(
															this
														)),
														(this.depthFunc = new x(
															this
														)),
														(this.blend = new w(
															this
														)),
														(this.blendFunc = new C(
															this
														)),
														(this.blendColor =
															new T(this)),
														(this.program = new k(
															this
														)),
														(this.lineWidth = new P(
															this
														)),
														(this.activeTexture =
															new E(this)),
														(this.viewport = new S(
															this
														)),
														(this.bindFramebuffer =
															new A(this)),
														(this.bindRenderbuffer =
															new M(this)),
														(this.bindTexture =
															new I(this)),
														(this.bindVertexBuffer =
															new L(this)),
														(this.bindElementBuffer =
															new D(this)),
														(this.bindVertexArrayOES =
															this
																.extVertexArrayObject &&
															new O(this)),
														(this.pixelStoreUnpack =
															new z(this)),
														(this.pixelStoreUnpackPremultiplyAlpha =
															new R(this)),
														(this.extTextureFilterAnisotropic =
															t.getExtension(
																"EXT_texture_filter_anisotropic"
															) ||
															t.getExtension(
																"MOZ_EXT_texture_filter_anisotropic"
															) ||
															t.getExtension(
																"WEBKIT_EXT_texture_filter_anisotropic"
															)),
														this
															.extTextureFilterAnisotropic &&
															(this.extTextureFilterAnisotropicMax =
																t.getParameter(
																	this
																		.extTextureFilterAnisotropic
																		.MAX_TEXTURE_MAX_ANISOTROPY_EXT
																)),
														(this.extTextureHalfFloat =
															t.getExtension(
																"OES_texture_half_float"
															)),
														this
															.extTextureHalfFloat &&
															t.getExtension(
																"OES_texture_half_float_linear"
															);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "createIndexBuffer",
															value: function (
																e,
																t
															) {
																return new i(
																	this,
																	e,
																	t
																);
															},
														},
														{
															key: "createVertexBuffer",
															value: function (
																e,
																t,
																n
															) {
																return new o(
																	this,
																	e,
																	t,
																	n
																);
															},
														},
														{
															key: "createRenderbuffer",
															value: function (
																e,
																t,
																n
															) {
																var r = this.gl,
																	i =
																		r.createRenderbuffer();
																return (
																	this.bindRenderbuffer.set(
																		i
																	),
																	r.renderbufferStorage(
																		r.RENDERBUFFER,
																		e,
																		t,
																		n
																	),
																	this.bindRenderbuffer.set(
																		null
																	),
																	i
																);
															},
														},
														{
															key: "createFramebuffer",
															value: function (
																e,
																t
															) {
																return new a(
																	this,
																	e,
																	t
																);
															},
														},
														{
															key: "clear",
															value: function (
																e
															) {
																var t = e.color,
																	n = e.depth,
																	r = this.gl,
																	i = 0;
																t &&
																	((i |=
																		r.COLOR_BUFFER_BIT),
																	this.clearColor.set(
																		t
																	),
																	this.colorMask.set(
																		[
																			!0,
																			!0,
																			!0,
																			!0,
																		]
																	)),
																	void 0 !==
																		n &&
																		((i |=
																			r.DEPTH_BUFFER_BIT),
																		this.clearDepth.set(
																			n
																		),
																		this.depthMask.set(
																			!0
																		)),
																	r.clear(i);
															},
														},
														{
															key: "setDepthMode",
															value: function (
																e
															) {
																e.func !==
																	this.gl
																		.ALWAYS ||
																e.mask
																	? (this.depthTest.set(
																			!0
																	  ),
																	  this.depthFunc.set(
																			e.func
																	  ),
																	  this.depthMask.set(
																			e.mask
																	  ),
																	  this.depthRange.set(
																			e.range
																	  ))
																	: this.depthTest.set(
																			!1
																	  );
															},
														},
														{
															key: "setStencilMode",
															value: function (
																e
															) {
																e.func !==
																	this.gl
																		.ALWAYS ||
																e.mask
																	? (this.stencilTest.set(
																			!0
																	  ),
																	  this.stencilMask.set(
																			e.mask
																	  ),
																	  this.stencilOp.set(
																			[
																				e.fail,
																				e.depthFail,
																				e.pass,
																			]
																	  ),
																	  this.stencilFunc.set(
																			{
																				func: e
																					.test
																					.func,
																				ref: e.ref,
																				mask: e
																					.test
																					.mask,
																			}
																	  ))
																	: this.stencilTest.set(
																			!1
																	  );
															},
														},
														{
															key: "setColorMode",
															value: function (
																e
															) {
																l.deepEqual(
																	e.blendFunction,
																	s.Replace
																)
																	? this.blend.set(
																			!1
																	  )
																	: (this.blend.set(
																			!0
																	  ),
																	  this.blendFunc.set(
																			e.blendFunction
																	  ),
																	  this.blendColor.set(
																			e.blendColor
																	  )),
																	this.colorMask.set(
																		e.mask
																	);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = B;
									},
									function (e, t, n) {
										var r = n(12),
											i = function e(t, n, r) {
												!(function (e, t) {
													if (!(e instanceof t))
														throw new TypeError(
															"Cannot call a class as a function"
														);
												})(this, e),
													(this.blendFunction = t),
													(this.blendColor = n),
													(this.mask = r);
											};
										(i.disabled = new i(
											(i.Replace = [1, 0]),
											r.transparent,
											[!1, !1, !1, !1]
										)),
											(i.unblended = new i(
												i.Replace,
												r.transparent,
												[!0, !0, !0, !0]
											)),
											(i.alphaBlended = new i(
												[1, 771],
												r.transparent,
												[!0, !0, !0, !0]
											)),
											(e.exports = i);
									},
									function (e, t, n) {
										function r(e, t) {
											if (!(e instanceof t))
												throw new TypeError(
													"Cannot call a class as a function"
												);
										}
										function i(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function a(e, t, n) {
											return (
												t && i(e.prototype, t),
												n && i(e, n),
												e
											);
										}
										var s = n(120),
											l = n(6),
											u = n(50),
											c = n(66),
											f = n(51).layout,
											h = n(1),
											p = n(28),
											d = (function () {
												function e(t, n, i, o) {
													r(this, e),
														(this.opacity = t
															? Math.max(
																	0,
																	Math.min(
																		1,
																		t.opacity +
																			(t.placed
																				? n
																				: -n)
																	)
															  )
															: o && i
															? 1
															: 0),
														(this.placed = i);
												}
												return (
													a(e, [
														{
															key: "isHidden",
															value: function () {
																return (
																	0 ===
																		this
																			.opacity &&
																	!this.placed
																);
															},
														},
													]),
													e
												);
											})(),
											y = (function () {
												function e(t, n, i, o, a) {
													r(this, e),
														(this.text = new d(
															t ? t.text : null,
															n,
															i,
															a
														)),
														(this.icon = new d(
															t ? t.icon : null,
															n,
															o,
															a
														));
												}
												return (
													a(e, [
														{
															key: "isHidden",
															value: function () {
																return (
																	this.text.isHidden() &&
																	this.icon.isHidden()
																);
															},
														},
													]),
													e
												);
											})(),
											m = function e(t, n, i) {
												r(this, e),
													(this.text = t),
													(this.icon = n),
													(this.skipFade = i);
											},
											v = (function () {
												function e(t, n) {
													r(this, e),
														(this.transform =
															t.clone()),
														(this.collisionIndex =
															new s(
																this.transform
															)),
														(this.recentUntil =
															-1 / 0),
														(this.placements = {}),
														(this.opacities = {}),
														(this.stale = !1),
														(this.fadeDuration = n);
												}
												return (
													a(e, [
														{
															key: "placeLayerTile",
															value: function (
																e,
																t,
																n,
																r
															) {
																var i =
																	t.getBucket(
																		e
																	);
																if (i) {
																	var o =
																			i
																				.layers[0]
																				.layout,
																		a =
																			Math.pow(
																				2,
																				this
																					.transform
																					.zoom -
																					t
																						.tileID
																						.overscaledZ
																			),
																		s =
																			t.tileSize /
																			l,
																		u =
																			this.transform.calculatePosMatrix(
																				t.tileID.toUnwrapped()
																			),
																		f =
																			c.getLabelPlaneMatrix(
																				u,
																				"map" ===
																					o.get(
																						"text-pitch-alignment"
																					),
																				"map" ===
																					o.get(
																						"text-rotation-alignment"
																					),
																				this
																					.transform,
																				p(
																					t,
																					1,
																					this
																						.transform
																						.zoom
																				)
																			),
																		h =
																			c.getLabelPlaneMatrix(
																				u,
																				"map" ===
																					o.get(
																						"icon-pitch-alignment"
																					),
																				"map" ===
																					o.get(
																						"icon-rotation-alignment"
																					),
																				this
																					.transform,
																				p(
																					t,
																					1,
																					this
																						.transform
																						.zoom
																				)
																			);
																	this.placeLayerBucket(
																		i,
																		u,
																		f,
																		h,
																		a,
																		s,
																		n,
																		r,
																		t.collisionBoxArray,
																		t.tileID
																			.key,
																		e.source
																	);
																}
															},
														},
														{
															key: "placeLayerBucket",
															value: function (
																e,
																t,
																n,
																r,
																i,
																a,
																s,
																l,
																c,
																p,
																d
															) {
																var y =
																		e
																			.layers[0]
																			.layout,
																	v =
																		u.evaluateSizeForZoom(
																			e.textSizeData,
																			this
																				.transform
																				.zoom,
																			f
																				.properties[
																				"text-size"
																			]
																		),
																	g =
																		!e.hasTextData() ||
																		y.get(
																			"text-optional"
																		),
																	_ =
																		!e.hasIconData() ||
																		y.get(
																			"icon-optional"
																		),
																	b = !0,
																	x = !1,
																	w = void 0;
																try {
																	for (
																		var C,
																			T =
																				(0,
																				o.default)(
																					e.symbolInstances
																				);
																		!(b =
																			(C =
																				T.next())
																				.done);
																		b = !0
																	) {
																		var k =
																			C.value;
																		if (
																			!l[
																				k
																					.crossTileID
																			]
																		) {
																			var P =
																					!1,
																				E =
																					!1,
																				S =
																					!0,
																				A =
																					null,
																				M =
																					null,
																				I =
																					null;
																			k.collisionArrays ||
																				(k.collisionArrays =
																					e.deserializeCollisionBoxes(
																						c,
																						k.textBoxStartIndex,
																						k.textBoxEndIndex,
																						k.iconBoxStartIndex,
																						k.iconBoxEndIndex
																					)),
																				k
																					.collisionArrays
																					.textBox &&
																					((P =
																						(A =
																							this.collisionIndex.placeCollisionBox(
																								k
																									.collisionArrays
																									.textBox,
																								y.get(
																									"text-allow-overlap"
																								),
																								a,
																								t
																							))
																							.box
																							.length >
																						0),
																					(S =
																						S &&
																						A.offscreen));
																			var L =
																				k
																					.collisionArrays
																					.textCircles;
																			if (
																				L
																			) {
																				var D =
																						e.text.placedSymbolArray.get(
																							k
																								.placedTextSymbolIndices[0]
																						),
																					O =
																						u.evaluateSizeForFeature(
																							e.textSizeData,
																							v,
																							D
																						);
																				(M =
																					this.collisionIndex.placeCollisionCircles(
																						L,
																						y.get(
																							"text-allow-overlap"
																						),
																						i,
																						a,
																						k.key,
																						D,
																						e.lineVertexArray,
																						e.glyphOffsetArray,
																						O,
																						t,
																						n,
																						s,
																						"map" ===
																							y.get(
																								"text-pitch-alignment"
																							)
																					)),
																					(P =
																						y.get(
																							"text-allow-overlap"
																						) ||
																						M
																							.circles
																							.length >
																							0),
																					(S =
																						S &&
																						M.offscreen);
																			}
																			k
																				.collisionArrays
																				.iconBox &&
																				((E =
																					(I =
																						this.collisionIndex.placeCollisionBox(
																							k
																								.collisionArrays
																								.iconBox,
																							y.get(
																								"icon-allow-overlap"
																							),
																							a,
																							t
																						))
																						.box
																						.length >
																					0),
																				(S =
																					S &&
																					I.offscreen)),
																				g ||
																				_
																					? _
																						? g ||
																						  (E =
																								E &&
																								P)
																						: (P =
																								E &&
																								P)
																					: (E =
																							P =
																								E &&
																								P),
																				P &&
																					A &&
																					this.collisionIndex.insertCollisionBox(
																						A.box,
																						y.get(
																							"text-ignore-placement"
																						),
																						p,
																						d,
																						e.bucketInstanceId,
																						k.textBoxStartIndex
																					),
																				E &&
																					I &&
																					this.collisionIndex.insertCollisionBox(
																						I.box,
																						y.get(
																							"icon-ignore-placement"
																						),
																						p,
																						d,
																						e.bucketInstanceId,
																						k.iconBoxStartIndex
																					),
																				P &&
																					M &&
																					this.collisionIndex.insertCollisionCircles(
																						M.circles,
																						y.get(
																							"text-ignore-placement"
																						),
																						p,
																						d,
																						e.bucketInstanceId,
																						k.textBoxStartIndex
																					),
																				h(
																					0 !==
																						k.crossTileID
																				),
																				h(
																					0 !==
																						e.bucketInstanceId
																				),
																				(this.placements[
																					k.crossTileID
																				] =
																					new m(
																						P,
																						E,
																						S ||
																							e.justReloaded
																					)),
																				(l[
																					k.crossTileID
																				] =
																					!0);
																		}
																	}
																} catch (e) {
																	(x = !0),
																		(w = e);
																} finally {
																	try {
																		b ||
																			null ==
																				T.return ||
																			T.return();
																	} finally {
																		if (x)
																			throw w;
																	}
																}
																e.justReloaded =
																	!1;
															},
														},
														{
															key: "commit",
															value: function (
																e,
																t
															) {
																this.commitTime =
																	t;
																var n = !1,
																	r =
																		e &&
																		0 !==
																			this
																				.fadeDuration
																			? (this
																					.commitTime -
																					e.commitTime) /
																			  this
																					.fadeDuration
																			: 1,
																	i = e
																		? e.opacities
																		: {};
																for (var o in this
																	.placements) {
																	var a =
																			this
																				.placements[
																				o
																			],
																		s =
																			i[
																				o
																			];
																	s
																		? ((this.opacities[
																				o
																		  ] = new y(
																				s,
																				r,
																				a.text,
																				a.icon
																		  )),
																		  (n =
																				n ||
																				a.text !==
																					s
																						.text
																						.placed ||
																				a.icon !==
																					s
																						.icon
																						.placed))
																		: ((this.opacities[
																				o
																		  ] = new y(
																				null,
																				r,
																				a.text,
																				a.icon,
																				a.skipFade
																		  )),
																		  (n =
																				n ||
																				a.text ||
																				a.icon));
																}
																for (var l in i) {
																	var u =
																		i[l];
																	if (
																		!this
																			.opacities[
																			l
																		]
																	) {
																		var c =
																			new y(
																				u,
																				r,
																				!1,
																				!1
																			);
																		c.isHidden() ||
																			((this.opacities[
																				l
																			] =
																				c),
																			(n =
																				n ||
																				u
																					.text
																					.placed ||
																				u
																					.icon
																					.placed));
																	}
																}
																return n;
															},
														},
														{
															key: "updateLayerOpacities",
															value: function (
																e,
																t
															) {
																var n = {},
																	r = !0,
																	i = !1,
																	a = void 0;
																try {
																	for (
																		var s,
																			l =
																				(0,
																				o.default)(
																					t
																				);
																		!(r =
																			(s =
																				l.next())
																				.done);
																		r = !0
																	) {
																		var u =
																				s.value,
																			c =
																				u.getBucket(
																					e
																				);
																		c &&
																			this.updateBucketOpacities(
																				c,
																				n,
																				u.collisionBoxArray
																			);
																	}
																} catch (e) {
																	(i = !0),
																		(a = e);
																} finally {
																	try {
																		r ||
																			null ==
																				l.return ||
																			l.return();
																	} finally {
																		if (i)
																			throw a;
																	}
																}
															},
														},
														{
															key: "updateBucketOpacities",
															value: function (
																e,
																t,
																n
															) {
																e.hasTextData() &&
																	e.text.opacityVertexArray.clear(),
																	e.hasIconData() &&
																		e.icon.opacityVertexArray.clear(),
																	e.hasCollisionBoxData() &&
																		e.collisionBox.collisionVertexArray.clear(),
																	e.hasCollisionCircleData() &&
																		e.collisionCircle.collisionVertexArray.clear();
																for (
																	var r =
																			e
																				.layers[0]
																				.layout,
																		i =
																			new y(
																				null,
																				0,
																				r.get(
																					"text-allow-overlap"
																				),
																				r.get(
																					"icon-allow-overlap"
																				),
																				!0
																			),
																		a = 0;
																	a <
																	e
																		.symbolInstances
																		.length;
																	a++
																) {
																	var s =
																			e
																				.symbolInstances[
																				a
																			],
																		l =
																			t[
																				s
																					.crossTileID
																			],
																		u =
																			this
																				.opacities[
																				s
																					.crossTileID
																			];
																	u
																		? l &&
																		  (u =
																				i)
																		: ((u =
																				i),
																		  (this.opacities[
																				s.crossTileID
																		  ] =
																				u)),
																		(t[
																			s.crossTileID
																		] = !0);
																	var c =
																			s.numGlyphVertices >
																				0 ||
																			s.numVerticalGlyphVertices >
																				0,
																		f =
																			s.numIconVertices >
																			0;
																	if (c) {
																		for (
																			var p =
																					P(
																						u.text
																					),
																				d =
																					(s.numGlyphVertices +
																						s.numVerticalGlyphVertices) /
																					4,
																				m = 0;
																			m <
																			d;
																			m++
																		)
																			e.text.opacityVertexArray.emplaceBack(
																				p
																			);
																		var v =
																				!0,
																			_ =
																				!1,
																			b =
																				void 0;
																		try {
																			for (
																				var x,
																					w =
																						(0,
																						o.default)(
																							s.placedTextSymbolIndices
																						);
																				!(v =
																					(x =
																						w.next())
																						.done);
																				v =
																					!0
																			) {
																				var C =
																					x.value;
																				e.text.placedSymbolArray.get(
																					C
																				).hidden =
																					u.text.isHidden();
																			}
																		} catch (e) {
																			(_ =
																				!0),
																				(b =
																					e);
																		} finally {
																			try {
																				v ||
																					null ==
																						w.return ||
																					w.return();
																			} finally {
																				if (
																					_
																				)
																					throw b;
																			}
																		}
																	}
																	if (f) {
																		for (
																			var T =
																					P(
																						u.icon
																					),
																				k = 0;
																			k <
																			s.numIconVertices /
																				4;
																			k++
																		)
																			e.icon.opacityVertexArray.emplaceBack(
																				T
																			);
																		e.icon.placedSymbolArray.get(
																			a
																		).hidden =
																			u.icon.isHidden();
																	}
																	s.collisionArrays ||
																		(s.collisionArrays =
																			e.deserializeCollisionBoxes(
																				n,
																				s.textBoxStartIndex,
																				s.textBoxEndIndex,
																				s.iconBoxStartIndex,
																				s.iconBoxEndIndex
																			));
																	var E =
																		s.collisionArrays;
																	if (E) {
																		E.textBox &&
																			e.hasCollisionBoxData() &&
																			g(
																				e
																					.collisionBox
																					.collisionVertexArray,
																				u
																					.text
																					.placed,
																				!1
																			),
																			E.iconBox &&
																				e.hasCollisionBoxData() &&
																				g(
																					e
																						.collisionBox
																						.collisionVertexArray,
																					u
																						.icon
																						.placed,
																					!1
																				);
																		var S =
																			E.textCircles;
																		if (
																			S &&
																			e.hasCollisionCircleData()
																		)
																			for (
																				var A = 0;
																				A <
																				S.length;
																				A += 5
																			) {
																				var M =
																					l ||
																					0 ===
																						S[
																							A +
																								4
																						];
																				g(
																					e
																						.collisionCircle
																						.collisionVertexArray,
																					u
																						.text
																						.placed,
																					M
																				);
																			}
																	}
																}
																e.sortFeatures(
																	this
																		.transform
																		.angle
																),
																	e.hasTextData() &&
																		e.text
																			.opacityVertexBuffer &&
																		e.text.opacityVertexBuffer.updateData(
																			e
																				.text
																				.opacityVertexArray
																		),
																	e.hasIconData() &&
																		e.icon
																			.opacityVertexBuffer &&
																		e.icon.opacityVertexBuffer.updateData(
																			e
																				.icon
																				.opacityVertexArray
																		),
																	e.hasCollisionBoxData() &&
																		e
																			.collisionBox
																			.collisionVertexBuffer &&
																		e.collisionBox.collisionVertexBuffer.updateData(
																			e
																				.collisionBox
																				.collisionVertexArray
																		),
																	e.hasCollisionCircleData() &&
																		e
																			.collisionCircle
																			.collisionVertexBuffer &&
																		e.collisionCircle.collisionVertexBuffer.updateData(
																			e
																				.collisionCircle
																				.collisionVertexArray
																		),
																	h(
																		e.text
																			.opacityVertexArray
																			.length ===
																			e
																				.text
																				.layoutVertexArray
																				.length /
																				4
																	),
																	h(
																		e.icon
																			.opacityVertexArray
																			.length ===
																			e
																				.icon
																				.layoutVertexArray
																				.length /
																				4
																	);
															},
														},
														{
															key: "symbolFadeChange",
															value: function (
																e
															) {
																return 0 ===
																	this
																		.fadeDuration
																	? 1
																	: (e -
																			this
																				.commitTime) /
																			this
																				.fadeDuration;
															},
														},
														{
															key: "hasTransitions",
															value: function (
																e
															) {
																return (
																	this.symbolFadeChange(
																		e
																	) < 1 ||
																	this.stale
																);
															},
														},
														{
															key: "stillRecent",
															value: function (
																e
															) {
																return (
																	this
																		.recentUntil >
																	e
																);
															},
														},
														{
															key: "setRecent",
															value: function (
																e,
																t
															) {
																(this.stale =
																	t),
																	(this.recentUntil =
																		e +
																		this
																			.fadeDuration);
															},
														},
														{
															key: "setStale",
															value: function () {
																this.stale = !0;
															},
														},
													]),
													e
												);
											})();
										function g(e, t, n) {
											e.emplaceBack(t ? 1 : 0, n ? 1 : 0),
												e.emplaceBack(
													t ? 1 : 0,
													n ? 1 : 0
												),
												e.emplaceBack(
													t ? 1 : 0,
													n ? 1 : 0
												),
												e.emplaceBack(
													t ? 1 : 0,
													n ? 1 : 0
												);
										}
										var _ = Math.pow(2, 25),
											b = Math.pow(2, 24),
											x = Math.pow(2, 17),
											w = Math.pow(2, 16),
											C = Math.pow(2, 9),
											T = Math.pow(2, 8),
											k = Math.pow(2, 1);
										function P(e) {
											if (0 === e.opacity && !e.placed)
												return 0;
											if (1 === e.opacity && e.placed)
												return 4294967295;
											var t = e.placed ? 1 : 0,
												n = Math.floor(127 * e.opacity);
											return (
												n * _ +
												t * b +
												n * x +
												t * w +
												n * C +
												t * T +
												n * k +
												t
											);
										}
										e.exports = v;
									},
									function (e, t, n) {
										var r = n(1),
											i = n(28);
										(t.isPatternMissing = function (e, t) {
											if (!e) return !1;
											var n = t.imageManager.getPattern(
													e.from
												),
												r = t.imageManager.getPattern(
													e.to
												);
											return !n || !r;
										}),
											(t.prepare = function (e, t, n) {
												var i = t.context,
													o = i.gl,
													a =
														t.imageManager.getPattern(
															e.from
														),
													s =
														t.imageManager.getPattern(
															e.to
														);
												r(a && s),
													o.uniform1i(
														n.uniforms.u_image,
														0
													),
													o.uniform2fv(
														n.uniforms
															.u_pattern_tl_a,
														a.tl
													),
													o.uniform2fv(
														n.uniforms
															.u_pattern_br_a,
														a.br
													),
													o.uniform2fv(
														n.uniforms
															.u_pattern_tl_b,
														s.tl
													),
													o.uniform2fv(
														n.uniforms
															.u_pattern_br_b,
														s.br
													);
												var l =
														t.imageManager.getPixelSize(),
													u = l.width,
													c = l.height;
												o.uniform2fv(
													n.uniforms.u_texsize,
													[u, c]
												),
													o.uniform1f(
														n.uniforms.u_mix,
														e.t
													),
													o.uniform2fv(
														n.uniforms
															.u_pattern_size_a,
														a.displaySize
													),
													o.uniform2fv(
														n.uniforms
															.u_pattern_size_b,
														s.displaySize
													),
													o.uniform1f(
														n.uniforms.u_scale_a,
														e.fromScale
													),
													o.uniform1f(
														n.uniforms.u_scale_b,
														e.toScale
													),
													i.activeTexture.set(
														o.TEXTURE0
													),
													t.imageManager.bind(
														t.context
													);
											}),
											(t.setTile = function (e, t, n) {
												var r = t.context.gl;
												r.uniform1f(
													n.uniforms
														.u_tile_units_to_pixels,
													1 /
														i(
															e,
															1,
															t.transform.tileZoom(
																e
															)
														)
												);
												var o = Math.pow(
														2,
														e.tileID.overscaledZ
													),
													a =
														(e.tileSize *
															Math.pow(
																2,
																t.transform.tileZoom(
																	e
																)
															)) /
														o,
													s =
														a *
														(e.tileID.canonical.x +
															e.tileID.wrap * o),
													l =
														a *
														e.tileID.canonical.y;
												r.uniform2f(
													n.uniforms
														.u_pixel_coord_upper,
													s >> 16,
													l >> 16
												),
													r.uniform2f(
														n.uniforms
															.u_pixel_coord_lower,
														65535 & s,
														65535 & l
													);
											});
									},
									function (e, t, n) {
										var r = n(72),
											i = n(2),
											o = n(132).version,
											a = n(133),
											s = n(295),
											l = n(296),
											u = n(128),
											c = n(297),
											f = n(298),
											h = n(299),
											p = n(129),
											d = n(53),
											y = n(21),
											m = n(39),
											v = n(3),
											g = n(10),
											_ = n(64),
											b = n(49),
											x = n(300);
										e.exports = {
											version: o,
											supported: r,
											workerCount: Math.max(
												Math.floor(
													i.hardwareConcurrency / 2
												),
												1
											),
											setRTLTextPlugin:
												b.setRTLTextPlugin,
											Map: a,
											NavigationControl: s,
											GeolocateControl: l,
											AttributionControl: u,
											ScaleControl: c,
											FullscreenControl: f,
											Popup: h,
											Marker: p,
											Style: d,
											LngLat: y,
											LngLatBounds: m,
											Point: v,
											Evented: g,
											config: _,
											BasicRenderer: x,
											get accessToken() {
												return _.ACCESS_TOKEN;
											},
											set accessToken(e) {
												_.ACCESS_TOKEN = e;
											},
										};
									},
									function (e, t, n) {
										function r(e) {
											return !!(
												"undefined" != typeof window &&
												"undefined" !=
													typeof document &&
												Array.prototype &&
												Array.prototype.every &&
												Array.prototype.filter &&
												Array.prototype.forEach &&
												Array.prototype.indexOf &&
												Array.prototype.lastIndexOf &&
												Array.prototype.map &&
												Array.prototype.some &&
												Array.prototype.reduce &&
												Array.prototype.reduceRight &&
												Array.isArray &&
												Function.prototype &&
												Function.prototype.bind &&
												u.default &&
												Object.create &&
												l.default &&
												v.default &&
												g.default &&
												_.default &&
												b.default &&
												x.default &&
												Object.defineProperty &&
												Object.defineProperties &&
												w.default &&
												p.default &&
												C.default &&
												"JSON" in window &&
												"parse" in JSON &&
												"stringify" in JSON &&
												(function () {
													if (
														!(
															"Worker" in
																window &&
															"Blob" in window &&
															"URL" in window
														)
													)
														return !1;
													var e,
														t,
														n = new Blob([""], {
															type: "text/javascript",
														}),
														r =
															URL.createObjectURL(
																n
															);
													try {
														(t = new Worker(r)),
															(e = !0);
													} catch (t) {
														e = !1;
													}
													return (
														t && t.terminate(),
														URL.revokeObjectURL(r),
														e
													);
												})() &&
												"Uint8ClampedArray" in window &&
												ArrayBuffer.isView &&
												(function (e) {
													return (
														void 0 === i[e] &&
															(i[e] = (function (
																e
															) {
																var t =
																		document.createElement(
																			"canvas"
																		),
																	n =
																		Object.create(
																			r.webGLContextAttributes
																		);
																return (
																	(n.failIfMajorPerformanceCaveat =
																		e),
																	t.probablySupportsContext
																		? t.probablySupportsContext(
																				"webgl",
																				n
																		  ) ||
																		  t.probablySupportsContext(
																				"experimental-webgl",
																				n
																		  )
																		: t.supportsContext
																		? t.supportsContext(
																				"webgl",
																				n
																		  ) ||
																		  t.supportsContext(
																				"experimental-webgl",
																				n
																		  )
																		: t.getContext(
																				"webgl",
																				n
																		  ) ||
																		  t.getContext(
																				"experimental-webgl",
																				n
																		  )
																);
															})(e)),
														i[e]
													);
												})(
													e &&
														e.failIfMajorPerformanceCaveat
												)
											);
										}
										e.exports
											? (e.exports = r)
											: window &&
											  ((window.mapboxgl =
													window.mapboxgl || {}),
											  (window.mapboxgl.supported = r));
										var i = {};
										r.webGLContextAttributes = {
											antialias: !1,
											alpha: !0,
											stencil: !0,
											depth: !0,
										};
									},
									function (e, t) {
										function n(e, t, n, r) {
											(this.cx = 3 * e),
												(this.bx =
													3 * (n - e) - this.cx),
												(this.ax =
													1 - this.cx - this.bx),
												(this.cy = 3 * t),
												(this.by =
													3 * (r - t) - this.cy),
												(this.ay =
													1 - this.cy - this.by),
												(this.p1x = e),
												(this.p1y = r),
												(this.p2x = n),
												(this.p2y = r);
										}
										(e.exports = n),
											(n.prototype.sampleCurveX =
												function (e) {
													return (
														((this.ax * e +
															this.bx) *
															e +
															this.cx) *
														e
													);
												}),
											(n.prototype.sampleCurveY =
												function (e) {
													return (
														((this.ay * e +
															this.by) *
															e +
															this.cy) *
														e
													);
												}),
											(n.prototype.sampleCurveDerivativeX =
												function (e) {
													return (
														(3 * this.ax * e +
															2 * this.bx) *
															e +
														this.cx
													);
												}),
											(n.prototype.solveCurveX =
												function (e, t) {
													var n, r, i, o, a;
													for (
														void 0 === t &&
															(t = 1e-6),
															i = e,
															a = 0;
														a < 8;
														a++
													) {
														if (
															((o =
																this.sampleCurveX(
																	i
																) - e),
															Math.abs(o) < t)
														)
															return i;
														var s =
															this.sampleCurveDerivativeX(
																i
															);
														if (Math.abs(s) < 1e-6)
															break;
														i -= o / s;
													}
													if ((i = e) < (n = 0))
														return n;
													if (i > (r = 1)) return r;
													for (; n < r; ) {
														if (
															((o =
																this.sampleCurveX(
																	i
																)),
															Math.abs(o - e) < t)
														)
															return i;
														e > o
															? (n = i)
															: (r = i),
															(i =
																0.5 * (r - n) +
																n);
													}
													return i;
												}),
											(n.prototype.solve = function (
												e,
												t
											) {
												return this.sampleCurveY(
													this.solveCurveX(e, t)
												);
											});
									},
									function (e, n) {
										function i(e) {
											return (i =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										e.exports = function e(t, n) {
											if (Array.isArray(t)) {
												if (
													!Array.isArray(n) ||
													t.length !== n.length
												)
													return !1;
												for (
													var r = 0;
													r < t.length;
													r++
												)
													if (!e(t[r], n[r]))
														return !1;
												return !0;
											}
											if (
												"object" === i(t) &&
												null !== t &&
												null !== n
											) {
												if ("object" !== i(n))
													return !1;
												if (
													(0, u.default)(t).length !==
													(0, u.default)(n).length
												)
													return !1;
												for (var o in t)
													if (!e(t[o], n[o]))
														return !1;
												return !0;
											}
											return t === n;
										};
									},
									function (e, t, n) {
										var r = n(7);
										e.exports = function (e) {
											var t = e.key,
												n = e.value;
											return n
												? [
														new r(
															t,
															n,
															"constants have been deprecated as of v8"
														),
												  ]
												: [];
										};
									},
									function (e, n) {
										function i(e) {
											return (i =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function o(e, t) {
											return !t ||
												("object" !== i(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function s(e) {
											var t =
												"function" == typeof f.default
													? new f.default()
													: void 0;
											return (s = function (e) {
												if (
													null === e ||
													((n = e),
													-1 ===
														Function.toString
															.call(n)
															.indexOf(
																"[native code]"
															))
												)
													return e;
												var n;
												if ("function" != typeof e)
													throw new TypeError(
														"Super expression must either be null or a function"
													);
												if (void 0 !== t) {
													if (t.has(e))
														return t.get(e);
													t.set(e, r);
												}
												function r() {
													return u(
														e,
														arguments,
														d(this).constructor
													);
												}
												return (
													(r.prototype =
														Object.create(
															e.prototype,
															{
																constructor: {
																	value: r,
																	enumerable:
																		!1,
																	writable:
																		!0,
																	configurable:
																		!0,
																},
															}
														)),
													p(r, e)
												);
											})(e);
										}
										function u(e, t, n) {
											return (u = (function () {
												if (
													"undefined" ==
														typeof Reflect ||
													!h.default
												)
													return !1;
												if (h.default.sham) return !1;
												if ("function" == typeof Proxy)
													return !0;
												try {
													return (
														Date.prototype.toString.call(
															(0, h.default)(
																Date,
																[],
																function () {}
															)
														),
														!0
													);
												} catch (e) {
													return !1;
												}
											})()
												? h.default
												: function (e, t, n) {
														var r = [null];
														r.push.apply(r, t);
														var i =
															new (Function.bind.apply(
																e,
																r
															))();
														return (
															n &&
																p(
																	i,
																	n.prototype
																),
															i
														);
												  }).apply(null, arguments);
										}
										function p(e, t) {
											return (p =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										function d(e) {
											return (d = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										var y = (function (e) {
											function t(e, n) {
												var r;
												return (
													(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, t),
													((r = o(
														this,
														d(t).call(this, n)
													)).message = n),
													(r.key = e),
													r
												);
											}
											return (
												(function (e, t) {
													if (
														"function" !=
															typeof t &&
														null !== t
													)
														throw new TypeError(
															"Super expression must either be null or a function"
														);
													(e.prototype =
														Object.create(
															t && t.prototype,
															{
																constructor: {
																	value: e,
																	writable:
																		!0,
																	configurable:
																		!0,
																},
															}
														)),
														t && p(e, t);
												})(t, s(Error)),
												t
											);
										})();
										e.exports = y;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var l = i(78),
											u = i(8).checkSubtype,
											c = i(76),
											f = i(79),
											h = i(81),
											p = i(82),
											d = i(83),
											y = (function () {
												function e(t) {
													var n =
															arguments.length >
																1 &&
															void 0 !==
																arguments[1]
																? arguments[1]
																: [],
														r =
															arguments.length > 2
																? arguments[2]
																: void 0,
														i =
															arguments.length >
																3 &&
															void 0 !==
																arguments[3]
																? arguments[3]
																: new l(),
														o =
															arguments.length >
																4 &&
															void 0 !==
																arguments[4]
																? arguments[4]
																: [];
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.registry = t),
														(this.path = n),
														(this.key = n
															.map(function (e) {
																return "[".concat(
																	e,
																	"]"
																);
															})
															.join("")),
														(this.scope = i),
														(this.errors = o),
														(this.expectedType = r);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "parse",
															value: function (
																e,
																t,
																n,
																r
															) {
																var a =
																		arguments.length >
																			4 &&
																		void 0 !==
																			arguments[4]
																			? arguments[4]
																			: {},
																	s = this;
																if (
																	(t &&
																		(s =
																			s.concat(
																				t,
																				n,
																				r
																			)),
																	(null !==
																		e &&
																		"string" !=
																			typeof e &&
																		"boolean" !=
																			typeof e &&
																		"number" !=
																			typeof e) ||
																		(e = [
																			"literal",
																			e,
																		]),
																	Array.isArray(
																		e
																	))
																) {
																	if (
																		0 ===
																		e.length
																	)
																		return s.error(
																			'Expected an array with at least one element. If you wanted a literal array, use ["literal", []].'
																		);
																	var l =
																		e[0];
																	if (
																		"string" !=
																		typeof l
																	)
																		return (
																			s.error(
																				"Expression name must be a string, but found ".concat(
																					o(
																						l
																					),
																					' instead. If you wanted a literal array, use ["literal", [...]].'
																				),
																				0
																			),
																			null
																		);
																	var u =
																		s
																			.registry[
																			l
																		];
																	if (u) {
																		var c =
																			u.parse(
																				e,
																				s
																			);
																		if (!c)
																			return null;
																		if (
																			s.expectedType
																		) {
																			var y =
																					s.expectedType,
																				m =
																					c.type;
																			if (
																				("string" !==
																					y.kind &&
																					"number" !==
																						y.kind &&
																					"boolean" !==
																						y.kind) ||
																				"value" !==
																					m.kind
																			)
																				if (
																					"array" ===
																						y.kind &&
																					"value" ===
																						m.kind
																				)
																					a.omitTypeAnnotations ||
																						(c =
																							new p(
																								y,
																								c
																							));
																				else if (
																					"color" !==
																						y.kind ||
																					("value" !==
																						m.kind &&
																						"string" !==
																							m.kind)
																				) {
																					if (
																						s.checkSubtype(
																							s.expectedType,
																							c.type
																						)
																					)
																						return null;
																				} else
																					a.omitTypeAnnotations ||
																						(c =
																							new d(
																								y,
																								[
																									c,
																								]
																							));
																			else
																				a.omitTypeAnnotations ||
																					(c =
																						new h(
																							y,
																							[
																								c,
																							]
																						));
																		}
																		if (
																			!(
																				c instanceof
																				f
																			) &&
																			(function (
																				e
																			) {
																				var t =
																						i(
																							42
																						).CompoundExpression,
																					n =
																						i(
																							84
																						),
																					r =
																						n.isGlobalPropertyConstant,
																					o =
																						n.isFeatureConstant;
																				if (
																					e instanceof
																					i(
																						85
																					)
																				)
																					return !1;
																				if (
																					e instanceof
																						t &&
																					"error" ===
																						e.name
																				)
																					return !1;
																				var a =
																					!0;
																				return (
																					e.eachChild(
																						function (
																							e
																						) {
																							e instanceof
																								f ||
																								(a =
																									!1);
																						}
																					),
																					!!a &&
																						o(
																							e
																						) &&
																						r(
																							e,
																							[
																								"zoom",
																								"heatmap-density",
																							]
																						)
																				);
																			})(
																				c
																			)
																		) {
																			var v =
																				new (i(
																					55
																				))();
																			try {
																				c =
																					new f(
																						c.type,
																						c.evaluate(
																							v
																						)
																					);
																			} catch (e) {
																				return (
																					s.error(
																						e.message
																					),
																					null
																				);
																			}
																		}
																		return c;
																	}
																	return s.error(
																		'Unknown expression "'.concat(
																			l,
																			'". If you wanted a literal array, use ["literal", [...]].'
																		),
																		0
																	);
																}
																return void 0 ===
																	e
																	? s.error(
																			"'undefined' value invalid. Use null instead."
																	  )
																	: "object" ===
																	  o(e)
																	? s.error(
																			'Bare objects invalid. Use ["literal", {...}] instead.'
																	  )
																	: s.error(
																			"Expected an array, but found ".concat(
																				o(
																					e
																				),
																				" instead."
																			)
																	  );
															},
														},
														{
															key: "concat",
															value: function (
																t,
																n,
																r
															) {
																var i =
																		"number" ==
																		typeof t
																			? this.path.concat(
																					t
																			  )
																			: this
																					.path,
																	o = r
																		? this.scope.concat(
																				r
																		  )
																		: this
																				.scope;
																return new e(
																	this.registry,
																	i,
																	n || null,
																	o,
																	this.errors
																);
															},
														},
														{
															key: "error",
															value: function (
																e
															) {
																for (
																	var t =
																			arguments.length,
																		n =
																			new Array(
																				t >
																				1
																					? t -
																					  1
																					: 0
																			),
																		r = 1;
																	r < t;
																	r++
																)
																	n[r - 1] =
																		arguments[
																			r
																		];
																var i = ""
																	.concat(
																		this.key
																	)
																	.concat(
																		n
																			.map(
																				function (
																					e
																				) {
																					return "[".concat(
																						e,
																						"]"
																					);
																				}
																			)
																			.join(
																				""
																			)
																	);
																this.errors.push(
																	new c(i, e)
																);
															},
														},
														{
															key: "checkSubtype",
															value: function (
																e,
																t
															) {
																var n = u(e, t);
																return (
																	n &&
																		this.error(
																			n
																		),
																	n
																);
															},
														},
													]) && s(t.prototype, n),
													e
												);
											})();
										e.exports = y;
									},
									function (e, t) {
										function n(e, t) {
											return (
												(function (e) {
													if (Array.isArray(e))
														return e;
												})(e) ||
												(function (e, t) {
													var n = [],
														r = !0,
														i = !1,
														a = void 0;
													try {
														for (
															var s,
																l = (0,
																o.default)(e);
															!(r = (s = l.next())
																.done) &&
															(n.push(s.value),
															!t ||
																n.length !== t);
															r = !0
														);
													} catch (e) {
														(i = !0), (a = e);
													} finally {
														try {
															r ||
																null ==
																	l.return ||
																l.return();
														} finally {
															if (i) throw a;
														}
													}
													return n;
												})(e, t) ||
												(function () {
													throw new TypeError(
														"Invalid attempt to destructure non-iterable instance"
													);
												})()
											);
										}
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = (function () {
											function e(t) {
												var r =
													arguments.length > 1 &&
													void 0 !== arguments[1]
														? arguments[1]
														: [];
												!(function (e, t) {
													if (!(e instanceof t))
														throw new TypeError(
															"Cannot call a class as a function"
														);
												})(this, e),
													(this.parent = t),
													(this.bindings = {});
												var i = !0,
													a = !1,
													s = void 0;
												try {
													for (
														var l,
															u = (0, o.default)(
																r
															);
														!(i = (l = u.next())
															.done);
														i = !0
													) {
														var c = n(l.value, 2),
															f = c[0],
															h = c[1];
														this.bindings[f] = h;
													}
												} catch (e) {
													(a = !0), (s = e);
												} finally {
													try {
														i ||
															null == u.return ||
															u.return();
													} finally {
														if (a) throw s;
													}
												}
											}
											var t, i;
											return (
												(t = e),
												(i = [
													{
														key: "concat",
														value: function (t) {
															return new e(
																this,
																t
															);
														},
													},
													{
														key: "get",
														value: function (e) {
															if (
																this.bindings[e]
															)
																return this
																	.bindings[
																	e
																];
															if (this.parent)
																return this.parent.get(
																	e
																);
															throw new Error(
																"".concat(
																	e,
																	" not found in scope."
																)
															);
														},
													},
													{
														key: "has",
														value: function (e) {
															return (
																!!this.bindings[
																	e
																] ||
																(!!this
																	.parent &&
																	this.parent.has(
																		e
																	))
															);
														},
													},
												]) && r(t.prototype, i),
												e
											);
										})();
										e.exports = i;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(25),
											o = i.isValue,
											a = i.typeOf,
											s = (function () {
												function e(t, n) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.type = t),
														(this.value = n);
												}
												var t, n, i;
												return (
													(t = e),
													(i = [
														{
															key: "parse",
															value: function (
																t,
																n
															) {
																if (
																	2 !==
																	t.length
																)
																	return n.error(
																		"'literal' expression requires exactly one argument, but found ".concat(
																			t.length -
																				1,
																			" instead."
																		)
																	);
																if (!o(t[1]))
																	return n.error(
																		"invalid value"
																	);
																var r = t[1],
																	i = a(r),
																	s =
																		n.expectedType;
																return (
																	"array" !==
																		i.kind ||
																		0 !==
																			i.N ||
																		!s ||
																		"array" !==
																			s.kind ||
																		("number" ==
																			typeof s.N &&
																			0 !==
																				s.N) ||
																		(i = s),
																	new e(i, r)
																);
															},
														},
													]),
													(n = [
														{
															key: "evaluate",
															value: function () {
																return this
																	.value;
															},
														},
														{
															key: "eachChild",
															value: function () {},
														},
														{
															key: "possibleOutputs",
															value: function () {
																return [
																	this.value,
																];
															},
														},
													]) && r(t.prototype, n),
													i && r(t, i),
													e
												);
											})();
										e.exports = s;
									},
									function (e, t) {
										var n = {
											transparent: [0, 0, 0, 0],
											aliceblue: [240, 248, 255, 1],
											antiquewhite: [250, 235, 215, 1],
											aqua: [0, 255, 255, 1],
											aquamarine: [127, 255, 212, 1],
											azure: [240, 255, 255, 1],
											beige: [245, 245, 220, 1],
											bisque: [255, 228, 196, 1],
											black: [0, 0, 0, 1],
											blanchedalmond: [255, 235, 205, 1],
											blue: [0, 0, 255, 1],
											blueviolet: [138, 43, 226, 1],
											brown: [165, 42, 42, 1],
											burlywood: [222, 184, 135, 1],
											cadetblue: [95, 158, 160, 1],
											chartreuse: [127, 255, 0, 1],
											chocolate: [210, 105, 30, 1],
											coral: [255, 127, 80, 1],
											cornflowerblue: [100, 149, 237, 1],
											cornsilk: [255, 248, 220, 1],
											crimson: [220, 20, 60, 1],
											cyan: [0, 255, 255, 1],
											darkblue: [0, 0, 139, 1],
											darkcyan: [0, 139, 139, 1],
											darkgoldenrod: [184, 134, 11, 1],
											darkgray: [169, 169, 169, 1],
											darkgreen: [0, 100, 0, 1],
											darkgrey: [169, 169, 169, 1],
											darkkhaki: [189, 183, 107, 1],
											darkmagenta: [139, 0, 139, 1],
											darkolivegreen: [85, 107, 47, 1],
											darkorange: [255, 140, 0, 1],
											darkorchid: [153, 50, 204, 1],
											darkred: [139, 0, 0, 1],
											darksalmon: [233, 150, 122, 1],
											darkseagreen: [143, 188, 143, 1],
											darkslateblue: [72, 61, 139, 1],
											darkslategray: [47, 79, 79, 1],
											darkslategrey: [47, 79, 79, 1],
											darkturquoise: [0, 206, 209, 1],
											darkviolet: [148, 0, 211, 1],
											deeppink: [255, 20, 147, 1],
											deepskyblue: [0, 191, 255, 1],
											dimgray: [105, 105, 105, 1],
											dimgrey: [105, 105, 105, 1],
											dodgerblue: [30, 144, 255, 1],
											firebrick: [178, 34, 34, 1],
											floralwhite: [255, 250, 240, 1],
											forestgreen: [34, 139, 34, 1],
											fuchsia: [255, 0, 255, 1],
											gainsboro: [220, 220, 220, 1],
											ghostwhite: [248, 248, 255, 1],
											gold: [255, 215, 0, 1],
											goldenrod: [218, 165, 32, 1],
											gray: [128, 128, 128, 1],
											green: [0, 128, 0, 1],
											greenyellow: [173, 255, 47, 1],
											grey: [128, 128, 128, 1],
											honeydew: [240, 255, 240, 1],
											hotpink: [255, 105, 180, 1],
											indianred: [205, 92, 92, 1],
											indigo: [75, 0, 130, 1],
											ivory: [255, 255, 240, 1],
											khaki: [240, 230, 140, 1],
											lavender: [230, 230, 250, 1],
											lavenderblush: [255, 240, 245, 1],
											lawngreen: [124, 252, 0, 1],
											lemonchiffon: [255, 250, 205, 1],
											lightblue: [173, 216, 230, 1],
											lightcoral: [240, 128, 128, 1],
											lightcyan: [224, 255, 255, 1],
											lightgoldenrodyellow: [
												250, 250, 210, 1,
											],
											lightgray: [211, 211, 211, 1],
											lightgreen: [144, 238, 144, 1],
											lightgrey: [211, 211, 211, 1],
											lightpink: [255, 182, 193, 1],
											lightsalmon: [255, 160, 122, 1],
											lightseagreen: [32, 178, 170, 1],
											lightskyblue: [135, 206, 250, 1],
											lightslategray: [119, 136, 153, 1],
											lightslategrey: [119, 136, 153, 1],
											lightsteelblue: [176, 196, 222, 1],
											lightyellow: [255, 255, 224, 1],
											lime: [0, 255, 0, 1],
											limegreen: [50, 205, 50, 1],
											linen: [250, 240, 230, 1],
											magenta: [255, 0, 255, 1],
											maroon: [128, 0, 0, 1],
											mediumaquamarine: [
												102, 205, 170, 1,
											],
											mediumblue: [0, 0, 205, 1],
											mediumorchid: [186, 85, 211, 1],
											mediumpurple: [147, 112, 219, 1],
											mediumseagreen: [60, 179, 113, 1],
											mediumslateblue: [123, 104, 238, 1],
											mediumspringgreen: [0, 250, 154, 1],
											mediumturquoise: [72, 209, 204, 1],
											mediumvioletred: [199, 21, 133, 1],
											midnightblue: [25, 25, 112, 1],
											mintcream: [245, 255, 250, 1],
											mistyrose: [255, 228, 225, 1],
											moccasin: [255, 228, 181, 1],
											navajowhite: [255, 222, 173, 1],
											navy: [0, 0, 128, 1],
											oldlace: [253, 245, 230, 1],
											olive: [128, 128, 0, 1],
											olivedrab: [107, 142, 35, 1],
											orange: [255, 165, 0, 1],
											orangered: [255, 69, 0, 1],
											orchid: [218, 112, 214, 1],
											palegoldenrod: [238, 232, 170, 1],
											palegreen: [152, 251, 152, 1],
											paleturquoise: [175, 238, 238, 1],
											palevioletred: [219, 112, 147, 1],
											papayawhip: [255, 239, 213, 1],
											peachpuff: [255, 218, 185, 1],
											peru: [205, 133, 63, 1],
											pink: [255, 192, 203, 1],
											plum: [221, 160, 221, 1],
											powderblue: [176, 224, 230, 1],
											purple: [128, 0, 128, 1],
											rebeccapurple: [102, 51, 153, 1],
											red: [255, 0, 0, 1],
											rosybrown: [188, 143, 143, 1],
											royalblue: [65, 105, 225, 1],
											saddlebrown: [139, 69, 19, 1],
											salmon: [250, 128, 114, 1],
											sandybrown: [244, 164, 96, 1],
											seagreen: [46, 139, 87, 1],
											seashell: [255, 245, 238, 1],
											sienna: [160, 82, 45, 1],
											silver: [192, 192, 192, 1],
											skyblue: [135, 206, 235, 1],
											slateblue: [106, 90, 205, 1],
											slategray: [112, 128, 144, 1],
											slategrey: [112, 128, 144, 1],
											snow: [255, 250, 250, 1],
											springgreen: [0, 255, 127, 1],
											steelblue: [70, 130, 180, 1],
											tan: [210, 180, 140, 1],
											teal: [0, 128, 128, 1],
											thistle: [216, 191, 216, 1],
											tomato: [255, 99, 71, 1],
											turquoise: [64, 224, 208, 1],
											violet: [238, 130, 238, 1],
											wheat: [245, 222, 179, 1],
											white: [255, 255, 255, 1],
											whitesmoke: [245, 245, 245, 1],
											yellow: [255, 255, 0, 1],
											yellowgreen: [154, 205, 50, 1],
										};
										function r(e) {
											return (e = Math.round(e)) < 0
												? 0
												: e > 255
												? 255
												: e;
										}
										function i(e) {
											return e < 0 ? 0 : e > 1 ? 1 : e;
										}
										function o(e) {
											return "%" === e[e.length - 1]
												? r(
														((0, T.default)(e) /
															100) *
															255
												  )
												: r((0, s.default)(e));
										}
										function a(e) {
											return "%" === e[e.length - 1]
												? i((0, T.default)(e) / 100)
												: i((0, T.default)(e));
										}
										function l(e, t, n) {
											return (
												n < 0
													? (n += 1)
													: n > 1 && (n -= 1),
												6 * n < 1
													? e + (t - e) * n * 6
													: 2 * n < 1
													? t
													: 3 * n < 2
													? e +
													  (t - e) * (2 / 3 - n) * 6
													: e
											);
										}
										try {
											t.parseCSSColor = function (e) {
												var t,
													i = e
														.replace(/ /g, "")
														.toLowerCase();
												if (i in n) return n[i].slice();
												if ("#" === i[0])
													return 4 === i.length
														? (t = (0, s.default)(
																i.substr(1),
																16
														  )) >= 0 && t <= 4095
															? [
																	((3840 &
																		t) >>
																		4) |
																		((3840 &
																			t) >>
																			8),
																	(240 & t) |
																		((240 &
																			t) >>
																			4),
																	(15 & t) |
																		((15 &
																			t) <<
																			4),
																	1,
															  ]
															: null
														: 7 === i.length &&
														  (t = (0, s.default)(
																i.substr(1),
																16
														  )) >= 0 &&
														  t <= 16777215
														? [
																(16711680 &
																	t) >>
																	16,
																(65280 & t) >>
																	8,
																255 & t,
																1,
														  ]
														: null;
												var u = i.indexOf("("),
													c = i.indexOf(")");
												if (
													-1 !== u &&
													c + 1 === i.length
												) {
													var f = i.substr(0, u),
														h = i
															.substr(
																u + 1,
																c - (u + 1)
															)
															.split(","),
														p = 1;
													switch (f) {
														case "rgba":
															if (4 !== h.length)
																return null;
															p = a(h.pop());
														case "rgb":
															return 3 !==
																h.length
																? null
																: [
																		o(h[0]),
																		o(h[1]),
																		o(h[2]),
																		p,
																  ];
														case "hsla":
															if (4 !== h.length)
																return null;
															p = a(h.pop());
														case "hsl":
															if (3 !== h.length)
																return null;
															var d =
																	((((0,
																	T.default)(
																		h[0]
																	) %
																		360) +
																		360) %
																		360) /
																	360,
																y = a(h[1]),
																m = a(h[2]),
																v =
																	m <= 0.5
																		? m *
																		  (y +
																				1)
																		: m +
																		  y -
																		  m * y,
																g = 2 * m - v;
															return [
																r(
																	255 *
																		l(
																			g,
																			v,
																			d +
																				1 /
																					3
																		)
																),
																r(
																	255 *
																		l(
																			g,
																			v,
																			d
																		)
																),
																r(
																	255 *
																		l(
																			g,
																			v,
																			d -
																				1 /
																					3
																		)
																),
																p,
															];
														default:
															return null;
													}
												}
												return null;
											};
										} catch (e) {}
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(1),
											o = n(8),
											a = o.ObjectType,
											s = o.ValueType,
											l = o.StringType,
											u = o.NumberType,
											c = o.BooleanType,
											f = n(31),
											h = n(8),
											p = h.checkSubtype,
											d = h.toString,
											v = n(25).typeOf,
											g = {
												string: l,
												number: u,
												boolean: c,
												object: a,
											},
											_ = (function () {
												function e(t, n) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.type = t),
														(this.args = n);
												}
												var t, n, o;
												return (
													(t = e),
													(o = [
														{
															key: "parse",
															value: function (
																t,
																n
															) {
																if (
																	t.length < 2
																)
																	return n.error(
																		"Expected at least one argument."
																	);
																var r = t[0];
																i(g[r], r);
																for (
																	var o =
																			g[
																				r
																			],
																		a = [],
																		l = 1;
																	l <
																	t.length;
																	l++
																) {
																	var u =
																		n.parse(
																			t[
																				l
																			],
																			l,
																			s
																		);
																	if (!u)
																		return null;
																	a.push(u);
																}
																return new e(
																	o,
																	a
																);
															},
														},
													]),
													(n = [
														{
															key: "evaluate",
															value: function (
																e
															) {
																for (
																	var t = 0;
																	t <
																	this.args
																		.length;
																	t++
																) {
																	var n =
																		this.args[
																			t
																		].evaluate(
																			e
																		);
																	if (
																		!p(
																			this
																				.type,
																			v(n)
																		)
																	)
																		return n;
																	if (
																		t ===
																		this
																			.args
																			.length -
																			1
																	)
																		throw new f(
																			"Expected value to be of type "
																				.concat(
																					d(
																						this
																							.type
																					),
																					", but found "
																				)
																				.concat(
																					d(
																						v(
																							n
																						)
																					),
																					" instead."
																				)
																		);
																}
																return (
																	i(!1), null
																);
															},
														},
														{
															key: "eachChild",
															value: function (
																e
															) {
																this.args.forEach(
																	e
																);
															},
														},
														{
															key: "possibleOutputs",
															value: function () {
																var e;
																return (e =
																	[]).concat.apply(
																	e,
																	(function (
																		e
																	) {
																		return (
																			(function (
																				e
																			) {
																				if (
																					Array.isArray(
																						e
																					)
																				) {
																					for (
																						var t = 0,
																							n =
																								new Array(
																									e.length
																								);
																						t <
																						e.length;
																						t++
																					)
																						n[
																							t
																						] =
																							e[
																								t
																							];
																					return n;
																				}
																			})(
																				e
																			) ||
																			(function (
																				e
																			) {
																				if (
																					(0,
																					y.default)(
																						Object(
																							e
																						)
																					) ||
																					"[object Arguments]" ===
																						Object.prototype.toString.call(
																							e
																						)
																				)
																					return (0,
																					m.default)(
																						e
																					);
																			})(
																				e
																			) ||
																			(function () {
																				throw new TypeError(
																					"Invalid attempt to spread non-iterable instance"
																				);
																			})()
																		);
																	})(
																		this.args.map(
																			function (
																				e
																			) {
																				return e.possibleOutputs();
																			}
																		)
																	)
																);
															},
														},
													]) && r(t.prototype, n),
													o && r(t, o),
													e
												);
											})();
										e.exports = _;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(8),
											o = i.toString,
											a = i.array,
											s = i.ValueType,
											l = i.StringType,
											u = i.NumberType,
											c = i.BooleanType,
											f = i.checkSubtype,
											h = n(25).typeOf,
											p = n(31),
											d = {
												string: l,
												number: u,
												boolean: c,
											},
											y = (function () {
												function e(t, n) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.type = t),
														(this.input = n);
												}
												var t, n, i;
												return (
													(t = e),
													(i = [
														{
															key: "parse",
															value: function (
																t,
																n
															) {
																if (
																	t.length <
																		2 ||
																	t.length > 4
																)
																	return n.error(
																		"Expected 1, 2, or 3 arguments, but found ".concat(
																			t.length -
																				1,
																			" instead."
																		)
																	);
																var r, i;
																if (
																	t.length > 2
																) {
																	var o =
																		t[1];
																	if (
																		"string" !=
																			typeof o ||
																		!(
																			o in
																			d
																		)
																	)
																		return n.error(
																			'The item type argument of "array" must be one of string, number, boolean',
																			1
																		);
																	r = d[o];
																} else r = s;
																if (
																	t.length > 3
																) {
																	if (
																		"number" !=
																			typeof t[2] ||
																		t[2] <
																			0 ||
																		t[2] !==
																			Math.floor(
																				t[2]
																			)
																	)
																		return n.error(
																			'The length argument to "array" must be a positive integer literal',
																			2
																		);
																	i = t[2];
																}
																var l = a(r, i),
																	u = n.parse(
																		t[
																			t.length -
																				1
																		],
																		t.length -
																			1,
																		s
																	);
																return u
																	? new e(
																			l,
																			u
																	  )
																	: null;
															},
														},
													]),
													(n = [
														{
															key: "evaluate",
															value: function (
																e
															) {
																var t =
																	this.input.evaluate(
																		e
																	);
																if (
																	f(
																		this
																			.type,
																		h(t)
																	)
																)
																	throw new p(
																		"Expected value to be of type "
																			.concat(
																				o(
																					this
																						.type
																				),
																				", but found "
																			)
																			.concat(
																				o(
																					h(
																						t
																					)
																				),
																				" instead."
																			)
																	);
																return t;
															},
														},
														{
															key: "eachChild",
															value: function (
																e
															) {
																e(this.input);
															},
														},
														{
															key: "possibleOutputs",
															value: function () {
																return this.input.possibleOutputs();
															},
														},
													]) && r(t.prototype, n),
													i && r(t, i),
													e
												);
											})();
										e.exports = y;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(1),
											a = n(8),
											s = a.ColorType,
											l = a.ValueType,
											u = a.NumberType,
											c = n(25),
											f = c.Color,
											h = c.validateRGBA,
											p = n(31),
											v = {
												"to-number": u,
												"to-color": s,
											},
											g = (function () {
												function e(t, n) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.type = t),
														(this.args = n);
												}
												var t, n, a;
												return (
													(t = e),
													(a = [
														{
															key: "parse",
															value: function (
																t,
																n
															) {
																if (
																	t.length < 2
																)
																	return n.error(
																		"Expected at least one argument."
																	);
																var r = t[0];
																i(v[r], r);
																for (
																	var o =
																			v[
																				r
																			],
																		a = [],
																		s = 1;
																	s <
																	t.length;
																	s++
																) {
																	var u =
																		n.parse(
																			t[
																				s
																			],
																			s,
																			l
																		);
																	if (!u)
																		return null;
																	a.push(u);
																}
																return new e(
																	o,
																	a
																);
															},
														},
													]),
													(n = [
														{
															key: "evaluate",
															value: function (
																e
															) {
																if (
																	"color" ===
																	this.type
																		.kind
																) {
																	var t,
																		n,
																		r = !0,
																		i = !1,
																		a =
																			void 0;
																	try {
																		for (
																			var s,
																				l =
																					(0,
																					o.default)(
																						this
																							.args
																					);
																			!(r =
																				(s =
																					l.next())
																					.done);
																			r =
																				!0
																		)
																			if (
																				((t =
																					s.value.evaluate(
																						e
																					)),
																				(n =
																					null),
																				"string" ==
																					typeof t)
																			) {
																				var u =
																					e.parseColor(
																						t
																					);
																				if (
																					u
																				)
																					return u;
																			} else if (
																				Array.isArray(
																					t
																				) &&
																				!(n =
																					t.length <
																						3 ||
																					t.length >
																						4
																						? "Invalid rbga value ".concat(
																								(0,
																								d.default)(
																									t
																								),
																								": expected an array containing either three or four numeric values."
																						  )
																						: h(
																								t[0],
																								t[1],
																								t[2],
																								t[3]
																						  ))
																			)
																				return new f(
																					t[0] /
																						255,
																					t[1] /
																						255,
																					t[2] /
																						255,
																					t[3]
																				);
																	} catch (e) {
																		(i =
																			!0),
																			(a =
																				e);
																	} finally {
																		try {
																			r ||
																				null ==
																					l.return ||
																				l.return();
																		} finally {
																			if (
																				i
																			)
																				throw a;
																		}
																	}
																	throw new p(
																		n ||
																			"Could not parse color from value '".concat(
																				"string" ==
																					typeof t
																					? t
																					: (0,
																					  d.default)(
																							t
																					  ),
																				"'"
																			)
																	);
																}
																var c = null,
																	y = !0,
																	m = !1,
																	v = void 0;
																try {
																	for (
																		var g,
																			_ =
																				(0,
																				o.default)(
																					this
																						.args
																				);
																		!(y =
																			(g =
																				_.next())
																				.done);
																		y = !0
																	)
																		if (
																			null !==
																			(c =
																				g.value.evaluate(
																					e
																				))
																		) {
																			var b =
																				Number(
																					c
																				);
																			if (
																				!isNaN(
																					b
																				)
																			)
																				return b;
																		}
																} catch (e) {
																	(m = !0),
																		(v = e);
																} finally {
																	try {
																		y ||
																			null ==
																				_.return ||
																			_.return();
																	} finally {
																		if (m)
																			throw v;
																	}
																}
																throw new p(
																	"Could not convert ".concat(
																		(0,
																		d.default)(
																			c
																		),
																		" to number."
																	)
																);
															},
														},
														{
															key: "eachChild",
															value: function (
																e
															) {
																this.args.forEach(
																	e
																);
															},
														},
														{
															key: "possibleOutputs",
															value: function () {
																var e;
																return (e =
																	[]).concat.apply(
																	e,
																	(function (
																		e
																	) {
																		return (
																			(function (
																				e
																			) {
																				if (
																					Array.isArray(
																						e
																					)
																				) {
																					for (
																						var t = 0,
																							n =
																								new Array(
																									e.length
																								);
																						t <
																						e.length;
																						t++
																					)
																						n[
																							t
																						] =
																							e[
																								t
																							];
																					return n;
																				}
																			})(
																				e
																			) ||
																			(function (
																				e
																			) {
																				if (
																					(0,
																					y.default)(
																						Object(
																							e
																						)
																					) ||
																					"[object Arguments]" ===
																						Object.prototype.toString.call(
																							e
																						)
																				)
																					return (0,
																					m.default)(
																						e
																					);
																			})(
																				e
																			) ||
																			(function () {
																				throw new TypeError(
																					"Invalid attempt to spread non-iterable instance"
																				);
																			})()
																		);
																	})(
																		this.args.map(
																			function (
																				e
																			) {
																				return e.possibleOutputs();
																			}
																		)
																	)
																);
															},
														},
													]) && r(t.prototype, n),
													a && r(t, a),
													e
												);
											})();
										e.exports = g;
									},
									function (e, t, n) {
										var r = n(42).CompoundExpression;
										e.exports = {
											isFeatureConstant: function e(t) {
												if (t instanceof r) {
													if (
														"get" === t.name &&
														1 === t.args.length
													)
														return !1;
													if (
														"has" === t.name &&
														1 === t.args.length
													)
														return !1;
													if (
														"properties" ===
															t.name ||
														"geometry-type" ===
															t.name ||
														"id" === t.name
													)
														return !1;
													if (
														t.name.startsWith(
															"filter-"
														)
													)
														return !1;
												}
												var n = !0;
												return (
													t.eachChild(function (t) {
														n && !e(t) && (n = !1);
													}),
													n
												);
											},
											isGlobalPropertyConstant:
												function e(t, n) {
													if (
														t instanceof r &&
														n.indexOf(t.name) >= 0
													)
														return !1;
													var i = !0;
													return (
														t.eachChild(function (
															t
														) {
															i &&
																!e(t, n) &&
																(i = !1);
														}),
														i
													);
												},
										};
									},
									function (e, t) {
										function n(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var r = (function () {
											function e(t, n) {
												!(function (e, t) {
													if (!(e instanceof t))
														throw new TypeError(
															"Cannot call a class as a function"
														);
												})(this, e),
													(this.type = n),
													(this.name = t);
											}
											var t, r, i;
											return (
												(t = e),
												(i = [
													{
														key: "parse",
														value: function (t, n) {
															if (
																2 !==
																	t.length ||
																"string" !=
																	typeof t[1]
															)
																return n.error(
																	"'var' expression requires exactly one string literal argument."
																);
															var r = t[1];
															return n.scope.has(
																r
															)
																? new e(
																		r,
																		n.scope.get(
																			r
																		).type
																  )
																: n.error(
																		'Unknown variable "'
																			.concat(
																				r,
																				'". Make sure "'
																			)
																			.concat(
																				r,
																				'" has been bound in an enclosing "let" expression before using it.'
																			),
																		1
																  );
														},
													},
												]),
												(r = [
													{
														key: "evaluate",
														value: function (e) {
															return e.scope
																.get(this.name)
																.evaluate(e);
														},
													},
													{
														key: "eachChild",
														value: function () {},
													},
													{
														key: "possibleOutputs",
														value: function () {
															return [void 0];
														},
													},
												]) && n(t.prototype, r),
												i && n(t, i),
												e
											);
										})();
										e.exports = r;
									},
									function (e, t, n) {
										function r(e) {
											if (
												(0, y.default)(Object(e)) ||
												"[object Arguments]" ===
													Object.prototype.toString.call(
														e
													)
											)
												return (0, m.default)(e);
										}
										function i(e, t) {
											return (
												s(e) ||
												(function (e, t) {
													var n = [],
														r = !0,
														i = !1,
														a = void 0;
													try {
														for (
															var s,
																l = (0,
																o.default)(e);
															!(r = (s = l.next())
																.done) &&
															(n.push(s.value),
															!t ||
																n.length !== t);
															r = !0
														);
													} catch (e) {
														(i = !0), (a = e);
													} finally {
														try {
															r ||
																null ==
																	l.return ||
																l.return();
														} finally {
															if (i) throw a;
														}
													}
													return n;
												})(e, t) ||
												a()
											);
										}
										function a() {
											throw new TypeError(
												"Invalid attempt to destructure non-iterable instance"
											);
										}
										function s(e) {
											if (Array.isArray(e)) return e;
										}
										function l(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var u = n(8).NumberType,
											c = n(87).findStopLessThanOrEqualTo,
											f = (function () {
												function e(t, n, r) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.type = t),
														(this.input = n),
														(this.labels = []),
														(this.outputs = []);
													var a = !0,
														s = !1,
														l = void 0;
													try {
														for (
															var u,
																c = (0,
																o.default)(r);
															!(a = (u = c.next())
																.done);
															a = !0
														) {
															var f = i(
																	u.value,
																	2
																),
																h = f[0],
																p = f[1];
															this.labels.push(h),
																this.outputs.push(
																	p
																);
														}
													} catch (e) {
														(s = !0), (l = e);
													} finally {
														try {
															a ||
																null ==
																	c.return ||
																c.return();
														} finally {
															if (s) throw l;
														}
													}
												}
												var t, n, f;
												return (
													(t = e),
													(f = [
														{
															key: "parse",
															value: function (
																t,
																n
															) {
																var i,
																	o =
																		s(
																			(i =
																				t)
																		) ||
																		r(i) ||
																		a(),
																	l = o[1],
																	c =
																		o.slice(
																			2
																		);
																if (
																	t.length -
																		1 <
																	4
																)
																	return n.error(
																		"Expected at least 4 arguments, but found only ".concat(
																			t.length -
																				1,
																			"."
																		)
																	);
																if (
																	(t.length -
																		1) %
																		2 !=
																	0
																)
																	return n.error(
																		"Expected an even number of arguments."
																	);
																if (
																	!(l =
																		n.parse(
																			l,
																			1,
																			u
																		))
																)
																	return null;
																var f = [],
																	h = null;
																n.expectedType &&
																	"value" !==
																		n
																			.expectedType
																			.kind &&
																	(h =
																		n.expectedType),
																	c.unshift(
																		-1 / 0
																	);
																for (
																	var p = 0;
																	p <
																	c.length;
																	p += 2
																) {
																	var d =
																			c[
																				p
																			],
																		y =
																			c[
																				p +
																					1
																			],
																		m =
																			p +
																			1,
																		v =
																			p +
																			2;
																	if (
																		"number" !=
																		typeof d
																	)
																		return n.error(
																			'Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',
																			m
																		);
																	if (
																		f.length &&
																		f[
																			f.length -
																				1
																		][0] >=
																			d
																	)
																		return n.error(
																			'Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',
																			m
																		);
																	var g =
																		n.parse(
																			y,
																			v,
																			h
																		);
																	if (!g)
																		return null;
																	(h =
																		h ||
																		g.type),
																		f.push([
																			d,
																			g,
																		]);
																}
																return new e(
																	h,
																	l,
																	f
																);
															},
														},
													]),
													(n = [
														{
															key: "evaluate",
															value: function (
																e
															) {
																var t =
																		this
																			.labels,
																	n =
																		this
																			.outputs;
																if (
																	1 ===
																	t.length
																)
																	return n[0].evaluate(
																		e
																	);
																var r =
																	this.input.evaluate(
																		e
																	);
																if (r <= t[0])
																	return n[0].evaluate(
																		e
																	);
																var i =
																	t.length;
																return r >=
																	t[i - 1]
																	? n[
																			i -
																				1
																	  ].evaluate(
																			e
																	  )
																	: n[
																			c(
																				t,
																				r
																			)
																	  ].evaluate(
																			e
																	  );
															},
														},
														{
															key: "eachChild",
															value: function (
																e
															) {
																e(this.input);
																var t = !0,
																	n = !1,
																	r = void 0;
																try {
																	for (
																		var i,
																			a =
																				(0,
																				o.default)(
																					this
																						.outputs
																				);
																		!(t =
																			(i =
																				a.next())
																				.done);
																		t = !0
																	)
																		e(
																			i.value
																		);
																} catch (e) {
																	(n = !0),
																		(r = e);
																} finally {
																	try {
																		t ||
																			null ==
																				a.return ||
																			a.return();
																	} finally {
																		if (n)
																			throw r;
																	}
																}
															},
														},
														{
															key: "possibleOutputs",
															value: function () {
																var e;
																return (e =
																	[]).concat.apply(
																	e,
																	(function (
																		e
																	) {
																		return (
																			(function (
																				e
																			) {
																				if (
																					Array.isArray(
																						e
																					)
																				) {
																					for (
																						var t = 0,
																							n =
																								new Array(
																									e.length
																								);
																						t <
																						e.length;
																						t++
																					)
																						n[
																							t
																						] =
																							e[
																								t
																							];
																					return n;
																				}
																			})(
																				e
																			) ||
																			r(
																				e
																			) ||
																			(function () {
																				throw new TypeError(
																					"Invalid attempt to spread non-iterable instance"
																				);
																			})()
																		);
																	})(
																		this.outputs.map(
																			function (
																				e
																			) {
																				return e.possibleOutputs();
																			}
																		)
																	)
																);
															},
														},
													]) && l(t.prototype, n),
													f && l(t, f),
													e
												);
											})();
										e.exports = f;
									},
									function (e, t, n) {
										var r = n(31);
										e.exports = {
											findStopLessThanOrEqualTo:
												function (e, t) {
													for (
														var n,
															i,
															o = 0,
															a = e.length - 1,
															s = 0;
														o <= a;

													) {
														if (
															((n =
																e[
																	(s =
																		Math.floor(
																			(o +
																				a) /
																				2
																		))
																]),
															(i = e[s + 1]),
															t === n ||
																(t > n &&
																	t < i))
														)
															return s;
														if (n < t) o = s + 1;
														else {
															if (!(n > t))
																throw new r(
																	"Input is not a number."
																);
															a = s - 1;
														}
													}
													return Math.max(s - 1, 0);
												},
										};
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(1),
											a = n(8),
											s = a.checkSubtype,
											l = a.ValueType,
											u = (function () {
												function e(t, n) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.type = t),
														(this.args = n);
												}
												var t, n, a;
												return (
													(t = e),
													(a = [
														{
															key: "parse",
															value: function (
																t,
																n
															) {
																if (
																	t.length < 2
																)
																	return n.error(
																		"Expectected at least one argument."
																	);
																var r = null,
																	a =
																		n.expectedType;
																a &&
																	"value" !==
																		a.kind &&
																	(r = a);
																var u = [],
																	c = !0,
																	f = !1,
																	h = void 0;
																try {
																	for (
																		var p,
																			d =
																				(0,
																				o.default)(
																					t.slice(
																						1
																					)
																				);
																		!(c =
																			(p =
																				d.next())
																				.done);
																		c = !0
																	) {
																		var y =
																				p.value,
																			m =
																				n.parse(
																					y,
																					1 +
																						u.length,
																					r,
																					void 0,
																					{
																						omitTypeAnnotations:
																							!0,
																					}
																				);
																		if (!m)
																			return null;
																		(r =
																			r ||
																			m.type),
																			u.push(
																				m
																			);
																	}
																} catch (e) {
																	(f = !0),
																		(h = e);
																} finally {
																	try {
																		c ||
																			null ==
																				d.return ||
																			d.return();
																	} finally {
																		if (f)
																			throw h;
																	}
																}
																return (
																	i(r),
																	new e(
																		a &&
																		u.some(
																			function (
																				e
																			) {
																				return s(
																					a,
																					e.type
																				);
																			}
																		)
																			? l
																			: r,
																		u
																	)
																);
															},
														},
													]),
													(n = [
														{
															key: "evaluate",
															value: function (
																e
															) {
																var t = null,
																	n = !0,
																	r = !1,
																	i = void 0;
																try {
																	for (
																		var a,
																			s =
																				(0,
																				o.default)(
																					this
																						.args
																				);
																		!(n =
																			(a =
																				s.next())
																				.done) &&
																		null ===
																			(t =
																				a.value.evaluate(
																					e
																				));
																		n = !0
																	);
																} catch (e) {
																	(r = !0),
																		(i = e);
																} finally {
																	try {
																		n ||
																			null ==
																				s.return ||
																			s.return();
																	} finally {
																		if (r)
																			throw i;
																	}
																}
																return t;
															},
														},
														{
															key: "eachChild",
															value: function (
																e
															) {
																this.args.forEach(
																	e
																);
															},
														},
														{
															key: "possibleOutputs",
															value: function () {
																var e;
																return (e =
																	[]).concat.apply(
																	e,
																	(function (
																		e
																	) {
																		return (
																			(function (
																				e
																			) {
																				if (
																					Array.isArray(
																						e
																					)
																				) {
																					for (
																						var t = 0,
																							n =
																								new Array(
																									e.length
																								);
																						t <
																						e.length;
																						t++
																					)
																						n[
																							t
																						] =
																							e[
																								t
																							];
																					return n;
																				}
																			})(
																				e
																			) ||
																			(function (
																				e
																			) {
																				if (
																					(0,
																					y.default)(
																						Object(
																							e
																						)
																					) ||
																					"[object Arguments]" ===
																						Object.prototype.toString.call(
																							e
																						)
																				)
																					return (0,
																					m.default)(
																						e
																					);
																			})(
																				e
																			) ||
																			(function () {
																				throw new TypeError(
																					"Invalid attempt to spread non-iterable instance"
																				);
																			})()
																		);
																	})(
																		this.args.map(
																			function (
																				e
																			) {
																				return e.possibleOutputs();
																			}
																		)
																	)
																);
															},
														},
													]) && r(t.prototype, n),
													a && r(t, a),
													e
												);
											})();
										e.exports = u;
									},
									function (e, n) {
										function i(e) {
											return (i =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var l = (function () {
											function e(t, n) {
												!(function (e, t) {
													if (!(e instanceof t))
														throw new TypeError(
															"Cannot call a class as a function"
														);
												})(this, e),
													(this.type = n.type),
													(this.bindings = [].concat(
														t
													)),
													(this.result = n);
											}
											var t, n, r;
											return (
												(t = e),
												(r = [
													{
														key: "parse",
														value: function (t, n) {
															if (t.length < 4)
																return n.error(
																	"Expected at least 3 arguments, but found ".concat(
																		t.length -
																			1,
																		" instead."
																	)
																);
															for (
																var r = [],
																	o = 1;
																o <
																t.length - 1;
																o += 2
															) {
																var a = t[o];
																if (
																	"string" !=
																	typeof a
																)
																	return n.error(
																		"Expected string, but found ".concat(
																			i(
																				a
																			),
																			" instead."
																		),
																		o
																	);
																if (
																	/[^a-zA-Z0-9_]/.test(
																		a
																	)
																)
																	return n.error(
																		"Variable names must contain only alphanumeric characters or '_'.",
																		o
																	);
																var s = n.parse(
																	t[o + 1],
																	o + 1
																);
																if (!s)
																	return null;
																r.push([a, s]);
															}
															var l = n.parse(
																t[t.length - 1],
																t.length - 1,
																void 0,
																r
															);
															return l
																? new e(r, l)
																: null;
														},
													},
												]),
												(n = [
													{
														key: "evaluate",
														value: function (e) {
															e.pushScope(
																this.bindings
															);
															var t =
																this.result.evaluate(
																	e
																);
															return (
																e.popScope(), t
															);
														},
													},
													{
														key: "eachChild",
														value: function (e) {
															var t = !0,
																n = !1,
																r = void 0;
															try {
																for (
																	var i,
																		a = (0,
																		o.default)(
																			this
																				.bindings
																		);
																	!(t = (i =
																		a.next())
																		.done);
																	t = !0
																)
																	e(
																		i
																			.value[1]
																	);
															} catch (e) {
																(n = !0),
																	(r = e);
															} finally {
																try {
																	t ||
																		null ==
																			a.return ||
																		a.return();
																} finally {
																	if (n)
																		throw r;
																}
															}
															e(this.result);
														},
													},
													{
														key: "possibleOutputs",
														value: function () {
															return this.result.possibleOutputs();
														},
													},
												]) && s(t.prototype, n),
												r && s(t, r),
												e
											);
										})();
										e.exports = l;
									},
									function (e, n, i) {
										function s(e) {
											return (
												(function (e) {
													if (Array.isArray(e)) {
														for (
															var t = 0,
																n = new Array(
																	e.length
																);
															t < e.length;
															t++
														)
															n[t] = e[t];
														return n;
													}
												})(e) ||
												(function (e) {
													if (
														(0, y.default)(
															Object(e)
														) ||
														"[object Arguments]" ===
															Object.prototype.toString.call(
																e
															)
													)
														return (0, m.default)(
															e
														);
												})(e) ||
												(function () {
													throw new TypeError(
														"Invalid attempt to spread non-iterable instance"
													);
												})()
											);
										}
										function l(e) {
											return (l =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function u(e, t) {
											return (
												(function (e) {
													if (Array.isArray(e))
														return e;
												})(e) ||
												(function (e, t) {
													var n = [],
														r = !0,
														i = !1,
														a = void 0;
													try {
														for (
															var s,
																l = (0,
																o.default)(e);
															!(r = (s = l.next())
																.done) &&
															(n.push(s.value),
															!t ||
																n.length !== t);
															r = !0
														);
													} catch (e) {
														(i = !0), (a = e);
													} finally {
														try {
															r ||
																null ==
																	l.return ||
																l.return();
														} finally {
															if (i) throw a;
														}
													}
													return n;
												})(e, t) ||
												(function () {
													throw new TypeError(
														"Invalid attempt to destructure non-iterable instance"
													);
												})()
											);
										}
										var c = i(8),
											f = c.NumberType,
											h = c.StringType,
											p = c.BooleanType,
											v = c.ColorType,
											g = c.ObjectType,
											_ = c.ValueType,
											b = c.ErrorType,
											x = c.array,
											w = c.toString,
											C = i(25),
											T = C.typeOf,
											k = C.Color,
											P = C.validateRGBA,
											E = i(42),
											S = E.CompoundExpression,
											A = E.varargs,
											M = i(31),
											I = i(89),
											L = i(85),
											D = i(79),
											O = i(81),
											z = i(82),
											R = i(83),
											B = i(142),
											j = i(143),
											F = i(144),
											N = i(86),
											V = i(56),
											U = i(88),
											H = i(145),
											G = {
												"==": H.Equals,
												"!=": H.NotEquals,
												array: z,
												at: B,
												boolean: O,
												case: F,
												coalesce: U,
												interpolate: V,
												let: I,
												literal: D,
												match: j,
												number: O,
												object: O,
												step: N,
												string: O,
												"to-color": R,
												"to-number": R,
												var: L,
											};
										function q(e, t) {
											var n = u(t, 4),
												r = n[0],
												i = n[1],
												o = n[2],
												a = n[3];
											(r = r.evaluate(e)),
												(i = i.evaluate(e)),
												(o = o.evaluate(e));
											var s = a ? a.evaluate(e) : 1,
												l = P(r, i, o, s);
											if (l) throw new M(l);
											return new k(
												(r / 255) * s,
												(i / 255) * s,
												(o / 255) * s,
												s
											);
										}
										function W(e, t) {
											return e in t;
										}
										function Z(e, t) {
											var n = t[e];
											return void 0 === n ? null : n;
										}
										function Y(e, t) {
											return u(t, 1)[0].evaluate(e)
												.length;
										}
										function K(e, t) {
											var n = u(t, 2),
												r = n[0],
												i = n[1];
											return (
												r.evaluate(e) < i.evaluate(e)
											);
										}
										function X(e, t) {
											var n = u(t, 2),
												r = n[0],
												i = n[1];
											return (
												r.evaluate(e) > i.evaluate(e)
											);
										}
										function J(e, t) {
											var n = u(t, 2),
												r = n[0],
												i = n[1];
											return (
												r.evaluate(e) <= i.evaluate(e)
											);
										}
										function Q(e, t) {
											var n = u(t, 2),
												r = n[0],
												i = n[1];
											return (
												r.evaluate(e) >= i.evaluate(e)
											);
										}
										S.register(G, {
											error: [
												b,
												[h],
												function (e, t) {
													var n = u(t, 1)[0];
													throw new M(n.evaluate(e));
												},
											],
											typeof: [
												h,
												[_],
												function (e, t) {
													var n = u(t, 1)[0];
													return w(T(n.evaluate(e)));
												},
											],
											"to-string": [
												h,
												[_],
												function (e, t) {
													var n = u(t, 1)[0],
														r = l(
															(n = n.evaluate(e))
														);
													return null === n ||
														"string" === r ||
														"number" === r ||
														"boolean" === r
														? String(n)
														: n instanceof k
														? n.toString()
														: (0, d.default)(n);
												},
											],
											"to-boolean": [
												p,
												[_],
												function (e, t) {
													var n = u(t, 1)[0];
													return Boolean(
														n.evaluate(e)
													);
												},
											],
											"to-rgba": [
												x(f, 4),
												[v],
												function (e, t) {
													var n = u(t, 1)[0].evaluate(
															e
														),
														r = n.r,
														i = n.g,
														o = n.b,
														a = n.a;
													return [
														(255 * r) / a,
														(255 * i) / a,
														(255 * o) / a,
														a,
													];
												},
											],
											rgb: [v, [f, f, f], q],
											rgba: [v, [f, f, f, f], q],
											length: {
												type: f,
												overloads: [
													[[h], Y],
													[[x(_)], Y],
												],
											},
											has: {
												type: p,
												overloads: [
													[
														[h],
														function (e, t) {
															return W(
																u(
																	t,
																	1
																)[0].evaluate(
																	e
																),
																e.properties()
															);
														},
													],
													[
														[h, g],
														function (e, t) {
															var n = u(t, 2),
																r = n[0],
																i = n[1];
															return W(
																r.evaluate(e),
																i.evaluate(e)
															);
														},
													],
												],
											},
											get: {
												type: _,
												overloads: [
													[
														[h],
														function (e, t) {
															return Z(
																u(
																	t,
																	1
																)[0].evaluate(
																	e
																),
																e.properties()
															);
														},
													],
													[
														[h, g],
														function (e, t) {
															var n = u(t, 2),
																r = n[0],
																i = n[1];
															return Z(
																r.evaluate(e),
																i.evaluate(e)
															);
														},
													],
												],
											},
											properties: [
												g,
												[],
												function (e) {
													return e.properties();
												},
											],
											"geometry-type": [
												h,
												[],
												function (e) {
													return e.geometryType();
												},
											],
											id: [
												_,
												[],
												function (e) {
													return e.id();
												},
											],
											zoom: [
												f,
												[],
												function (e) {
													return e.globals.zoom;
												},
											],
											"heatmap-density": [
												f,
												[],
												function (e) {
													return (
														e.globals
															.heatmapDensity || 0
													);
												},
											],
											"+": [
												f,
												A(f),
												function (e, t) {
													var n = 0,
														r = !0,
														i = !1,
														a = void 0;
													try {
														for (
															var s,
																l = (0,
																o.default)(t);
															!(r = (s = l.next())
																.done);
															r = !0
														)
															n +=
																s.value.evaluate(
																	e
																);
													} catch (e) {
														(i = !0), (a = e);
													} finally {
														try {
															r ||
																null ==
																	l.return ||
																l.return();
														} finally {
															if (i) throw a;
														}
													}
													return n;
												},
											],
											"*": [
												f,
												A(f),
												function (e, t) {
													var n = 1,
														r = !0,
														i = !1,
														a = void 0;
													try {
														for (
															var s,
																l = (0,
																o.default)(t);
															!(r = (s = l.next())
																.done);
															r = !0
														)
															n *=
																s.value.evaluate(
																	e
																);
													} catch (e) {
														(i = !0), (a = e);
													} finally {
														try {
															r ||
																null ==
																	l.return ||
																l.return();
														} finally {
															if (i) throw a;
														}
													}
													return n;
												},
											],
											"-": {
												type: f,
												overloads: [
													[
														[f, f],
														function (e, t) {
															var n = u(t, 2),
																r = n[0],
																i = n[1];
															return (
																r.evaluate(e) -
																i.evaluate(e)
															);
														},
													],
													[
														[f],
														function (e, t) {
															return -u(
																t,
																1
															)[0].evaluate(e);
														},
													],
												],
											},
											"/": [
												f,
												[f, f],
												function (e, t) {
													var n = u(t, 2),
														r = n[0],
														i = n[1];
													return (
														r.evaluate(e) /
														i.evaluate(e)
													);
												},
											],
											"%": [
												f,
												[f, f],
												function (e, t) {
													var n = u(t, 2),
														r = n[0],
														i = n[1];
													return (
														r.evaluate(e) %
														i.evaluate(e)
													);
												},
											],
											ln2: [
												f,
												[],
												function () {
													return Math.LN2;
												},
											],
											pi: [
												f,
												[],
												function () {
													return Math.PI;
												},
											],
											e: [
												f,
												[],
												function () {
													return Math.E;
												},
											],
											"^": [
												f,
												[f, f],
												function (e, t) {
													var n = u(t, 2),
														r = n[0],
														i = n[1];
													return Math.pow(
														r.evaluate(e),
														i.evaluate(e)
													);
												},
											],
											sqrt: [
												f,
												[f],
												function (e, t) {
													var n = u(t, 1)[0];
													return Math.sqrt(
														n.evaluate(e)
													);
												},
											],
											log10: [
												f,
												[f],
												function (e, t) {
													var n = u(t, 1)[0];
													return Math.log10(
														n.evaluate(e)
													);
												},
											],
											ln: [
												f,
												[f],
												function (e, t) {
													var n = u(t, 1)[0];
													return Math.log(
														n.evaluate(e)
													);
												},
											],
											log2: [
												f,
												[f],
												function (e, t) {
													var n = u(t, 1)[0];
													return Math.log2(
														n.evaluate(e)
													);
												},
											],
											sin: [
												f,
												[f],
												function (e, t) {
													var n = u(t, 1)[0];
													return Math.sin(
														n.evaluate(e)
													);
												},
											],
											cos: [
												f,
												[f],
												function (e, t) {
													var n = u(t, 1)[0];
													return Math.cos(
														n.evaluate(e)
													);
												},
											],
											tan: [
												f,
												[f],
												function (e, t) {
													var n = u(t, 1)[0];
													return Math.tan(
														n.evaluate(e)
													);
												},
											],
											asin: [
												f,
												[f],
												function (e, t) {
													var n = u(t, 1)[0];
													return Math.asin(
														n.evaluate(e)
													);
												},
											],
											acos: [
												f,
												[f],
												function (e, t) {
													var n = u(t, 1)[0];
													return Math.acos(
														n.evaluate(e)
													);
												},
											],
											atan: [
												f,
												[f],
												function (e, t) {
													var n = u(t, 1)[0];
													return Math.atan(
														n.evaluate(e)
													);
												},
											],
											min: [
												f,
												A(f),
												function (e, t) {
													return Math.min.apply(
														Math,
														s(
															t.map(function (t) {
																return t.evaluate(
																	e
																);
															})
														)
													);
												},
											],
											max: [
												f,
												A(f),
												function (e, t) {
													return Math.max.apply(
														Math,
														s(
															t.map(function (t) {
																return t.evaluate(
																	e
																);
															})
														)
													);
												},
											],
											"filter-==": [
												p,
												[h, _],
												function (e, t) {
													var n = u(t, 2),
														r = n[0],
														i = n[1];
													return (
														e.properties()[
															r.value
														] === i.value
													);
												},
											],
											"filter-id-==": [
												p,
												[_],
												function (e, t) {
													var n = u(t, 1)[0];
													return e.id() === n.value;
												},
											],
											"filter-type-==": [
												p,
												[h],
												function (e, t) {
													var n = u(t, 1)[0];
													return (
														e.geometryType() ===
														n.value
													);
												},
											],
											"filter-<": [
												p,
												[h, _],
												function (e, t) {
													var n = u(t, 2),
														r = n[0],
														i = n[1],
														o =
															e.properties()[
																r.value
															],
														a = i.value;
													return (
														l(o) === l(a) && o < a
													);
												},
											],
											"filter-id-<": [
												p,
												[_],
												function (e, t) {
													var n = u(t, 1)[0],
														r = e.id(),
														i = n.value;
													return (
														l(r) === l(i) && r < i
													);
												},
											],
											"filter->": [
												p,
												[h, _],
												function (e, t) {
													var n = u(t, 2),
														r = n[0],
														i = n[1],
														o =
															e.properties()[
																r.value
															],
														a = i.value;
													return (
														l(o) === l(a) && o > a
													);
												},
											],
											"filter-id->": [
												p,
												[_],
												function (e, t) {
													var n = u(t, 1)[0],
														r = e.id(),
														i = n.value;
													return (
														l(r) === l(i) && r > i
													);
												},
											],
											"filter-<=": [
												p,
												[h, _],
												function (e, t) {
													var n = u(t, 2),
														r = n[0],
														i = n[1],
														o =
															e.properties()[
																r.value
															],
														a = i.value;
													return (
														l(o) === l(a) && o <= a
													);
												},
											],
											"filter-id-<=": [
												p,
												[_],
												function (e, t) {
													var n = u(t, 1)[0],
														r = e.id(),
														i = n.value;
													return (
														l(r) === l(i) && r <= i
													);
												},
											],
											"filter->=": [
												p,
												[h, _],
												function (e, t) {
													var n = u(t, 2),
														r = n[0],
														i = n[1],
														o =
															e.properties()[
																r.value
															],
														a = i.value;
													return (
														l(o) === l(a) && o >= a
													);
												},
											],
											"filter-id->=": [
												p,
												[_],
												function (e, t) {
													var n = u(t, 1)[0],
														r = e.id(),
														i = n.value;
													return (
														l(r) === l(i) && r >= i
													);
												},
											],
											"filter-has": [
												p,
												[_],
												function (e, t) {
													return (
														u(t, 1)[0].value in
														e.properties()
													);
												},
											],
											"filter-has-id": [
												p,
												[],
												function (e) {
													return null !== e.id();
												},
											],
											"filter-type-in": [
												p,
												[x(h)],
												function (e, t) {
													return (
														u(
															t,
															1
														)[0].value.indexOf(
															e.geometryType()
														) >= 0
													);
												},
											],
											"filter-id-in": [
												p,
												[x(_)],
												function (e, t) {
													return (
														u(
															t,
															1
														)[0].value.indexOf(
															e.id()
														) >= 0
													);
												},
											],
											"filter-in-small": [
												p,
												[h, x(_)],
												function (e, t) {
													var n = u(t, 2),
														r = n[0];
													return (
														n[1].value.indexOf(
															e.properties()[
																r.value
															]
														) >= 0
													);
												},
											],
											"filter-in-large": [
												p,
												[h, x(_)],
												function (e, t) {
													var n = u(t, 2),
														r = n[0],
														i = n[1];
													return (function (
														e,
														t,
														n,
														r
													) {
														for (; n <= r; ) {
															var i =
																(n + r) >> 1;
															if (t[i] === e)
																return !0;
															t[i] > e
																? (r = i - 1)
																: (n = i + 1);
														}
														return !1;
													})(
														e.properties()[r.value],
														i.value,
														0,
														i.value.length - 1
													);
												},
											],
											">": {
												type: p,
												overloads: [
													[[f, f], X],
													[[h, h], X],
												],
											},
											"<": {
												type: p,
												overloads: [
													[[f, f], K],
													[[h, h], K],
												],
											},
											">=": {
												type: p,
												overloads: [
													[[f, f], Q],
													[[h, h], Q],
												],
											},
											"<=": {
												type: p,
												overloads: [
													[[f, f], J],
													[[h, h], J],
												],
											},
											all: {
												type: p,
												overloads: [
													[
														[p, p],
														function (e, t) {
															var n = u(t, 2),
																r = n[0],
																i = n[1];
															return (
																r.evaluate(e) &&
																i.evaluate(e)
															);
														},
													],
													[
														A(p),
														function (e, t) {
															var n = !0,
																r = !1,
																i = void 0;
															try {
																for (
																	var a,
																		s = (0,
																		o.default)(
																			t
																		);
																	!(n = (a =
																		s.next())
																		.done);
																	n = !0
																)
																	if (
																		!a.value.evaluate(
																			e
																		)
																	)
																		return !1;
															} catch (e) {
																(r = !0),
																	(i = e);
															} finally {
																try {
																	n ||
																		null ==
																			s.return ||
																		s.return();
																} finally {
																	if (r)
																		throw i;
																}
															}
															return !0;
														},
													],
												],
											},
											any: {
												type: p,
												overloads: [
													[
														[p, p],
														function (e, t) {
															var n = u(t, 2),
																r = n[0],
																i = n[1];
															return (
																r.evaluate(e) ||
																i.evaluate(e)
															);
														},
													],
													[
														A(p),
														function (e, t) {
															var n = !0,
																r = !1,
																i = void 0;
															try {
																for (
																	var a,
																		s = (0,
																		o.default)(
																			t
																		);
																	!(n = (a =
																		s.next())
																		.done);
																	n = !0
																)
																	if (
																		a.value.evaluate(
																			e
																		)
																	)
																		return !0;
															} catch (e) {
																(r = !0),
																	(i = e);
															} finally {
																try {
																	n ||
																		null ==
																			s.return ||
																		s.return();
																} finally {
																	if (r)
																		throw i;
																}
															}
															return !1;
														},
													],
												],
											},
											"!": [
												p,
												[p],
												function (e, t) {
													return !u(t, 1)[0].evaluate(
														e
													);
												},
											],
											upcase: [
												h,
												[h],
												function (e, t) {
													return u(t, 1)[0]
														.evaluate(e)
														.toUpperCase();
												},
											],
											downcase: [
												h,
												[h],
												function (e, t) {
													return u(t, 1)[0]
														.evaluate(e)
														.toLowerCase();
												},
											],
											concat: [
												h,
												A(h),
												function (e, t) {
													return t
														.map(function (t) {
															return t.evaluate(
																e
															);
														})
														.join("");
												},
											],
										}),
											(e.exports = G);
									},
									function (e, t, n) {
										var r = n(7),
											i = n(17),
											o = n(29),
											a = n(43),
											s = n(92),
											l = n(93),
											u = n(24);
										e.exports = function (e) {
											var t,
												n,
												c,
												f = e.valueSpec,
												h = u(e.value.type),
												p = {},
												d =
													"categorical" !== h &&
													void 0 === e.value.property,
												y = !d,
												m =
													"array" ===
														i(e.value.stops) &&
													"array" ===
														i(e.value.stops[0]) &&
													"object" ===
														i(e.value.stops[0][0]),
												v = a({
													key: e.key,
													value: e.value,
													valueSpec:
														e.styleSpec.function,
													style: e.style,
													styleSpec: e.styleSpec,
													objectElementValidators: {
														stops: function (e) {
															if (
																"identity" === h
															)
																return [
																	new r(
																		e.key,
																		e.value,
																		'identity function may not have a "stops" property'
																	),
																];
															var t = [],
																n = e.value;
															return (
																(t = t.concat(
																	s({
																		key: e.key,
																		value: n,
																		valueSpec:
																			e.valueSpec,
																		style: e.style,
																		styleSpec:
																			e.styleSpec,
																		arrayElementValidator:
																			g,
																	})
																)),
																"array" ===
																	i(n) &&
																	0 ===
																		n.length &&
																	t.push(
																		new r(
																			e.key,
																			n,
																			"array must have at least one stop"
																		)
																	),
																t
															);
														},
														default: function (e) {
															return o({
																key: e.key,
																value: e.value,
																valueSpec: f,
																style: e.style,
																styleSpec:
																	e.styleSpec,
															});
														},
													},
												});
											return (
												"identity" === h &&
													d &&
													v.push(
														new r(
															e.key,
															e.value,
															'missing required property "property"'
														)
													),
												"identity" === h ||
													e.value.stops ||
													v.push(
														new r(
															e.key,
															e.value,
															'missing required property "stops"'
														)
													),
												"exponential" === h &&
													"piecewise-constant" ===
														e.valueSpec.function &&
													v.push(
														new r(
															e.key,
															e.value,
															"exponential functions not supported"
														)
													),
												e.styleSpec.$version >= 8 &&
													(y &&
													!e.valueSpec[
														"property-function"
													]
														? v.push(
																new r(
																	e.key,
																	e.value,
																	"property functions not supported"
																)
														  )
														: d &&
														  !e.valueSpec[
																"zoom-function"
														  ] &&
														  "heatmap-color" !==
																e.objectKey &&
														  v.push(
																new r(
																	e.key,
																	e.value,
																	"zoom functions not supported"
																)
														  )),
												("categorical" !== h && !m) ||
													void 0 !==
														e.value.property ||
													v.push(
														new r(
															e.key,
															e.value,
															'"property" property is required'
														)
													),
												v
											);
											function g(e) {
												var t = [],
													s = e.value,
													h = e.key;
												if ("array" !== i(s))
													return [
														new r(
															h,
															s,
															"array expected, ".concat(
																i(s),
																" found"
															)
														),
													];
												if (2 !== s.length)
													return [
														new r(
															h,
															s,
															"array length 2 expected, length ".concat(
																s.length,
																" found"
															)
														),
													];
												if (m) {
													if ("object" !== i(s[0]))
														return [
															new r(
																h,
																s,
																"object expected, ".concat(
																	i(s[0]),
																	" found"
																)
															),
														];
													if (void 0 === s[0].zoom)
														return [
															new r(
																h,
																s,
																"object stop key must have zoom"
															),
														];
													if (void 0 === s[0].value)
														return [
															new r(
																h,
																s,
																"object stop key must have value"
															),
														];
													if (c && c > u(s[0].zoom))
														return [
															new r(
																h,
																s[0].zoom,
																"stop zoom values must appear in ascending order"
															),
														];
													u(s[0].zoom) !== c &&
														((c = u(s[0].zoom)),
														(n = void 0),
														(p = {})),
														(t = t.concat(
															a({
																key: "".concat(
																	h,
																	"[0]"
																),
																value: s[0],
																valueSpec: {
																	zoom: {},
																},
																style: e.style,
																styleSpec:
																	e.styleSpec,
																objectElementValidators:
																	{
																		zoom: l,
																		value: _,
																	},
															})
														));
												} else
													t = t.concat(
														_(
															{
																key: "".concat(
																	h,
																	"[0]"
																),
																value: s[0],
																valueSpec: {},
																style: e.style,
																styleSpec:
																	e.styleSpec,
															},
															s
														)
													);
												return t.concat(
													o({
														key: "".concat(
															h,
															"[1]"
														),
														value: s[1],
														valueSpec: f,
														style: e.style,
														styleSpec: e.styleSpec,
													})
												);
											}
											function _(e, o) {
												var a = i(e.value),
													s = u(e.value),
													l =
														null !== e.value
															? e.value
															: o;
												if (t) {
													if (a !== t)
														return [
															new r(
																e.key,
																l,
																""
																	.concat(
																		a,
																		" stop domain type must match previous stop domain type "
																	)
																	.concat(t)
															),
														];
												} else t = a;
												if (
													"number" !== a &&
													"string" !== a &&
													"boolean" !== a
												)
													return [
														new r(
															e.key,
															l,
															"stop domain value must be a number, string, or boolean"
														),
													];
												if (
													"number" !== a &&
													"categorical" !== h
												) {
													var c =
														"number expected, ".concat(
															a,
															" found"
														);
													return (
														f[
															"property-function"
														] &&
															void 0 === h &&
															(c +=
																'\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),
														[new r(e.key, l, c)]
													);
												}
												return "categorical" !== h ||
													"number" !== a ||
													(isFinite(s) &&
														Math.floor(s) === s)
													? "categorical" !== h &&
													  "number" === a &&
													  void 0 !== n &&
													  s < n
														? [
																new r(
																	e.key,
																	l,
																	"stop domain values must appear in ascending order"
																),
														  ]
														: ((n = s),
														  "categorical" === h &&
														  s in p
																? [
																		new r(
																			e.key,
																			l,
																			"stop domain values must be unique"
																		),
																  ]
																: ((p[s] = !0),
																  []))
													: [
															new r(
																e.key,
																l,
																"integer expected, found ".concat(
																	s
																)
															),
													  ];
											}
										};
									},
									function (e, t, n) {
										var r = n(17),
											i = n(29),
											o = n(7);
										e.exports = function (e) {
											var t = e.value,
												n = e.valueSpec,
												a = e.style,
												s = e.styleSpec,
												l = e.key,
												u =
													e.arrayElementValidator ||
													i;
											if ("array" !== r(t))
												return [
													new o(
														l,
														t,
														"array expected, ".concat(
															r(t),
															" found"
														)
													),
												];
											if (
												n.length &&
												t.length !== n.length
											)
												return [
													new o(
														l,
														t,
														"array length "
															.concat(
																n.length,
																" expected, length "
															)
															.concat(
																t.length,
																" found"
															)
													),
												];
											if (
												n["min-length"] &&
												t.length < n["min-length"]
											)
												return [
													new o(
														l,
														t,
														"array length at least "
															.concat(
																n["min-length"],
																" expected, length "
															)
															.concat(
																t.length,
																" found"
															)
													),
												];
											var c = { type: n.value };
											s.$version < 7 &&
												(c.function = n.function),
												"object" === r(n.value) &&
													(c = n.value);
											for (
												var f = [], h = 0;
												h < t.length;
												h++
											)
												f = f.concat(
													u({
														array: t,
														arrayIndex: h,
														value: t[h],
														valueSpec: c,
														style: a,
														styleSpec: s,
														key: ""
															.concat(l, "[")
															.concat(h, "]"),
													})
												);
											return f;
										};
									},
									function (e, t, n) {
										var r = n(17),
											i = n(7);
										e.exports = function (e) {
											var t = e.key,
												n = e.value,
												o = e.valueSpec,
												a = r(n);
											return "number" !== a
												? [
														new i(
															t,
															n,
															"number expected, ".concat(
																a,
																" found"
															)
														),
												  ]
												: "minimum" in o &&
												  n < o.minimum
												? [
														new i(
															t,
															n,
															""
																.concat(
																	n,
																	" is less than the minimum value "
																)
																.concat(
																	o.minimum
																)
														),
												  ]
												: "maximum" in o &&
												  n > o.maximum
												? [
														new i(
															t,
															n,
															""
																.concat(
																	n,
																	" is greater than the maximum value "
																)
																.concat(
																	o.maximum
																)
														),
												  ]
												: [];
										};
									},
									function (e, t, n) {
										var r = n(7),
											i = n(30),
											o = i.createExpression,
											a = i.createPropertyExpression,
											s = n(24);
										e.exports = function (e) {
											var t = (
												"property" ===
													e.expressionContext
													? a
													: o
											)(s.deep(e.value), e.valueSpec);
											return "error" === t.result
												? t.value.map(function (t) {
														return new r(
															""
																.concat(e.key)
																.concat(t.key),
															e.value,
															t.message
														);
												  })
												: "property" ===
														e.expressionContext &&
												  "text-font" ===
														e.propertyKey &&
												  -1 !==
														t.value._styleExpression.expression
															.possibleOutputs()
															.indexOf(void 0)
												? [
														new r(
															e.key,
															e.value,
															'Invalid data expression for "text-font". Output values must be contained as literals within the expression.'
														),
												  ]
												: [];
										};
									},
									function (e, t, n) {
										var r = n(7),
											i = n(24),
											o = n(43),
											a = n(59),
											s = n(96),
											l = n(98),
											u = n(29),
											c = n(41);
										e.exports = function (e) {
											var t = [],
												n = e.value,
												f = e.key,
												h = e.style,
												p = e.styleSpec;
											n.type ||
												n.ref ||
												t.push(
													new r(
														f,
														n,
														'either "type" or "ref" is required'
													)
												);
											var d,
												y = i(n.type),
												m = i(n.ref);
											if (n.id)
												for (
													var v = i(n.id), g = 0;
													g < e.arrayIndex;
													g++
												) {
													var _ = h.layers[g];
													i(_.id) === v &&
														t.push(
															new r(
																f,
																n.id,
																'duplicate layer id "'
																	.concat(
																		n.id,
																		'", previously used at line '
																	)
																	.concat(
																		_.id
																			.__line__
																	)
															)
														);
												}
											if ("ref" in n)
												[
													"type",
													"source",
													"source-layer",
													"filter",
													"layout",
												].forEach(function (e) {
													e in n &&
														t.push(
															new r(
																f,
																n[e],
																'"'.concat(
																	e,
																	'" is prohibited for ref layers'
																)
															)
														);
												}),
													h.layers.forEach(function (
														e
													) {
														i(e.id) === m &&
															(d = e);
													}),
													d
														? d.ref
															? t.push(
																	new r(
																		f,
																		n.ref,
																		"ref cannot reference another ref layer"
																	)
															  )
															: (y = i(d.type))
														: t.push(
																new r(
																	f,
																	n.ref,
																	'ref layer "'.concat(
																		m,
																		'" not found'
																	)
																)
														  );
											else if ("background" !== y)
												if (n.source) {
													var b =
															h.sources &&
															h.sources[n.source],
														x = b && i(b.type);
													b
														? "vector" === x &&
														  "raster" === y
															? t.push(
																	new r(
																		f,
																		n.source,
																		'layer "'.concat(
																			n.id,
																			'" requires a raster source'
																		)
																	)
															  )
															: "raster" === x &&
															  "raster" !== y
															? t.push(
																	new r(
																		f,
																		n.source,
																		'layer "'.concat(
																			n.id,
																			'" requires a vector source'
																		)
																	)
															  )
															: "vector" !== x ||
															  n["source-layer"]
															? "raster-dem" ===
																	x &&
															  "hillshade" !==
																	y &&
															  t.push(
																	new r(
																		f,
																		n.source,
																		"raster-dem source can only be used with layer type 'hillshade'."
																	)
															  )
															: t.push(
																	new r(
																		f,
																		n,
																		'layer "'.concat(
																			n.id,
																			'" must specify a "source-layer"'
																		)
																	)
															  )
														: t.push(
																new r(
																	f,
																	n.source,
																	'source "'.concat(
																		n.source,
																		'" not found'
																	)
																)
														  );
												} else
													t.push(
														new r(
															f,
															n,
															'missing required property "source"'
														)
													);
											return (t = t.concat(
												o({
													key: f,
													value: n,
													valueSpec: p.layer,
													style: e.style,
													styleSpec: e.styleSpec,
													objectElementValidators: {
														"*": function () {
															return [];
														},
														type: function () {
															return u({
																key: "".concat(
																	f,
																	".type"
																),
																value: n.type,
																valueSpec:
																	p.layer
																		.type,
																style: e.style,
																styleSpec:
																	e.styleSpec,
																object: n,
																objectKey:
																	"type",
															});
														},
														filter: a,
														layout: function (e) {
															return o({
																layer: n,
																key: e.key,
																value: e.value,
																style: e.style,
																styleSpec:
																	e.styleSpec,
																objectElementValidators:
																	{
																		"*": function (
																			e
																		) {
																			return l(
																				c(
																					{
																						layerType:
																							y,
																					},
																					e
																				)
																			);
																		},
																	},
															});
														},
														paint: function (e) {
															return o({
																layer: n,
																key: e.key,
																value: e.value,
																style: e.style,
																styleSpec:
																	e.styleSpec,
																objectElementValidators:
																	{
																		"*": function (
																			e
																		) {
																			return s(
																				c(
																					{
																						layerType:
																							y,
																					},
																					e
																				)
																			);
																		},
																	},
															});
														},
													},
												})
											));
										};
									},
									function (e, t, n) {
										var r = n(97);
										e.exports = function (e) {
											return r(e, "paint");
										};
									},
									function (e, t, n) {
										var r = n(29),
											i = n(7),
											o = n(17),
											a = n(57).isFunction,
											s = n(24);
										e.exports = function (e, t) {
											var n = e.key,
												l = e.style,
												u = e.styleSpec,
												c = e.value,
												f = e.objectKey,
												h =
													u[
														""
															.concat(t, "_")
															.concat(e.layerType)
													];
											if (!h) return [];
											var p =
												f.match(/^(.*)-transition$/);
											if (
												"paint" === t &&
												p &&
												h[p[1]] &&
												h[p[1]].transition
											)
												return r({
													key: n,
													value: c,
													valueSpec: u.transition,
													style: l,
													styleSpec: u,
												});
											var y,
												m = e.valueSpec || h[f];
											if (!m)
												return [
													new i(
														n,
														c,
														'unknown property "'.concat(
															f,
															'"'
														)
													),
												];
											if (
												"string" === o(c) &&
												m["property-function"] &&
												!m.tokens &&
												(y = /^{([^}]+)}$/.exec(c))
											)
												return [
													new i(
														n,
														c,
														'"'.concat(
															f,
															'" does not support interpolation syntax\n'
														) +
															'Use an identity property function instead: `{ "type": "identity", "property": '.concat(
																(0, d.default)(
																	y[1]
																),
																" }`."
															)
													),
												];
											var v = [];
											return (
												"symbol" === e.layerType &&
													("text-field" === f &&
														l &&
														!l.glyphs &&
														v.push(
															new i(
																n,
																c,
																'use of "text-field" requires a style "glyphs" property'
															)
														),
													"text-font" === f &&
														a(s.deep(c)) &&
														"identity" ===
															s(c.type) &&
														v.push(
															new i(
																n,
																c,
																'"text-font" does not support identity functions'
															)
														)),
												v.concat(
													r({
														key: e.key,
														value: c,
														valueSpec: m,
														style: l,
														styleSpec: u,
														expressionContext:
															"property",
														propertyKey: f,
													})
												)
											);
										};
									},
									function (e, t, n) {
										var r = n(97);
										e.exports = function (e) {
											return r(e, "layout");
										};
									},
									function (e, t, n) {
										var r = n(7),
											i = n(24),
											o = n(43),
											a = n(58);
										e.exports = function (e) {
											var t = e.value,
												n = e.key,
												s = e.styleSpec,
												l = e.style;
											if (!t.type)
												return [
													new r(
														n,
														t,
														'"type" is required'
													),
												];
											var u = i(t.type),
												c = [];
											switch (u) {
												case "vector":
												case "raster":
												case "raster-dem":
													if (
														((c = c.concat(
															o({
																key: n,
																value: t,
																valueSpec:
																	s[
																		"source_".concat(
																			u.replace(
																				"-",
																				"_"
																			)
																		)
																	],
																style: e.style,
																styleSpec: s,
															})
														)),
														"url" in t)
													)
														for (var f in t)
															[
																"type",
																"url",
																"tileSize",
															].indexOf(f) < 0 &&
																c.push(
																	new r(
																		""
																			.concat(
																				n,
																				"."
																			)
																			.concat(
																				f
																			),
																		t[f],
																		'a source with a "url" property may not include a "'.concat(
																			f,
																			'" property'
																		)
																	)
																);
													return c;
												case "geojson":
													return o({
														key: n,
														value: t,
														valueSpec:
															s.source_geojson,
														style: l,
														styleSpec: s,
													});
												case "video":
													return o({
														key: n,
														value: t,
														valueSpec:
															s.source_video,
														style: l,
														styleSpec: s,
													});
												case "image":
													return o({
														key: n,
														value: t,
														valueSpec:
															s.source_image,
														style: l,
														styleSpec: s,
													});
												case "canvas":
													return o({
														key: n,
														value: t,
														valueSpec:
															s.source_canvas,
														style: l,
														styleSpec: s,
													});
												default:
													return a({
														key: "".concat(
															n,
															".type"
														),
														value: t.type,
														valueSpec: {
															values: [
																"vector",
																"raster",
																"raster-dem",
																"geojson",
																"video",
																"image",
																"canvas",
															],
														},
														style: l,
														styleSpec: s,
													});
											}
										};
									},
									function (e, t, n) {
										var r = n(7),
											i = n(17),
											o = n(29);
										e.exports = function (e) {
											var t = e.value,
												n = e.styleSpec,
												a = n.light,
												s = e.style,
												l = [],
												u = i(t);
											if (void 0 === t) return l;
											if ("object" !== u)
												return l.concat([
													new r(
														"light",
														t,
														"object expected, ".concat(
															u,
															" found"
														)
													),
												]);
											for (var c in t) {
												var f =
													c.match(
														/^(.*)-transition$/
													);
												l =
													f &&
													a[f[1]] &&
													a[f[1]].transition
														? l.concat(
																o({
																	key: c,
																	value: t[c],
																	valueSpec:
																		n.transition,
																	style: s,
																	styleSpec:
																		n,
																})
														  )
														: a[c]
														? l.concat(
																o({
																	key: c,
																	value: t[c],
																	valueSpec:
																		a[c],
																	style: s,
																	styleSpec:
																		n,
																})
														  )
														: l.concat([
																new r(
																	c,
																	t[c],
																	'unknown property "'.concat(
																		c,
																		'"'
																	)
																),
														  ]);
											}
											return l;
										};
									},
									function (e, t, n) {
										var r = n(17),
											i = n(7);
										e.exports = function (e) {
											var t = e.value,
												n = e.key,
												o = r(t);
											return "string" !== o
												? [
														new i(
															n,
															t,
															"string expected, ".concat(
																o,
																" found"
															)
														),
												  ]
												: [];
										};
									},
									function (e, t, n) {
										function r(e, t, n) {
											var r = (this.cells = []);
											if (e instanceof ArrayBuffer) {
												this.arrayBuffer = e;
												var i = new Int32Array(
													this.arrayBuffer
												);
												(e = i[0]),
													(t = i[1]),
													(n = i[2]),
													(this.d = t + 2 * n);
												for (
													var o = 0;
													o < this.d * this.d;
													o++
												) {
													var a = i[3 + o],
														s = i[3 + o + 1];
													r.push(
														a === s
															? null
															: i.subarray(a, s)
													);
												}
												var l = i[3 + r.length],
													u = i[3 + r.length + 1];
												(this.keys = i.subarray(l, u)),
													(this.bboxes =
														i.subarray(u)),
													(this.insert =
														this._insertReadonly);
											} else {
												this.d = t + 2 * n;
												for (
													var c = 0;
													c < this.d * this.d;
													c++
												)
													r.push([]);
												(this.keys = []),
													(this.bboxes = []);
											}
											(this.n = t),
												(this.extent = e),
												(this.padding = n),
												(this.scale = t / e),
												(this.uid = 0);
											var f = (n / t) * e;
											(this.min = -f), (this.max = e + f);
										}
										(e.exports = r),
											(r.prototype.insert = function (
												e,
												t,
												n,
												r,
												i
											) {
												this._forEachCell(
													t,
													n,
													r,
													i,
													this._insertCell,
													this.uid++
												),
													this.keys.push(e),
													this.bboxes.push(t),
													this.bboxes.push(n),
													this.bboxes.push(r),
													this.bboxes.push(i);
											}),
											(r.prototype._insertReadonly =
												function () {
													throw "Cannot insert into a GridIndex created from an ArrayBuffer.";
												}),
											(r.prototype._insertCell =
												function (e, t, n, r, i, o) {
													this.cells[i].push(o);
												}),
											(r.prototype.query = function (
												e,
												t,
												n,
												r,
												i
											) {
												var o = this.min,
													a = this.max;
												if (
													e <= o &&
													t <= o &&
													a <= n &&
													a <= r &&
													!i
												)
													return Array.prototype.slice.call(
														this.keys
													);
												var s = [];
												return (
													this._forEachCell(
														e,
														t,
														n,
														r,
														this._queryCell,
														s,
														{},
														i
													),
													s
												);
											}),
											(r.prototype._queryCell = function (
												e,
												t,
												n,
												r,
												i,
												o,
												a,
												s
											) {
												var l = this.cells[i];
												if (null !== l)
													for (
														var u = this.keys,
															c = this.bboxes,
															f = 0;
														f < l.length;
														f++
													) {
														var h = l[f];
														if (void 0 === a[h]) {
															var p = 4 * h;
															(
																s
																	? s(
																			c[
																				p +
																					0
																			],
																			c[
																				p +
																					1
																			],
																			c[
																				p +
																					2
																			],
																			c[
																				p +
																					3
																			]
																	  )
																	: e <=
																			c[
																				p +
																					2
																			] &&
																	  t <=
																			c[
																				p +
																					3
																			] &&
																	  n >=
																			c[
																				p +
																					0
																			] &&
																	  r >=
																			c[
																				p +
																					1
																			]
															)
																? ((a[h] = !0),
																  o.push(u[h]))
																: (a[h] = !1);
														}
													}
											}),
											(r.prototype._forEachCell =
												function (
													e,
													t,
													n,
													r,
													i,
													o,
													a,
													s
												) {
													for (
														var l =
																this._convertToCellCoord(
																	e
																),
															u =
																this._convertToCellCoord(
																	t
																),
															c =
																this._convertToCellCoord(
																	n
																),
															f =
																this._convertToCellCoord(
																	r
																),
															h = l;
														h <= c;
														h++
													)
														for (
															var p = u;
															p <= f;
															p++
														) {
															var d =
																this.d * p + h;
															if (
																(!s ||
																	s(
																		this._convertFromCellCoord(
																			h
																		),
																		this._convertFromCellCoord(
																			p
																		),
																		this._convertFromCellCoord(
																			h +
																				1
																		),
																		this._convertFromCellCoord(
																			p +
																				1
																		)
																	)) &&
																i.call(
																	this,
																	e,
																	t,
																	n,
																	r,
																	d,
																	o,
																	a,
																	s
																)
															)
																return;
														}
												}),
											(r.prototype._convertFromCellCoord =
												function (e) {
													return (
														(e - this.padding) /
														this.scale
													);
												}),
											(r.prototype._convertToCellCoord =
												function (e) {
													return Math.max(
														0,
														Math.min(
															this.d - 1,
															Math.floor(
																e * this.scale
															) + this.padding
														)
													);
												}),
											(r.prototype.toArrayBuffer =
												function () {
													if (this.arrayBuffer)
														return this.arrayBuffer;
													for (
														var e = this.cells,
															t =
																3 +
																this.cells
																	.length +
																1 +
																1,
															n = 0,
															r = 0;
														r < this.cells.length;
														r++
													)
														n +=
															this.cells[r]
																.length;
													var i = new Int32Array(
														t +
															n +
															this.keys.length +
															this.bboxes.length
													);
													(i[0] = this.extent),
														(i[1] = this.n),
														(i[2] = this.padding);
													for (
														var o = t, a = 0;
														a < e.length;
														a++
													) {
														var s = e[a];
														(i[3 + a] = o),
															i.set(s, o),
															(o += s.length);
													}
													return (
														(i[3 + e.length] = o),
														i.set(this.keys, o),
														(o += this.keys.length),
														(i[3 + e.length + 1] =
															o),
														i.set(this.bboxes, o),
														(o +=
															this.bboxes.length),
														i.buffer
													);
												});
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(14).CircleLayoutArray,
											a = n(152).members,
											s = n(36).SegmentVector,
											l = n(32).ProgramConfigurationSet,
											u = n(37).TriangleIndexArray,
											c = n(38),
											f = n(6),
											h = n(11).register;
										function p(e, t, n, r, i) {
											e.emplaceBack(
												2 * t + (r + 1) / 2,
												2 * n + (i + 1) / 2
											);
										}
										var d = (function () {
											function e(t) {
												!(function (e, t) {
													if (!(e instanceof t))
														throw new TypeError(
															"Cannot call a class as a function"
														);
												})(this, e),
													(this.zoom = t.zoom),
													(this.overscaling =
														t.overscaling),
													(this.layers = t.layers),
													(this.layerIds =
														this.layers.map(
															function (e) {
																return e.id;
															}
														)),
													(this.index = t.index),
													(this.layoutVertexArray =
														new i()),
													(this.indexArray = new u()),
													(this.segments = new s()),
													(this.programConfigurations =
														new l(
															a,
															t.layers,
															t.zoom
														));
											}
											var t, n;
											return (
												(t = e),
												(n = [
													{
														key: "populate",
														value: function (e, t) {
															var n = !0,
																r = !1,
																i = void 0;
															try {
																for (
																	var a,
																		s = (0,
																		o.default)(
																			e
																		);
																	!(n = (a =
																		s.next())
																		.done);
																	n = !0
																) {
																	var l =
																			a.value,
																		u =
																			l.feature,
																		f =
																			l.index,
																		h =
																			l.sourceLayerIndex;
																	if (
																		this.layers[0]._featureFilter(
																			{
																				zoom: this
																					.zoom,
																			},
																			u
																		)
																	) {
																		var p =
																			c(
																				u
																			);
																		this.addFeature(
																			u,
																			p
																		),
																			t.featureIndex.insert(
																				u,
																				p,
																				f,
																				h,
																				this
																					.index
																			);
																	}
																}
															} catch (e) {
																(r = !0),
																	(i = e);
															} finally {
																try {
																	n ||
																		null ==
																			s.return ||
																		s.return();
																} finally {
																	if (r)
																		throw i;
																}
															}
														},
													},
													{
														key: "isEmpty",
														value: function () {
															return (
																0 ===
																this
																	.layoutVertexArray
																	.length
															);
														},
													},
													{
														key: "upload",
														value: function (e) {
															(this.layoutVertexBuffer =
																e.createVertexBuffer(
																	this
																		.layoutVertexArray,
																	a
																)),
																(this.indexBuffer =
																	e.createIndexBuffer(
																		this
																			.indexArray
																	)),
																this.programConfigurations.upload(
																	e
																);
														},
													},
													{
														key: "destroy",
														value: function () {
															this
																.layoutVertexBuffer &&
																(this.layoutVertexBuffer.destroy(),
																this.indexBuffer.destroy(),
																this.programConfigurations.destroy(),
																this.segments.destroy());
														},
													},
													{
														key: "addFeature",
														value: function (e, t) {
															var n = !0,
																r = !1,
																i = void 0;
															try {
																for (
																	var a,
																		s = (0,
																		o.default)(
																			t
																		);
																	!(n = (a =
																		s.next())
																		.done);
																	n = !0
																) {
																	var l =
																			a.value,
																		u = !0,
																		c = !1,
																		h =
																			void 0;
																	try {
																		for (
																			var d,
																				y =
																					(0,
																					o.default)(
																						l
																					);
																			!(u =
																				(d =
																					y.next())
																					.done);
																			u =
																				!0
																		) {
																			var m =
																					d.value,
																				v =
																					m.x,
																				g =
																					m.y;
																			if (
																				!(
																					v <
																						0 ||
																					v >=
																						f ||
																					g <
																						0 ||
																					g >=
																						f
																				)
																			) {
																				var _ =
																						this.segments.prepareSegment(
																							4,
																							this
																								.layoutVertexArray,
																							this
																								.indexArray
																						),
																					b =
																						_.vertexLength;
																				p(
																					this
																						.layoutVertexArray,
																					v,
																					g,
																					-1,
																					-1
																				),
																					p(
																						this
																							.layoutVertexArray,
																						v,
																						g,
																						1,
																						-1
																					),
																					p(
																						this
																							.layoutVertexArray,
																						v,
																						g,
																						1,
																						1
																					),
																					p(
																						this
																							.layoutVertexArray,
																						v,
																						g,
																						-1,
																						1
																					),
																					this.indexArray.emplaceBack(
																						b,
																						b +
																							1,
																						b +
																							2
																					),
																					this.indexArray.emplaceBack(
																						b,
																						b +
																							3,
																						b +
																							2
																					),
																					(_.vertexLength += 4),
																					(_.primitiveLength += 2);
																			}
																		}
																	} catch (e) {
																		(c =
																			!0),
																			(h =
																				e);
																	} finally {
																		try {
																			u ||
																				null ==
																					y.return ||
																				y.return();
																		} finally {
																			if (
																				c
																			)
																				throw h;
																		}
																	}
																}
															} catch (e) {
																(r = !0),
																	(i = e);
															} finally {
																try {
																	n ||
																		null ==
																			s.return ||
																		s.return();
																} finally {
																	if (r)
																		throw i;
																}
															}
															this.programConfigurations.populatePaintArrays(
																this
																	.layoutVertexArray
																	.length,
																e
															);
														},
													},
												]) && r(t.prototype, n),
												e
											);
										})();
										h("CircleBucket", d, {
											omit: ["layers"],
										}),
											(e.exports = d);
									},
									function (e, t, n) {
										function r(e, t, n) {
											n = n || 2;
											var r,
												s,
												l,
												u,
												c,
												p,
												y,
												m = t && t.length,
												v = m ? t[0] * n : e.length,
												g = i(e, 0, v, n, !0),
												_ = [];
											if (!g || g.next === g.prev)
												return _;
											if (
												(m &&
													(g = (function (
														e,
														t,
														n,
														r
													) {
														var a,
															s,
															l,
															u = [];
														for (
															a = 0, s = t.length;
															a < s;
															a++
														)
															(l = i(
																e,
																t[a] * r,
																a < s - 1
																	? t[a + 1] *
																			r
																	: e.length,
																r,
																!1
															)) === l.next &&
																(l.steiner =
																	!0),
																u.push(d(l));
														for (
															u.sort(f), a = 0;
															a < u.length;
															a++
														)
															h(u[a], n),
																(n = o(
																	n,
																	n.next
																));
														return n;
													})(e, t, g, n)),
												e.length > 80 * n)
											) {
												(r = l = e[0]), (s = u = e[1]);
												for (var b = n; b < v; b += n)
													(c = e[b]) < r && (r = c),
														(p = e[b + 1]) < s &&
															(s = p),
														c > l && (l = c),
														p > u && (u = p);
												y =
													0 !==
													(y = Math.max(l - r, u - s))
														? 1 / y
														: 0;
											}
											return a(g, _, n, r, s, y), _;
										}
										function i(e, t, n, r, i) {
											var o, a;
											if (i === k(e, t, n, r) > 0)
												for (o = t; o < n; o += r)
													a = w(o, e[o], e[o + 1], a);
											else
												for (o = n - r; o >= t; o -= r)
													a = w(o, e[o], e[o + 1], a);
											return (
												a &&
													g(a, a.next) &&
													(C(a), (a = a.next)),
												a
											);
										}
										function o(e, t) {
											if (!e) return e;
											t || (t = e);
											var n,
												r = e;
											do {
												if (
													((n = !1),
													r.steiner ||
														(!g(r, r.next) &&
															0 !==
																v(
																	r.prev,
																	r,
																	r.next
																)))
												)
													r = r.next;
												else {
													if (
														(C(r),
														(r = t = r.prev) ===
															r.next)
													)
														break;
													n = !0;
												}
											} while (n || r !== t);
											return t;
										}
										function a(e, t, n, r, i, f, h) {
											if (e) {
												!h &&
													f &&
													(function (e, t, n, r) {
														var i = e;
														do {
															null === i.z &&
																(i.z = p(
																	i.x,
																	i.y,
																	t,
																	n,
																	r
																)),
																(i.prevZ =
																	i.prev),
																(i.nextZ =
																	i.next),
																(i = i.next);
														} while (i !== e);
														(i.prevZ.nextZ = null),
															(i.prevZ = null),
															(function (e) {
																var t,
																	n,
																	r,
																	i,
																	o,
																	a,
																	s,
																	l,
																	u = 1;
																do {
																	for (
																		n = e,
																			e =
																				null,
																			o =
																				null,
																			a = 0;
																		n;

																	) {
																		for (
																			a++,
																				r =
																					n,
																				s = 0,
																				t = 0;
																			t <
																				u &&
																			(s++,
																			(r =
																				r.nextZ));
																			t++
																		);
																		for (
																			l =
																				u;
																			s >
																				0 ||
																			(l >
																				0 &&
																				r);

																		)
																			0 !==
																				s &&
																			(0 ===
																				l ||
																				!r ||
																				n.z <=
																					r.z)
																				? ((i =
																						n),
																				  (n =
																						n.nextZ),
																				  s--)
																				: ((i =
																						r),
																				  (r =
																						r.nextZ),
																				  l--),
																				o
																					? (o.nextZ =
																							i)
																					: (e =
																							i),
																				(i.prevZ =
																					o),
																				(o =
																					i);
																		n = r;
																	}
																	(o.nextZ =
																		null),
																		(u *= 2);
																} while (a > 1);
															})(i);
													})(e, r, i, f);
												for (
													var d, y, m = e;
													e.prev !== e.next;

												)
													if (
														((d = e.prev),
														(y = e.next),
														f
															? l(e, r, i, f)
															: s(e))
													)
														t.push(d.i / n),
															t.push(e.i / n),
															t.push(y.i / n),
															C(e),
															(e = y.next),
															(m = y.next);
													else if ((e = y) === m) {
														h
															? 1 === h
																? a(
																		(e = u(
																			e,
																			t,
																			n
																		)),
																		t,
																		n,
																		r,
																		i,
																		f,
																		2
																  )
																: 2 === h &&
																  c(
																		e,
																		t,
																		n,
																		r,
																		i,
																		f
																  )
															: a(
																	o(e),
																	t,
																	n,
																	r,
																	i,
																	f,
																	1
															  );
														break;
													}
											}
										}
										function s(e) {
											var t = e.prev,
												n = e,
												r = e.next;
											if (v(t, n, r) >= 0) return !1;
											for (
												var i = e.next.next;
												i !== e.prev;

											) {
												if (
													y(
														t.x,
														t.y,
														n.x,
														n.y,
														r.x,
														r.y,
														i.x,
														i.y
													) &&
													v(i.prev, i, i.next) >= 0
												)
													return !1;
												i = i.next;
											}
											return !0;
										}
										function l(e, t, n, r) {
											var i = e.prev,
												o = e,
												a = e.next;
											if (v(i, o, a) >= 0) return !1;
											for (
												var s =
														i.x < o.x
															? i.x < a.x
																? i.x
																: a.x
															: o.x < a.x
															? o.x
															: a.x,
													l =
														i.y < o.y
															? i.y < a.y
																? i.y
																: a.y
															: o.y < a.y
															? o.y
															: a.y,
													u =
														i.x > o.x
															? i.x > a.x
																? i.x
																: a.x
															: o.x > a.x
															? o.x
															: a.x,
													c =
														i.y > o.y
															? i.y > a.y
																? i.y
																: a.y
															: o.y > a.y
															? o.y
															: a.y,
													f = p(s, l, t, n, r),
													h = p(u, c, t, n, r),
													d = e.prevZ,
													m = e.nextZ;
												d && d.z >= f && m && m.z <= h;

											) {
												if (
													d !== e.prev &&
													d !== e.next &&
													y(
														i.x,
														i.y,
														o.x,
														o.y,
														a.x,
														a.y,
														d.x,
														d.y
													) &&
													v(d.prev, d, d.next) >= 0
												)
													return !1;
												if (
													((d = d.prevZ),
													m !== e.prev &&
														m !== e.next &&
														y(
															i.x,
															i.y,
															o.x,
															o.y,
															a.x,
															a.y,
															m.x,
															m.y
														) &&
														v(m.prev, m, m.next) >=
															0)
												)
													return !1;
												m = m.nextZ;
											}
											for (; d && d.z >= f; ) {
												if (
													d !== e.prev &&
													d !== e.next &&
													y(
														i.x,
														i.y,
														o.x,
														o.y,
														a.x,
														a.y,
														d.x,
														d.y
													) &&
													v(d.prev, d, d.next) >= 0
												)
													return !1;
												d = d.prevZ;
											}
											for (; m && m.z <= h; ) {
												if (
													m !== e.prev &&
													m !== e.next &&
													y(
														i.x,
														i.y,
														o.x,
														o.y,
														a.x,
														a.y,
														m.x,
														m.y
													) &&
													v(m.prev, m, m.next) >= 0
												)
													return !1;
												m = m.nextZ;
											}
											return !0;
										}
										function u(e, t, n) {
											var r = e;
											do {
												var i = r.prev,
													o = r.next.next;
												!g(i, o) &&
													_(i, r, r.next, o) &&
													b(i, o) &&
													b(o, i) &&
													(t.push(i.i / n),
													t.push(r.i / n),
													t.push(o.i / n),
													C(r),
													C(r.next),
													(r = e = o)),
													(r = r.next);
											} while (r !== e);
											return r;
										}
										function c(e, t, n, r, i, s) {
											var l = e;
											do {
												for (
													var u = l.next.next;
													u !== l.prev;

												) {
													if (
														l.i !== u.i &&
														m(l, u)
													) {
														var c = x(l, u);
														return (
															(l = o(l, l.next)),
															(c = o(c, c.next)),
															a(l, t, n, r, i, s),
															void a(
																c,
																t,
																n,
																r,
																i,
																s
															)
														);
													}
													u = u.next;
												}
												l = l.next;
											} while (l !== e);
										}
										function f(e, t) {
											return e.x - t.x;
										}
										function h(e, t) {
											if (
												(t = (function (e, t) {
													var n,
														r = t,
														i = e.x,
														o = e.y,
														a = -1 / 0;
													do {
														if (
															o <= r.y &&
															o >= r.next.y &&
															r.next.y !== r.y
														) {
															var s =
																r.x +
																((o - r.y) *
																	(r.next.x -
																		r.x)) /
																	(r.next.y -
																		r.y);
															if (
																s <= i &&
																s > a
															) {
																if (
																	((a = s),
																	s === i)
																) {
																	if (
																		o ===
																		r.y
																	)
																		return r;
																	if (
																		o ===
																		r.next.y
																	)
																		return r.next;
																}
																n =
																	r.x <
																	r.next.x
																		? r
																		: r.next;
															}
														}
														r = r.next;
													} while (r !== t);
													if (!n) return null;
													if (i === a) return n.prev;
													var l,
														u = n,
														c = n.x,
														f = n.y,
														h = 1 / 0;
													for (r = n.next; r !== u; )
														i >= r.x &&
															r.x >= c &&
															i !== r.x &&
															y(
																o < f ? i : a,
																o,
																c,
																f,
																o < f ? a : i,
																o,
																r.x,
																r.y
															) &&
															((l =
																Math.abs(
																	o - r.y
																) /
																(i - r.x)) <
																h ||
																(l === h &&
																	r.x >
																		n.x)) &&
															b(r, e) &&
															((n = r), (h = l)),
															(r = r.next);
													return n;
												})(e, t))
											) {
												var n = x(t, e);
												o(n, n.next);
											}
										}
										function p(e, t, n, r, i) {
											return (
												(e =
													1431655765 &
													((e =
														858993459 &
														((e =
															252645135 &
															((e =
																16711935 &
																((e =
																	32767 *
																	(e - n) *
																	i) |
																	(e << 8))) |
																(e << 4))) |
															(e << 2))) |
														(e << 1))) |
												((t =
													1431655765 &
													((t =
														858993459 &
														((t =
															252645135 &
															((t =
																16711935 &
																((t =
																	32767 *
																	(t - r) *
																	i) |
																	(t << 8))) |
																(t << 4))) |
															(t << 2))) |
														(t << 1))) <<
													1)
											);
										}
										function d(e) {
											var t = e,
												n = e;
											do {
												(t.x < n.x ||
													(t.x === n.x &&
														t.y < n.y)) &&
													(n = t),
													(t = t.next);
											} while (t !== e);
											return n;
										}
										function y(e, t, n, r, i, o, a, s) {
											return (
												(i - a) * (t - s) -
													(e - a) * (o - s) >=
													0 &&
												(e - a) * (r - s) -
													(n - a) * (t - s) >=
													0 &&
												(n - a) * (o - s) -
													(i - a) * (r - s) >=
													0
											);
										}
										function m(e, t) {
											return (
												e.next.i !== t.i &&
												e.prev.i !== t.i &&
												!(function (e, t) {
													var n = e;
													do {
														if (
															n.i !== e.i &&
															n.next.i !== e.i &&
															n.i !== t.i &&
															n.next.i !== t.i &&
															_(n, n.next, e, t)
														)
															return !0;
														n = n.next;
													} while (n !== e);
													return !1;
												})(e, t) &&
												b(e, t) &&
												b(t, e) &&
												(function (e, t) {
													var n = e,
														r = !1,
														i = (e.x + t.x) / 2,
														o = (e.y + t.y) / 2;
													do {
														n.y > o !=
															n.next.y > o &&
															n.next.y !== n.y &&
															i <
																((n.next.x -
																	n.x) *
																	(o - n.y)) /
																	(n.next.y -
																		n.y) +
																	n.x &&
															(r = !r),
															(n = n.next);
													} while (n !== e);
													return r;
												})(e, t)
											);
										}
										function v(e, t, n) {
											return (
												(t.y - e.y) * (n.x - t.x) -
												(t.x - e.x) * (n.y - t.y)
											);
										}
										function g(e, t) {
											return e.x === t.x && e.y === t.y;
										}
										function _(e, t, n, r) {
											return (
												!!(
													(g(e, t) && g(n, r)) ||
													(g(e, r) && g(n, t))
												) ||
												(v(e, t, n) > 0 !=
													v(e, t, r) > 0 &&
													v(n, r, e) > 0 !=
														v(n, r, t) > 0)
											);
										}
										function b(e, t) {
											return v(e.prev, e, e.next) < 0
												? v(e, t, e.next) >= 0 &&
														v(e, e.prev, t) >= 0
												: v(e, t, e.prev) < 0 ||
														v(e, e.next, t) < 0;
										}
										function x(e, t) {
											var n = new T(e.i, e.x, e.y),
												r = new T(t.i, t.x, t.y),
												i = e.next,
												o = t.prev;
											return (
												(e.next = t),
												(t.prev = e),
												(n.next = i),
												(i.prev = n),
												(r.next = n),
												(n.prev = r),
												(o.next = r),
												(r.prev = o),
												r
											);
										}
										function w(e, t, n, r) {
											var i = new T(e, t, n);
											return (
												r
													? ((i.next = r.next),
													  (i.prev = r),
													  (r.next.prev = i),
													  (r.next = i))
													: ((i.prev = i),
													  (i.next = i)),
												i
											);
										}
										function C(e) {
											(e.next.prev = e.prev),
												(e.prev.next = e.next),
												e.prevZ &&
													(e.prevZ.nextZ = e.nextZ),
												e.nextZ &&
													(e.nextZ.prevZ = e.prevZ);
										}
										function T(e, t, n) {
											(this.i = e),
												(this.x = t),
												(this.y = n),
												(this.prev = null),
												(this.next = null),
												(this.z = null),
												(this.prevZ = null),
												(this.nextZ = null),
												(this.steiner = !1);
										}
										function k(e, t, n, r) {
											for (
												var i = 0, o = t, a = n - r;
												o < n;
												o += r
											)
												(i +=
													(e[a] - e[o]) *
													(e[o + 1] + e[a + 1])),
													(a = o);
											return i;
										}
										(e.exports = r),
											(e.exports.default = r),
											(r.deviation = function (
												e,
												t,
												n,
												r
											) {
												var i = t && t.length,
													o = i ? t[0] * n : e.length,
													a = Math.abs(k(e, 0, o, n));
												if (i)
													for (
														var s = 0, l = t.length;
														s < l;
														s++
													) {
														var u = t[s] * n,
															c =
																s < l - 1
																	? t[s + 1] *
																	  n
																	: e.length;
														a -= Math.abs(
															k(e, u, c, n)
														);
													}
												var f = 0;
												for (
													s = 0;
													s < r.length;
													s += 3
												) {
													var h = r[s] * n,
														p = r[s + 1] * n,
														d = r[s + 2] * n;
													f += Math.abs(
														(e[h] - e[d]) *
															(e[p + 1] -
																e[h + 1]) -
															(e[h] - e[p]) *
																(e[d + 1] -
																	e[h + 1])
													);
												}
												return 0 === a && 0 === f
													? 0
													: Math.abs((f - a) / a);
											}),
											(r.flatten = function (e) {
												for (
													var t = e[0][0].length,
														n = {
															vertices: [],
															holes: [],
															dimensions: t,
														},
														r = 0,
														i = 0;
													i < e.length;
													i++
												) {
													for (
														var o = 0;
														o < e[i].length;
														o++
													)
														for (
															var a = 0;
															a < t;
															a++
														)
															n.vertices.push(
																e[i][o][a]
															);
													i > 0 &&
														((r += e[i - 1].length),
														n.holes.push(r));
												}
												return n;
											});
									},
									function (e, t, n) {
										var r = n(163),
											i = n(0).calculateSignedArea;
										function o(e, t) {
											return t.area - e.area;
										}
										e.exports = function (e, t) {
											var n = e.length;
											if (n <= 1) return [e];
											for (
												var a, s, l = [], u = 0;
												u < n;
												u++
											) {
												var c = i(e[u]);
												0 !== c &&
													((e[u].area = Math.abs(c)),
													void 0 === s && (s = c < 0),
													s === c < 0
														? (a && l.push(a),
														  (a = [e[u]]))
														: a.push(e[u]));
											}
											if ((a && l.push(a), t > 1))
												for (
													var f = 0;
													f < l.length;
													f++
												)
													l[f].length <= t ||
														(r(
															l[f],
															t,
															1,
															l[f].length - 1,
															o
														),
														(l[f] = l[f].slice(
															0,
															t
														)));
											return l;
										};
									},
									function (e, t, n) {
										var r = n(107);
										function i(e, t) {
											(this.version = 1),
												(this.name = null),
												(this.extent = 4096),
												(this.length = 0),
												(this._pbf = e),
												(this._keys = []),
												(this._values = []),
												(this._features = []),
												e.readFields(o, this, t),
												(this.length =
													this._features.length);
										}
										function o(e, t, n) {
											15 === e
												? (t.version = n.readVarint())
												: 1 === e
												? (t.name = n.readString())
												: 5 === e
												? (t.extent = n.readVarint())
												: 2 === e
												? t._features.push(n.pos)
												: 3 === e
												? t._keys.push(n.readString())
												: 4 === e &&
												  t._values.push(
														(function (e) {
															for (
																var t = null,
																	n =
																		e.readVarint() +
																		e.pos;
																e.pos < n;

															) {
																var r =
																	e.readVarint() >>
																	3;
																t =
																	1 === r
																		? e.readString()
																		: 2 ===
																		  r
																		? e.readFloat()
																		: 3 ===
																		  r
																		? e.readDouble()
																		: 4 ===
																		  r
																		? e.readVarint64()
																		: 5 ===
																		  r
																		? e.readVarint()
																		: 6 ===
																		  r
																		? e.readSVarint()
																		: 7 ===
																		  r
																		? e.readBoolean()
																		: null;
															}
															return t;
														})(n)
												  );
										}
										(e.exports = i),
											(i.prototype.feature = function (
												e
											) {
												if (
													e < 0 ||
													e >= this._features.length
												)
													throw new Error(
														"feature index out of bounds"
													);
												this._pbf.pos =
													this._features[e];
												var t =
													this._pbf.readVarint() +
													this._pbf.pos;
												return new r(
													this._pbf,
													t,
													this.extent,
													this._keys,
													this._values
												);
											});
									},
									function (e, t, n) {
										var r = n(3);
										function i(e, t, n, r, i) {
											(this.properties = {}),
												(this.extent = n),
												(this.type = 0),
												(this._pbf = e),
												(this._geometry = -1),
												(this._keys = r),
												(this._values = i),
												e.readFields(o, this, t);
										}
										function o(e, t, n) {
											1 == e
												? (t.id = n.readVarint())
												: 2 == e
												? (function (e, t) {
														for (
															var n =
																e.readVarint() +
																e.pos;
															e.pos < n;

														) {
															var r =
																	t._keys[
																		e.readVarint()
																	],
																i =
																	t._values[
																		e.readVarint()
																	];
															t.properties[r] = i;
														}
												  })(n, t)
												: 3 == e
												? (t.type = n.readVarint())
												: 4 == e &&
												  (t._geometry = n.pos);
										}
										function a(e) {
											for (
												var t,
													n,
													r = 0,
													i = 0,
													o = e.length,
													a = o - 1;
												i < o;
												a = i++
											)
												(t = e[i]),
													(r +=
														((n = e[a]).x - t.x) *
														(t.y + n.y));
											return r;
										}
										(e.exports = i),
											(i.types = [
												"Unknown",
												"Point",
												"LineString",
												"Polygon",
											]),
											(i.prototype.loadGeometry =
												function () {
													var e = this._pbf;
													e.pos = this._geometry;
													for (
														var t,
															n =
																e.readVarint() +
																e.pos,
															i = 1,
															o = 0,
															a = 0,
															s = 0,
															l = [];
														e.pos < n;

													) {
														if (o <= 0) {
															var u =
																e.readVarint();
															(i = 7 & u),
																(o = u >> 3);
														}
														if (
															(o--,
															1 === i || 2 === i)
														)
															(a +=
																e.readSVarint()),
																(s +=
																	e.readSVarint()),
																1 === i &&
																	(t &&
																		l.push(
																			t
																		),
																	(t = [])),
																t.push(
																	new r(a, s)
																);
														else {
															if (7 !== i)
																throw new Error(
																	"unknown command " +
																		i
																);
															t &&
																t.push(
																	t[0].clone()
																);
														}
													}
													return t && l.push(t), l;
												}),
											(i.prototype.bbox = function () {
												var e = this._pbf;
												e.pos = this._geometry;
												for (
													var t =
															e.readVarint() +
															e.pos,
														n = 1,
														r = 0,
														i = 0,
														o = 0,
														a = 1 / 0,
														s = -1 / 0,
														l = 1 / 0,
														u = -1 / 0;
													e.pos < t;

												) {
													if (r <= 0) {
														var c = e.readVarint();
														(n = 7 & c),
															(r = c >> 3);
													}
													if (
														(r--,
														1 === n || 2 === n)
													)
														(i += e.readSVarint()) <
															a && (a = i),
															i > s && (s = i),
															(o +=
																e.readSVarint()) <
																l && (l = o),
															o > u && (u = o);
													else if (7 !== n)
														throw new Error(
															"unknown command " +
																n
														);
												}
												return [a, l, s, u];
											}),
											(i.prototype.toGeoJSON = function (
												e,
												t,
												n
											) {
												var r,
													o,
													s =
														this.extent *
														Math.pow(2, n),
													l = this.extent * e,
													u = this.extent * t,
													c = this.loadGeometry(),
													f = i.types[this.type];
												function h(e) {
													for (
														var t = 0;
														t < e.length;
														t++
													) {
														var n = e[t],
															r =
																180 -
																(360 *
																	(n.y + u)) /
																	s;
														e[t] = [
															(360 * (n.x + l)) /
																s -
																180,
															(360 / Math.PI) *
																Math.atan(
																	Math.exp(
																		(r *
																			Math.PI) /
																			180
																	)
																) -
																90,
														];
													}
												}
												switch (this.type) {
													case 1:
														var p = [];
														for (
															r = 0;
															r < c.length;
															r++
														)
															p[r] = c[r][0];
														h((c = p));
														break;
													case 2:
														for (
															r = 0;
															r < c.length;
															r++
														)
															h(c[r]);
														break;
													case 3:
														for (
															c = (function (e) {
																var t =
																	e.length;
																if (t <= 1)
																	return [e];
																for (
																	var n,
																		r,
																		i = [],
																		o = 0;
																	o < t;
																	o++
																) {
																	var s = a(
																		e[o]
																	);
																	0 !== s &&
																		(void 0 ===
																			r &&
																			(r =
																				s <
																				0),
																		r ===
																		s < 0
																			? (n &&
																					i.push(
																						n
																					),
																			  (n =
																					[
																						e[
																							o
																						],
																					]))
																			: n.push(
																					e[
																						o
																					]
																			  ));
																}
																return (
																	n &&
																		i.push(
																			n
																		),
																	i
																);
															})(c),
																r = 0;
															r < c.length;
															r++
														)
															for (
																o = 0;
																o < c[r].length;
																o++
															)
																h(c[r][o]);
												}
												1 === c.length
													? (c = c[0])
													: (f = "Multi" + f);
												var d = {
													type: "Feature",
													geometry: {
														type: f,
														coordinates: c,
													},
													properties: this.properties,
												};
												return (
													"id" in this &&
														(d.id = this.id),
													d
												);
											});
									},
									function (e, t) {
										function n(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var r = (function () {
											function e() {
												!(function (e, t) {
													if (!(e instanceof t))
														throw new TypeError(
															"Cannot call a class as a function"
														);
												})(this, e),
													(this.first = !0);
											}
											var t, r;
											return (
												(t = e),
												(r = [
													{
														key: "update",
														value: function (e, t) {
															var n =
																Math.floor(e);
															return this.first
																? ((this.first =
																		!1),
																  (this.lastIntegerZoom =
																		n),
																  (this.lastIntegerZoomTime = 0),
																  (this.lastZoom =
																		e),
																  (this.lastFloorZoom =
																		n),
																  !0)
																: (this
																		.lastFloorZoom >
																  n
																		? ((this.lastIntegerZoom =
																				n +
																				1),
																		  (this.lastIntegerZoomTime =
																				t))
																		: this
																				.lastFloorZoom <
																				n &&
																		  ((this.lastIntegerZoom =
																				n),
																		  (this.lastIntegerZoomTime =
																				t)),
																  e !==
																		this
																			.lastZoom &&
																		((this.lastZoom =
																			e),
																		(this.lastFloorZoom =
																			n),
																		!0));
														},
													},
												]) && n(t.prototype, r),
												e
											);
										})();
										e.exports = r;
									},
									function (e, t) {
										e.exports = {
											"Latin-1 Supplement": function (e) {
												return e >= 128 && e <= 255;
											},
											Arabic: function (e) {
												return e >= 1536 && e <= 1791;
											},
											"Arabic Supplement": function (e) {
												return e >= 1872 && e <= 1919;
											},
											"Arabic Extended-A": function (e) {
												return e >= 2208 && e <= 2303;
											},
											"Hangul Jamo": function (e) {
												return e >= 4352 && e <= 4607;
											},
											"Unified Canadian Aboriginal Syllabics":
												function (e) {
													return (
														e >= 5120 && e <= 5759
													);
												},
											"Unified Canadian Aboriginal Syllabics Extended":
												function (e) {
													return (
														e >= 6320 && e <= 6399
													);
												},
											"General Punctuation": function (
												e
											) {
												return e >= 8192 && e <= 8303;
											},
											"Letterlike Symbols": function (e) {
												return e >= 8448 && e <= 8527;
											},
											"Number Forms": function (e) {
												return e >= 8528 && e <= 8591;
											},
											"Miscellaneous Technical":
												function (e) {
													return (
														e >= 8960 && e <= 9215
													);
												},
											"Control Pictures": function (e) {
												return e >= 9216 && e <= 9279;
											},
											"Optical Character Recognition":
												function (e) {
													return (
														e >= 9280 && e <= 9311
													);
												},
											"Enclosed Alphanumerics": function (
												e
											) {
												return e >= 9312 && e <= 9471;
											},
											"Geometric Shapes": function (e) {
												return e >= 9632 && e <= 9727;
											},
											"Miscellaneous Symbols": function (
												e
											) {
												return e >= 9728 && e <= 9983;
											},
											"Miscellaneous Symbols and Arrows":
												function (e) {
													return (
														e >= 11008 && e <= 11263
													);
												},
											"CJK Radicals Supplement":
												function (e) {
													return (
														e >= 11904 && e <= 12031
													);
												},
											"Kangxi Radicals": function (e) {
												return e >= 12032 && e <= 12255;
											},
											"Ideographic Description Characters":
												function (e) {
													return (
														e >= 12272 && e <= 12287
													);
												},
											"CJK Symbols and Punctuation":
												function (e) {
													return (
														e >= 12288 && e <= 12351
													);
												},
											Hiragana: function (e) {
												return e >= 12352 && e <= 12447;
											},
											Katakana: function (e) {
												return e >= 12448 && e <= 12543;
											},
											Bopomofo: function (e) {
												return e >= 12544 && e <= 12591;
											},
											"Hangul Compatibility Jamo":
												function (e) {
													return (
														e >= 12592 && e <= 12687
													);
												},
											Kanbun: function (e) {
												return e >= 12688 && e <= 12703;
											},
											"Bopomofo Extended": function (e) {
												return e >= 12704 && e <= 12735;
											},
											"CJK Strokes": function (e) {
												return e >= 12736 && e <= 12783;
											},
											"Katakana Phonetic Extensions":
												function (e) {
													return (
														e >= 12784 && e <= 12799
													);
												},
											"Enclosed CJK Letters and Months":
												function (e) {
													return (
														e >= 12800 && e <= 13055
													);
												},
											"CJK Compatibility": function (e) {
												return e >= 13056 && e <= 13311;
											},
											"CJK Unified Ideographs Extension A":
												function (e) {
													return (
														e >= 13312 && e <= 19903
													);
												},
											"Yijing Hexagram Symbols":
												function (e) {
													return (
														e >= 19904 && e <= 19967
													);
												},
											"CJK Unified Ideographs": function (
												e
											) {
												return e >= 19968 && e <= 40959;
											},
											"Yi Syllables": function (e) {
												return e >= 40960 && e <= 42127;
											},
											"Yi Radicals": function (e) {
												return e >= 42128 && e <= 42191;
											},
											"Hangul Jamo Extended-A": function (
												e
											) {
												return e >= 43360 && e <= 43391;
											},
											"Hangul Syllables": function (e) {
												return e >= 44032 && e <= 55215;
											},
											"Hangul Jamo Extended-B": function (
												e
											) {
												return e >= 55216 && e <= 55295;
											},
											"Private Use Area": function (e) {
												return e >= 57344 && e <= 63743;
											},
											"CJK Compatibility Ideographs":
												function (e) {
													return (
														e >= 63744 && e <= 64255
													);
												},
											"Arabic Presentation Forms-A":
												function (e) {
													return (
														e >= 64336 && e <= 65023
													);
												},
											"Vertical Forms": function (e) {
												return e >= 65040 && e <= 65055;
											},
											"CJK Compatibility Forms":
												function (e) {
													return (
														e >= 65072 && e <= 65103
													);
												},
											"Small Form Variants": function (
												e
											) {
												return e >= 65104 && e <= 65135;
											},
											"Arabic Presentation Forms-B":
												function (e) {
													return (
														e >= 65136 && e <= 65279
													);
												},
											"Halfwidth and Fullwidth Forms":
												function (e) {
													return (
														e >= 65280 && e <= 65519
													);
												},
										};
									},
									function (e, t, n) {
										var r = n(63);
										(e.exports = function (t) {
											for (
												var n = "", i = 0;
												i < t.length;
												i++
											) {
												var o =
														t.charCodeAt(i + 1) ||
														null,
													a =
														t.charCodeAt(i - 1) ||
														null;
												(o &&
													r.charHasRotatedVerticalOrientation(
														o
													) &&
													!e.exports.lookup[
														t[i + 1]
													]) ||
												(a &&
													r.charHasRotatedVerticalOrientation(
														a
													) &&
													!e.exports.lookup[
														t[i - 1]
													]) ||
												!e.exports.lookup[t[i]]
													? (n += t[i])
													: (n +=
															e.exports.lookup[
																t[i]
															]);
											}
											return n;
										}),
											(e.exports.lookup = {
												"!": "︕",
												"#": "＃",
												$: "＄",
												"%": "％",
												"&": "＆",
												"(": "︵",
												")": "︶",
												"*": "＊",
												"+": "＋",
												",": "︐",
												"-": "︲",
												".": "・",
												"/": "／",
												":": "︓",
												";": "︔",
												"<": "︿",
												"=": "＝",
												">": "﹀",
												"?": "︖",
												"@": "＠",
												"[": "﹇",
												"\\": "＼",
												"]": "﹈",
												"^": "＾",
												_: "︳",
												"`": "｀",
												"{": "︷",
												"|": "―",
												"}": "︸",
												"~": "～",
												"¢": "￠",
												"£": "￡",
												"¥": "￥",
												"¦": "￤",
												"¬": "￢",
												"¯": "￣",
												"–": "︲",
												"—": "︱",
												"‘": "﹃",
												"’": "﹄",
												"“": "﹁",
												"”": "﹂",
												"…": "︙",
												"‧": "・",
												"₩": "￦",
												"、": "︑",
												"。": "︒",
												"〈": "︿",
												"〉": "﹀",
												"《": "︽",
												"》": "︾",
												"「": "﹁",
												"」": "﹂",
												"『": "﹃",
												"』": "﹄",
												"【": "︻",
												"】": "︼",
												"〔": "︹",
												"〕": "︺",
												"〖": "︗",
												"〗": "︘",
												"！": "︕",
												"（": "︵",
												"）": "︶",
												"，": "︐",
												"－": "︲",
												"．": "・",
												"：": "︓",
												"；": "︔",
												"＜": "︿",
												"＞": "﹀",
												"？": "︖",
												"［": "﹇",
												"］": "﹈",
												"＿": "︳",
												"｛": "︷",
												"｜": "―",
												"｝": "︸",
												"｟": "︵",
												"｠": "︶",
												"｡": "︒",
												"｢": "﹁",
												"｣": "﹂",
											});
									},
									function (e, t, n) {
										e.exports = (function () {
											function e(e, t, n) {
												(n = n || {}),
													(this.w = e || 64),
													(this.h = t || 64),
													(this.autoResize =
														!!n.autoResize),
													(this.shelves = []),
													(this.freebins = []),
													(this.stats = {}),
													(this.bins = {}),
													(this.maxId = 0);
											}
											function t(e, t, n) {
												(this.x = 0),
													(this.y = e),
													(this.w = this.free = t),
													(this.h = n);
											}
											function n(e, t, n, r, i, o, a) {
												(this.id = e),
													(this.x = t),
													(this.y = n),
													(this.w = r),
													(this.h = i),
													(this.maxw = o || r),
													(this.maxh = a || i),
													(this.refcount = 0);
											}
											return (
												(e.prototype.pack = function (
													e,
													t
												) {
													(e = [].concat(e)),
														(t = t || {});
													for (
														var n,
															r,
															i,
															o,
															a = [],
															s = 0;
														s < e.length;
														s++
													)
														if (
															((n =
																e[s].w ||
																e[s].width),
															(r =
																e[s].h ||
																e[s].height),
															(i = e[s].id),
															n && r)
														) {
															if (
																!(o =
																	this.packOne(
																		n,
																		r,
																		i
																	))
															)
																continue;
															t.inPlace &&
																((e[s].x = o.x),
																(e[s].y = o.y),
																(e[s].id =
																	o.id)),
																a.push(o);
														}
													return this.shrink(), a;
												}),
												(e.prototype.packOne =
													function (e, n, r) {
														var i,
															o,
															a,
															s,
															l,
															u,
															c,
															f,
															h = {
																freebin: -1,
																shelf: -1,
																waste: 1 / 0,
															},
															p = 0;
														if (
															"string" ==
																typeof r ||
															"number" == typeof r
														) {
															if (
																(i =
																	this.getBin(
																		r
																	))
															)
																return (
																	this.ref(i),
																	i
																);
															"number" ==
																typeof r &&
																(this.maxId =
																	Math.max(
																		r,
																		this
																			.maxId
																	));
														} else r = ++this.maxId;
														for (
															s = 0;
															s <
															this.freebins
																.length;
															s++
														) {
															if (
																n ===
																	(i =
																		this
																			.freebins[
																			s
																		])
																		.maxh &&
																e === i.maxw
															)
																return this.allocFreebin(
																	s,
																	e,
																	n,
																	r
																);
															n > i.maxh ||
																e > i.maxw ||
																(n <= i.maxh &&
																	e <=
																		i.maxw &&
																	(a =
																		i.maxw *
																			i.maxh -
																		e * n) <
																		h.waste &&
																	((h.waste =
																		a),
																	(h.freebin =
																		s)));
														}
														for (
															s = 0;
															s <
															this.shelves.length;
															s++
														)
															if (
																((p += (o =
																	this
																		.shelves[
																		s
																	]).h),
																!(e > o.free))
															) {
																if (n === o.h)
																	return this.allocShelf(
																		s,
																		e,
																		n,
																		r
																	);
																n > o.h ||
																	(n < o.h &&
																		(a =
																			(o.h -
																				n) *
																			e) <
																			h.waste &&
																		((h.freebin =
																			-1),
																		(h.waste =
																			a),
																		(h.shelf =
																			s)));
															}
														return -1 !== h.freebin
															? this.allocFreebin(
																	h.freebin,
																	e,
																	n,
																	r
															  )
															: -1 !== h.shelf
															? this.allocShelf(
																	h.shelf,
																	e,
																	n,
																	r
															  )
															: n <= this.h - p &&
															  e <= this.w
															? ((o = new t(
																	p,
																	this.w,
																	n
															  )),
															  this.allocShelf(
																	this.shelves.push(
																		o
																	) - 1,
																	e,
																	n,
																	r
															  ))
															: this.autoResize
															? ((l = u = this.h),
															  ((c = f =
																	this.w) <=
																	l ||
																	e > c) &&
																	(f =
																		2 *
																		Math.max(
																			e,
																			c
																		)),
															  (l < c ||
																	n > l) &&
																	(u =
																		2 *
																		Math.max(
																			n,
																			l
																		)),
															  this.resize(f, u),
															  this.packOne(
																	e,
																	n,
																	r
															  ))
															: null;
													}),
												(e.prototype.allocFreebin =
													function (e, t, n, r) {
														var i =
															this.freebins.splice(
																e,
																1
															)[0];
														return (
															(i.id = r),
															(i.w = t),
															(i.h = n),
															(i.refcount = 0),
															(this.bins[r] = i),
															this.ref(i),
															i
														);
													}),
												(e.prototype.allocShelf =
													function (e, t, n, r) {
														var i = this.shelves[
															e
														].alloc(t, n, r);
														return (
															(this.bins[r] = i),
															this.ref(i),
															i
														);
													}),
												(e.prototype.shrink =
													function () {
														if (
															this.shelves
																.length > 0
														) {
															for (
																var e = 0,
																	t = 0,
																	n = 0;
																n <
																this.shelves
																	.length;
																n++
															) {
																var r =
																	this
																		.shelves[
																		n
																	];
																(t += r.h),
																	(e =
																		Math.max(
																			r.w -
																				r.free,
																			e
																		));
															}
															this.resize(e, t);
														}
													}),
												(e.prototype.getBin = function (
													e
												) {
													return this.bins[e];
												}),
												(e.prototype.ref = function (
													e
												) {
													if (1 == ++e.refcount) {
														var t = e.h;
														this.stats[t] =
															1 +
															(0 | this.stats[t]);
													}
													return e.refcount;
												}),
												(e.prototype.unref = function (
													e
												) {
													return 0 === e.refcount
														? 0
														: (0 == --e.refcount &&
																(this.stats[
																	e.h
																]--,
																delete this
																	.bins[e.id],
																this.freebins.push(
																	e
																)),
														  e.refcount);
												}),
												(e.prototype.clear =
													function () {
														(this.shelves = []),
															(this.freebins =
																[]),
															(this.stats = {}),
															(this.bins = {}),
															(this.maxId = 0);
													}),
												(e.prototype.resize = function (
													e,
													t
												) {
													(this.w = e), (this.h = t);
													for (
														var n = 0;
														n < this.shelves.length;
														n++
													)
														this.shelves[n].resize(
															e
														);
													return !0;
												}),
												(t.prototype.alloc = function (
													e,
													t,
													r
												) {
													if (
														e > this.free ||
														t > this.h
													)
														return null;
													var i = this.x;
													return (
														(this.x += e),
														(this.free -= e),
														new n(
															r,
															i,
															this.y,
															e,
															t,
															e,
															this.h
														)
													);
												}),
												(t.prototype.resize = function (
													e
												) {
													return (
														(this.free +=
															e - this.w),
														(this.w = e),
														!0
													);
												}),
												e
											);
										})();
									},
									function (e, t, n) {
										var r = n(0),
											i = n(16),
											o = n(2),
											a = n(34).normalizeSourceURL;
										e.exports = function (e, t, n) {
											var s = function (e, t) {
												if (e) return n(e);
												if (t) {
													var i = r.pick(t, [
														"tiles",
														"minzoom",
														"maxzoom",
														"attribution",
														"mapbox_logo",
														"bounds",
													]);
													t.vector_layers &&
														((i.vectorLayers =
															t.vector_layers),
														(i.vectorLayerIds =
															i.vectorLayers.map(
																function (e) {
																	return e.id;
																}
															))),
														n(null, i);
												}
											};
											e.url
												? i.getJSON(
														t(
															a(e.url),
															i.ResourceType
																.Source
														),
														s
												  )
												: o.frame(function () {
														return s(null, e);
												  });
										};
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(39),
											o = n(0).clamp,
											a = (function () {
												function e(t, n, r) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.bounds =
															i.convert(
																this.validateBounds(
																	t
																)
															)),
														(this.minzoom = n || 0),
														(this.maxzoom =
															r || 24);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "validateBounds",
															value: function (
																e
															) {
																return Array.isArray(
																	e
																) &&
																	4 ===
																		e.length
																	? [
																			Math.max(
																				-180,
																				e[0]
																			),
																			Math.max(
																				-90,
																				e[1]
																			),
																			Math.min(
																				180,
																				e[2]
																			),
																			Math.min(
																				90,
																				e[3]
																			),
																	  ]
																	: [
																			-180,
																			-90,
																			180,
																			90,
																	  ];
															},
														},
														{
															key: "contains",
															value: function (
																e
															) {
																var t =
																		Math.floor(
																			this.lngX(
																				this.bounds.getWest(),
																				e.z
																			)
																		),
																	n =
																		Math.floor(
																			this.latY(
																				this.bounds.getNorth(),
																				e.z
																			)
																		),
																	r =
																		Math.ceil(
																			this.lngX(
																				this.bounds.getEast(),
																				e.z
																			)
																		),
																	i =
																		Math.ceil(
																			this.latY(
																				this.bounds.getSouth(),
																				e.z
																			)
																		);
																return (
																	e.x >= t &&
																	e.x < r &&
																	e.y >= n &&
																	e.y < i
																);
															},
														},
														{
															key: "lngX",
															value: function (
																e,
																t
															) {
																return (
																	(e + 180) *
																	(Math.pow(
																		2,
																		t
																	) /
																		360)
																);
															},
														},
														{
															key: "latY",
															value: function (
																e,
																t
															) {
																var n = o(
																		Math.sin(
																			(Math.PI /
																				180) *
																				e
																		),
																		-0.9999,
																		0.9999
																	),
																	r =
																		Math.pow(
																			2,
																			t
																		) /
																		(2 *
																			Math.PI);
																return (
																	Math.pow(
																		2,
																		t - 1
																	) +
																	0.5 *
																		Math.log(
																			(1 +
																				n) /
																				(1 -
																					n)
																		) *
																		-r
																);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = a;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function u(e) {
											return (u = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function f(e) {
											if (void 0 === e)
												throw new ReferenceError(
													"this hasn't been initialised - super() hasn't been called"
												);
											return e;
										}
										function h(e, t) {
											return (h =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var p = i(0),
											d = i(16),
											y = i(10),
											m = i(112),
											v = i(34).normalizeTileURL,
											g = i(113),
											_ = i(20),
											b = (function (e) {
												function t(e, n, r, i) {
													var a;
													return (
														(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((a = (function (e, t) {
															return !t ||
																("object" !==
																	o(t) &&
																	"function" !=
																		typeof t)
																? f(e)
																: t;
														})(
															this,
															u(t).call(this)
														)).id = e),
														(a.dispatcher = r),
														a.setEventedParent(i),
														(a.type = "raster"),
														(a.minzoom = 0),
														(a.maxzoom = 22),
														(a.roundZoom = !0),
														(a.scheme = "xyz"),
														(a.tileSize = 512),
														(a._loaded = !1),
														(a._options = p.extend(
															{},
															n
														)),
														p.extend(
															f(a),
															p.pick(n, [
																"url",
																"scheme",
																"tileSize",
															])
														),
														a
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && h(e, t);
													})(t, y),
													(n = t),
													(r = [
														{
															key: "load",
															value: function () {
																var e = this;
																this.fire(
																	"dataloading",
																	{
																		dataType:
																			"source",
																	}
																),
																	m(
																		this
																			._options,
																		this.map
																			._transformRequest,
																		function (
																			t,
																			n
																		) {
																			t
																				? e.fire(
																						"error",
																						t
																				  )
																				: n &&
																				  (p.extend(
																						e,
																						n
																				  ),
																				  n.bounds &&
																						(e.tileBounds =
																							new g(
																								n.bounds,
																								e.minzoom,
																								e.maxzoom
																							)),
																				  e.fire(
																						"data",
																						{
																							dataType:
																								"source",
																							sourceDataType:
																								"metadata",
																						}
																				  ),
																				  e.fire(
																						"data",
																						{
																							dataType:
																								"source",
																							sourceDataType:
																								"content",
																						}
																				  ));
																		}
																	);
															},
														},
														{
															key: "onAdd",
															value: function (
																e
															) {
																(this.map = e),
																	this.load();
															},
														},
														{
															key: "serialize",
															value: function () {
																return p.extend(
																	{},
																	this
																		._options
																);
															},
														},
														{
															key: "hasTile",
															value: function (
																e
															) {
																return (
																	!this
																		.tileBounds ||
																	this.tileBounds.contains(
																		e.canonical
																	)
																);
															},
														},
														{
															key: "loadTile",
															value: function (
																e,
																t
															) {
																var n = this,
																	r = v(
																		e.tileID.canonical.url(
																			this
																				.tiles,
																			this
																				.scheme
																		),
																		this
																			.url,
																		this
																			.tileSize
																	);
																e.request =
																	d.getImage(
																		this.map._transformRequest(
																			r,
																			d
																				.ResourceType
																				.Tile
																		),
																		function (
																			r,
																			i
																		) {
																			if (
																				(delete e.request,
																				e.aborted)
																			)
																				(e.state =
																					"unloaded"),
																					t(
																						null
																					);
																			else if (
																				r
																			)
																				(e.state =
																					"errored"),
																					t(
																						r
																					);
																			else if (
																				i
																			) {
																				n
																					.map
																					._refreshExpiredTiles &&
																					e.setExpiryData(
																						i
																					),
																					delete i.cacheControl,
																					delete i.expires;
																				var o =
																						n
																							.map
																							.painter
																							.context,
																					a =
																						o.gl;
																				(e.texture =
																					n.map.painter.getTileTexture(
																						i.width
																					)),
																					e.texture
																						? (e.texture.bind(
																								a.LINEAR,
																								a.CLAMP_TO_EDGE,
																								a.LINEAR_MIPMAP_NEAREST
																						  ),
																						  a.texSubImage2D(
																								a.TEXTURE_2D,
																								0,
																								0,
																								0,
																								a.RGBA,
																								a.UNSIGNED_BYTE,
																								i
																						  ))
																						: ((e.texture =
																								new _(
																									o,
																									i,
																									a.RGBA
																								)),
																						  e.texture.bind(
																								a.LINEAR,
																								a.CLAMP_TO_EDGE,
																								a.LINEAR_MIPMAP_NEAREST
																						  ),
																						  o.extTextureFilterAnisotropic &&
																								a.texParameterf(
																									a.TEXTURE_2D,
																									o
																										.extTextureFilterAnisotropic
																										.TEXTURE_MAX_ANISOTROPY_EXT,
																									o.extTextureFilterAnisotropicMax
																								)),
																					a.generateMipmap(
																						a.TEXTURE_2D
																					),
																					(e.state =
																						"loaded"),
																					t(
																						null
																					);
																			}
																		}
																	);
															},
														},
														{
															key: "abortTile",
															value: function (
																e,
																t
															) {
																e.request &&
																	(e.request.abort(),
																	delete e.request),
																	t();
															},
														},
														{
															key: "unloadTile",
															value: function (
																e,
																t
															) {
																e.texture &&
																	this.map.painter.saveTileTexture(
																		e.texture
																	),
																	t();
															},
														},
														{
															key: "hasTransition",
															value: function () {
																return !1;
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										e.exports = b;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function u(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function f(e) {
											return (f = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function h(e, t) {
											return (h =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var p = i(10),
											y = i(0),
											m = i(5),
											v = i(6),
											g = i(16).ResourceType,
											_ = i(2),
											b = (function (e) {
												function t(e, n, r, i) {
													var o;
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, t),
														((o = u(
															this,
															f(t).call(this)
														)).id = e),
														(o.type = "geojson"),
														(o.minzoom = 0),
														(o.maxzoom = 18),
														(o.tileSize = 512),
														(o.isTileClipped = !0),
														(o.reparseOverscaled =
															!0),
														(o.dispatcher = r),
														o.setEventedParent(i),
														(o._data = n.data),
														(o._options = y.extend(
															{},
															n
														)),
														void 0 !== n.maxzoom &&
															(o.maxzoom =
																n.maxzoom),
														n.type &&
															(o.type = n.type);
													var a = v / o.tileSize;
													return (
														(o.workerOptions =
															y.extend(
																{
																	source: o.id,
																	cluster:
																		n.cluster ||
																		!1,
																	geojsonVtOptions:
																		{
																			buffer:
																				(void 0 !==
																				n.buffer
																					? n.buffer
																					: 128) *
																				a,
																			tolerance:
																				(void 0 !==
																				n.tolerance
																					? n.tolerance
																					: 0.375) *
																				a,
																			extent: v,
																			maxZoom:
																				o.maxzoom,
																		},
																	superclusterOptions:
																		{
																			maxZoom:
																				void 0 !==
																				n.clusterMaxZoom
																					? Math.min(
																							n.clusterMaxZoom,
																							o.maxzoom -
																								1
																					  )
																					: o.maxzoom -
																					  1,
																			extent: v,
																			radius:
																				(n.clusterRadius ||
																					50) *
																				a,
																			log: !1,
																		},
																},
																n.workerOptions
															)),
														o
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && h(e, t);
													})(t, p),
													(n = t),
													(r = [
														{
															key: "load",
															value: function () {
																var e = this;
																this.fire(
																	"dataloading",
																	{
																		dataType:
																			"source",
																	}
																),
																	this._updateWorkerData(
																		function (
																			t
																		) {
																			t
																				? e.fire(
																						"error",
																						{
																							error: t,
																						}
																				  )
																				: e.fire(
																						"data",
																						{
																							dataType:
																								"source",
																							sourceDataType:
																								"metadata",
																						}
																				  );
																		}
																	);
															},
														},
														{
															key: "onAdd",
															value: function (
																e
															) {
																(this.map = e),
																	this.load();
															},
														},
														{
															key: "setData",
															value: function (
																e
															) {
																var t = this;
																return (
																	(this._data =
																		e),
																	this.fire(
																		"dataloading",
																		{
																			dataType:
																				"source",
																		}
																	),
																	this._updateWorkerData(
																		function (
																			e
																		) {
																			if (
																				e
																			)
																				return t.fire(
																					"error",
																					{
																						error: e,
																					}
																				);
																			t.fire(
																				"data",
																				{
																					dataType:
																						"source",
																					sourceDataType:
																						"content",
																				}
																			);
																		}
																	),
																	this
																);
															},
														},
														{
															key: "_updateWorkerData",
															value: function (
																e
															) {
																var t,
																	n,
																	r = this,
																	i =
																		y.extend(
																			{},
																			this
																				.workerOptions
																		),
																	o =
																		this
																			._data;
																"string" ==
																typeof o
																	? (i.request =
																			this.map._transformRequest(
																				((t =
																					o),
																				((n =
																					m.document.createElement(
																						"a"
																					)).href =
																					t),
																				n.href),
																				g.Source
																			))
																	: (i.data =
																			(0,
																			d.default)(
																				o
																			)),
																	(this.workerID =
																		this.dispatcher.send(
																			"".concat(
																				this
																					.type,
																				".loadData"
																			),
																			i,
																			function (
																				t
																			) {
																				(r._loaded =
																					!0),
																					e(
																						t
																					);
																			},
																			this
																				.workerID
																		));
															},
														},
														{
															key: "loadTile",
															value: function (
																e,
																t
															) {
																var n = this,
																	r =
																		void 0 ===
																			e.workerID ||
																		"expired" ===
																			e.state
																			? "loadTile"
																			: "reloadTile",
																	i = {
																		type: this
																			.type,
																		uid: e.uid,
																		tileID: e.tileID,
																		zoom: e
																			.tileID
																			.overscaledZ,
																		maxZoom:
																			this
																				.maxzoom,
																		tileSize:
																			this
																				.tileSize,
																		source: this
																			.id,
																		pixelRatio:
																			_.devicePixelRatio,
																		overscaling:
																			e.tileID.overscaleFactor(),
																		showCollisionBoxes:
																			this
																				.map
																				.showCollisionBoxes,
																	};
																e.workerID =
																	this.dispatcher.send(
																		r,
																		i,
																		function (
																			i,
																			o
																		) {
																			return (
																				e.unloadVectorData(),
																				e.aborted
																					? t(
																							null
																					  )
																					: i
																					? t(
																							i
																					  )
																					: (e.loadVectorData(
																							o,
																							n
																								.map
																								.painter,
																							"reloadTile" ===
																								r
																					  ),
																					  t(
																							null
																					  ))
																			);
																		},
																		this
																			.workerID
																	);
															},
														},
														{
															key: "abortTile",
															value: function (
																e
															) {
																e.aborted = !0;
															},
														},
														{
															key: "unloadTile",
															value: function (
																e
															) {
																e.unloadVectorData(),
																	this.dispatcher.send(
																		"removeTile",
																		{
																			uid: e.uid,
																			type: this
																				.type,
																			source: this
																				.id,
																		},
																		null,
																		e.workerID
																	);
															},
														},
														{
															key: "onRemove",
															value: function () {
																this.dispatcher.broadcast(
																	"removeSource",
																	{
																		type: this
																			.type,
																		source: this
																			.id,
																	}
																);
															},
														},
														{
															key: "serialize",
															value: function () {
																return y.extend(
																	{},
																	this
																		._options,
																	{
																		type: this
																			.type,
																		data: this
																			._data,
																	}
																);
															},
														},
														{
															key: "hasTransition",
															value: function () {
																return !1;
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										e.exports = b;
									},
									function (e, t) {
										function n(e, t) {
											var n = e.tileID,
												r = t.tileID;
											return (
												n.overscaledZ - r.overscaledZ ||
												n.canonical.y - r.canonical.y ||
												n.wrap - r.wrap ||
												n.canonical.x - r.canonical.x
											);
										}
										(t.rendered = function (
											e,
											t,
											r,
											i,
											a,
											s,
											l
										) {
											var u = e.tilesIn(r);
											u.sort(n);
											var c = [],
												f = !0,
												h = !1,
												p = void 0;
											try {
												for (
													var d,
														y = (0, o.default)(u);
													!(f = (d = y.next()).done);
													f = !0
												) {
													var m = d.value;
													c.push({
														wrappedTileID:
															m.tileID.wrapped()
																.key,
														queryResults:
															m.tile.queryRenderedFeatures(
																t,
																m.queryGeometry,
																m.scale,
																i,
																s,
																e.id,
																l
															),
													});
												}
											} catch (e) {
												(h = !0), (p = e);
											} finally {
												try {
													f ||
														null == y.return ||
														y.return();
												} finally {
													if (h) throw p;
												}
											}
											return (function (e) {
												var t = {},
													n = {},
													r = !0,
													i = !1,
													a = void 0;
												try {
													for (
														var s,
															l = (0, o.default)(
																e
															);
														!(r = (s = l.next())
															.done);
														r = !0
													) {
														var u = s.value,
															c = u.queryResults,
															f = u.wrappedTileID,
															h = (n[f] =
																n[f] || {});
														for (var p in c) {
															var d = c[p],
																y = (h[p] =
																	h[p] || {}),
																m = (t[p] =
																	t[p] || []),
																v = !0,
																g = !1,
																_ = void 0;
															try {
																for (
																	var b,
																		x = (0,
																		o.default)(
																			d
																		);
																	!(v = (b =
																		x.next())
																		.done);
																	v = !0
																) {
																	var w =
																		b.value;
																	y[
																		w
																			.featureIndex
																	] ||
																		((y[
																			w.featureIndex
																		] = !0),
																		m.push(
																			w.feature
																		));
																}
															} catch (e) {
																(g = !0),
																	(_ = e);
															} finally {
																try {
																	v ||
																		null ==
																			x.return ||
																		x.return();
																} finally {
																	if (g)
																		throw _;
																}
															}
														}
													}
												} catch (e) {
													(i = !0), (a = e);
												} finally {
													try {
														r ||
															null == l.return ||
															l.return();
													} finally {
														if (i) throw a;
													}
												}
												return t;
											})(c);
										}),
											(t.source = function (e, t) {
												for (
													var n = e
															.getRenderableIds()
															.map(function (t) {
																return e.getTileByID(
																	t
																);
															}),
														r = [],
														i = {},
														o = 0;
													o < n.length;
													o++
												) {
													var a = n[o],
														s =
															a.tileID.canonical
																.key;
													i[s] ||
														((i[s] = !0),
														a.querySourceFeatures(
															r,
															t
														));
												}
												return r;
											});
									},
									function (e, n, i) {
										function s(e) {
											return (s =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function f(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function h(e) {
											return (h = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function p(e) {
											if (void 0 === e)
												throw new ReferenceError(
													"this hasn't been initialised - super() hasn't been called"
												);
											return e;
										}
										function d(e, t) {
											return (d =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var y = i(45).create,
											m = i(118),
											v = i(10),
											g = i(121),
											_ = i(35),
											b = i(0),
											x = i(6),
											w = (i(67), i(3)),
											C = i(2),
											T = i(27).OverscaledTileID,
											k = i(1),
											P = (function (e) {
												function t(e, n, r) {
													var i;
													return (
														(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((i = (function (e, t) {
															return !t ||
																("object" !==
																	s(t) &&
																	"function" !=
																		typeof t)
																? p(e)
																: t;
														})(
															this,
															h(t).call(this)
														)).id = e),
														(i.dispatcher = r),
														i.on(
															"data",
															function (e) {
																"source" ===
																	e.dataType &&
																	"metadata" ===
																		e.sourceDataType &&
																	(i._sourceLoaded =
																		!0),
																	i._sourceLoaded &&
																		!i._paused &&
																		"source" ===
																			e.dataType &&
																		"content" ===
																			e.sourceDataType &&
																		(i.reload(),
																		i.transform &&
																			i.update(
																				i.transform
																			));
															}
														),
														i.on(
															"error",
															function () {
																i._sourceErrored =
																	!0;
															}
														),
														(i._source = y(
															e,
															n,
															r,
															p(i)
														)),
														(i._tiles = {}),
														(i._cache = new g(
															0,
															i._unloadTile.bind(
																p(i)
															)
														)),
														(i._timers = {}),
														(i._cacheTimers = {}),
														(i._maxTileCacheSize =
															null),
														(i._isIdRenderable =
															i._isIdRenderable.bind(
																p(i)
															)),
														(i._coveredTiles = {}),
														i
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && d(e, t);
													})(t, v),
													(n = t),
													(r = [
														{
															key: "onAdd",
															value: function (
																e
															) {
																(this.map = e),
																	(this._maxTileCacheSize =
																		e
																			? e._maxTileCacheSize
																			: null),
																	this
																		._source &&
																		this
																			._source
																			.onAdd &&
																		this._source.onAdd(
																			e
																		);
															},
														},
														{
															key: "onRemove",
															value: function (
																e
															) {
																this._source &&
																	this._source
																		.onRemove &&
																	this._source.onRemove(
																		e
																	);
															},
														},
														{
															key: "loaded",
															value: function () {
																if (
																	this
																		._sourceErrored
																)
																	return !0;
																if (
																	!this
																		._sourceLoaded
																)
																	return !1;
																for (var e in this
																	._tiles) {
																	var t =
																		this
																			._tiles[
																			e
																		];
																	if (
																		"loaded" !==
																			t.state &&
																		"errored" !==
																			t.state
																	)
																		return !1;
																}
																return !0;
															},
														},
														{
															key: "getSource",
															value: function () {
																return this
																	._source;
															},
														},
														{
															key: "pause",
															value: function () {
																this._paused =
																	!0;
															},
														},
														{
															key: "resume",
															value: function () {
																if (
																	this._paused
																) {
																	var e =
																		this
																			._shouldReloadOnResume;
																	(this._paused =
																		!1),
																		(this._shouldReloadOnResume =
																			!1),
																		e &&
																			this.reload(),
																		this
																			.transform &&
																			this.update(
																				this
																					.transform
																			);
																}
															},
														},
														{
															key: "_loadTile",
															value: function (
																e,
																t
															) {
																return this._source.loadTile(
																	e,
																	t
																);
															},
														},
														{
															key: "_unloadTile",
															value: function (
																e
															) {
																if (
																	this._source
																		.unloadTile
																)
																	return this._source.unloadTile(
																		e,
																		function () {}
																	);
															},
														},
														{
															key: "_abortTile",
															value: function (
																e
															) {
																if (
																	this._source
																		.abortTile
																)
																	return this._source.abortTile(
																		e,
																		function () {}
																	);
															},
														},
														{
															key: "serialize",
															value: function () {
																return this._source.serialize();
															},
														},
														{
															key: "prepare",
															value: function (
																e
															) {
																for (var t in (this
																	._source
																	.prepare &&
																	this._source.prepare(),
																this._tiles))
																	this._tiles[
																		t
																	].upload(e);
															},
														},
														{
															key: "getIds",
															value: function () {
																var e = this;
																return (0,
																u.default)(
																	this._tiles
																)
																	.map(Number)
																	.sort(
																		function (
																			t,
																			n
																		) {
																			var r =
																					e
																						._tiles[
																						t
																					]
																						.tileID,
																				i =
																					e
																						._tiles[
																						n
																					]
																						.tileID,
																				o =
																					new w(
																						r.canonical.x,
																						r.canonical.y
																					).rotate(
																						e
																							.transform
																							.angle
																					),
																				a =
																					new w(
																						i.canonical.x,
																						i.canonical.y
																					).rotate(
																						e
																							.transform
																							.angle
																					);
																			return (
																				r.overscaledZ -
																					i.overscaledZ ||
																				a.y -
																					o.y ||
																				a.x -
																					o.x
																			);
																		}
																	);
															},
														},
														{
															key: "getRenderableIds",
															value: function () {
																return this.getIds().filter(
																	this
																		._isIdRenderable
																);
															},
														},
														{
															key: "hasRenderableParent",
															value: function (
																e
															) {
																var t =
																	this.findLoadedParent(
																		e,
																		0,
																		{}
																	);
																return (
																	!!t &&
																	this._isIdRenderable(
																		t.tileID
																			.key
																	)
																);
															},
														},
														{
															key: "_isIdRenderable",
															value: function (
																e
															) {
																return (
																	this._tiles[
																		e
																	] &&
																	this._tiles[
																		e
																	].hasData() &&
																	!this
																		._coveredTiles[
																		e
																	]
																);
															},
														},
														{
															key: "reload",
															value: function () {
																if (
																	this._paused
																)
																	this._shouldReloadOnResume =
																		!0;
																else
																	for (var e in (this._resetCache(),
																	this
																		._tiles))
																		this._reloadTile(
																			e,
																			"reloading"
																		);
															},
														},
														{
															key: "_reloadTile",
															value: function (
																e,
																t
															) {
																var n =
																	this._tiles[
																		e
																	];
																n &&
																	("loading" !==
																		n.state &&
																		(n.state =
																			t),
																	this._loadTile(
																		n,
																		this._tileLoaded.bind(
																			this,
																			n,
																			e,
																			t
																		)
																	));
															},
														},
														{
															key: "_tileLoaded",
															value: function (
																e,
																t,
																n,
																r
															) {
																if (r)
																	return (
																		(e.state =
																			"errored"),
																		void (404 !==
																		r.status
																			? this._source.fire(
																					"error",
																					{
																						tile: e,
																						error: r,
																					}
																			  )
																			: this.update(
																					this
																						.transform
																			  ))
																	);
																(e.timeAdded =
																	C.now()),
																	"expired" ===
																		n &&
																		(e.refreshedUponExpiration =
																			!0),
																	this._setTileReloadTimer(
																		t,
																		e
																	),
																	"raster-dem" ===
																		this.getSource()
																			.type &&
																		e.dem &&
																		this._backfillDEM(
																			e
																		),
																	this._source.fire(
																		"data",
																		{
																			dataType:
																				"source",
																			tile: e,
																			coord: e.tileID,
																		}
																	),
																	this.map &&
																		(this.map.painter.tileExtentVAO.vao =
																			null);
															},
														},
														{
															key: "_backfillDEM",
															value: function (
																e
															) {
																for (
																	var t =
																			this.getRenderableIds(),
																		n = 0;
																	n <
																	t.length;
																	n++
																) {
																	var r =
																		t[n];
																	if (
																		e.neighboringTiles &&
																		e
																			.neighboringTiles[
																			r
																		]
																	) {
																		var i =
																			this.getTileByID(
																				r
																			);
																		o(e, i),
																			o(
																				i,
																				e
																			);
																	}
																}
																function o(
																	e,
																	t
																) {
																	e.needsHillshadePrepare =
																		!0;
																	var n =
																			t
																				.tileID
																				.canonical
																				.x -
																			e
																				.tileID
																				.canonical
																				.x,
																		r =
																			t
																				.tileID
																				.canonical
																				.y -
																			e
																				.tileID
																				.canonical
																				.y,
																		i =
																			Math.pow(
																				2,
																				e
																					.tileID
																					.canonical
																					.z
																			),
																		o =
																			t
																				.tileID
																				.key;
																	(0 === n &&
																		0 ===
																			r) ||
																		Math.abs(
																			r
																		) > 1 ||
																		(Math.abs(
																			n
																		) > 1 &&
																			(1 ===
																			Math.abs(
																				n +
																					i
																			)
																				? (n +=
																						i)
																				: 1 ===
																						Math.abs(
																							n -
																								i
																						) &&
																				  (n -=
																						i)),
																		t.dem &&
																			e.dem &&
																			(e.dem.backfillBorder(
																				t.dem,
																				n,
																				r
																			),
																			e.neighboringTiles &&
																				e
																					.neighboringTiles[
																					o
																				] &&
																				(e.neighboringTiles[
																					o
																				].backfilled =
																					!0)));
																}
															},
														},
														{
															key: "getTile",
															value: function (
																e
															) {
																return this.getTileByID(
																	e.key
																);
															},
														},
														{
															key: "getTileByID",
															value: function (
																e
															) {
																return this
																	._tiles[e];
															},
														},
														{
															key: "getZoom",
															value: function (
																e
															) {
																return (
																	e.zoom +
																	e.scaleZoom(
																		e.tileSize /
																			this
																				._source
																				.tileSize
																	)
																);
															},
														},
														{
															key: "_findLoadedChildren",
															value: function (
																e,
																t,
																n
															) {
																var r = !1;
																for (var i in this
																	._tiles) {
																	var o =
																		this
																			._tiles[
																			i
																		];
																	if (
																		!(
																			n[
																				i
																			] ||
																			!o.hasData() ||
																			o
																				.tileID
																				.overscaledZ <=
																				e.overscaledZ ||
																			o
																				.tileID
																				.overscaledZ >
																				t
																		)
																	) {
																		var a =
																			Math.pow(
																				2,
																				o
																					.tileID
																					.canonical
																					.z -
																					e
																						.canonical
																						.z
																			);
																		if (
																			Math.floor(
																				o
																					.tileID
																					.canonical
																					.x /
																					a
																			) ===
																				e
																					.canonical
																					.x &&
																			Math.floor(
																				o
																					.tileID
																					.canonical
																					.y /
																					a
																			) ===
																				e
																					.canonical
																					.y
																		)
																			for (
																				n[
																					i
																				] =
																					o.tileID,
																					r =
																						!0;
																				o &&
																				o
																					.tileID
																					.overscaledZ -
																					1 >
																					e.overscaledZ;

																			) {
																				var s =
																					o.tileID.scaledTo(
																						o
																							.tileID
																							.overscaledZ -
																							1
																					);
																				if (
																					!s
																				)
																					break;
																				(o =
																					this
																						._tiles[
																						s
																							.key
																					]) &&
																					o.hasData() &&
																					(delete n[
																						i
																					],
																					(n[
																						s.key
																					] =
																						s));
																			}
																	}
																}
																return r;
															},
														},
														{
															key: "findLoadedParent",
															value: function (
																e,
																t,
																n
															) {
																for (
																	var r =
																		e.overscaledZ -
																		1;
																	r >= t;
																	r--
																) {
																	var i =
																		e.scaledTo(
																			r
																		);
																	if (!i)
																		return;
																	var o =
																			String(
																				i.key
																			),
																		a =
																			this
																				._tiles[
																				o
																			];
																	if (
																		a &&
																		a.hasData()
																	)
																		return (
																			(n[
																				o
																			] =
																				i),
																			a
																		);
																	if (
																		this._cache.has(
																			o
																		)
																	)
																		return (
																			(n[
																				o
																			] =
																				i),
																			this._cache.get(
																				o
																			)
																		);
																}
															},
														},
														{
															key: "updateCacheSize",
															value: function (
																e
															) {
																var t =
																		(Math.ceil(
																			e.width /
																				this
																					._source
																					.tileSize
																		) +
																			1) *
																		(Math.ceil(
																			e.height /
																				this
																					._source
																					.tileSize
																		) +
																			1),
																	n =
																		Math.floor(
																			5 *
																				t
																		),
																	r =
																		"number" ==
																		typeof this
																			._maxTileCacheSize
																			? Math.min(
																					this
																						._maxTileCacheSize,
																					n
																			  )
																			: n;
																this._cache.setMaxSize(
																	r
																);
															},
														},
														{
															key: "update",
															value: function (
																e
															) {
																var n = this;
																if (
																	((this.transform =
																		e),
																	this
																		._sourceLoaded &&
																		!this
																			._paused)
																) {
																	var r;
																	this.updateCacheSize(
																		e
																	),
																		(this._coveredTiles =
																			{}),
																		this
																			.used
																			? this
																					._source
																					.tileID
																				? (r =
																						e
																							.getVisibleUnwrappedCoordinates(
																								this
																									._source
																									.tileID
																							)
																							.map(
																								function (
																									e
																								) {
																									return new T(
																										e.canonical.z,
																										e.wrap,
																										e.canonical.z,
																										e.canonical.x,
																										e.canonical.y
																									);
																								}
																							))
																				: ((r =
																						e.coveringTiles(
																							{
																								tileSize:
																									this
																										._source
																										.tileSize,
																								minzoom:
																									this
																										._source
																										.minzoom,
																								maxzoom:
																									this
																										._source
																										.maxzoom,
																								roundZoom:
																									this
																										._source
																										.roundZoom,
																								reparseOverscaled:
																									this
																										._source
																										.reparseOverscaled,
																							}
																						)),
																				  this
																						._source
																						.hasTile &&
																						(r =
																							r.filter(
																								function (
																									e
																								) {
																									return n._source.hasTile(
																										e
																									);
																								}
																							)))
																			: (r =
																					[]);
																	var i,
																		o = (
																			this
																				._source
																				.roundZoom
																				? Math.round
																				: Math.floor
																		)(
																			this.getZoom(
																				e
																			)
																		),
																		a =
																			Math.max(
																				o -
																					t.maxOverzooming,
																				this
																					._source
																					.minzoom
																			),
																		s =
																			Math.max(
																				o +
																					t.maxUnderzooming,
																				this
																					._source
																					.minzoom
																			),
																		l =
																			this._updateRetainedTiles(
																				r,
																				o
																			),
																		c = {};
																	if (
																		S(
																			this
																				._source
																				.type
																		)
																	)
																		for (
																			var f =
																					(0,
																					u.default)(
																						l
																					),
																				h = 0;
																			h <
																			f.length;
																			h++
																		) {
																			var p =
																					f[
																						h
																					],
																				d =
																					l[
																						p
																					];
																			k(
																				d.key ===
																					+p
																			);
																			var y =
																				this
																					._tiles[
																					p
																				];
																			if (
																				y &&
																				(void 0 ===
																					y.fadeEndTime ||
																					y.fadeEndTime >=
																						C.now())
																			) {
																				this._findLoadedChildren(
																					d,
																					s,
																					l
																				) &&
																					(l[
																						p
																					] =
																						d);
																				var m =
																					this.findLoadedParent(
																						d,
																						a,
																						c
																					);
																				m &&
																					this._addTile(
																						m.tileID
																					);
																			}
																		}
																	for (i in c)
																		l[i] ||
																			(this._coveredTiles[
																				i
																			] =
																				!0);
																	for (i in c)
																		l[i] =
																			c[
																				i
																			];
																	for (
																		var v =
																				b.keysDifference(
																					this
																						._tiles,
																					l
																				),
																			g = 0;
																		g <
																		v.length;
																		g++
																	)
																		this._removeTile(
																			v[g]
																		);
																}
															},
														},
														{
															key: "_updateRetainedTiles",
															value: function (
																e,
																n
															) {
																for (
																	var r = {},
																		i = {},
																		o =
																			Math.max(
																				n -
																					t.maxOverzooming,
																				this
																					._source
																					.minzoom
																			),
																		a =
																			Math.max(
																				n +
																					t.maxUnderzooming,
																				this
																					._source
																					.minzoom
																			),
																		s = 0;
																	s <
																	e.length;
																	s++
																) {
																	var l =
																			e[
																				s
																			],
																		u =
																			this._addTile(
																				l
																			),
																		c = !1;
																	if (
																		u.hasData()
																	)
																		r[
																			l.key
																		] = l;
																	else {
																		(c =
																			u.wasRequested()),
																			(r[
																				l.key
																			] =
																				l);
																		var f =
																			!0;
																		if (
																			n +
																				1 >
																			this
																				._source
																				.maxzoom
																		) {
																			var h =
																					l.children(
																						this
																							._source
																							.maxzoom
																					)[0],
																				p =
																					this.getTile(
																						h
																					);
																			p &&
																			p.hasData()
																				? (r[
																						h.key
																				  ] =
																						h)
																				: (f =
																						!1);
																		} else {
																			this._findLoadedChildren(
																				l,
																				a,
																				r
																			);
																			for (
																				var d =
																						l.children(
																							this
																								._source
																								.maxzoom
																						),
																					y = 0;
																				y <
																				d.length;
																				y++
																			)
																				if (
																					!r[
																						d[
																							y
																						]
																							.key
																					]
																				) {
																					f =
																						!1;
																					break;
																				}
																		}
																		if (!f)
																			for (
																				var m =
																					l.overscaledZ -
																					1;
																				m >=
																				o;
																				--m
																			) {
																				var v =
																					l.scaledTo(
																						m
																					);
																				if (
																					i[
																						v
																							.key
																					]
																				)
																					break;
																				if (
																					((i[
																						v.key
																					] =
																						!0),
																					!(u =
																						this.getTile(
																							v
																						)) &&
																						c &&
																						(u =
																							this._addTile(
																								v
																							)),
																					u &&
																						((r[
																							v.key
																						] =
																							v),
																						(c =
																							u.wasRequested()),
																						u.hasData()))
																				)
																					break;
																			}
																	}
																}
																return r;
															},
														},
														{
															key: "_addTile",
															value: function (
																e
															) {
																var t =
																	this._tiles[
																		e.key
																	];
																if (t) return t;
																(t =
																	this._cache.getAndRemove(
																		e.key
																	)) &&
																	this
																		._cacheTimers[
																		e.key
																	] &&
																	(clearTimeout(
																		this
																			._cacheTimers[
																			e
																				.key
																		]
																	),
																	delete this
																		._cacheTimers[
																		e.key
																	],
																	this._setTileReloadTimer(
																		e.key,
																		t
																	));
																var n =
																	Boolean(t);
																return (
																	n ||
																		((t =
																			new m(
																				e,
																				this
																					._source
																					.tileSize *
																					e.overscaleFactor()
																			)),
																		this._loadTile(
																			t,
																			this._tileLoaded.bind(
																				this,
																				t,
																				e.key,
																				t.state
																			)
																		)),
																	t
																		? (t.uses++,
																		  (this._tiles[
																				e.key
																		  ] = t),
																		  n ||
																				this._source.fire(
																					"dataloading",
																					{
																						tile: t,
																						coord: t.tileID,
																						dataType:
																							"source",
																					}
																				),
																		  t)
																		: null
																);
															},
														},
														{
															key: "_setTileReloadTimer",
															value: function (
																e,
																t
															) {
																var n = this;
																e in
																	this
																		._timers &&
																	(clearTimeout(
																		this
																			._timers[
																			e
																		]
																	),
																	delete this
																		._timers[
																		e
																	]);
																var r =
																	t.getExpiryTimeout();
																r &&
																	(this._timers[
																		e
																	] = setTimeout(
																		function () {
																			n._reloadTile(
																				e,
																				"expired"
																			),
																				delete n
																					._timers[
																					e
																				];
																		},
																		r
																	));
															},
														},
														{
															key: "_setCacheInvalidationTimer",
															value: function (
																e,
																t
															) {
																var n = this;
																e in
																	this
																		._cacheTimers &&
																	(clearTimeout(
																		this
																			._cacheTimers[
																			e
																		]
																	),
																	delete this
																		._cacheTimers[
																		e
																	]);
																var r =
																	t.getExpiryTimeout();
																r &&
																	(this._cacheTimers[
																		e
																	] = setTimeout(
																		function () {
																			n._cache.remove(
																				e
																			),
																				delete n
																					._cacheTimers[
																					e
																				];
																		},
																		r
																	));
															},
														},
														{
															key: "_removeTile",
															value: function (
																e
															) {
																var t =
																	this._tiles[
																		e
																	];
																if (
																	t &&
																	(t.uses--,
																	delete this
																		._tiles[
																		e
																	],
																	this
																		._timers[
																		e
																	] &&
																		(clearTimeout(
																			this
																				._timers[
																				e
																			]
																		),
																		delete this
																			._timers[
																			e
																		]),
																	!(
																		t.uses >
																		0
																	))
																)
																	if (
																		t.hasData()
																	) {
																		t.tileID =
																			t.tileID.wrapped();
																		var n =
																			t
																				.tileID
																				.key;
																		this._cache.add(
																			n,
																			t
																		),
																			this._setCacheInvalidationTimer(
																				n,
																				t
																			);
																	} else
																		(t.aborted =
																			!0),
																			this._abortTile(
																				t
																			),
																			this._unloadTile(
																				t
																			);
															},
														},
														{
															key: "clearTiles",
															value: function () {
																for (var e in ((this._shouldReloadOnResume =
																	!1),
																(this._paused =
																	!1),
																this._tiles))
																	this._removeTile(
																		e
																	);
																this._resetCache();
															},
														},
														{
															key: "_resetCache",
															value: function () {
																for (var e in this
																	._cacheTimers)
																	clearTimeout(
																		this
																			._cacheTimers[
																			e
																		]
																	);
																(this._cacheTimers =
																	{}),
																	this._cache.reset();
															},
														},
														{
															key: "tilesIn",
															value: function (
																e
															) {
																for (
																	var t = [],
																		n =
																			this.getIds(),
																		r =
																			1 /
																			0,
																		i =
																			1 /
																			0,
																		o =
																			-1 /
																			0,
																		a =
																			-1 /
																			0,
																		s =
																			e[0]
																				.zoom,
																		l = 0;
																	l <
																	e.length;
																	l++
																) {
																	var u =
																		e[l];
																	(r =
																		Math.min(
																			r,
																			u.column
																		)),
																		(i =
																			Math.min(
																				i,
																				u.row
																			)),
																		(o =
																			Math.max(
																				o,
																				u.column
																			)),
																		(a =
																			Math.max(
																				a,
																				u.row
																			));
																}
																for (
																	var c = 0;
																	c <
																	n.length;
																	c++
																) {
																	var f =
																			this
																				._tiles[
																				n[
																					c
																				]
																			],
																		h =
																			f.tileID,
																		p = [
																			E(
																				h,
																				new _(
																					r,
																					i,
																					s
																				)
																			),
																			E(
																				h,
																				new _(
																					o,
																					a,
																					s
																				)
																			),
																		];
																	if (
																		p[0].x <
																			x &&
																		p[0].y <
																			x &&
																		p[1]
																			.x >=
																			0 &&
																		p[1]
																			.y >=
																			0
																	) {
																		for (
																			var d =
																					[],
																				y = 0;
																			y <
																			e.length;
																			y++
																		)
																			d.push(
																				E(
																					h,
																					e[
																						y
																					]
																				)
																			);
																		t.push({
																			tile: f,
																			tileID: h,
																			queryGeometry:
																				[
																					d,
																				],
																			scale: Math.pow(
																				2,
																				this
																					.transform
																					.zoom -
																					f
																						.tileID
																						.overscaledZ
																			),
																		});
																	}
																}
																return t;
															},
														},
														{
															key: "getVisibleCoordinates",
															value: function () {
																var e = this,
																	t =
																		this.getRenderableIds().map(
																			function (
																				t
																			) {
																				return e
																					._tiles[
																					t
																				]
																					.tileID;
																			}
																		),
																	n = !0,
																	r = !1,
																	i = void 0;
																try {
																	for (
																		var a,
																			s =
																				(0,
																				o.default)(
																					t
																				);
																		!(n =
																			(a =
																				s.next())
																				.done);
																		n = !0
																	) {
																		var l =
																			a.value;
																		l.posMatrix =
																			this.transform.calculatePosMatrix(
																				l.toUnwrapped()
																			);
																	}
																} catch (e) {
																	(r = !0),
																		(i = e);
																} finally {
																	try {
																		n ||
																			null ==
																				s.return ||
																			s.return();
																	} finally {
																		if (r)
																			throw i;
																	}
																}
																return t;
															},
														},
														{
															key: "hasTransition",
															value: function () {
																if (
																	this._source.hasTransition()
																)
																	return !0;
																if (
																	S(
																		this
																			._source
																			.type
																	)
																)
																	for (var e in this
																		._tiles) {
																		var t =
																			this
																				._tiles[
																				e
																			];
																		if (
																			void 0 !==
																				t.fadeEndTime &&
																			t.fadeEndTime >=
																				C.now()
																		)
																			return !0;
																	}
																return !1;
															},
														},
													]) && f(n.prototype, r),
													t
												);
											})();
										function E(e, t) {
											var n = t.zoomTo(e.canonical.z);
											return new w(
												(n.column -
													(e.canonical.x +
														e.wrap *
															Math.pow(
																2,
																e.canonical.z
															))) *
													x,
												(n.row - e.canonical.y) * x
											);
										}
										function S(e) {
											return (
												"raster" === e ||
												"image" === e ||
												"video" === e
											);
										}
										(P.maxOverzooming = 10),
											(P.maxUnderzooming = 3),
											(e.exports = P);
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(0),
											o = n(201).deserialize,
											a = (n(202), n(48)),
											s = n(65),
											l = n(119),
											c = n(60),
											f = (n(120), n(62)),
											h = n(14),
											p = h.RasterBoundsArray,
											d = h.CollisionBoxArray,
											y = n(46),
											m = n(6),
											v = n(3),
											g = n(20),
											_ = n(36).SegmentVector,
											b = n(37).TriangleIndexArray,
											x = n(2),
											w = (function () {
												function e(t, n) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.tileID = t),
														(this.uid =
															i.uniqueId()),
														(this.uses = 0),
														(this.tileSize = n),
														(this.buckets = {}),
														(this.expirationTime =
															null),
														(this.expiredRequestCount = 0),
														(this.state =
															"loading");
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "registerFadeDuration",
															value: function (
																e
															) {
																var t =
																	e +
																	this
																		.timeAdded;
																t < x.now() ||
																	(this
																		.fadeEndTime &&
																		t <
																			this
																				.fadeEndTime) ||
																	(this.fadeEndTime =
																		t);
															},
														},
														{
															key: "wasRequested",
															value: function () {
																return (
																	"errored" ===
																		this
																			.state ||
																	"loaded" ===
																		this
																			.state ||
																	"reloading" ===
																		this
																			.state
																);
															},
														},
														{
															key: "loadVectorData",
															value: function (
																e,
																t,
																n
															) {
																if (
																	(this.hasData() &&
																		this.unloadVectorData(),
																	(this.state =
																		"loaded"),
																	e)
																) {
																	if (
																		(e.rawTileData &&
																			(this.rawTileData =
																				e.rawTileData),
																		(this.collisionBoxArray =
																			e.collisionBoxArray),
																		(this.featureIndex =
																			e.featureIndex),
																		(this.featureIndex.rawTileData =
																			this.rawTileData),
																		(this.buckets =
																			o(
																				e.buckets,
																				t.style
																			)),
																		n)
																	)
																		for (var r in this
																			.buckets) {
																			var i =
																				this
																					.buckets[
																					r
																				];
																			i instanceof
																				f &&
																				(i.justReloaded =
																					!0);
																		}
																	e.iconAtlasImage &&
																		(this.iconAtlasImage =
																			e.iconAtlasImage),
																		e.glyphAtlasImage &&
																			(this.glyphAtlasImage =
																				e.glyphAtlasImage);
																} else
																	this.collisionBoxArray =
																		new d();
															},
														},
														{
															key: "unloadVectorData",
															value: function () {
																for (var e in this
																	.buckets)
																	this.buckets[
																		e
																	].destroy();
																(this.buckets =
																	{}),
																	this
																		.iconAtlasTexture &&
																		this.iconAtlasTexture.destroy(),
																	this
																		.glyphAtlasTexture &&
																		this.glyphAtlasTexture.destroy(),
																	(this.collisionBoxArray =
																		null),
																	(this.featureIndex =
																		null),
																	(this.state =
																		"unloaded");
															},
														},
														{
															key: "unloadDEMData",
															value: function () {
																(this.dem =
																	null),
																	(this.neighboringTiles =
																		null),
																	(this.state =
																		"unloaded");
															},
														},
														{
															key: "getBucket",
															value: function (
																e
															) {
																return this
																	.buckets[
																	e.id
																];
															},
														},
														{
															key: "upload",
															value: function (
																e
															) {
																for (var t in this
																	.buckets) {
																	var n =
																		this
																			.buckets[
																			t
																		];
																	n.uploaded ||
																		(n.upload(
																			e
																		),
																		(n.uploaded =
																			!0));
																}
																var r = e.gl;
																this
																	.iconAtlasImage &&
																	((this.iconAtlasTexture =
																		new g(
																			e,
																			this.iconAtlasImage,
																			r.RGBA
																		)),
																	(this.iconAtlasImage =
																		null)),
																	this
																		.glyphAtlasImage &&
																		((this.glyphAtlasTexture =
																			new g(
																				e,
																				this.glyphAtlasImage,
																				r.ALPHA
																			)),
																		(this.glyphAtlasImage =
																			null));
															},
														},
														{
															key: "queryRenderedFeatures",
															value: function (
																e,
																t,
																n,
																r,
																i,
																o,
																a
															) {
																if (
																	!this
																		.featureIndex ||
																	!this
																		.collisionBoxArray
																)
																	return {};
																var s = 0,
																	l = {};
																for (var u in e) {
																	var c =
																		this.getBucket(
																			e[u]
																		);
																	c &&
																		((s =
																			Math.max(
																				s,
																				e[
																					u
																				].queryRadius(
																					c
																				)
																			)),
																		c instanceof
																			f &&
																			void 0 !==
																				c.bucketInstanceId &&
																			(l[
																				c.bucketInstanceId
																			] =
																				!0));
																}
																return this.featureIndex.query(
																	{
																		queryGeometry:
																			t,
																		scale: n,
																		tileSize:
																			this
																				.tileSize,
																		bearing:
																			i,
																		params: r,
																		additionalRadius:
																			s,
																		collisionBoxArray:
																			this
																				.collisionBoxArray,
																		sourceID:
																			o,
																		collisionIndex:
																			a,
																		bucketInstanceIds:
																			l,
																	},
																	e
																);
															},
														},
														{
															key: "querySourceFeatures",
															value: function (
																e,
																t
															) {
																if (
																	this
																		.rawTileData
																) {
																	this
																		.vtLayers ||
																		(this.vtLayers =
																			new a.VectorTile(
																				new s(
																					this.rawTileData
																				)
																			).layers);
																	var n = t
																			? t.sourceLayer
																			: "",
																		r =
																			this
																				.vtLayers
																				._geojsonTileLayer ||
																			this
																				.vtLayers[
																				n
																			];
																	if (r)
																		for (
																			var i =
																					c(
																						t &&
																							t.filter
																					),
																				o =
																					{
																						z: this
																							.tileID
																							.overscaledZ,
																						x: this
																							.tileID
																							.canonical
																							.x,
																						y: this
																							.tileID
																							.canonical
																							.y,
																					},
																				u = 0;
																			u <
																			r.length;
																			u++
																		) {
																			var f =
																				r.feature(
																					u
																				);
																			if (
																				i(
																					{
																						zoom: this
																							.tileID
																							.overscaledZ,
																					},
																					f
																				)
																			) {
																				var h =
																					new l(
																						f,
																						o.z,
																						o.x,
																						o.y
																					);
																				(h.tile =
																					o),
																					e.push(
																						h
																					);
																			}
																		}
																}
															},
														},
														{
															key: "clearMask",
															value: function () {
																this.segments &&
																	(this.segments.destroy(),
																	delete this
																		.segments),
																	this
																		.maskedBoundsBuffer &&
																		(this.maskedBoundsBuffer.destroy(),
																		delete this
																			.maskedBoundsBuffer),
																	this
																		.maskedIndexBuffer &&
																		(this.maskedIndexBuffer.destroy(),
																		delete this
																			.maskedIndexBuffer);
															},
														},
														{
															key: "setMask",
															value: function (
																e,
																t
															) {
																if (
																	!i.deepEqual(
																		this
																			.mask,
																		e
																	) &&
																	((this.mask =
																		e),
																	this.clearMask(),
																	!i.deepEqual(
																		e,
																		{
																			0: !0,
																		}
																	))
																) {
																	var n =
																			new p(),
																		r =
																			new b();
																	(this.segments =
																		new _()),
																		this.segments.prepareSegment(
																			0,
																			n,
																			r
																		);
																	for (
																		var o =
																				(0,
																				u.default)(
																					e
																				),
																			a = 0;
																		a <
																		o.length;
																		a++
																	) {
																		var s =
																				e[
																					o[
																						a
																					]
																				],
																			l =
																				m >>
																				s.z,
																			c =
																				new v(
																					s.x *
																						l,
																					s.y *
																						l
																				),
																			f =
																				new v(
																					c.x +
																						l,
																					c.y +
																						l
																				),
																			h =
																				this.segments.prepareSegment(
																					4,
																					n,
																					r
																				);
																		n.emplaceBack(
																			c.x,
																			c.y,
																			c.x,
																			c.y
																		),
																			n.emplaceBack(
																				f.x,
																				c.y,
																				f.x,
																				c.y
																			),
																			n.emplaceBack(
																				c.x,
																				f.y,
																				c.x,
																				f.y
																			),
																			n.emplaceBack(
																				f.x,
																				f.y,
																				f.x,
																				f.y
																			);
																		var d =
																			h.vertexLength;
																		r.emplaceBack(
																			d,
																			d +
																				1,
																			d +
																				2
																		),
																			r.emplaceBack(
																				d +
																					1,
																				d +
																					2,
																				d +
																					3
																			),
																			(h.vertexLength += 4),
																			(h.primitiveLength += 2);
																	}
																	(this.maskedBoundsBuffer =
																		t.createVertexBuffer(
																			n,
																			y.members
																		)),
																		(this.maskedIndexBuffer =
																			t.createIndexBuffer(
																				r
																			));
																}
															},
														},
														{
															key: "hasData",
															value: function () {
																return (
																	"loaded" ===
																		this
																			.state ||
																	"reloading" ===
																		this
																			.state ||
																	"expired" ===
																		this
																			.state
																);
															},
														},
														{
															key: "setExpiryData",
															value: function (
																e
															) {
																var t =
																	this
																		.expirationTime;
																if (
																	e.cacheControl
																) {
																	var n =
																		i.parseCacheControl(
																			e.cacheControl
																		);
																	n[
																		"max-age"
																	] &&
																		(this.expirationTime =
																			Date.now() +
																			1e3 *
																				n[
																					"max-age"
																				]);
																} else
																	e.expires &&
																		(this.expirationTime =
																			new Date(
																				e.expires
																			).getTime());
																if (
																	this
																		.expirationTime
																) {
																	var r =
																			Date.now(),
																		o = !1;
																	if (
																		this
																			.expirationTime >
																		r
																	)
																		o = !1;
																	else if (t)
																		if (
																			this
																				.expirationTime <
																			t
																		)
																			o =
																				!0;
																		else {
																			var a =
																				this
																					.expirationTime -
																				t;
																			a
																				? (this.expirationTime =
																						r +
																						Math.max(
																							a,
																							3e4
																						))
																				: (o =
																						!0);
																		}
																	else o = !0;
																	o
																		? (this
																				.expiredRequestCount++,
																		  (this.state =
																				"expired"))
																		: (this.expiredRequestCount = 0);
																}
															},
														},
														{
															key: "getExpiryTimeout",
															value: function () {
																if (
																	this
																		.expirationTime
																)
																	return this
																		.expiredRequestCount
																		? 1e3 *
																				(1 <<
																					Math.min(
																						this
																							.expiredRequestCount -
																							1,
																						31
																					))
																		: Math.min(
																				this
																					.expirationTime -
																					new Date().getTime(),
																				Math.pow(
																					2,
																					31
																				) -
																					1
																		  );
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = w;
									},
									function (e, t) {
										function n(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var r = (function () {
											function e(t, n, r, i) {
												!(function (e, t) {
													if (!(e instanceof t))
														throw new TypeError(
															"Cannot call a class as a function"
														);
												})(this, e),
													(this.type = "Feature"),
													(this._vectorTileFeature =
														t),
													(t._z = n),
													(t._x = r),
													(t._y = i),
													(this.properties =
														t.properties),
													null != t.id &&
														(this.id = t.id);
											}
											var t, r;
											return (
												(t = e),
												(r = [
													{
														key: "toJSON",
														value: function () {
															var e = {
																geometry:
																	this
																		.geometry,
															};
															for (var t in this)
																"_geometry" !==
																	t &&
																	"_vectorTileFeature" !==
																		t &&
																	(e[t] =
																		this[
																			t
																		]);
															return e;
														},
													},
													{
														key: "geometry",
														get: function () {
															return (
																void 0 ===
																	this
																		._geometry &&
																	(this._geometry =
																		this._vectorTileFeature.toGeoJSON(
																			this
																				._vectorTileFeature
																				._x,
																			this
																				._vectorTileFeature
																				._y,
																			this
																				._vectorTileFeature
																				._z
																		).geometry),
																this._geometry
															);
														},
														set: function (e) {
															this._geometry = e;
														},
													},
												]) && n(t.prototype, r),
												e
											);
										})();
										e.exports = r;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(3),
											o = n(44),
											a = n(204),
											s = (n(22).mat4, n(66)),
											l = 100,
											u = (function () {
												function e(t) {
													var n =
															arguments.length >
																1 &&
															void 0 !==
																arguments[1]
																? arguments[1]
																: new a(
																		t.width +
																			200,
																		t.height +
																			200,
																		25
																  ),
														r =
															arguments.length >
																2 &&
															void 0 !==
																arguments[2]
																? arguments[2]
																: new a(
																		t.width +
																			200,
																		t.height +
																			200,
																		25
																  );
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.transform = t),
														(this.grid = n),
														(this.ignoredGrid = r),
														(this.pitchfactor =
															Math.cos(t._pitch) *
															t.cameraToCenterDistance),
														(this.screenRightBoundary =
															t.width + l),
														(this.screenBottomBoundary =
															t.height + l);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "placeCollisionBox",
															value: function (
																e,
																t,
																n,
																r
															) {
																var i =
																		this.projectAndGetPerspectiveRatio(
																			r,
																			e.anchorPointX,
																			e.anchorPointY
																		),
																	o =
																		n *
																		i.perspectiveRatio,
																	a =
																		e.x1 *
																			o +
																		i.point
																			.x,
																	s =
																		e.y1 *
																			o +
																		i.point
																			.y,
																	l =
																		e.x2 *
																			o +
																		i.point
																			.x,
																	u =
																		e.y2 *
																			o +
																		i.point
																			.y;
																return !t &&
																	this.grid.hitTest(
																		a,
																		s,
																		l,
																		u
																	)
																	? {
																			box: [],
																			offscreen:
																				!1,
																	  }
																	: {
																			box: [
																				a,
																				s,
																				l,
																				u,
																			],
																			offscreen:
																				this.isOffscreen(
																					a,
																					s,
																					l,
																					u
																				),
																	  };
															},
														},
														{
															key: "approximateTileDistance",
															value: function (
																e,
																t,
																n,
																r,
																i
															) {
																var o = i
																		? 1
																		: r /
																		  this
																				.pitchfactor,
																	a =
																		e.lastSegmentViewportDistance *
																		n;
																return (
																	e.prevTileDistance +
																	a +
																	(o - 1) *
																		a *
																		Math.abs(
																			Math.sin(
																				t
																			)
																		)
																);
															},
														},
														{
															key: "placeCollisionCircles",
															value: function (
																e,
																t,
																n,
																r,
																o,
																a,
																l,
																u,
																f,
																h,
																p,
																d,
																y
															) {
																var m = [],
																	v =
																		this.projectAnchor(
																			h,
																			a.anchorX,
																			a.anchorY
																		),
																	g = f / 24,
																	_ =
																		a.lineOffsetX *
																		f,
																	b =
																		a.lineOffsetY *
																		f,
																	x = new i(
																		a.anchorX,
																		a.anchorY
																	),
																	w =
																		s.project(
																			x,
																			p
																		).point,
																	C =
																		s.placeFirstAndLastGlyph(
																			g,
																			u,
																			_,
																			b,
																			!1,
																			w,
																			x,
																			a,
																			l,
																			p,
																			{},
																			!0
																		),
																	T = !1,
																	k = !0,
																	P =
																		v.perspectiveRatio *
																		r,
																	E =
																		1 /
																		(r * n),
																	S = 0,
																	A = 0;
																C &&
																	((S =
																		this.approximateTileDistance(
																			C
																				.first
																				.tileDistance,
																			C
																				.first
																				.angle,
																			E,
																			v.cameraDistance,
																			y
																		)),
																	(A =
																		this.approximateTileDistance(
																			C
																				.last
																				.tileDistance,
																			C
																				.last
																				.angle,
																			E,
																			v.cameraDistance,
																			y
																		)));
																for (
																	var M = 0;
																	M <
																	e.length;
																	M += 5
																) {
																	var I =
																			e[
																				M
																			],
																		L =
																			e[
																				M +
																					1
																			],
																		D =
																			e[
																				M +
																					2
																			],
																		O =
																			e[
																				M +
																					3
																			];
																	if (
																		!C ||
																		O <
																			-S ||
																		O > A
																	)
																		c(
																			e,
																			M,
																			!1
																		);
																	else {
																		var z =
																				this.projectPoint(
																					h,
																					I,
																					L
																				),
																			R =
																				D *
																				P;
																		if (
																			m.length >
																			0
																		) {
																			var B =
																					z.x -
																					m[
																						m.length -
																							4
																					],
																				j =
																					z.y -
																					m[
																						m.length -
																							3
																					];
																			if (
																				R *
																					R *
																					2 >
																					B *
																						B +
																						j *
																							j &&
																				M +
																					8 <
																					e.length
																			) {
																				var F =
																					e[
																						M +
																							8
																					];
																				if (
																					F >
																						-S &&
																					F <
																						A
																				) {
																					c(
																						e,
																						M,
																						!1
																					);
																					continue;
																				}
																			}
																		}
																		var N =
																			M /
																			5;
																		if (
																			(m.push(
																				z.x,
																				z.y,
																				R,
																				N
																			),
																			c(
																				e,
																				M,
																				!0
																			),
																			(k =
																				k &&
																				this.isOffscreen(
																					z.x -
																						R,
																					z.y -
																						R,
																					z.x +
																						R,
																					z.y +
																						R
																				)),
																			!t &&
																				this.grid.hitTestCircle(
																					z.x,
																					z.y,
																					R
																				))
																		) {
																			if (
																				!d
																			)
																				return {
																					circles:
																						[],
																					offscreen:
																						!1,
																				};
																			T =
																				!0;
																		}
																	}
																}
																return {
																	circles: T
																		? []
																		: m,
																	offscreen:
																		k,
																};
															},
														},
														{
															key: "queryRenderedSymbols",
															value: function (
																e,
																t,
																n,
																r,
																a,
																s
															) {
																var l = {},
																	u = [];
																if (
																	0 ===
																		e.length ||
																	(0 ===
																		this.grid.keysLength() &&
																		0 ===
																			this.ignoredGrid.keysLength())
																)
																	return u;
																for (
																	var c =
																			this.transform.calculatePosMatrix(
																				t.toUnwrapped()
																			),
																		f = [],
																		h =
																			1 /
																			0,
																		p =
																			1 /
																			0,
																		d =
																			-1 /
																			0,
																		y =
																			-1 /
																			0,
																		m = 0;
																	m <
																	e.length;
																	m++
																)
																	for (
																		var v =
																				e[
																					m
																				],
																			g = 0;
																		g <
																		v.length;
																		g++
																	) {
																		var _ =
																			this.projectPoint(
																				c,
																				v[
																					g
																				]
																					.x,
																				v[
																					g
																				]
																					.y
																			);
																		(h =
																			Math.min(
																				h,
																				_.x
																			)),
																			(p =
																				Math.min(
																					p,
																					_.y
																				)),
																			(d =
																				Math.max(
																					d,
																					_.x
																				)),
																			(y =
																				Math.max(
																					y,
																					_.y
																				)),
																			f.push(
																				_
																			);
																	}
																for (
																	var b =
																			t.key,
																		x = [],
																		w =
																			this.grid.query(
																				h,
																				p,
																				d,
																				y
																			),
																		C = 0;
																	C <
																	w.length;
																	C++
																)
																	w[C]
																		.sourceID ===
																		a &&
																		w[C]
																			.tileID ===
																			b &&
																		s[
																			w[C]
																				.bucketInstanceId
																		] &&
																		x.push(
																			w[C]
																				.boxIndex
																		);
																for (
																	var T =
																			this.ignoredGrid.query(
																				h,
																				p,
																				d,
																				y
																			),
																		k = 0;
																	k <
																	T.length;
																	k++
																)
																	T[k]
																		.sourceID ===
																		a &&
																		T[k]
																			.tileID ===
																			b &&
																		x.push(
																			T[k]
																				.boxIndex
																		);
																for (
																	var P = 0;
																	P <
																	x.length;
																	P++
																) {
																	var E =
																			r.get(
																				x[
																					P
																				]
																			),
																		S =
																			E.sourceLayerIndex,
																		A =
																			E.featureIndex,
																		M =
																			E.bucketIndex;
																	if (
																		(void 0 ===
																			l[
																				S
																			] &&
																			(l[
																				S
																			] =
																				{}),
																		void 0 ===
																			l[
																				S
																			][
																				A
																			] &&
																			(l[
																				S
																			][
																				A
																			] =
																				{}),
																		!l[S][
																			A
																		][M])
																	) {
																		var I =
																				this.projectAndGetPerspectiveRatio(
																					c,
																					E.anchorPointX,
																					E.anchorPointY
																				),
																			L =
																				n *
																				I.perspectiveRatio,
																			D =
																				E.x1 *
																					L +
																				I
																					.point
																					.x,
																			O =
																				E.y1 *
																					L +
																				I
																					.point
																					.y,
																			z =
																				E.x2 *
																					L +
																				I
																					.point
																					.x,
																			R =
																				E.y2 *
																					L +
																				I
																					.point
																					.y,
																			B =
																				[
																					new i(
																						D,
																						O
																					),
																					new i(
																						z,
																						O
																					),
																					new i(
																						z,
																						R
																					),
																					new i(
																						D,
																						R
																					),
																				];
																		o.polygonIntersectsPolygon(
																			f,
																			B
																		) &&
																			((l[
																				S
																			][
																				A
																			][
																				M
																			] =
																				!0),
																			u.push(
																				x[
																					P
																				]
																			));
																	}
																}
																return u;
															},
														},
														{
															key: "insertCollisionBox",
															value: function (
																e,
																t,
																n,
																r,
																i,
																o
															) {
																var a = {
																	tileID: n,
																	sourceID: r,
																	bucketInstanceId:
																		i,
																	boxIndex: o,
																};
																(t
																	? this
																			.ignoredGrid
																	: this.grid
																).insert(
																	a,
																	e[0],
																	e[1],
																	e[2],
																	e[3]
																);
															},
														},
														{
															key: "insertCollisionCircles",
															value: function (
																e,
																t,
																n,
																r,
																i,
																o
															) {
																for (
																	var a = t
																			? this
																					.ignoredGrid
																			: this
																					.grid,
																		s = 0;
																	s <
																	e.length;
																	s += 4
																) {
																	var l = {
																		tileID: n,
																		sourceID:
																			r,
																		bucketInstanceId:
																			i,
																		boxIndex:
																			o +
																			e[
																				s +
																					3
																			],
																	};
																	a.insertCircle(
																		l,
																		e[s],
																		e[
																			s +
																				1
																		],
																		e[s + 2]
																	);
																}
															},
														},
														{
															key: "projectAnchor",
															value: function (
																e,
																t,
																n
															) {
																var r = [
																	t,
																	n,
																	0,
																	1,
																];
																return (
																	s.xyTransformMat4(
																		r,
																		r,
																		e
																	),
																	{
																		perspectiveRatio:
																			0.5 +
																			(this
																				.transform
																				.cameraToCenterDistance /
																				r[3]) *
																				0.5,
																		cameraDistance:
																			r[3],
																	}
																);
															},
														},
														{
															key: "projectPoint",
															value: function (
																e,
																t,
																n
															) {
																var r = [
																	t,
																	n,
																	0,
																	1,
																];
																return (
																	s.xyTransformMat4(
																		r,
																		r,
																		e
																	),
																	new i(
																		((r[0] /
																			r[3] +
																			1) /
																			2) *
																			this
																				.transform
																				.width +
																			l,
																		((-r[1] /
																			r[3] +
																			1) /
																			2) *
																			this
																				.transform
																				.height +
																			l
																	)
																);
															},
														},
														{
															key: "projectAndGetPerspectiveRatio",
															value: function (
																e,
																t,
																n
															) {
																var r = [
																	t,
																	n,
																	0,
																	1,
																];
																return (
																	s.xyTransformMat4(
																		r,
																		r,
																		e
																	),
																	{
																		point: new i(
																			((r[0] /
																				r[3] +
																				1) /
																				2) *
																				this
																					.transform
																					.width +
																				l,
																			((-r[1] /
																				r[3] +
																				1) /
																				2) *
																				this
																					.transform
																					.height +
																				l
																		),
																		perspectiveRatio:
																			0.5 +
																			(this
																				.transform
																				.cameraToCenterDistance /
																				r[3]) *
																				0.5,
																	}
																);
															},
														},
														{
															key: "isOffscreen",
															value: function (
																e,
																t,
																n,
																r
															) {
																return (
																	n < l ||
																	e >=
																		this
																			.screenRightBoundary ||
																	r < l ||
																	t >
																		this
																			.screenBottomBoundary
																);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										function c(e, t, n) {
											e[t + 4] = n ? 1 : 0;
										}
										e.exports = u;
									},
									function (e, t) {
										function n(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var r = (function () {
											function e(t, n) {
												!(function (e, t) {
													if (!(e instanceof t))
														throw new TypeError(
															"Cannot call a class as a function"
														);
												})(this, e),
													(this.max = t),
													(this.onRemove = n),
													this.reset();
											}
											var t, r;
											return (
												(t = e),
												(r = [
													{
														key: "reset",
														value: function () {
															for (var e in this
																.data)
																this.onRemove(
																	this.data[e]
																);
															return (
																(this.data =
																	{}),
																(this.order =
																	[]),
																this
															);
														},
													},
													{
														key: "add",
														value: function (e, t) {
															if (this.has(e))
																this.order.splice(
																	this.order.indexOf(
																		e
																	),
																	1
																),
																	(this.data[
																		e
																	] = t),
																	this.order.push(
																		e
																	);
															else if (
																((this.data[e] =
																	t),
																this.order.push(
																	e
																),
																this.order
																	.length >
																	this.max)
															) {
																var n =
																	this.getAndRemove(
																		this
																			.order[0]
																	);
																n &&
																	this.onRemove(
																		n
																	);
															}
															return this;
														},
													},
													{
														key: "has",
														value: function (e) {
															return (
																e in this.data
															);
														},
													},
													{
														key: "keys",
														value: function () {
															return this.order;
														},
													},
													{
														key: "getAndRemove",
														value: function (e) {
															if (!this.has(e))
																return null;
															var t =
																this.data[e];
															return (
																delete this
																	.data[e],
																this.order.splice(
																	this.order.indexOf(
																		e
																	),
																	1
																),
																t
															);
														},
													},
													{
														key: "get",
														value: function (e) {
															return this.has(e)
																? this.data[e]
																: null;
														},
													},
													{
														key: "remove",
														value: function (e) {
															if (!this.has(e))
																return this;
															var t =
																this.data[e];
															return (
																delete this
																	.data[e],
																this.onRemove(
																	t
																),
																this.order.splice(
																	this.order.indexOf(
																		e
																	),
																	1
																),
																this
															);
														},
													},
													{
														key: "setMaxSize",
														value: function (e) {
															for (
																this.max = e;
																this.order
																	.length >
																this.max;

															) {
																var t =
																	this.getAndRemove(
																		this
																			.order[0]
																	);
																t &&
																	this.onRemove(
																		t
																	);
															}
															return this;
														},
													},
												]) && n(t.prototype, r),
												e
											);
										})();
										e.exports = r;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function u(e) {
											return (u = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function f(e, t) {
											if (
												"function" != typeof t &&
												null !== t
											)
												throw new TypeError(
													"Super expression must either be null or a function"
												);
											(e.prototype = Object.create(
												t && t.prototype,
												{
													constructor: {
														value: e,
														writable: !0,
														configurable: !0,
													},
												}
											)),
												t &&
													(function (e, t) {
														(
															c.default ||
															function (e, t) {
																return (
																	(e.__proto__ =
																		t),
																	e
																);
															}
														)(e, t);
													})(e, t);
										}
										function h(e, t) {
											if (!(e instanceof t))
												throw new TypeError(
													"Cannot call a class as a function"
												);
										}
										function p(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function d(e, t, n) {
											return (
												t && p(e.prototype, t),
												n && p(e, n),
												e
											);
										}
										var y = i(12),
											m = i(0),
											v = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current =
															y.transparent);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																var t =
																	this
																		.current;
																(e.r === t.r &&
																	e.g ===
																		t.g &&
																	e.b ===
																		t.b &&
																	e.a ===
																		t.a) ||
																	(this.context.gl.clearColor(
																		e.r,
																		e.g,
																		e.b,
																		e.a
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											g = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = 1);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																this.current !==
																	e &&
																	(this.context.gl.clearDepth(
																		e
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											_ = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = 0);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																this.current !==
																	e &&
																	(this.context.gl.clearStencil(
																		e
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											b = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = [
															!0,
															!0,
															!0,
															!0,
														]);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																var t =
																	this
																		.current;
																(e[0] ===
																	t[0] &&
																	e[1] ===
																		t[1] &&
																	e[2] ===
																		t[2] &&
																	e[3] ===
																		t[3]) ||
																	(this.context.gl.colorMask(
																		e[0],
																		e[1],
																		e[2],
																		e[3]
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											x = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = !0);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																this.current !==
																	e &&
																	(this.context.gl.depthMask(
																		e
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											w = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = 255);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																this.current !==
																	e &&
																	(this.context.gl.stencilMask(
																		e
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											C = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = {
															func: t.gl.ALWAYS,
															ref: 0,
															mask: 255,
														});
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																var t =
																	this
																		.current;
																(e.func ===
																	t.func &&
																	e.ref ===
																		t.ref &&
																	e.mask ===
																		t.mask) ||
																	(this.context.gl.stencilFunc(
																		e.func,
																		e.ref,
																		e.mask
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											T = (function () {
												function e(t) {
													h(this, e),
														(this.context = t);
													var n = this.context.gl;
													this.current = [
														n.KEEP,
														n.KEEP,
														n.KEEP,
													];
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																var t =
																	this
																		.current;
																(e[0] ===
																	t[0] &&
																	e[1] ===
																		t[1] &&
																	e[2] ===
																		t[2]) ||
																	(this.context.gl.stencilOp(
																		e[0],
																		e[1],
																		e[2]
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											k = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = !1);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																if (
																	this
																		.current !==
																	e
																) {
																	var t =
																		this
																			.context
																			.gl;
																	e
																		? t.enable(
																				t.STENCIL_TEST
																		  )
																		: t.disable(
																				t.STENCIL_TEST
																		  ),
																		(this.current =
																			e);
																}
															},
														},
													]),
													e
												);
											})(),
											P = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = [0, 1]);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																var t =
																	this
																		.current;
																(e[0] ===
																	t[0] &&
																	e[1] ===
																		t[1]) ||
																	(this.context.gl.depthRange(
																		e[0],
																		e[1]
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											E = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = !1);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																if (
																	this
																		.current !==
																	e
																) {
																	var t =
																		this
																			.context
																			.gl;
																	e
																		? t.enable(
																				t.DEPTH_TEST
																		  )
																		: t.disable(
																				t.DEPTH_TEST
																		  ),
																		(this.current =
																			e);
																}
															},
														},
													]),
													e
												);
											})(),
											S = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current =
															t.gl.LESS);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																this.current !==
																	e &&
																	(this.context.gl.depthFunc(
																		e
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											A = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = !1);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																if (
																	this
																		.current !==
																	e
																) {
																	var t =
																		this
																			.context
																			.gl;
																	e
																		? t.enable(
																				t.BLEND
																		  )
																		: t.disable(
																				t.BLEND
																		  ),
																		(this.current =
																			e);
																}
															},
														},
													]),
													e
												);
											})(),
											M = (function () {
												function e(t) {
													h(this, e),
														(this.context = t);
													var n = this.context.gl;
													this.current = [
														n.ONE,
														n.ZERO,
													];
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																var t =
																	this
																		.current;
																(e[0] ===
																	t[0] &&
																	e[1] ===
																		t[1]) ||
																	(this.context.gl.blendFunc(
																		e[0],
																		e[1]
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											I = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current =
															y.transparent);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																var t =
																	this
																		.current;
																(e.r === t.r &&
																	e.g ===
																		t.g &&
																	e.b ===
																		t.b &&
																	e.a ===
																		t.a) ||
																	(this.context.gl.blendColor(
																		e.r,
																		e.g,
																		e.b,
																		e.a
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											L = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = null);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																this.current !==
																	e &&
																	(this.context.gl.useProgram(
																		e
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											D = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = 1);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																var t =
																		this
																			.context
																			.lineWidthRange,
																	n = m.clamp(
																		e,
																		t[0],
																		t[1]
																	);
																this.current !==
																	n &&
																	(this.context.gl.lineWidth(
																		n
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											O = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current =
															t.gl.TEXTURE0);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																this.current !==
																	e &&
																	(this.context.gl.activeTexture(
																		e
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											z = (function () {
												function e(t) {
													h(this, e),
														(this.context = t);
													var n = this.context.gl;
													this.current = [
														0,
														0,
														n.drawingBufferWidth,
														n.drawingBufferHeight,
													];
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																var t =
																	this
																		.current;
																(e[0] ===
																	t[0] &&
																	e[1] ===
																		t[1] &&
																	e[2] ===
																		t[2] &&
																	e[3] ===
																		t[3]) ||
																	(this.context.gl.viewport(
																		e[0],
																		e[1],
																		e[2],
																		e[3]
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											R = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = null);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																if (
																	this
																		.current !==
																	e
																) {
																	var t =
																		this
																			.context
																			.gl;
																	t.bindFramebuffer(
																		t.FRAMEBUFFER,
																		e
																	),
																		(this.current =
																			e);
																}
															},
														},
													]),
													e
												);
											})(),
											B = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = null);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																if (
																	this
																		.current !==
																	e
																) {
																	var t =
																		this
																			.context
																			.gl;
																	t.bindRenderbuffer(
																		t.RENDERBUFFER,
																		e
																	),
																		(this.current =
																			e);
																}
															},
														},
													]),
													e
												);
											})(),
											j = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = null);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																if (
																	this
																		.current !==
																	e
																) {
																	var t =
																		this
																			.context
																			.gl;
																	t.bindTexture(
																		t.TEXTURE_2D,
																		e
																	),
																		(this.current =
																			e);
																}
															},
														},
													]),
													e
												);
											})(),
											F = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = null);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																if (
																	this
																		.current !==
																	e
																) {
																	var t =
																		this
																			.context
																			.gl;
																	t.bindBuffer(
																		t.ARRAY_BUFFER,
																		e
																	),
																		(this.current =
																			e);
																}
															},
														},
													]),
													e
												);
											})(),
											N = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = null);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																var t =
																	this.context
																		.gl;
																t.bindBuffer(
																	t.ELEMENT_ARRAY_BUFFER,
																	e
																),
																	(this.current =
																		e);
															},
														},
													]),
													e
												);
											})(),
											V = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = null);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																this.current !==
																	e &&
																	this.context
																		.extVertexArrayObject &&
																	(this.context.extVertexArrayObject.bindVertexArrayOES(
																		e
																	),
																	(this.current =
																		e));
															},
														},
													]),
													e
												);
											})(),
											U = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = 4);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																if (
																	this
																		.current !==
																	e
																) {
																	var t =
																		this
																			.context
																			.gl;
																	t.pixelStorei(
																		t.UNPACK_ALIGNMENT,
																		e
																	),
																		(this.current =
																			e);
																}
															},
														},
													]),
													e
												);
											})(),
											H = (function () {
												function e(t) {
													h(this, e),
														(this.context = t),
														(this.current = !1);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
														{
															key: "set",
															value: function (
																e
															) {
																if (
																	this
																		.current !==
																	e
																) {
																	var t =
																		this
																			.context
																			.gl;
																	t.pixelStorei(
																		t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
																		e
																	),
																		(this.current =
																			e);
																}
															},
														},
													]),
													e
												);
											})(),
											G = (function () {
												function e(t, n) {
													h(this, e),
														(this.context = t),
														(this.current = null),
														(this.parent = n);
												}
												return (
													d(e, [
														{
															key: "get",
															value: function () {
																return this
																	.current;
															},
														},
													]),
													e
												);
											})(),
											q = (function (e) {
												function t(e, n) {
													var r;
													return (
														h(this, t),
														((r = s(
															this,
															u(t).call(
																this,
																e,
																n
															)
														)).dirty = !1),
														r
													);
												}
												return (
													f(t, G),
													d(t, [
														{
															key: "set",
															value: function (
																e
															) {
																if (
																	this
																		.dirty ||
																	this
																		.current !==
																		e
																) {
																	var t =
																		this
																			.context
																			.gl;
																	this.context.bindFramebuffer.set(
																		this
																			.parent
																	),
																		t.framebufferTexture2D(
																			t.FRAMEBUFFER,
																			t.COLOR_ATTACHMENT0,
																			t.TEXTURE_2D,
																			e,
																			0
																		),
																		(this.current =
																			e),
																		(this.dirty =
																			!1);
																}
															},
														},
														{
															key: "setDirty",
															value: function () {
																this.dirty = !0;
															},
														},
													]),
													t
												);
											})(),
											W = (function (e) {
												function t() {
													return (
														h(this, t),
														s(
															this,
															u(t).apply(
																this,
																arguments
															)
														)
													);
												}
												return (
													f(t, G),
													d(t, [
														{
															key: "set",
															value: function (
																e
															) {
																if (
																	this
																		.current !==
																	e
																) {
																	var t =
																		this
																			.context
																			.gl;
																	this.context.bindFramebuffer.set(
																		this
																			.parent
																	),
																		t.framebufferRenderbuffer(
																			t.FRAMEBUFFER,
																			t.DEPTH_ATTACHMENT,
																			t.RENDERBUFFER,
																			e
																		),
																		(this.current =
																			e);
																}
															},
														},
													]),
													t
												);
											})();
										e.exports = {
											ClearColor: v,
											ClearDepth: g,
											ClearStencil: _,
											ColorMask: b,
											DepthMask: x,
											StencilMask: w,
											StencilFunc: C,
											StencilOp: T,
											StencilTest: k,
											DepthRange: P,
											DepthTest: E,
											DepthFunc: S,
											Blend: A,
											BlendFunc: M,
											BlendColor: I,
											Program: L,
											LineWidth: D,
											ActiveTextureUnit: O,
											Viewport: z,
											BindFramebuffer: R,
											BindRenderbuffer: B,
											BindTexture: j,
											BindVertexBuffer: F,
											BindElementBuffer: N,
											BindVertexArrayOES: V,
											PixelStoreUnpack: U,
											PixelStoreUnpackPremultiplyAlpha: H,
											ColorAttachment: q,
											DepthAttachment: W,
										};
									},
									function (e, t, n) {
										function r(e, t) {
											if (!(e instanceof t))
												throw new TypeError(
													"Cannot call a class as a function"
												);
										}
										function i(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function a(e, t, n) {
											return (
												t && i(e.prototype, t),
												n && i(e, n),
												e
											);
										}
										var s = n(6),
											l = 512 / s / 2,
											u = (function () {
												function e(t, n, i) {
													r(this, e),
														(this.tileID = t),
														(this.indexedSymbolInstances =
															{}),
														(this.bucketInstanceId =
															i);
													var a = !0,
														s = !1,
														l = void 0;
													try {
														for (
															var u,
																c = (0,
																o.default)(n);
															!(a = (u = c.next())
																.done);
															a = !0
														) {
															var f = u.value,
																h = f.key;
															this
																.indexedSymbolInstances[
																h
															] ||
																(this.indexedSymbolInstances[
																	h
																] = []),
																this.indexedSymbolInstances[
																	h
																].push({
																	crossTileID:
																		f.crossTileID,
																	coord: this.getScaledCoordinates(
																		f,
																		t
																	),
																});
														}
													} catch (e) {
														(s = !0), (l = e);
													} finally {
														try {
															a ||
																null ==
																	c.return ||
																c.return();
														} finally {
															if (s) throw l;
														}
													}
												}
												return (
													a(e, [
														{
															key: "getScaledCoordinates",
															value: function (
																e,
																t
															) {
																var n =
																		t
																			.canonical
																			.z -
																		this
																			.tileID
																			.canonical
																			.z,
																	r =
																		l /
																		Math.pow(
																			2,
																			n
																		),
																	i =
																		e.anchor;
																return {
																	x: Math.floor(
																		(t
																			.canonical
																			.x *
																			s +
																			i.x) *
																			r
																	),
																	y: Math.floor(
																		(t
																			.canonical
																			.y *
																			s +
																			i.y) *
																			r
																	),
																};
															},
														},
														{
															key: "findMatches",
															value: function (
																e,
																t,
																n
															) {
																var r =
																		this
																			.tileID
																			.canonical
																			.z <
																		t
																			.canonical
																			.z
																			? 1
																			: Math.pow(
																					2,
																					this
																						.tileID
																						.canonical
																						.z -
																						t
																							.canonical
																							.z
																			  ),
																	i = !0,
																	a = !1,
																	s = void 0;
																try {
																	for (
																		var l,
																			u =
																				(0,
																				o.default)(
																					e
																				);
																		!(i =
																			(l =
																				u.next())
																				.done);
																		i = !0
																	) {
																		var c =
																			l.value;
																		if (
																			!c.crossTileID
																		) {
																			var f =
																				this
																					.indexedSymbolInstances[
																					c
																						.key
																				];
																			if (
																				f
																			) {
																				var h =
																						this.getScaledCoordinates(
																							c,
																							t
																						),
																					p =
																						!0,
																					d =
																						!1,
																					y =
																						void 0;
																				try {
																					for (
																						var m,
																							v =
																								(0,
																								o.default)(
																									f
																								);
																						!(p =
																							(m =
																								v.next())
																								.done);
																						p =
																							!0
																					) {
																						var g =
																							m.value;
																						if (
																							Math.abs(
																								g
																									.coord
																									.x -
																									h.x
																							) <=
																								r &&
																							Math.abs(
																								g
																									.coord
																									.y -
																									h.y
																							) <=
																								r &&
																							!n[
																								g
																									.crossTileID
																							]
																						) {
																							(n[
																								g.crossTileID
																							] =
																								!0),
																								(c.crossTileID =
																									g.crossTileID);
																							break;
																						}
																					}
																				} catch (e) {
																					(d =
																						!0),
																						(y =
																							e);
																				} finally {
																					try {
																						p ||
																							null ==
																								v.return ||
																							v.return();
																					} finally {
																						if (
																							d
																						)
																							throw y;
																					}
																				}
																			}
																		}
																	}
																} catch (e) {
																	(a = !0),
																		(s = e);
																} finally {
																	try {
																		i ||
																			null ==
																				u.return ||
																			u.return();
																	} finally {
																		if (a)
																			throw s;
																	}
																}
															},
														},
													]),
													e
												);
											})(),
											c = (function () {
												function e() {
													r(this, e),
														(this.maxCrossTileID = 0);
												}
												return (
													a(e, [
														{
															key: "generate",
															value: function () {
																return ++this
																	.maxCrossTileID;
															},
														},
													]),
													e
												);
											})(),
											f = (function () {
												function e() {
													r(this, e),
														(this.indexes = {}),
														(this.usedCrossTileIDs =
															{});
												}
												return (
													a(e, [
														{
															key: "addBucket",
															value: function (
																e,
																t,
																n
															) {
																if (
																	this
																		.indexes[
																		e
																			.overscaledZ
																	] &&
																	this
																		.indexes[
																		e
																			.overscaledZ
																	][e.key]
																) {
																	if (
																		this
																			.indexes[
																			e
																				.overscaledZ
																		][e.key]
																			.bucketInstanceId ===
																		t.bucketInstanceId
																	)
																		return !1;
																	this.removeBucketCrossTileIDs(
																		e.overscaledZ,
																		this
																			.indexes[
																			e
																				.overscaledZ
																		][e.key]
																	);
																}
																var r = !0,
																	i = !1,
																	a = void 0;
																try {
																	for (
																		var s,
																			l =
																				(0,
																				o.default)(
																					t.symbolInstances
																				);
																		!(r =
																			(s =
																				l.next())
																				.done);
																		r = !0
																	)
																		s.value.crossTileID = 0;
																} catch (e) {
																	(i = !0),
																		(a = e);
																} finally {
																	try {
																		r ||
																			null ==
																				l.return ||
																			l.return();
																	} finally {
																		if (i)
																			throw a;
																	}
																}
																this
																	.usedCrossTileIDs[
																	e
																		.overscaledZ
																] ||
																	(this.usedCrossTileIDs[
																		e.overscaledZ
																	] = {});
																var c =
																	this
																		.usedCrossTileIDs[
																		e
																			.overscaledZ
																	];
																for (var f in this
																	.indexes) {
																	var h =
																		this
																			.indexes[
																			f
																		];
																	if (
																		Number(
																			f
																		) >
																		e.overscaledZ
																	)
																		for (var p in h) {
																			var d =
																				h[
																					p
																				];
																			d.tileID.isChildOf(
																				e
																			) &&
																				d.findMatches(
																					t.symbolInstances,
																					e,
																					c
																				);
																		}
																	else {
																		var y =
																			h[
																				e.scaledTo(
																					Number(
																						f
																					)
																				)
																					.key
																			];
																		y &&
																			y.findMatches(
																				t.symbolInstances,
																				e,
																				c
																			);
																	}
																}
																var m = !0,
																	v = !1,
																	g = void 0;
																try {
																	for (
																		var _,
																			b =
																				(0,
																				o.default)(
																					t.symbolInstances
																				);
																		!(m =
																			(_ =
																				b.next())
																				.done);
																		m = !0
																	) {
																		var x =
																			_.value;
																		x.crossTileID ||
																			((x.crossTileID =
																				n.generate()),
																			(c[
																				x.crossTileID
																			] =
																				!0));
																	}
																} catch (e) {
																	(v = !0),
																		(g = e);
																} finally {
																	try {
																		m ||
																			null ==
																				b.return ||
																			b.return();
																	} finally {
																		if (v)
																			throw g;
																	}
																}
																return (
																	void 0 ===
																		this
																			.indexes[
																			e
																				.overscaledZ
																		] &&
																		(this.indexes[
																			e.overscaledZ
																		] = {}),
																	(this.indexes[
																		e.overscaledZ
																	][e.key] =
																		new u(
																			e,
																			t.symbolInstances,
																			t.bucketInstanceId
																		)),
																	!0
																);
															},
														},
														{
															key: "removeBucketCrossTileIDs",
															value: function (
																e,
																t
															) {
																for (var n in t.indexedSymbolInstances) {
																	var r = !0,
																		i = !1,
																		a =
																			void 0;
																	try {
																		for (
																			var s,
																				l =
																					(0,
																					o.default)(
																						t
																							.indexedSymbolInstances[
																							n
																						]
																					);
																			!(r =
																				(s =
																					l.next())
																					.done);
																			r =
																				!0
																		) {
																			var u =
																				s.value;
																			delete this
																				.usedCrossTileIDs[
																				e
																			][
																				u
																					.crossTileID
																			];
																		}
																	} catch (e) {
																		(i =
																			!0),
																			(a =
																				e);
																	} finally {
																		try {
																			r ||
																				null ==
																					l.return ||
																				l.return();
																		} finally {
																			if (
																				i
																			)
																				throw a;
																		}
																	}
																}
															},
														},
														{
															key: "removeStaleBuckets",
															value: function (
																e
															) {
																var t = !1;
																for (var n in this
																	.indexes) {
																	var r =
																		this
																			.indexes[
																			n
																		];
																	for (var i in r)
																		e[
																			r[i]
																				.bucketInstanceId
																		] ||
																			(this.removeBucketCrossTileIDs(
																				n,
																				r[
																					i
																				]
																			),
																			delete r[
																				i
																			],
																			(t =
																				!0));
																}
																return t;
															},
														},
													]),
													e
												);
											})(),
											h = (function () {
												function e() {
													r(this, e),
														(this.layerIndexes =
															{}),
														(this.crossTileIDs =
															new c()),
														(this.maxBucketInstanceId = 0);
												}
												return (
													a(e, [
														{
															key: "addLayer",
															value: function (
																e,
																t
															) {
																var n =
																	this
																		.layerIndexes[
																		e.id
																	];
																void 0 === n &&
																	(n =
																		this.layerIndexes[
																			e.id
																		] =
																			new f());
																var r = !1,
																	i = {},
																	a = !0,
																	s = !1,
																	l = void 0;
																try {
																	for (
																		var u,
																			c =
																				(0,
																				o.default)(
																					t
																				);
																		!(a =
																			(u =
																				c.next())
																				.done);
																		a = !0
																	) {
																		var h =
																				u.value,
																			p =
																				h.getBucket(
																					e
																				);
																		p &&
																			(p.bucketInstanceId ||
																				(p.bucketInstanceId =
																					++this
																						.maxBucketInstanceId),
																			n.addBucket(
																				h.tileID,
																				p,
																				this
																					.crossTileIDs
																			) &&
																				(r =
																					!0),
																			(i[
																				p.bucketInstanceId
																			] =
																				!0));
																	}
																} catch (e) {
																	(s = !0),
																		(l = e);
																} finally {
																	try {
																		a ||
																			null ==
																				c.return ||
																			c.return();
																	} finally {
																		if (s)
																			throw l;
																	}
																}
																return (
																	n.removeStaleBuckets(
																		i
																	) &&
																		(r =
																			!0),
																	r
																);
															},
														},
													]),
													e
												);
											})();
										e.exports = h;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(2),
											a = n(22).mat4,
											s = n(117),
											l = n(6),
											c = n(28),
											f = n(0),
											h = n(40),
											p = n(14),
											d = p.RasterBoundsArray,
											y = p.PosArray,
											m = n(46),
											v = n(125),
											g = n(32).ProgramConfiguration,
											_ = n(123),
											b = n(126),
											x = n(268),
											w = n(67),
											C = n(15),
											T = n(18),
											k = n(68),
											P = (n(20), n(269)),
											E = n(12),
											S = {
												symbol: n(270),
												circle: n(272),
												heatmap: n(273),
												line: n(274),
												fill: n(275),
												"fill-extrusion": n(276),
												hillshade: n(277),
												raster: n(278),
												background: n(279),
												debug: n(280),
											},
											A = (function () {
												function e(t, n) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.context = new w(
															t
														)),
														(this.transform = n),
														(this._tileTextures =
															{}),
														this.setup(),
														(this.numSublayers =
															s.maxUnderzooming +
															s.maxOverzooming +
															1),
														(this.depthEpsilon =
															1 /
															Math.pow(2, 16)),
														(this.depthRboNeedsClear =
															!0),
														(this.emptyProgramConfiguration =
															new g()),
														(this.crossTileSymbolIndex =
															new _());
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "resize",
															value: function (
																e,
																t
															) {
																var n =
																	this.context
																		.gl;
																if (
																	((this.width =
																		e *
																		i.devicePixelRatio),
																	(this.height =
																		t *
																		i.devicePixelRatio),
																	this.context.viewport.set(
																		[
																			0,
																			0,
																			this
																				.width,
																			this
																				.height,
																		]
																	),
																	this.style)
																) {
																	var r = !0,
																		a = !1,
																		s =
																			void 0;
																	try {
																		for (
																			var l,
																				u =
																					(0,
																					o.default)(
																						this
																							.style
																							._order
																					);
																			!(r =
																				(l =
																					u.next())
																					.done);
																			r =
																				!0
																		) {
																			var c =
																				l.value;
																			this.style._layers[
																				c
																			].resize();
																		}
																	} catch (e) {
																		(a =
																			!0),
																			(s =
																				e);
																	} finally {
																		try {
																			r ||
																				null ==
																					u.return ||
																				u.return();
																		} finally {
																			if (
																				a
																			)
																				throw s;
																		}
																	}
																}
																this.depthRbo &&
																	(n.deleteRenderbuffer(
																		this
																			.depthRbo
																	),
																	(this.depthRbo =
																		null));
															},
														},
														{
															key: "setup",
															value: function () {
																var e =
																		this
																			.context,
																	t = new y();
																t.emplaceBack(
																	0,
																	0
																),
																	t.emplaceBack(
																		l,
																		0
																	),
																	t.emplaceBack(
																		0,
																		l
																	),
																	t.emplaceBack(
																		l,
																		l
																	),
																	(this.tileExtentBuffer =
																		e.createVertexBuffer(
																			t,
																			v.members
																		)),
																	(this.tileExtentVAO =
																		new h()),
																	(this.tileExtentPatternVAO =
																		new h());
																var n = new y();
																n.emplaceBack(
																	0,
																	0
																),
																	n.emplaceBack(
																		l,
																		0
																	),
																	n.emplaceBack(
																		l,
																		l
																	),
																	n.emplaceBack(
																		0,
																		l
																	),
																	n.emplaceBack(
																		0,
																		0
																	),
																	(this.debugBuffer =
																		e.createVertexBuffer(
																			n,
																			v.members
																		)),
																	(this.debugVAO =
																		new h());
																var r = new d();
																r.emplaceBack(
																	0,
																	0,
																	0,
																	0
																),
																	r.emplaceBack(
																		l,
																		0,
																		l,
																		0
																	),
																	r.emplaceBack(
																		0,
																		l,
																		0,
																		l
																	),
																	r.emplaceBack(
																		l,
																		l,
																		l,
																		l
																	),
																	(this.rasterBoundsBuffer =
																		e.createVertexBuffer(
																			r,
																			m.members
																		)),
																	(this.rasterBoundsVAO =
																		new h());
																var i = new y();
																i.emplaceBack(
																	0,
																	0
																),
																	i.emplaceBack(
																		1,
																		0
																	),
																	i.emplaceBack(
																		0,
																		1
																	),
																	i.emplaceBack(
																		1,
																		1
																	),
																	(this.viewportBuffer =
																		e.createVertexBuffer(
																			i,
																			v.members
																		)),
																	(this.viewportVAO =
																		new h());
															},
														},
														{
															key: "clearStencil",
															value: function () {
																var e =
																		this
																			.context,
																	t = e.gl;
																e.setColorMode(
																	k.disabled
																),
																	e.setDepthMode(
																		C.disabled
																	),
																	e.setStencilMode(
																		new T(
																			{
																				func: t.ALWAYS,
																				mask: 0,
																			},
																			0,
																			255,
																			t.ZERO,
																			t.ZERO,
																			t.ZERO
																		)
																	);
																var n =
																	a.create();
																a.ortho(
																	n,
																	0,
																	this.width,
																	this.height,
																	0,
																	0,
																	1
																),
																	a.scale(
																		n,
																		n,
																		[
																			t.drawingBufferWidth,
																			t.drawingBufferHeight,
																			0,
																		]
																	);
																var r =
																	this.useProgram(
																		"clippingMask"
																	);
																t.uniformMatrix4fv(
																	r.uniforms
																		.u_matrix,
																	!1,
																	n
																),
																	this.viewportVAO.bind(
																		e,
																		r,
																		this
																			.viewportBuffer,
																		[]
																	),
																	t.drawArrays(
																		t.TRIANGLE_STRIP,
																		0,
																		4
																	);
															},
														},
														{
															key: "_renderTileClippingMasks",
															value: function (
																e
															) {
																var t =
																		this
																			.context,
																	n = t.gl;
																t.setColorMode(
																	k.disabled
																),
																	t.setDepthMode(
																		C.disabled
																	);
																var r = 1;
																this._tileClippingMaskIDs =
																	{};
																var i = !0,
																	a = !1,
																	s = void 0;
																try {
																	for (
																		var l,
																			u =
																				(0,
																				o.default)(
																					e
																				);
																		!(i =
																			(l =
																				u.next())
																				.done);
																		i = !0
																	) {
																		var c =
																				l.value,
																			f =
																				(this._tileClippingMaskIDs[
																					c.key
																				] =
																					r++);
																		t.setStencilMode(
																			new T(
																				{
																					func: n.ALWAYS,
																					mask: 0,
																				},
																				f,
																				255,
																				n.KEEP,
																				n.KEEP,
																				n.REPLACE
																			)
																		);
																		var h =
																			this.useProgram(
																				"clippingMask"
																			);
																		n.uniformMatrix4fv(
																			h
																				.uniforms
																				.u_matrix,
																			!1,
																			c.posMatrix
																		),
																			this.tileExtentVAO.bind(
																				this
																					.context,
																				h,
																				this
																					.tileExtentBuffer,
																				[]
																			),
																			n.drawArrays(
																				n.TRIANGLE_STRIP,
																				0,
																				this
																					.tileExtentBuffer
																					.length
																			);
																	}
																} catch (e) {
																	(a = !0),
																		(s = e);
																} finally {
																	try {
																		i ||
																			null ==
																				u.return ||
																			u.return();
																	} finally {
																		if (a)
																			throw s;
																	}
																}
															},
														},
														{
															key: "stencilModeForClipping",
															value: function (
																e
															) {
																var t =
																	this.context
																		.gl;
																return new T(
																	{
																		func: t.EQUAL,
																		mask: 255,
																	},
																	this._tileClippingMaskIDs[
																		e.key
																	],
																	0,
																	t.KEEP,
																	t.KEEP,
																	t.REPLACE
																);
															},
														},
														{
															key: "colorModeForRenderPass",
															value: function () {
																var e =
																	this.context
																		.gl;
																return this
																	._showOverdrawInspector
																	? new k(
																			[
																				e.CONSTANT_COLOR,
																				e.ONE,
																			],
																			new E(
																				1 /
																					8,
																				1 /
																					8,
																				1 /
																					8,
																				0
																			),
																			[
																				!0,
																				!0,
																				!0,
																				!0,
																			]
																	  )
																	: "opaque" ===
																	  this
																			.renderPass
																	? k.unblended
																	: k.alphaBlended;
															},
														},
														{
															key: "depthModeForSublayer",
															value: function (
																e,
																t,
																n
															) {
																var r =
																		1 -
																		((1 +
																			this
																				.currentLayer) *
																			this
																				.numSublayers +
																			e) *
																			this
																				.depthEpsilon,
																	i =
																		r -
																		1 +
																		this
																			.depthRange;
																return new C(
																	n ||
																		this
																			.context
																			.gl
																			.LEQUAL,
																	t,
																	[i, r]
																);
															},
														},
														{
															key: "render",
															value: function (
																e,
																t
															) {
																var n = this;
																for (var r in ((this.style =
																	e),
																(this.options =
																	t),
																(this.lineAtlas =
																	e.lineAtlas),
																(this.imageManager =
																	e.imageManager),
																(this.glyphManager =
																	e.glyphManager),
																(this.symbolFadeChange =
																	e.placement.symbolFadeChange(
																		i.now()
																	)),
																e.sourceCaches)) {
																	var o =
																		this
																			.style
																			.sourceCaches[
																			r
																		];
																	o.used &&
																		o.prepare(
																			this
																				.context
																		);
																}
																var a =
																		this
																			.style
																			._order,
																	s =
																		f.filterObject(
																			this
																				.style
																				.sourceCaches,
																			function (
																				e
																			) {
																				return (
																					"raster" ===
																						e.getSource()
																							.type ||
																					"raster-dem" ===
																						e.getSource()
																							.type
																				);
																			}
																		),
																	l =
																		function (
																			e
																		) {
																			var t =
																					s[
																						e
																					],
																				r =
																					t
																						.getVisibleCoordinates()
																						.map(
																							function (
																								e
																							) {
																								return t.getTile(
																									e
																								);
																							}
																						);
																			P(
																				r,
																				n.context
																			);
																		};
																for (var c in s)
																	l(c);
																this.renderPass =
																	"offscreen";
																var h,
																	p = [];
																this.depthRboNeedsClear =
																	!0;
																for (
																	var d = 0;
																	d <
																	a.length;
																	d++
																) {
																	var y =
																		this
																			.style
																			._layers[
																			a[d]
																		];
																	y.hasOffscreenPass() &&
																		!y.isHidden(
																			this
																				.transform
																				.zoom
																		) &&
																		(y.source !==
																			(h &&
																				h.id) &&
																			((p =
																				[]),
																			(h =
																				this
																					.style
																					.sourceCaches[
																					y
																						.source
																				]) &&
																				(p =
																					h.getVisibleCoordinates()).reverse()),
																		p.length &&
																			this.renderLayer(
																				this,
																				h,
																				y,
																				p
																			));
																}
																this.context.bindFramebuffer.set(
																	null
																),
																	this.context.clear(
																		{
																			color: t.showOverdrawInspector
																				? E.black
																				: E.transparent,
																			depth: 1,
																		}
																	),
																	(this._showOverdrawInspector =
																		t.showOverdrawInspector),
																	(this.depthRange =
																		(e
																			._order
																			.length +
																			2) *
																		this
																			.numSublayers *
																		this
																			.depthEpsilon),
																	(this.renderPass =
																		"opaque");
																var m,
																	v = [];
																for (
																	this.currentLayer =
																		a.length -
																		1,
																		this
																			.currentLayer;
																	this
																		.currentLayer >=
																	0;
																	this
																		.currentLayer--
																) {
																	var g =
																		this
																			.style
																			._layers[
																			a[
																				this
																					.currentLayer
																			]
																		];
																	g.source !==
																		(m &&
																			m.id) &&
																		((v =
																			[]),
																		(m =
																			this
																				.style
																				.sourceCaches[
																				g
																					.source
																			]) &&
																			(this.clearStencil(),
																			(v =
																				m.getVisibleCoordinates()),
																			m.getSource()
																				.isTileClipped &&
																				this._renderTileClippingMasks(
																					v
																				))),
																		this.renderLayer(
																			this,
																			m,
																			g,
																			v
																		);
																}
																this.renderPass =
																	"translucent";
																var _,
																	b = [];
																for (
																	this.currentLayer = 0,
																		this
																			.currentLayer;
																	this
																		.currentLayer <
																	a.length;
																	this
																		.currentLayer++
																) {
																	var x =
																		this
																			.style
																			._layers[
																			a[
																				this
																					.currentLayer
																			]
																		];
																	x.source !==
																		(_ &&
																			_.id) &&
																		((b =
																			[]),
																		(_ =
																			this
																				.style
																				.sourceCaches[
																				x
																					.source
																			]) &&
																			(this.clearStencil(),
																			(b =
																				_.getVisibleCoordinates()),
																			_.getSource()
																				.isTileClipped &&
																				this._renderTileClippingMasks(
																					b
																				)),
																		b.reverse()),
																		this.renderLayer(
																			this,
																			_,
																			x,
																			b
																		);
																}
																if (
																	this.options
																		.showTileBoundaries
																) {
																	var w =
																		this
																			.style
																			.sourceCaches[
																			(0,
																			u.default)(
																				this
																					.style
																					.sourceCaches
																			)[0]
																		];
																	w &&
																		S.debug(
																			this,
																			w,
																			w.getVisibleCoordinates()
																		);
																}
															},
														},
														{
															key: "setupOffscreenDepthRenderbuffer",
															value: function () {
																var e =
																	this
																		.context;
																this.depthRbo ||
																	(this.depthRbo =
																		e.createRenderbuffer(
																			e.gl
																				.DEPTH_COMPONENT16,
																			this
																				.width,
																			this
																				.height
																		));
															},
														},
														{
															key: "renderLayer",
															value: function (
																e,
																t,
																n,
																r
															) {
																n.isHidden(
																	this
																		.transform
																		.zoom
																) ||
																	(("background" ===
																		n.type ||
																		r.length) &&
																		((this.id =
																			n.id),
																		S[
																			n
																				.type
																		](
																			e,
																			t,
																			n,
																			r
																		)));
															},
														},
														{
															key: "translatePosMatrix",
															value: function (
																e,
																t,
																n,
																r,
																i
															) {
																if (
																	!n[0] &&
																	!n[1]
																)
																	return e;
																var o = i
																	? "map" ===
																	  r
																		? this
																				.transform
																				.angle
																		: 0
																	: "viewport" ===
																	  r
																	? -this
																			.transform
																			.angle
																	: 0;
																if (o) {
																	var s =
																			Math.sin(
																				o
																			),
																		l =
																			Math.cos(
																				o
																			);
																	n = [
																		n[0] *
																			l -
																			n[1] *
																				s,
																		n[0] *
																			s +
																			n[1] *
																				l,
																	];
																}
																var u = [
																		i
																			? n[0]
																			: c(
																					t,
																					n[0],
																					this
																						.transform
																						.zoom
																			  ),
																		i
																			? n[1]
																			: c(
																					t,
																					n[1],
																					this
																						.transform
																						.zoom
																			  ),
																		0,
																	],
																	f =
																		new Float32Array(
																			16
																		);
																return (
																	a.translate(
																		f,
																		e,
																		u
																	),
																	f
																);
															},
														},
														{
															key: "saveTileTexture",
															value: function (
																e
															) {
																var t =
																	this
																		._tileTextures[
																		e
																			.size[0]
																	];
																t
																	? t.push(e)
																	: (this._tileTextures[
																			e.size[0]
																	  ] = [e]);
															},
														},
														{
															key: "getTileTexture",
															value: function (
																e
															) {
																var t =
																	this
																		._tileTextures[
																		e
																	];
																return t &&
																	t.length > 0
																	? t.pop()
																	: null;
															},
														},
														{
															key: "_createProgramCached",
															value: function (
																e,
																t
															) {
																this.cache =
																	this
																		.cache ||
																	{};
																var n = ""
																	.concat(e)
																	.concat(
																		t.cacheKey ||
																			""
																	)
																	.concat(
																		this
																			._showOverdrawInspector
																			? "/overdraw"
																			: ""
																	);
																return (
																	this.cache[
																		n
																	] ||
																		(this.cache[
																			n
																		] = new x(
																			this.context,
																			b[
																				e
																			],
																			t,
																			this._showOverdrawInspector
																		)),
																	this.cache[
																		n
																	]
																);
															},
														},
														{
															key: "useProgram",
															value: function (
																e,
																t
															) {
																var n =
																	this._createProgramCached(
																		e,
																		t ||
																			this
																				.emptyProgramConfiguration
																	);
																return (
																	this.context.program.set(
																		n.program
																	),
																	n
																);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = A;
									},
									function (e, t, n) {
										var r = n(23).createLayout;
										e.exports = r([
											{
												name: "a_pos",
												type: "Int16",
												components: 2,
											},
										]);
									},
									function (e, t, n) {
										var r = {
												prelude: {
													fragmentSource: n(218),
													vertexSource: n(219),
												},
												background: {
													fragmentSource: n(220),
													vertexSource: n(221),
												},
												backgroundPattern: {
													fragmentSource: n(222),
													vertexSource: n(223),
												},
												circle: {
													fragmentSource: n(224),
													vertexSource: n(225),
												},
												clippingMask: {
													fragmentSource: n(226),
													vertexSource: n(227),
												},
												heatmap: {
													fragmentSource: n(228),
													vertexSource: n(229),
												},
												heatmapTexture: {
													fragmentSource: n(230),
													vertexSource: n(231),
												},
												collisionBox: {
													fragmentSource: n(232),
													vertexSource: n(233),
												},
												collisionCircle: {
													fragmentSource: n(234),
													vertexSource: n(235),
												},
												debug: {
													fragmentSource: n(236),
													vertexSource: n(237),
												},
												fill: {
													fragmentSource: n(238),
													vertexSource: n(239),
												},
												fillOutline: {
													fragmentSource: n(240),
													vertexSource: n(241),
												},
												fillOutlinePattern: {
													fragmentSource: n(242),
													vertexSource: n(243),
												},
												fillPattern: {
													fragmentSource: n(244),
													vertexSource: n(245),
												},
												fillExtrusion: {
													fragmentSource: n(246),
													vertexSource: n(247),
												},
												fillExtrusionPattern: {
													fragmentSource: n(248),
													vertexSource: n(249),
												},
												extrusionTexture: {
													fragmentSource: n(250),
													vertexSource: n(251),
												},
												hillshadePrepare: {
													fragmentSource: n(252),
													vertexSource: n(253),
												},
												hillshade: {
													fragmentSource: n(254),
													vertexSource: n(255),
												},
												line: {
													fragmentSource: n(256),
													vertexSource: n(257),
												},
												linePattern: {
													fragmentSource: n(258),
													vertexSource: n(259),
												},
												lineSDF: {
													fragmentSource: n(260),
													vertexSource: n(261),
												},
												raster: {
													fragmentSource: n(262),
													vertexSource: n(263),
												},
												symbolIcon: {
													fragmentSource: n(264),
													vertexSource: n(265),
												},
												symbolSDF: {
													fragmentSource: n(266),
													vertexSource: n(267),
												},
											},
											i =
												/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,
											o = function (e) {
												var t = r[e],
													n = {};
												(t.fragmentSource =
													t.fragmentSource.replace(
														i,
														function (
															e,
															t,
															r,
															i,
															o
														) {
															return (
																(n[o] = !0),
																"define" === t
																	? "\n#ifndef HAS_UNIFORM_u_"
																			.concat(
																				o,
																				"\nvarying "
																			)
																			.concat(
																				r,
																				" "
																			)
																			.concat(
																				i,
																				" "
																			)
																			.concat(
																				o,
																				";\n#else\nuniform "
																			)
																			.concat(
																				r,
																				" "
																			)
																			.concat(
																				i,
																				" u_"
																			)
																			.concat(
																				o,
																				";\n#endif\n"
																			)
																	: "\n#ifdef HAS_UNIFORM_u_"
																			.concat(
																				o,
																				"\n    "
																			)
																			.concat(
																				r,
																				" "
																			)
																			.concat(
																				i,
																				" "
																			)
																			.concat(
																				o,
																				" = u_"
																			)
																			.concat(
																				o,
																				";\n#endif\n"
																			)
															);
														}
													)),
													(t.vertexSource =
														t.vertexSource.replace(
															i,
															function (
																e,
																t,
																r,
																i,
																o
															) {
																var a =
																	"float" ===
																	i
																		? "vec2"
																		: "vec4";
																return n[o]
																	? "define" ===
																	  t
																		? "\n#ifndef HAS_UNIFORM_u_"
																				.concat(
																					o,
																					"\nuniform lowp float a_"
																				)
																				.concat(
																					o,
																					"_t;\nattribute "
																				)
																				.concat(
																					r,
																					" "
																				)
																				.concat(
																					a,
																					" a_"
																				)
																				.concat(
																					o,
																					";\nvarying "
																				)
																				.concat(
																					r,
																					" "
																				)
																				.concat(
																					i,
																					" "
																				)
																				.concat(
																					o,
																					";\n#else\nuniform "
																				)
																				.concat(
																					r,
																					" "
																				)
																				.concat(
																					i,
																					" u_"
																				)
																				.concat(
																					o,
																					";\n#endif\n"
																				)
																		: "\n#ifndef HAS_UNIFORM_u_"
																				.concat(
																					o,
																					"\n    "
																				)
																				.concat(
																					o,
																					" = unpack_mix_"
																				)
																				.concat(
																					a,
																					"(a_"
																				)
																				.concat(
																					o,
																					", a_"
																				)
																				.concat(
																					o,
																					"_t);\n#else\n    "
																				)
																				.concat(
																					r,
																					" "
																				)
																				.concat(
																					i,
																					" "
																				)
																				.concat(
																					o,
																					" = u_"
																				)
																				.concat(
																					o,
																					";\n#endif\n"
																				)
																	: "define" ===
																	  t
																	? "\n#ifndef HAS_UNIFORM_u_"
																			.concat(
																				o,
																				"\nuniform lowp float a_"
																			)
																			.concat(
																				o,
																				"_t;\nattribute "
																			)
																			.concat(
																				r,
																				" "
																			)
																			.concat(
																				a,
																				" a_"
																			)
																			.concat(
																				o,
																				";\n#else\nuniform "
																			)
																			.concat(
																				r,
																				" "
																			)
																			.concat(
																				i,
																				" u_"
																			)
																			.concat(
																				o,
																				";\n#endif\n"
																			)
																	: "\n#ifndef HAS_UNIFORM_u_"
																			.concat(
																				o,
																				"\n    "
																			)
																			.concat(
																				r,
																				" "
																			)
																			.concat(
																				i,
																				" "
																			)
																			.concat(
																				o,
																				" = unpack_mix_"
																			)
																			.concat(
																				a,
																				"(a_"
																			)
																			.concat(
																				o,
																				", a_"
																			)
																			.concat(
																				o,
																				"_t);\n#else\n    "
																			)
																			.concat(
																				r,
																				" "
																			)
																			.concat(
																				i,
																				" "
																			)
																			.concat(
																				o,
																				" = u_"
																			)
																			.concat(
																				o,
																				";\n#endif\n"
																			);
															}
														));
											};
										for (var a in r) o(a);
										e.exports = r;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(9),
											o = n(0),
											a = n(5),
											s = n(2),
											l = o.bezier(0, 0, 0.25, 1),
											u = (function () {
												function e(t, n) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this._map = t),
														(this._el =
															n.element ||
															t.getCanvasContainer()),
														(this._button =
															n.button ||
															"right"),
														(this._bearingSnap =
															n.bearingSnap || 0),
														(this._pitchWithRotate =
															!1 !==
															n.pitchWithRotate),
														o.bindAll(
															[
																"_onDown",
																"_onMove",
																"_onUp",
															],
															this
														);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "isEnabled",
															value: function () {
																return !!this
																	._enabled;
															},
														},
														{
															key: "isActive",
															value: function () {
																return !!this
																	._active;
															},
														},
														{
															key: "enable",
															value: function () {
																this.isEnabled() ||
																	(this._el.addEventListener(
																		"mousedown",
																		this
																			._onDown
																	),
																	(this._enabled =
																		!0));
															},
														},
														{
															key: "disable",
															value: function () {
																this.isEnabled() &&
																	(this._el.removeEventListener(
																		"mousedown",
																		this
																			._onDown
																	),
																	(this._enabled =
																		!1));
															},
														},
														{
															key: "_onDown",
															value: function (
																e
															) {
																if (
																	!(
																		(this
																			._map
																			.boxZoom &&
																			this._map.boxZoom.isActive()) ||
																		(this
																			._map
																			.dragPan &&
																			this._map.dragPan.isActive()) ||
																		this.isActive()
																	)
																) {
																	if (
																		"right" ===
																		this
																			._button
																	) {
																		var t =
																				e.ctrlKey
																					? 0
																					: 2,
																			n =
																				e.button;
																		if (
																			(void 0 !==
																				a.InstallTrigger &&
																				2 ===
																					e.button &&
																				e.ctrlKey &&
																				a.navigator.platform
																					.toUpperCase()
																					.indexOf(
																						"MAC"
																					) >=
																					0 &&
																				(n = 0),
																			n !==
																				t)
																		)
																			return;
																	} else if (
																		e.ctrlKey ||
																		0 !==
																			e.button
																	)
																		return;
																	i.disableDrag(),
																		a.document.addEventListener(
																			"mousemove",
																			this
																				._onMove,
																			{
																				capture:
																					!0,
																			}
																		),
																		a.document.addEventListener(
																			"mouseup",
																			this
																				._onUp
																		),
																		a.addEventListener(
																			"blur",
																			this
																				._onUp
																		),
																		(this._active =
																			!1),
																		(this._inertia =
																			[
																				[
																					s.now(),
																					this._map.getBearing(),
																				],
																			]),
																		(this._startPos =
																			this._pos =
																				i.mousePos(
																					this
																						._el,
																					e
																				)),
																		(this._center =
																			this._map.transform.centerPoint),
																		e.preventDefault();
																}
															},
														},
														{
															key: "_onMove",
															value: function (
																e
															) {
																this.isActive() ||
																	((this._active =
																		!0),
																	(this._map.moving =
																		!0),
																	this._fireEvent(
																		"rotatestart",
																		e
																	),
																	this._fireEvent(
																		"movestart",
																		e
																	),
																	this
																		._pitchWithRotate &&
																		this._fireEvent(
																			"pitchstart",
																			e
																		));
																var t =
																	this._map;
																t.stop();
																var n =
																		this
																			._pos,
																	r =
																		i.mousePos(
																			this
																				._el,
																			e
																		),
																	o =
																		0.8 *
																		(n.x -
																			r.x),
																	a =
																		-0.5 *
																		(n.y -
																			r.y),
																	l =
																		t.getBearing() -
																		o,
																	u =
																		t.getPitch() -
																		a,
																	c =
																		this
																			._inertia,
																	f =
																		c[
																			c.length -
																				1
																		];
																this._drainInertiaBuffer(),
																	c.push([
																		s.now(),
																		t._normalizeBearing(
																			l,
																			f[1]
																		),
																	]),
																	(t.transform.bearing =
																		l),
																	this
																		._pitchWithRotate &&
																		(this._fireEvent(
																			"pitch",
																			e
																		),
																		(t.transform.pitch =
																			u)),
																	this._fireEvent(
																		"rotate",
																		e
																	),
																	this._fireEvent(
																		"move",
																		e
																	),
																	(this._pos =
																		r);
															},
														},
														{
															key: "_onUp",
															value: function (
																e
															) {
																var t = this;
																if (
																	(a.document.removeEventListener(
																		"mousemove",
																		this
																			._onMove,
																		{
																			capture:
																				!0,
																		}
																	),
																	a.document.removeEventListener(
																		"mouseup",
																		this
																			._onUp
																	),
																	a.removeEventListener(
																		"blur",
																		this
																			._onUp
																	),
																	i.enableDrag(),
																	this.isActive())
																) {
																	(this._active =
																		!1),
																		this._fireEvent(
																			"rotateend",
																			e
																		),
																		this._drainInertiaBuffer();
																	var n =
																			this
																				._map,
																		r =
																			n.getBearing(),
																		o =
																			this
																				._inertia,
																		s =
																			function () {
																				Math.abs(
																					r
																				) <
																				t._bearingSnap
																					? n.resetNorth(
																							{
																								noMoveStart:
																									!0,
																							},
																							{
																								originalEvent:
																									e,
																							}
																					  )
																					: ((t._map.moving =
																							!1),
																					  t._fireEvent(
																							"moveend",
																							e
																					  )),
																					t._pitchWithRotate &&
																						t._fireEvent(
																							"pitchend",
																							e
																						);
																			};
																	if (
																		o.length <
																		2
																	)
																		s();
																	else {
																		var u =
																				o[0],
																			c =
																				o[
																					o.length -
																						1
																				],
																			f =
																				o[
																					o.length -
																						2
																				],
																			h =
																				n._normalizeBearing(
																					r,
																					f[1]
																				),
																			p =
																				c[1] -
																				u[1],
																			d =
																				p <
																				0
																					? -1
																					: 1,
																			y =
																				(c[0] -
																					u[0]) /
																				1e3;
																		if (
																			0 !==
																				p &&
																			0 !==
																				y
																		) {
																			var m =
																				Math.abs(
																					p *
																						(0.25 /
																							y)
																				);
																			m >
																				180 &&
																				(m = 180);
																			var v =
																				m /
																				180;
																			(h +=
																				d *
																				m *
																				(v /
																					2)),
																				Math.abs(
																					n._normalizeBearing(
																						h,
																						0
																					)
																				) <
																					this
																						._bearingSnap &&
																					(h =
																						n._normalizeBearing(
																							0,
																							h
																						)),
																				n.rotateTo(
																					h,
																					{
																						duration:
																							1e3 *
																							v,
																						easing: l,
																						noMoveStart:
																							!0,
																					},
																					{
																						originalEvent:
																							e,
																					}
																				);
																		} else
																			s();
																	}
																}
															},
														},
														{
															key: "_fireEvent",
															value: function (
																e,
																t
															) {
																return this._map.fire(
																	e,
																	{
																		originalEvent:
																			t,
																	}
																);
															},
														},
														{
															key: "_drainInertiaBuffer",
															value: function () {
																for (
																	var e =
																			this
																				._inertia,
																		t =
																			s.now();
																	e.length >
																		0 &&
																	t -
																		e[0][0] >
																		160;

																)
																	e.shift();
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = u;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(9),
											o = n(0),
											a = n(64),
											s = (function () {
												function e(t) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.options = t),
														o.bindAll(
															[
																"_updateEditLink",
																"_updateData",
																"_updateCompact",
															],
															this
														);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "getDefaultPosition",
															value: function () {
																return "bottom-right";
															},
														},
														{
															key: "onAdd",
															value: function (
																e
															) {
																var t =
																	this
																		.options &&
																	this.options
																		.compact;
																return (
																	(this._map =
																		e),
																	(this._container =
																		i.create(
																			"div",
																			"mapboxgl-ctrl mapboxgl-ctrl-attrib"
																		)),
																	t &&
																		this._container.classList.add(
																			"mapboxgl-compact"
																		),
																	this._updateAttributions(),
																	this._updateEditLink(),
																	this._map.on(
																		"sourcedata",
																		this
																			._updateData
																	),
																	this._map.on(
																		"moveend",
																		this
																			._updateEditLink
																	),
																	void 0 ===
																		t &&
																		(this._map.on(
																			"resize",
																			this
																				._updateCompact
																		),
																		this._updateCompact()),
																	this
																		._container
																);
															},
														},
														{
															key: "onRemove",
															value: function () {
																i.remove(
																	this
																		._container
																),
																	this._map.off(
																		"sourcedata",
																		this
																			._updateData
																	),
																	this._map.off(
																		"moveend",
																		this
																			._updateEditLink
																	),
																	this._map.off(
																		"resize",
																		this
																			._updateCompact
																	),
																	(this._map =
																		void 0);
															},
														},
														{
															key: "_updateEditLink",
															value: function () {
																var e =
																	this
																		._editLink;
																e ||
																	(e =
																		this._editLink =
																			this._container.querySelector(
																				".mapbox-improve-map"
																			));
																var t = [
																	{
																		key: "owner",
																		value: this
																			.styleOwner,
																	},
																	{
																		key: "id",
																		value: this
																			.styleId,
																	},
																	{
																		key: "access_token",
																		value: a.ACCESS_TOKEN,
																	},
																];
																if (e) {
																	var n =
																		t.reduce(
																			function (
																				e,
																				n,
																				r
																			) {
																				return (
																					n.value &&
																						(e +=
																							""
																								.concat(
																									n.key,
																									"="
																								)
																								.concat(
																									n.value
																								)
																								.concat(
																									r <
																										t.length -
																											1
																										? "&"
																										: ""
																								)),
																					e
																				);
																			},
																			"?"
																		);
																	e.href =
																		"https://www.mapbox.com/feedback/"
																			.concat(
																				n
																			)
																			.concat(
																				this
																					._map
																					._hash
																					? this._map._hash.getHashString(
																							!0
																					  )
																					: ""
																			);
																}
															},
														},
														{
															key: "_updateData",
															value: function (
																e
															) {
																e &&
																	"metadata" ===
																		e.sourceDataType &&
																	(this._updateAttributions(),
																	this._updateEditLink());
															},
														},
														{
															key: "_updateAttributions",
															value: function () {
																if (
																	this._map
																		.style
																) {
																	var e = [];
																	if (
																		this
																			._map
																			.style
																			.stylesheet
																	) {
																		var t =
																			this
																				._map
																				.style
																				.stylesheet;
																		(this.styleOwner =
																			t.owner),
																			(this.styleId =
																				t.id);
																	}
																	var n =
																		this
																			._map
																			.style
																			.sourceCaches;
																	for (var r in n) {
																		var i =
																			n[
																				r
																			].getSource();
																		i.attribution &&
																			e.indexOf(
																				i.attribution
																			) <
																				0 &&
																			e.push(
																				i.attribution
																			);
																	}
																	e.sort(
																		function (
																			e,
																			t
																		) {
																			return (
																				e.length -
																				t.length
																			);
																		}
																	),
																		(e =
																			e.filter(
																				function (
																					t,
																					n
																				) {
																					for (
																						var r =
																							n +
																							1;
																						r <
																						e.length;
																						r++
																					)
																						if (
																							e[
																								r
																							].indexOf(
																								t
																							) >=
																							0
																						)
																							return !1;
																					return !0;
																				}
																			)),
																		(this._container.innerHTML =
																			e.join(
																				" | "
																			)),
																		(this._editLink =
																			null);
																}
															},
														},
														{
															key: "_updateCompact",
															value: function () {
																this._map.getCanvasContainer()
																	.offsetWidth <=
																640
																	? this._container.classList.add(
																			"mapboxgl-compact"
																	  )
																	: this._container.classList.remove(
																			"mapboxgl-compact"
																	  );
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = s;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(9),
											o = n(21),
											a = n(3),
											s = n(130),
											l = n(0).bindAll,
											u = (function () {
												function e(t, n) {
													if (
														((function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, e),
														(this._offset =
															a.convert(
																(n &&
																	n.offset) || [
																	0, 0,
																]
															)),
														l(
															[
																"_update",
																"_onMapClick",
															],
															this
														),
														!t)
													) {
														t = i.create("div");
														var r = i.createNS(
															"http://www.w3.org/2000/svg",
															"svg"
														);
														r.setAttributeNS(
															null,
															"height",
															"41px"
														),
															r.setAttributeNS(
																null,
																"width",
																"27px"
															),
															r.setAttributeNS(
																null,
																"viewBox",
																"0 0 27 41"
															);
														var o = i.createNS(
															"http://www.w3.org/2000/svg",
															"g"
														);
														o.setAttributeNS(
															null,
															"stroke",
															"none"
														),
															o.setAttributeNS(
																null,
																"stroke-width",
																"1"
															),
															o.setAttributeNS(
																null,
																"fill",
																"none"
															),
															o.setAttributeNS(
																null,
																"fill-rule",
																"evenodd"
															);
														var s = i.createNS(
															"http://www.w3.org/2000/svg",
															"g"
														);
														s.setAttributeNS(
															null,
															"fill-rule",
															"nonzero"
														);
														var u = i.createNS(
															"http://www.w3.org/2000/svg",
															"g"
														);
														u.setAttributeNS(
															null,
															"transform",
															"translate(3.0, 29.0)"
														),
															u.setAttributeNS(
																null,
																"fill",
																"#000000"
															);
														for (
															var c = 0,
																f = [
																	{
																		rx: "10.5",
																		ry: "5.25002273",
																	},
																	{
																		rx: "10.5",
																		ry: "5.25002273",
																	},
																	{
																		rx: "9.5",
																		ry: "4.77275007",
																	},
																	{
																		rx: "8.5",
																		ry: "4.29549936",
																	},
																	{
																		rx: "7.5",
																		ry: "3.81822308",
																	},
																	{
																		rx: "6.5",
																		ry: "3.34094679",
																	},
																	{
																		rx: "5.5",
																		ry: "2.86367051",
																	},
																	{
																		rx: "4.5",
																		ry: "2.38636864",
																	},
																];
															c < f.length;
															c++
														) {
															var h = f[c],
																p = i.createNS(
																	"http://www.w3.org/2000/svg",
																	"ellipse"
																);
															p.setAttributeNS(
																null,
																"opacity",
																"0.04"
															),
																p.setAttributeNS(
																	null,
																	"cx",
																	"10.5"
																),
																p.setAttributeNS(
																	null,
																	"cy",
																	"5.80029008"
																),
																p.setAttributeNS(
																	null,
																	"rx",
																	h.rx
																),
																p.setAttributeNS(
																	null,
																	"ry",
																	h.ry
																),
																u.appendChild(
																	p
																);
														}
														var d = i.createNS(
															"http://www.w3.org/2000/svg",
															"g"
														);
														d.setAttributeNS(
															null,
															"fill",
															"#3FB1CE"
														);
														var y = i.createNS(
															"http://www.w3.org/2000/svg",
															"path"
														);
														y.setAttributeNS(
															null,
															"d",
															"M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"
														),
															d.appendChild(y);
														var m = i.createNS(
															"http://www.w3.org/2000/svg",
															"g"
														);
														m.setAttributeNS(
															null,
															"opacity",
															"0.25"
														),
															m.setAttributeNS(
																null,
																"fill",
																"#000000"
															);
														var v = i.createNS(
															"http://www.w3.org/2000/svg",
															"path"
														);
														v.setAttributeNS(
															null,
															"d",
															"M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"
														),
															m.appendChild(v);
														var g = i.createNS(
															"http://www.w3.org/2000/svg",
															"g"
														);
														g.setAttributeNS(
															null,
															"transform",
															"translate(6.0, 7.0)"
														),
															g.setAttributeNS(
																null,
																"fill",
																"#FFFFFF"
															);
														var _ = i.createNS(
															"http://www.w3.org/2000/svg",
															"g"
														);
														_.setAttributeNS(
															null,
															"transform",
															"translate(8.0, 8.0)"
														);
														var b = i.createNS(
															"http://www.w3.org/2000/svg",
															"circle"
														);
														b.setAttributeNS(
															null,
															"fill",
															"#000000"
														),
															b.setAttributeNS(
																null,
																"opacity",
																"0.25"
															),
															b.setAttributeNS(
																null,
																"cx",
																"5.5"
															),
															b.setAttributeNS(
																null,
																"cy",
																"5.5"
															),
															b.setAttributeNS(
																null,
																"r",
																"5.4999962"
															);
														var x = i.createNS(
															"http://www.w3.org/2000/svg",
															"circle"
														);
														x.setAttributeNS(
															null,
															"fill",
															"#FFFFFF"
														),
															x.setAttributeNS(
																null,
																"cx",
																"5.5"
															),
															x.setAttributeNS(
																null,
																"cy",
																"5.5"
															),
															x.setAttributeNS(
																null,
																"r",
																"5.4999962"
															),
															_.appendChild(b),
															_.appendChild(x),
															s.appendChild(u),
															s.appendChild(d),
															s.appendChild(m),
															s.appendChild(g),
															s.appendChild(_),
															r.appendChild(s),
															t.appendChild(r);
													}
													t.classList.add(
														"mapboxgl-marker"
													),
														(this._element = t),
														(this._popup = null);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "addTo",
															value: function (
																e
															) {
																return (
																	this.remove(),
																	(this._map =
																		e),
																	e
																		.getCanvasContainer()
																		.appendChild(
																			this
																				._element
																		),
																	e.on(
																		"move",
																		this
																			._update
																	),
																	e.on(
																		"moveend",
																		this
																			._update
																	),
																	this._update(),
																	this._map.on(
																		"click",
																		this
																			._onMapClick
																	),
																	this
																);
															},
														},
														{
															key: "remove",
															value: function () {
																return (
																	this._map &&
																		(this._map.off(
																			"click",
																			this
																				._onMapClick
																		),
																		this._map.off(
																			"move",
																			this
																				._update
																		),
																		this._map.off(
																			"moveend",
																			this
																				._update
																		),
																		delete this
																			._map),
																	i.remove(
																		this
																			._element
																	),
																	this
																		._popup &&
																		this._popup.remove(),
																	this
																);
															},
														},
														{
															key: "getLngLat",
															value: function () {
																return this
																	._lngLat;
															},
														},
														{
															key: "setLngLat",
															value: function (
																e
															) {
																return (
																	(this._lngLat =
																		o.convert(
																			e
																		)),
																	(this._pos =
																		null),
																	this
																		._popup &&
																		this._popup.setLngLat(
																			this
																				._lngLat
																		),
																	this._update(),
																	this
																);
															},
														},
														{
															key: "getElement",
															value: function () {
																return this
																	._element;
															},
														},
														{
															key: "setPopup",
															value: function (
																e
															) {
																return (
																	this
																		._popup &&
																		(this._popup.remove(),
																		(this._popup =
																			null)),
																	e &&
																		("offset" in
																			e.options ||
																			(e.options.offset =
																				this._offset),
																		(this._popup =
																			e),
																		this
																			._lngLat &&
																			this._popup.setLngLat(
																				this
																					._lngLat
																			)),
																	this
																);
															},
														},
														{
															key: "_onMapClick",
															value: function (
																e
															) {
																var t =
																		e
																			.originalEvent
																			.target,
																	n =
																		this
																			._element;
																this._popup &&
																	(t === n ||
																		n.contains(
																			t
																		)) &&
																	this.togglePopup();
															},
														},
														{
															key: "getPopup",
															value: function () {
																return this
																	._popup;
															},
														},
														{
															key: "togglePopup",
															value: function () {
																var e =
																	this._popup;
																return e
																	? (e.isOpen()
																			? e.remove()
																			: e.addTo(
																					this
																						._map
																			  ),
																	  this)
																	: this;
															},
														},
														{
															key: "_update",
															value: function (
																e
															) {
																this._map &&
																	(this._map
																		.transform
																		.renderWorldCopies &&
																		(this._lngLat =
																			s(
																				this
																					._lngLat,
																				this
																					._pos,
																				this
																					._map
																					.transform
																			)),
																	(this._pos =
																		this._map
																			.project(
																				this
																					._lngLat
																			)
																			._add(
																				this
																					._offset
																			)),
																	(e &&
																		"moveend" !==
																			e.type) ||
																		(this._pos =
																			this._pos.round()),
																	i.setTransform(
																		this
																			._element,
																		"translate(-50%, -50%) translate("
																			.concat(
																				this
																					._pos
																					.x,
																				"px, "
																			)
																			.concat(
																				this
																					._pos
																					.y,
																				"px)"
																			)
																	));
															},
														},
														{
															key: "getOffset",
															value: function () {
																return this
																	._offset;
															},
														},
														{
															key: "setOffset",
															value: function (
																e
															) {
																return (
																	(this._offset =
																		a.convert(
																			e
																		)),
																	this._update(),
																	this
																);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = u;
									},
									function (e, t, n) {
										var r = n(21);
										e.exports = function (e, t, n) {
											if (
												((e = new r(e.lng, e.lat)), t)
											) {
												var i = new r(
														e.lng - 360,
														e.lat
													),
													o = new r(
														e.lng + 360,
														e.lat
													),
													a = n
														.locationPoint(e)
														.distSqr(t);
												n.locationPoint(i).distSqr(t) <
												a
													? (e = i)
													: n
															.locationPoint(o)
															.distSqr(t) < a &&
													  (e = o);
											}
											for (
												;
												Math.abs(e.lng - n.center.lng) >
												180;

											) {
												var s = n.locationPoint(e);
												if (
													s.x >= 0 &&
													s.y >= 0 &&
													s.x <= n.width &&
													s.y <= n.height
												)
													break;
												e.lng > n.center.lng
													? (e.lng -= 360)
													: (e.lng += 360);
											}
											return e;
										};
									},
									function (e, t, n) {
										e.exports = n(71);
									},
									function (e) {
										e.exports = {
											name: "mapbox-gl",
											description:
												"A WebGL interactive maps library",
											version: "2.1.2",
											main: "dist/mapbox-gl.js",
											module: "dist/mapbox-gl.js",
											style: "dist/mapbox-gl.css",
											license:
												"SEE LICENSE IN LICENSE.txt",
											repository: {
												type: "git",
												url: "git://github.com/mapbox/mapbox-gl-js.git",
											},
											engines: { node: ">=6.4.0" },
											dependencies: {
												"@mapbox/gl-matrix": "^0.0.1",
												"@mapbox/mapbox-gl-supported":
													"^1.3.0",
												"@mapbox/point-geometry":
													"^0.1.0",
												"@mapbox/shelf-pack": "=3.1.0",
												"@mapbox/sphericalmercator":
													"github:landtechnologies/sphericalmercator#24a1b89b4edc26fcfd6171d61c27e3a9ea2f885c",
												"@mapbox/tiny-sdf": "^1.1.0",
												"@mapbox/unitbezier": "^0.0.0",
												"@mapbox/vector-tile": "^1.3.0",
												"@mapbox/whoots-js": "^3.0.0",
												brfs: "^1.4.0",
												bubleify: "^0.7.0",
												csscolorparser: "~1.0.2",
												earcut: "^2.1.3",
												"geojson-rewind": "^0.3.0",
												"geojson-vt": "^3.0.0",
												"gray-matter": "^3.0.8",
												"grid-index": "^1.0.0",
												"jsonlint-lines-primitives":
													"~1.6.0",
												"mapbox-gl-supported": "^1.2.0",
												minimist: "0.0.8",
												"package-json-versionify":
													"^1.0.2",
												pbf: "^3.0.5",
												"point-geometry": "^0.0.0",
												quickselect: "^1.0.0",
												rw: "^1.3.3",
												"shuffle-seed": "^1.1.6",
												"sort-object": "^0.3.2",
												supercluster: "^2.3.0",
												through2: "^2.0.3",
												tinyqueue: "^1.1.0",
												unassertify: "^2.0.0",
												unflowify: "^1.0.0",
												"vt-pbf": "^3.0.1",
												webworkify: "^1.5.0",
											},
											devDependencies: {
												"@babel/cli": "^7.4.4",
												"@babel/core": "^7.4.5",
												"@babel/plugin-proposal-class-properties":
													"^7.4.4",
												"@babel/plugin-transform-flow-strip-types":
													"^7.4.4",
												"@babel/preset-env": "^7.4.5",
												"@mapbox/batfish": "^0.13.3",
												"@mapbox/mapbox-gl-rtl-text":
													"^0.1.1",
												"@mapbox/mapbox-gl-test-suite":
													"file:test/integration",
												"babel-eslint": "^7.0.0",
												"babel-loader": "^8.0.6",
												"babel-preset-es2015":
													"^6.24.1",
												benchmark: "~2.1.0",
												browserify: "^14.0.0",
												coveralls: "^2.11.8",
												d3: "^4.12.0",
												derequire: "^2.0.6",
												documentation: "5.3.3",
												ejs: "^2.5.7",
												envify: "^4.0.0",
												eslint: "4.1.1",
												"eslint-config-mourner":
													"^2.0.0",
												"eslint-plugin-flowtype":
													"^2.34.0",
												"eslint-plugin-html": "^3.0.0",
												"eslint-plugin-node": "^5.1.1",
												"eslint-plugin-react": "^7.3.0",
												"execcommand-copy": "^1.1.0",
												"flow-bin": "^0.62.0",
												"flow-coverage-report":
													"^0.3.0",
												"flow-remove-types": "^1.0.4",
												"github-slugger": "^1.1.1",
												gl: "^4.0.1",
												glob: "^7.0.3",
												"in-publish": "^2.0.0",
												"is-builtin-module": "^1.0.0",
												jsdom: "^11.2.0",
												"json-stringify-pretty-compact":
													"^1.0.4",
												lodash: "^4.16.0",
												minifyify: "^7.0.1",
												"mock-geolocation": "^1.0.11",
												"npm-run-all": "^4.0.1",
												nyc: "^10.1.2",
												"object.entries": "^1.0.4",
												pngjs: "^3.0.0",
												prismjs: "^1.8.1",
												"prop-types": "^15.6.0",
												proxyquire: "^1.7.9",
												"raw-loader": "^0.5.1",
												react: "^16.0.0",
												"react-dom": "^16.0.0",
												"react-helmet": "^5.2.0",
												remark: "^8.0.0",
												"remark-html": "^5.0.1",
												"remark-react": "^4.0.1",
												request: "^2.79.0",
												sinon: "^2.1.0",
												slugg: "^1.2.1",
												st: "^1.2.0",
												stylelint: "^7.10.1",
												tap: "^10.3.0",
												watchify: "^3.7.0",
												webpack: "^4.35.0",
												"webpack-cli": "^3.3.5",
												"worker-loader": "^2.0.0",
											},
											browserify: {
												transform: [
													"unflowify",
													[
														"bubleify",
														{
															bubleError: !0,
															transforms: {
																dangerousForOf:
																	!0,
															},
															objectAssign:
																"Object.assign",
														},
													],
													"package-json-versionify",
													"unassertify",
													"brfs",
													"./build/minifyify_style_spec",
													"./build/strictify",
												],
											},
											browser: {
												"./src/util/window.js":
													"./src/util/browser/window.js",
												"./src/util/web_worker.js":
													"./src/util/browser/web_worker.js",
											},
											scripts: {
												"build-dev":
													"browserify src/index.js --debug --ignore-transform unassertify --standalone mapboxgl > dist/mapbox-gl-dev.js && tap --no-coverage test/build/dev.test.js",
												"watch-dev":
													"watchify src/index.js --debug --ignore-transform unassertify --standalone mapboxgl --outfile dist/mapbox-gl-dev.js --verbose",
												"watch-style-property-editor":
													"watchify debug/style_property_editor.js --debug -o debug/style_property_editor_generated.js --standalone StylePropertyEditor --verbose",
												"build-min":
													"browserify src/index.js --debug --plugin [minifyify --map mapbox-gl.js.map --output dist/mapbox-gl.js.map] --standalone mapboxgl | derequire > dist/mapbox-gl.js && tap --no-coverage test/build/min.test.js",
												"build-token":
													"browserify debug/access_token.js --debug --transform envify > debug/access_token_generated.js",
												"build-benchmarks":
													'BENCHMARK_VERSION="$(git rev-parse --abbrev-ref HEAD) $(git rev-parse --short=7 HEAD)" browserify bench/benchmarks.js --debug --transform envify --outfile bench/benchmarks_generated.js --verbose',
												"watch-benchmarks":
													'BENCHMARK_VERSION="$(git rev-parse --abbrev-ref HEAD) $(git rev-parse --short=7 HEAD)" watchify bench/benchmarks.js --debug --transform envify --outfile bench/benchmarks_generated.js --verbose',
												"watch-benchmarks-view":
													"watchify bench/benchmarks_view.js --debug --outfile bench/benchmarks_view_generated.js --verbose",
												"start-server":
													"st --no-cache --localhost --port 9966 --index index.html .",
												start: "run-p build-token watch-dev watch-style-property-editor watch-benchmarks watch-benchmarks-view start-server",
												"start-debug":
													"run-p build-token watch-dev watch-style-property-editor start-server",
												"start-bench":
													"run-p build-token watch-benchmarks watch-benchmarks-view start-server",
												"build-docs":
													"documentation build --github --format json --config ./docs/documentation.yml --output docs/components/api.json src/index.js",
												build: "run-s build-docs && DEPLOY_ENV=production batfish build # invoked by publisher when publishing docs on the mb-pages branch",
												"start-docs":
													"run-s build-min build-docs && DEPLOY_ENV=local batfish start",
												lint: "eslint --cache --ignore-path .gitignore src test bench docs docs/pages/example/*.html debug/*.html",
												"lint-docs":
													"documentation lint src/index.js",
												"lint-css":
													"stylelint 'dist/mapbox-gl.css'",
												"open-changed-examples":
													"git diff --name-only mb-pages HEAD -- docs/pages/example/*.html | awk '{print \"http://127.0.0.1:4000/mapbox-gl-js/example/\" substr($0,33,length($0)-37)}' | xargs open",
												test: "run-s lint lint-css test-flow test-unit",
												"test-suite":
													"run-s test-render test-query",
												"test-suite-clean":
													'find test/integration/{render,query}-tests -mindepth 2 -type d  -not \\( -exec test -e "{}/style.json" \\; \\) -print | xargs -t rm -r',
												"test-unit":
													"tap --reporter classic --no-coverage test/unit",
												"test-render":
													"node --max-old-space-size=2048 test/render.test.js",
												"test-query":
													"node test/query.test.js",
												"test-expressions":
													"node test/expression.test.js",
												"test-flow":
													"node build/generate-flow-typed-style-spec && flow .",
												"test-flow-cov":
													"flow-coverage-report -i 'src/**/*.js' -t html",
												"test-cov":
													"nyc --require=flow-remove-types/register --reporter=text-summary --reporter=lcov --cache run-s test-unit test-expressions test-query test-render",
												prepublish:
													"in-publish && run-s build-dev build-min || not-in-publish",
												codegen:
													"node build/generate-style-code.js && flow-node build/generate-struct-arrays.js",
											},
											bin: {
												"gl-style-migrate":
													"src/style-spec/bin/gl-style-migrate",
												"gl-style-validate":
													"src/style-spec/bin/gl-style-validate",
												"gl-style-format":
													"src/style-spec/bin/gl-style-format",
												"gl-style-composite":
													"src/style-spec/bin/gl-style-composite",
											},
											files: [
												"build/",
												"dist/",
												"flow-typed/",
												"src/",
												".flowconfig",
											],
										};
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function u(e) {
											if (void 0 === e)
												throw new ReferenceError(
													"this hasn't been initialised - super() hasn't been called"
												);
											return e;
										}
										function f(e, t, n) {
											return (f =
												"undefined" != typeof Reflect &&
												k.default
													? k.default
													: function (e, t, n) {
															var r = (function (
																e,
																t
															) {
																for (
																	;
																	!Object.prototype.hasOwnProperty.call(
																		e,
																		t
																	) &&
																	null !==
																		(e =
																			h(
																				e
																			));

																);
																return e;
															})(e, t);
															if (r) {
																var i = (0,
																x.default)(
																	r,
																	t
																);
																return i.get
																	? i.get.call(
																			n
																	  )
																	: i.value;
															}
													  })(e, t, n || e);
										}
										function h(e) {
											return (h = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function p(e, t) {
											return (p =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var d = i(0),
											y = i(2),
											m = i(5),
											v = i(5),
											g = v.HTMLImageElement,
											_ = v.HTMLElement,
											b = i(9),
											w = i(16),
											C = i(53),
											T = i(61),
											P = i(124),
											E = i(281),
											S = i(283),
											A = i(285),
											M = i(292),
											I = i(21),
											L = i(39),
											D = i(3),
											O = i(128),
											z = i(293),
											R = i(72),
											B = i(33).RGBAImage;
										i(294);
										var j = {
												center: [0, 0],
												zoom: 0,
												bearing: 0,
												pitch: 0,
												minZoom: 0,
												maxZoom: 22,
												interactive: !0,
												scrollZoom: !0,
												boxZoom: !0,
												dragRotate: !0,
												dragPan: !0,
												keyboard: !0,
												doubleClickZoom: !0,
												touchZoomRotate: !0,
												bearingSnap: 7,
												hash: !1,
												attributionControl: !0,
												failIfMajorPerformanceCaveat:
													!1,
												preserveDrawingBuffer: !1,
												trackResize: !0,
												renderWorldCopies: !0,
												refreshExpiredTiles: !0,
												maxTileCacheSize: null,
												transformRequest: null,
												fadeDuration: 300,
											},
											F = (function (e) {
												function t(e) {
													var n;
													if (
														((function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														null !=
															(e = d.extend(
																{},
																j,
																e
															)).minZoom &&
															null != e.maxZoom &&
															e.minZoom >
																e.maxZoom)
													)
														throw new Error(
															"maxZoom must be greater than minZoom"
														);
													var r = new E(
														e.minZoom,
														e.maxZoom,
														e.renderWorldCopies
													);
													((n = (function (e, t) {
														return !t ||
															("object" !==
																o(t) &&
																"function" !=
																	typeof t)
															? u(e)
															: t;
													})(
														this,
														h(t).call(this, r, e)
													))._interactive =
														e.interactive),
														(n._maxTileCacheSize =
															e.maxTileCacheSize),
														(n._failIfMajorPerformanceCaveat =
															e.failIfMajorPerformanceCaveat),
														(n._preserveDrawingBuffer =
															e.preserveDrawingBuffer),
														(n._trackResize =
															e.trackResize),
														(n._bearingSnap =
															e.bearingSnap),
														(n._refreshExpiredTiles =
															e.refreshExpiredTiles),
														(n._fadeDuration =
															e.fadeDuration),
														(n._crossFadingFactor = 1);
													var i = e.transformRequest;
													if (
														((n._transformRequest =
															i
																? function (
																		e,
																		t
																  ) {
																		return (
																			i(
																				e,
																				t
																			) || {
																				url: e,
																			}
																		);
																  }
																: function (e) {
																		return {
																			url: e,
																		};
																  }),
														"string" ==
															typeof e.container)
													) {
														var a =
															m.document.getElementById(
																e.container
															);
														if (!a)
															throw new Error(
																"Container '".concat(
																	e.container,
																	"' not found."
																)
															);
														n._container = a;
													} else {
														if (
															!(
																e.container instanceof
																_
															)
														)
															throw new Error(
																"Invalid type: 'container' must be a String or HTMLElement."
															);
														n._container =
															e.container;
													}
													return (
														e.maxBounds &&
															n.setMaxBounds(
																e.maxBounds
															),
														d.bindAll(
															[
																"_onWindowOnline",
																"_onWindowResize",
																"_contextLost",
																"_contextRestored",
																"_update",
																"_render",
																"_onData",
																"_onDataLoading",
															],
															u(n)
														),
														n._setupContainer(),
														n._setupPainter(),
														n.on(
															"move",
															n._update.bind(
																u(n),
																!1
															)
														),
														n.on(
															"zoom",
															n._update.bind(
																u(n),
																!0
															)
														),
														n.on(
															"move",
															function () {
																n._rerender();
															}
														),
														void 0 !== m &&
															(m.addEventListener(
																"online",
																n._onWindowOnline,
																!1
															),
															m.addEventListener(
																"resize",
																n._onWindowResize,
																!1
															)),
														A(u(n), e),
														(n._hash =
															e.hash &&
															new S().addTo(
																u(n)
															)),
														(n._hash &&
															n._hash._onHashChange()) ||
															n.jumpTo({
																center: e.center,
																zoom: e.zoom,
																bearing:
																	e.bearing,
																pitch: e.pitch,
															}),
														n.resize(),
														e.style &&
															n.setStyle(
																e.style,
																{
																	localIdeographFontFamily:
																		e.localIdeographFontFamily,
																}
															),
														e.attributionControl &&
															n.addControl(
																new O()
															),
														n.addControl(
															new z(),
															e.logoPosition
														),
														n.on(
															"style.load",
															function () {
																this.transform
																	.unmodified &&
																	this.jumpTo(
																		this
																			.style
																			.stylesheet
																	);
															}
														),
														n.on("data", n._onData),
														n.on(
															"dataloading",
															n._onDataLoading
														),
														n
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && p(e, t);
													})(t, M),
													(n = t),
													(r = [
														{
															key: "addControl",
															value: function (
																e,
																t
															) {
																void 0 === t &&
																	e.getDefaultPosition &&
																	(t =
																		e.getDefaultPosition()),
																	void 0 ===
																		t &&
																		(t =
																			"top-right");
																var n =
																		e.onAdd(
																			this
																		),
																	r =
																		this
																			._controlPositions[
																			t
																		];
																return (
																	-1 !==
																	t.indexOf(
																		"bottom"
																	)
																		? r.insertBefore(
																				n,
																				r.firstChild
																		  )
																		: r.appendChild(
																				n
																		  ),
																	this
																);
															},
														},
														{
															key: "removeControl",
															value: function (
																e
															) {
																return (
																	e.onRemove(
																		this
																	),
																	this
																);
															},
														},
														{
															key: "resize",
															value: function () {
																var e =
																		this._containerDimensions(),
																	t = e[0],
																	n = e[1];
																return (
																	this._resizeCanvas(
																		t,
																		n
																	),
																	this.transform.resize(
																		t,
																		n
																	),
																	this.painter.resize(
																		t,
																		n
																	),
																	this.fire(
																		"movestart"
																	)
																		.fire(
																			"move"
																		)
																		.fire(
																			"resize"
																		)
																		.fire(
																			"moveend"
																		)
																);
															},
														},
														{
															key: "getBounds",
															value: function () {
																var e = new L(
																	this.transform.pointLocation(
																		new D(
																			0,
																			this.transform.height
																		)
																	),
																	this.transform.pointLocation(
																		new D(
																			this.transform.width,
																			0
																		)
																	)
																);
																return (
																	(this
																		.transform
																		.angle ||
																		this
																			.transform
																			.pitch) &&
																		(e.extend(
																			this.transform.pointLocation(
																				new D(
																					this.transform.size.x,
																					0
																				)
																			)
																		),
																		e.extend(
																			this.transform.pointLocation(
																				new D(
																					0,
																					this.transform.size.y
																				)
																			)
																		)),
																	e
																);
															},
														},
														{
															key: "getMaxBounds",
															value: function () {
																return this
																	.transform
																	.latRange &&
																	2 ===
																		this
																			.transform
																			.latRange
																			.length &&
																	this
																		.transform
																		.lngRange &&
																	2 ===
																		this
																			.transform
																			.lngRange
																			.length
																	? new L(
																			[
																				this
																					.transform
																					.lngRange[0],
																				this
																					.transform
																					.latRange[0],
																			],
																			[
																				this
																					.transform
																					.lngRange[1],
																				this
																					.transform
																					.latRange[1],
																			]
																	  )
																	: null;
															},
														},
														{
															key: "setMaxBounds",
															value: function (
																e
															) {
																if (e) {
																	var t =
																		L.convert(
																			e
																		);
																	(this.transform.lngRange =
																		[
																			t.getWest(),
																			t.getEast(),
																		]),
																		(this.transform.latRange =
																			[
																				t.getSouth(),
																				t.getNorth(),
																			]),
																		this.transform._constrain(),
																		this._update();
																} else
																	null == e &&
																		((this.transform.lngRange =
																			null),
																		(this.transform.latRange =
																			null),
																		this._update());
																return this;
															},
														},
														{
															key: "setMinZoom",
															value: function (
																e
															) {
																if (
																	(e =
																		null ==
																		e
																			? 0
																			: e) >=
																		0 &&
																	e <=
																		this
																			.transform
																			.maxZoom
																)
																	return (
																		(this.transform.minZoom =
																			e),
																		this._update(),
																		this.getZoom() <
																			e &&
																			this.setZoom(
																				e
																			),
																		this
																	);
																throw new Error(
																	"minZoom must be between ".concat(
																		0,
																		" and the current maxZoom, inclusive"
																	)
																);
															},
														},
														{
															key: "getMinZoom",
															value: function () {
																return this
																	.transform
																	.minZoom;
															},
														},
														{
															key: "setMaxZoom",
															value: function (
																e
															) {
																if (
																	(e =
																		null ==
																		e
																			? 22
																			: e) >=
																	this
																		.transform
																		.minZoom
																)
																	return (
																		(this.transform.maxZoom =
																			e),
																		this._update(),
																		this.getZoom() >
																			e &&
																			this.setZoom(
																				e
																			),
																		this
																	);
																throw new Error(
																	"maxZoom must be greater than the current minZoom"
																);
															},
														},
														{
															key: "getMaxZoom",
															value: function () {
																return this
																	.transform
																	.maxZoom;
															},
														},
														{
															key: "project",
															value: function (
																e
															) {
																return this.transform.locationPoint(
																	I.convert(e)
																);
															},
														},
														{
															key: "unproject",
															value: function (
																e
															) {
																return this.transform.pointLocation(
																	D.convert(e)
																);
															},
														},
														{
															key: "on",
															value: function (
																e,
																n,
																r
															) {
																var i = this;
																if (
																	void 0 === r
																)
																	return f(
																		h(
																			t.prototype
																		),
																		"on",
																		this
																	).call(
																		this,
																		e,
																		n
																	);
																var o =
																	(function () {
																		if (
																			"mouseenter" ===
																				e ||
																			"mouseover" ===
																				e
																		) {
																			var t =
																				!1;
																			return {
																				layer: n,
																				listener:
																					r,
																				delegates:
																					{
																						mousemove:
																							function (
																								o
																							) {
																								var a =
																									i.getLayer(
																										n
																									)
																										? i.queryRenderedFeatures(
																												o.point,
																												{
																													layers: [
																														n,
																													],
																												}
																										  )
																										: [];
																								a.length
																									? t ||
																									  ((t =
																											!0),
																									  r.call(
																											i,
																											d.extend(
																												{
																													features:
																														a,
																												},
																												o,
																												{
																													type: e,
																												}
																											)
																									  ))
																									: (t =
																											!1);
																							},
																						mouseout:
																							function () {
																								t =
																									!1;
																							},
																					},
																			};
																		}
																		if (
																			"mouseleave" ===
																				e ||
																			"mouseout" ===
																				e
																		) {
																			var o =
																				!1;
																			return {
																				layer: n,
																				listener:
																					r,
																				delegates:
																					{
																						mousemove:
																							function (
																								t
																							) {
																								(i.getLayer(
																									n
																								)
																									? i.queryRenderedFeatures(
																											t.point,
																											{
																												layers: [
																													n,
																												],
																											}
																									  )
																									: []
																								)
																									.length
																									? (o =
																											!0)
																									: o &&
																									  ((o =
																											!1),
																									  r.call(
																											i,
																											d.extend(
																												{},
																												t,
																												{
																													type: e,
																												}
																											)
																									  ));
																							},
																						mouseout:
																							function (
																								t
																							) {
																								o &&
																									((o =
																										!1),
																									r.call(
																										i,
																										d.extend(
																											{},
																											t,
																											{
																												type: e,
																											}
																										)
																									));
																							},
																					},
																			};
																		}
																		var a,
																			s,
																			l;
																		return {
																			layer: n,
																			listener:
																				r,
																			delegates:
																				((a =
																					{}),
																				(s =
																					e),
																				(l =
																					function (
																						e
																					) {
																						var t =
																							i.getLayer(
																								n
																							)
																								? i.queryRenderedFeatures(
																										e.point,
																										{
																											layers: [
																												n,
																											],
																										}
																								  )
																								: [];
																						t.length &&
																							r.call(
																								i,
																								d.extend(
																									{
																										features:
																											t,
																									},
																									e
																								)
																							);
																					}),
																				s in
																				a
																					? Object.defineProperty(
																							a,
																							s,
																							{
																								value: l,
																								enumerable:
																									!0,
																								configurable:
																									!0,
																								writable:
																									!0,
																							}
																					  )
																					: (a[
																							s
																					  ] =
																							l),
																				a),
																		};
																	})();
																for (var a in ((this._delegatedListeners =
																	this
																		._delegatedListeners ||
																	{}),
																(this._delegatedListeners[
																	e
																] =
																	this
																		._delegatedListeners[
																		e
																	] || []),
																this._delegatedListeners[
																	e
																].push(o),
																o.delegates))
																	this.on(
																		a,
																		o
																			.delegates[
																			a
																		]
																	);
																return this;
															},
														},
														{
															key: "off",
															value: function (
																e,
																n,
																r
															) {
																if (
																	void 0 === r
																)
																	return f(
																		h(
																			t.prototype
																		),
																		"off",
																		this
																	).call(
																		this,
																		e,
																		n
																	);
																if (
																	this
																		._delegatedListeners &&
																	this
																		._delegatedListeners[
																		e
																	]
																)
																	for (
																		var i =
																				this
																					._delegatedListeners[
																					e
																				],
																			o = 0;
																		o <
																		i.length;
																		o++
																	) {
																		var a =
																			i[
																				o
																			];
																		if (
																			a.layer ===
																				n &&
																			a.listener ===
																				r
																		) {
																			for (var s in a.delegates)
																				this.off(
																					s,
																					a
																						.delegates[
																						s
																					]
																				);
																			return (
																				i.splice(
																					o,
																					1
																				),
																				this
																			);
																		}
																	}
																return this;
															},
														},
														{
															key: "queryRenderedFeatures",
															value: function (
																e,
																t
															) {
																var n;
																return (
																	2 ===
																	arguments.length
																		? ((e =
																				arguments[0]),
																		  (t =
																				arguments[1]))
																		: 1 ===
																				arguments.length &&
																		  ((n =
																				arguments[0]) instanceof
																				D ||
																				Array.isArray(
																					n
																				))
																		? ((e =
																				arguments[0]),
																		  (t =
																				{}))
																		: 1 ===
																		  arguments.length
																		? ((e =
																				void 0),
																		  (t =
																				arguments[0]))
																		: ((e =
																				void 0),
																		  (t =
																				{})),
																	this.style
																		? this.style.queryRenderedFeatures(
																				this._makeQueryGeometry(
																					e
																				),
																				t,
																				this
																					.transform
																					.zoom,
																				this
																					.transform
																					.angle
																		  )
																		: []
																);
															},
														},
														{
															key: "_makeQueryGeometry",
															value: function (
																e
															) {
																var t,
																	n = this;
																if (
																	(void 0 ===
																		e &&
																		(e = [
																			D.convert(
																				[
																					0,
																					0,
																				]
																			),
																			D.convert(
																				[
																					this
																						.transform
																						.width,
																					this
																						.transform
																						.height,
																				]
																			),
																		]),
																	e instanceof
																		D ||
																		"number" ==
																			typeof e[0])
																)
																	t = [
																		D.convert(
																			e
																		),
																	];
																else {
																	var r = [
																		D.convert(
																			e[0]
																		),
																		D.convert(
																			e[1]
																		),
																	];
																	t = [
																		r[0],
																		new D(
																			r[1].x,
																			r[0].y
																		),
																		r[1],
																		new D(
																			r[0].x,
																			r[1].y
																		),
																		r[0],
																	];
																}
																return t.map(
																	function (
																		e
																	) {
																		return n.transform.pointCoordinate(
																			e
																		);
																	}
																);
															},
														},
														{
															key: "querySourceFeatures",
															value: function (
																e,
																t
															) {
																return this.style.querySourceFeatures(
																	e,
																	t
																);
															},
														},
														{
															key: "setStyle",
															value: function (
																e,
																t
															) {
																if (
																	(!t ||
																		(!1 !==
																			t.diff &&
																			!t.localIdeographFontFamily)) &&
																	this
																		.style &&
																	e &&
																	"object" ===
																		o(e)
																)
																	try {
																		return (
																			this.style.setState(
																				e
																			) &&
																				this._update(
																					!0
																				),
																			this
																		);
																	} catch (e) {
																		d.warnOnce(
																			"Unable to perform style diff: ".concat(
																				e.message ||
																					e.error ||
																					e,
																				".  Rebuilding the style from scratch."
																			)
																		);
																	}
																return (
																	this
																		.style &&
																		(this.style.setEventedParent(
																			null
																		),
																		this.style._remove()),
																	e
																		? ((this.style =
																				new C(
																					this,
																					t ||
																						{}
																				)),
																		  this.style.setEventedParent(
																				this,
																				{
																					style: this
																						.style,
																				}
																		  ),
																		  "string" ==
																		  typeof e
																				? this.style.loadURL(
																						e
																				  )
																				: this.style.loadJSON(
																						e
																				  ),
																		  this)
																		: (delete this
																				.style,
																		  this)
																);
															},
														},
														{
															key: "getStyle",
															value: function () {
																if (this.style)
																	return this.style.serialize();
															},
														},
														{
															key: "isStyleLoaded",
															value: function () {
																return this
																	.style
																	? this.style.loaded()
																	: d.warnOnce(
																			"There is no style added to the map."
																	  );
															},
														},
														{
															key: "addSource",
															value: function (
																e,
																t
															) {
																return (
																	this.style.addSource(
																		e,
																		t
																	),
																	this._update(
																		!0
																	),
																	this
																);
															},
														},
														{
															key: "isSourceLoaded",
															value: function (
																e
															) {
																var t =
																	this
																		.style &&
																	this.style
																		.sourceCaches[
																		e
																	];
																if (
																	void 0 !== t
																)
																	return t.loaded();
																this.fire(
																	"error",
																	{
																		error: new Error(
																			"There is no source with ID '".concat(
																				e,
																				"'"
																			)
																		),
																	}
																);
															},
														},
														{
															key: "areTilesLoaded",
															value: function () {
																var e =
																	this
																		.style &&
																	this.style
																		.sourceCaches;
																for (var t in e) {
																	var n =
																		e[t]
																			._tiles;
																	for (var r in n) {
																		var i =
																			n[
																				r
																			];
																		if (
																			"loaded" !==
																				i.state &&
																			"errored" !==
																				i.state
																		)
																			return !1;
																	}
																}
																return !0;
															},
														},
														{
															key: "addSourceType",
															value: function (
																e,
																t,
																n
															) {
																return this.style.addSourceType(
																	e,
																	t,
																	n
																);
															},
														},
														{
															key: "removeSource",
															value: function (
																e
															) {
																return (
																	this.style.removeSource(
																		e
																	),
																	this._update(
																		!0
																	),
																	this
																);
															},
														},
														{
															key: "getSource",
															value: function (
																e
															) {
																return this.style.getSource(
																	e
																);
															},
														},
														{
															key: "addImage",
															value: function (
																e,
																t
															) {
																var n =
																		arguments.length >
																			2 &&
																		void 0 !==
																			arguments[2]
																			? arguments[2]
																			: {},
																	r =
																		n.pixelRatio,
																	i =
																		void 0 ===
																		r
																			? 1
																			: r,
																	o = n.sdf,
																	a =
																		void 0 !==
																			o &&
																		o;
																if (
																	t instanceof
																	g
																) {
																	var s =
																			y.getImageData(
																				t
																			),
																		l =
																			s.width,
																		u =
																			s.height,
																		c =
																			s.data;
																	this.style.addImage(
																		e,
																		{
																			data: new B(
																				{
																					width: l,
																					height: u,
																				},
																				c
																			),
																			pixelRatio:
																				i,
																			sdf: a,
																		}
																	);
																} else {
																	if (
																		void 0 ===
																			t.width ||
																		void 0 ===
																			t.height
																	)
																		return this.fire(
																			"error",
																			{
																				error: new Error(
																					"Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"
																				),
																			}
																		);
																	var f =
																			t.width,
																		h =
																			t.height,
																		p =
																			t.data;
																	this.style.addImage(
																		e,
																		{
																			data: new B(
																				{
																					width: f,
																					height: h,
																				},
																				p.slice(
																					0
																				)
																			),
																			pixelRatio:
																				i,
																			sdf: a,
																		}
																	);
																}
															},
														},
														{
															key: "hasImage",
															value: function (
																e
															) {
																return e
																	? !!this.style.getImage(
																			e
																	  )
																	: (this.fire(
																			"error",
																			{
																				error: new Error(
																					"Missing required image id"
																				),
																			}
																	  ),
																	  !1);
															},
														},
														{
															key: "removeImage",
															value: function (
																e
															) {
																this.style.removeImage(
																	e
																);
															},
														},
														{
															key: "loadImage",
															value: function (
																e,
																t
															) {
																w.getImage(
																	this._transformRequest(
																		e,
																		w
																			.ResourceType
																			.Image
																	),
																	t
																);
															},
														},
														{
															key: "addLayer",
															value: function (
																e,
																t
															) {
																return (
																	this.style.addLayer(
																		e,
																		t
																	),
																	this._update(
																		!0
																	),
																	this
																);
															},
														},
														{
															key: "moveLayer",
															value: function (
																e,
																t
															) {
																return (
																	this.style.moveLayer(
																		e,
																		t
																	),
																	this._update(
																		!0
																	),
																	this
																);
															},
														},
														{
															key: "removeLayer",
															value: function (
																e
															) {
																return (
																	this.style.removeLayer(
																		e
																	),
																	this._update(
																		!0
																	),
																	this
																);
															},
														},
														{
															key: "getLayer",
															value: function (
																e
															) {
																return this.style.getLayer(
																	e
																);
															},
														},
														{
															key: "setFilter",
															value: function (
																e,
																t
															) {
																return (
																	this.style.setFilter(
																		e,
																		t
																	),
																	this._update(
																		!0
																	),
																	this
																);
															},
														},
														{
															key: "setLayerZoomRange",
															value: function (
																e,
																t,
																n
															) {
																return (
																	this.style.setLayerZoomRange(
																		e,
																		t,
																		n
																	),
																	this._update(
																		!0
																	),
																	this
																);
															},
														},
														{
															key: "getFilter",
															value: function (
																e
															) {
																return this.style.getFilter(
																	e
																);
															},
														},
														{
															key: "setPaintProperty",
															value: function (
																e,
																t,
																n
															) {
																return (
																	this.style.setPaintProperty(
																		e,
																		t,
																		n
																	),
																	this._update(
																		!0
																	),
																	this
																);
															},
														},
														{
															key: "getPaintProperty",
															value: function (
																e,
																t
															) {
																return this.style.getPaintProperty(
																	e,
																	t
																);
															},
														},
														{
															key: "setLayoutProperty",
															value: function (
																e,
																t,
																n
															) {
																return (
																	this.style.setLayoutProperty(
																		e,
																		t,
																		n
																	),
																	this._update(
																		!0
																	),
																	this
																);
															},
														},
														{
															key: "getLayoutProperty",
															value: function (
																e,
																t
															) {
																return this.style.getLayoutProperty(
																	e,
																	t
																);
															},
														},
														{
															key: "setLight",
															value: function (
																e
															) {
																return (
																	this.style.setLight(
																		e
																	),
																	this._update(
																		!0
																	),
																	this
																);
															},
														},
														{
															key: "getLight",
															value: function () {
																return this.style.getLight();
															},
														},
														{
															key: "getContainer",
															value: function () {
																return this
																	._container;
															},
														},
														{
															key: "getCanvasContainer",
															value: function () {
																return this
																	._canvasContainer;
															},
														},
														{
															key: "getCanvas",
															value: function () {
																return this
																	._canvas;
															},
														},
														{
															key: "_containerDimensions",
															value: function () {
																var e = 0,
																	t = 0;
																return (
																	this
																		._container &&
																		((e =
																			this
																				._container
																				.offsetWidth ||
																			400),
																		(t =
																			this
																				._container
																				.offsetHeight ||
																			300)),
																	[e, t]
																);
															},
														},
														{
															key: "_setupContainer",
															value: function () {
																var e =
																	this
																		._container;
																e.classList.add(
																	"mapboxgl-map"
																),
																	((this._missingCSSContainer =
																		b.create(
																			"div",
																			"mapboxgl-missing-css",
																			e
																		)).innerHTML =
																		"Missing Mapbox GL JS CSS");
																var t =
																	(this._canvasContainer =
																		b.create(
																			"div",
																			"mapboxgl-canvas-container",
																			e
																		));
																this
																	._interactive &&
																	t.classList.add(
																		"mapboxgl-interactive"
																	),
																	(this._canvas =
																		b.create(
																			"canvas",
																			"mapboxgl-canvas",
																			t
																		)),
																	(this._canvas.style.position =
																		"absolute"),
																	this._canvas.addEventListener(
																		"webglcontextlost",
																		this
																			._contextLost,
																		!1
																	),
																	this._canvas.addEventListener(
																		"webglcontextrestored",
																		this
																			._contextRestored,
																		!1
																	),
																	this._canvas.setAttribute(
																		"tabindex",
																		"0"
																	),
																	this._canvas.setAttribute(
																		"aria-label",
																		"Map"
																	);
																var n =
																	this._containerDimensions();
																this._resizeCanvas(
																	n[0],
																	n[1]
																);
																var r =
																		(this._controlContainer =
																			b.create(
																				"div",
																				"mapboxgl-control-container",
																				e
																			)),
																	i =
																		(this._controlPositions =
																			{});
																[
																	"top-left",
																	"top-right",
																	"bottom-left",
																	"bottom-right",
																].forEach(
																	function (
																		e
																	) {
																		i[e] =
																			b.create(
																				"div",
																				"mapboxgl-ctrl-".concat(
																					e
																				),
																				r
																			);
																	}
																);
															},
														},
														{
															key: "_resizeCanvas",
															value: function (
																e,
																t
															) {
																var n =
																	m.devicePixelRatio ||
																	1;
																(this._canvas.width =
																	n * e),
																	(this._canvas.height =
																		n * t),
																	(this._canvas.style.width =
																		"".concat(
																			e,
																			"px"
																		)),
																	(this._canvas.style.height =
																		"".concat(
																			t,
																			"px"
																		));
															},
														},
														{
															key: "_setupPainter",
															value: function () {
																var e =
																		d.extend(
																			{
																				failIfMajorPerformanceCaveat:
																					this
																						._failIfMajorPerformanceCaveat,
																				preserveDrawingBuffer:
																					this
																						._preserveDrawingBuffer,
																			},
																			R.webGLContextAttributes
																		),
																	t =
																		this._canvas.getContext(
																			"webgl",
																			e
																		) ||
																		this._canvas.getContext(
																			"experimental-webgl",
																			e
																		);
																t
																	? (this.painter =
																			new P(
																				t,
																				this.transform
																			))
																	: this.fire(
																			"error",
																			{
																				error: new Error(
																					"Failed to initialize WebGL"
																				),
																			}
																	  );
															},
														},
														{
															key: "_contextLost",
															value: function (
																e
															) {
																e.preventDefault(),
																	this
																		._frameId &&
																		(y.cancelFrame(
																			this
																				._frameId
																		),
																		(this._frameId =
																			null)),
																	this.fire(
																		"webglcontextlost",
																		{
																			originalEvent:
																				e,
																		}
																	);
															},
														},
														{
															key: "_contextRestored",
															value: function (
																e
															) {
																this._setupPainter(),
																	this.resize(),
																	this._update(),
																	this.fire(
																		"webglcontextrestored",
																		{
																			originalEvent:
																				e,
																		}
																	);
															},
														},
														{
															key: "loaded",
															value: function () {
																return (
																	!this
																		._styleDirty &&
																	!this
																		._sourcesDirty &&
																	!(
																		!this
																			.style ||
																		!this.style.loaded()
																	)
																);
															},
														},
														{
															key: "_update",
															value: function (
																e
															) {
																this.style &&
																	((this._styleDirty =
																		this
																			._styleDirty ||
																		e),
																	(this._sourcesDirty =
																		!0),
																	this._rerender());
															},
														},
														{
															key: "_render",
															value: function () {
																this.isEasing() &&
																	this._updateEase();
																var e = !1;
																if (
																	this
																		.style &&
																	this
																		._styleDirty
																) {
																	this._styleDirty =
																		!1;
																	var t =
																			this
																				.transform
																				.zoom,
																		n =
																			y.now();
																	this.style.zoomHistory.update(
																		t,
																		n
																	);
																	var r =
																			new T(
																				t,
																				{
																					now: n,
																					fadeDuration:
																						this
																							._fadeDuration,
																					zoomHistory:
																						this
																							.style
																							.zoomHistory,
																					transition:
																						this.style.getTransition(),
																				}
																			),
																		i =
																			r.crossFadingFactor();
																	(1 === i &&
																		i ===
																			this
																				._crossFadingFactor) ||
																		((e =
																			!0),
																		(this._crossFadingFactor =
																			i)),
																		this.style.update(
																			r
																		);
																}
																return (
																	this
																		.style &&
																		this
																			._sourcesDirty &&
																		((this._sourcesDirty =
																			!1),
																		this.style._updateSources(
																			this
																				.transform
																		)),
																	(this._placementDirty =
																		this
																			.style &&
																		this.style._updatePlacement(
																			this
																				.painter
																				.transform,
																			this
																				.showCollisionBoxes,
																			this
																				._fadeDuration
																		)),
																	this.painter.render(
																		this
																			.style,
																		{
																			showTileBoundaries:
																				this
																					.showTileBoundaries,
																			showOverdrawInspector:
																				this
																					._showOverdrawInspector,
																			rotating:
																				this
																					.rotating,
																			zooming:
																				this
																					.zooming,
																			fadeDuration:
																				this
																					._fadeDuration,
																		}
																	),
																	this.fire(
																		"render"
																	),
																	this.loaded() &&
																		!this
																			._loaded &&
																		((this._loaded =
																			!0),
																		this.fire(
																			"load"
																		)),
																	this
																		.style &&
																		(this.style.hasTransitions() ||
																			e) &&
																		(this._styleDirty =
																			!0),
																	(this
																		._sourcesDirty ||
																		this
																			._repaint ||
																		this
																			._styleDirty ||
																		this
																			._placementDirty ||
																		this.isEasing()) &&
																		this._rerender(),
																	this
																);
															},
														},
														{
															key: "remove",
															value: function () {
																this._hash &&
																	this._hash.remove(),
																	y.cancelFrame(
																		this
																			._frameId
																	),
																	(this._frameId =
																		null),
																	this.setStyle(
																		null
																	),
																	void 0 !==
																		m &&
																		(m.removeEventListener(
																			"resize",
																			this
																				._onWindowResize,
																			!1
																		),
																		m.removeEventListener(
																			"online",
																			this
																				._onWindowOnline,
																			!1
																		));
																var e =
																	this.painter.context.gl.getExtension(
																		"WEBGL_lose_context"
																	);
																e &&
																	e.loseContext(),
																	N(
																		this
																			._canvasContainer
																	),
																	N(
																		this
																			._controlContainer
																	),
																	N(
																		this
																			._missingCSSContainer
																	),
																	this._container.classList.remove(
																		"mapboxgl-map"
																	),
																	this.fire(
																		"remove"
																	);
															},
														},
														{
															key: "_rerender",
															value: function () {
																var e = this;
																this.style &&
																	!this
																		._frameId &&
																	(this._frameId =
																		y.frame(
																			function () {
																				(e._frameId =
																					null),
																					e._render();
																			}
																		));
															},
														},
														{
															key: "_onWindowOnline",
															value: function () {
																this._update();
															},
														},
														{
															key: "_onWindowResize",
															value: function () {
																this
																	._trackResize &&
																	this.stop()
																		.resize()
																		._update();
															},
														},
														{
															key: "_onData",
															value: function (
																e
															) {
																this._update(
																	"style" ===
																		e.dataType
																),
																	this.fire(
																		"".concat(
																			e.dataType,
																			"data"
																		),
																		e
																	);
															},
														},
														{
															key: "_onDataLoading",
															value: function (
																e
															) {
																this.fire(
																	"".concat(
																		e.dataType,
																		"dataloading"
																	),
																	e
																);
															},
														},
														{
															key: "showTileBoundaries",
															get: function () {
																return !!this
																	._showTileBoundaries;
															},
															set: function (e) {
																this
																	._showTileBoundaries !==
																	e &&
																	((this._showTileBoundaries =
																		e),
																	this._update());
															},
														},
														{
															key: "showCollisionBoxes",
															get: function () {
																return !!this
																	._showCollisionBoxes;
															},
															set: function (e) {
																this
																	._showCollisionBoxes !==
																	e &&
																	((this._showCollisionBoxes =
																		e),
																	e
																		? this.style._generateCollisionBoxes()
																		: this._update());
															},
														},
														{
															key: "showOverdrawInspector",
															get: function () {
																return !!this
																	._showOverdrawInspector;
															},
															set: function (e) {
																this
																	._showOverdrawInspector !==
																	e &&
																	((this._showOverdrawInspector =
																		e),
																	this._update());
															},
														},
														{
															key: "repaint",
															get: function () {
																return !!this
																	._repaint;
															},
															set: function (e) {
																(this._repaint =
																	e),
																	this._update();
															},
														},
														{
															key: "vertices",
															get: function () {
																return !!this
																	._vertices;
															},
															set: function (e) {
																(this._vertices =
																	e),
																	this._update();
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										function N(e) {
											e.parentNode &&
												e.parentNode.removeChild(e);
										}
										e.exports = F;
									},
									function (e, n) {
										var r;
										r = (function () {
											return this;
										})();
										try {
											r =
												r ||
												new Function("return this")();
										} catch (e) {
											"object" ==
												("undefined" == typeof window
													? "undefined"
													: (0, t.default)(window)) &&
												(r = window);
										}
										e.exports = r;
									},
									function (e, t, n) {
										/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
										var r = P.default,
											i = Object.prototype.hasOwnProperty,
											o =
												Object.prototype
													.propertyIsEnumerable;
										e.exports = (function () {
											try {
												if (!E.default) return !1;
												var e = new String("abc");
												if (
													((e[5] = "de"),
													"5" ===
														(0, v.default)(e)[0])
												)
													return !1;
												for (
													var t = {}, n = 0;
													n < 10;
													n++
												)
													t[
														"_" +
															String.fromCharCode(
																n
															)
													] = n;
												if (
													"0123456789" !==
													(0, v.default)(t)
														.map(function (e) {
															return t[e];
														})
														.join("")
												)
													return !1;
												var r = {};
												return (
													"abcdefghijklmnopqrst"
														.split("")
														.forEach(function (e) {
															r[e] = e;
														}),
													"abcdefghijklmnopqrst" ===
														(0, u.default)(
															(0, E.default)(
																{},
																r
															)
														).join("")
												);
											} catch (e) {
												return !1;
											}
										})()
											? E.default
											: function (e, t) {
													for (
														var n,
															a,
															s = (function (e) {
																if (null == e)
																	throw new TypeError(
																		"Object.assign cannot be called with null or undefined"
																	);
																return Object(
																	e
																);
															})(e),
															l = 1;
														l < arguments.length;
														l++
													) {
														for (var u in (n =
															Object(
																arguments[l]
															)))
															i.call(n, u) &&
																(s[u] = n[u]);
														if (r) {
															a = r(n);
															for (
																var c = 0;
																c < a.length;
																c++
															)
																o.call(
																	n,
																	a[c]
																) &&
																	(s[a[c]] =
																		n[
																			a[c]
																		]);
														}
													}
													return s;
											  };
									},
									function (e, n, i) {
										(function (e) {
											var o =
													S.default ||
													function (e) {
														for (
															var t = (0,
																u.default)(e),
																n = {},
																r = 0;
															r < t.length;
															r++
														)
															n[t[r]] = (0,
															x.default)(e, t[r]);
														return n;
													},
												a = /%[sdj%]/g;
											(n.format = function (e) {
												if (!k(e)) {
													for (
														var t = [], n = 0;
														n < arguments.length;
														n++
													)
														t.push(h(arguments[n]));
													return t.join(" ");
												}
												n = 1;
												for (
													var r = arguments,
														i = r.length,
														o = String(e).replace(
															a,
															function (e) {
																if ("%%" === e)
																	return "%";
																if (n >= i)
																	return e;
																switch (e) {
																	case "%s":
																		return String(
																			r[
																				n++
																			]
																		);
																	case "%d":
																		return Number(
																			r[
																				n++
																			]
																		);
																	case "%j":
																		try {
																			return (0,
																			d.default)(
																				r[
																					n++
																				]
																			);
																		} catch (e) {
																			return "[Circular]";
																		}
																	default:
																		return e;
																}
															}
														),
														s = r[n];
													n < i;
													s = r[++n]
												)
													C(s) || !M(s)
														? (o += " " + s)
														: (o += " " + h(s));
												return o;
											}),
												(n.deprecate = function (t, r) {
													if (
														void 0 !== e &&
														!0 === e.noDeprecation
													)
														return t;
													if (void 0 === e)
														return function () {
															return n
																.deprecate(t, r)
																.apply(
																	this,
																	arguments
																);
														};
													var i = !1;
													return function () {
														if (!i) {
															if (
																e.throwDeprecation
															)
																throw new Error(
																	r
																);
															e.traceDeprecation
																? console.trace(
																		r
																  )
																: console.error(
																		r
																  ),
																(i = !0);
														}
														return t.apply(
															this,
															arguments
														);
													};
												});
											var s,
												f = {};
											function h(e, t) {
												var r = {
													seen: [],
													stylize: y,
												};
												return (
													arguments.length >= 3 &&
														(r.depth =
															arguments[2]),
													arguments.length >= 4 &&
														(r.colors =
															arguments[3]),
													w(t)
														? (r.showHidden = t)
														: t && n._extend(r, t),
													P(r.showHidden) &&
														(r.showHidden = !1),
													P(r.depth) && (r.depth = 2),
													P(r.colors) &&
														(r.colors = !1),
													P(r.customInspect) &&
														(r.customInspect = !0),
													r.colors && (r.stylize = p),
													m(r, e, r.depth)
												);
											}
											function p(e, t) {
												var n = h.styles[t];
												return n
													? "[" +
															h.colors[n][0] +
															"m" +
															e +
															"[" +
															h.colors[n][1] +
															"m"
													: e;
											}
											function y(e, t) {
												return e;
											}
											function m(e, t, r) {
												if (
													e.customInspect &&
													t &&
													D(t.inspect) &&
													t.inspect !== n.inspect &&
													(!t.constructor ||
														t.constructor
															.prototype !== t)
												) {
													var i = t.inspect(r, e);
													return (
														k(i) ||
															(i = m(e, i, r)),
														i
													);
												}
												var o = (function (e, t) {
													if (P(t))
														return e.stylize(
															"undefined",
															"undefined"
														);
													if (k(t)) {
														var n =
															"'" +
															(0, d.default)(t)
																.replace(
																	/^"|"$/g,
																	""
																)
																.replace(
																	/'/g,
																	"\\'"
																)
																.replace(
																	/\\"/g,
																	'"'
																) +
															"'";
														return e.stylize(
															n,
															"string"
														);
													}
													return T(t)
														? e.stylize(
																"" + t,
																"number"
														  )
														: w(t)
														? e.stylize(
																"" + t,
																"boolean"
														  )
														: C(t)
														? e.stylize(
																"null",
																"null"
														  )
														: void 0;
												})(e, t);
												if (o) return o;
												var a = (0, u.default)(t),
													s = (function (e) {
														var t = {};
														return (
															e.forEach(function (
																e,
																n
															) {
																t[e] = !0;
															}),
															t
														);
													})(a);
												if (
													(e.showHidden &&
														(a = (0, v.default)(t)),
													L(t) &&
														(a.indexOf("message") >=
															0 ||
															a.indexOf(
																"description"
															) >= 0))
												)
													return g(t);
												if (0 === a.length) {
													if (D(t)) {
														var l = t.name
															? ": " + t.name
															: "";
														return e.stylize(
															"[Function" +
																l +
																"]",
															"special"
														);
													}
													if (E(t))
														return e.stylize(
															RegExp.prototype.toString.call(
																t
															),
															"regexp"
														);
													if (I(t))
														return e.stylize(
															Date.prototype.toString.call(
																t
															),
															"date"
														);
													if (L(t)) return g(t);
												}
												var c,
													f = "",
													h = !1,
													p = ["{", "}"];
												return (
													b(t) &&
														((h = !0),
														(p = ["[", "]"])),
													D(t) &&
														(f =
															" [Function" +
															(t.name
																? ": " + t.name
																: "") +
															"]"),
													E(t) &&
														(f =
															" " +
															RegExp.prototype.toString.call(
																t
															)),
													I(t) &&
														(f =
															" " +
															Date.prototype.toUTCString.call(
																t
															)),
													L(t) && (f = " " + g(t)),
													0 !== a.length ||
													(h && 0 != t.length)
														? r < 0
															? E(t)
																? e.stylize(
																		RegExp.prototype.toString.call(
																			t
																		),
																		"regexp"
																  )
																: e.stylize(
																		"[Object]",
																		"special"
																  )
															: (e.seen.push(t),
															  (c = h
																	? (function (
																			e,
																			t,
																			n,
																			r,
																			i
																	  ) {
																			for (
																				var o =
																						[],
																					a = 0,
																					s =
																						t.length;
																				a <
																				s;
																				++a
																			)
																				B(
																					t,
																					String(
																						a
																					)
																				)
																					? o.push(
																							_(
																								e,
																								t,
																								n,
																								r,
																								String(
																									a
																								),
																								!0
																							)
																					  )
																					: o.push(
																							""
																					  );
																			return (
																				i.forEach(
																					function (
																						i
																					) {
																						i.match(
																							/^\d+$/
																						) ||
																							o.push(
																								_(
																									e,
																									t,
																									n,
																									r,
																									i,
																									!0
																								)
																							);
																					}
																				),
																				o
																			);
																	  })(
																			e,
																			t,
																			r,
																			s,
																			a
																	  )
																	: a.map(
																			function (
																				n
																			) {
																				return _(
																					e,
																					t,
																					r,
																					s,
																					n,
																					h
																				);
																			}
																	  )),
															  e.seen.pop(),
															  (function (
																	e,
																	t,
																	n
															  ) {
																	return e.reduce(
																		function (
																			e,
																			t
																		) {
																			return (
																				t.indexOf(
																					"\n"
																				),
																				e +
																					t.replace(
																						/\u001b\[\d\d?m/g,
																						""
																					)
																						.length +
																					1
																			);
																		},
																		0
																	) > 60
																		? n[0] +
																				("" ===
																				t
																					? ""
																					: t +
																					  "\n ") +
																				" " +
																				e.join(
																					",\n  "
																				) +
																				" " +
																				n[1]
																		: n[0] +
																				t +
																				" " +
																				e.join(
																					", "
																				) +
																				" " +
																				n[1];
															  })(c, f, p))
														: p[0] + f + p[1]
												);
											}
											function g(e) {
												return (
													"[" +
													Error.prototype.toString.call(
														e
													) +
													"]"
												);
											}
											function _(e, t, n, r, i, o) {
												var a, s, l;
												if (
													((l = (0, x.default)(
														t,
														i
													) || { value: t[i] }).get
														? (s = l.set
																? e.stylize(
																		"[Getter/Setter]",
																		"special"
																  )
																: e.stylize(
																		"[Getter]",
																		"special"
																  ))
														: l.set &&
														  (s = e.stylize(
																"[Setter]",
																"special"
														  )),
													B(r, i) ||
														(a = "[" + i + "]"),
													s ||
														(e.seen.indexOf(
															l.value
														) < 0
															? (s = C(n)
																	? m(
																			e,
																			l.value,
																			null
																	  )
																	: m(
																			e,
																			l.value,
																			n -
																				1
																	  )).indexOf(
																	"\n"
															  ) > -1 &&
															  (s = o
																	? s
																			.split(
																				"\n"
																			)
																			.map(
																				function (
																					e
																				) {
																					return (
																						"  " +
																						e
																					);
																				}
																			)
																			.join(
																				"\n"
																			)
																			.substr(
																				2
																			)
																	: "\n" +
																	  s
																			.split(
																				"\n"
																			)
																			.map(
																				function (
																					e
																				) {
																					return (
																						"   " +
																						e
																					);
																				}
																			)
																			.join(
																				"\n"
																			))
															: (s = e.stylize(
																	"[Circular]",
																	"special"
															  ))),
													P(a))
												) {
													if (o && i.match(/^\d+$/))
														return s;
													(a = (0, d.default)(
														"" + i
													)).match(
														/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/
													)
														? ((a = a.substr(
																1,
																a.length - 2
														  )),
														  (a = e.stylize(
																a,
																"name"
														  )))
														: ((a = a
																.replace(
																	/'/g,
																	"\\'"
																)
																.replace(
																	/\\"/g,
																	'"'
																)
																.replace(
																	/(^"|"$)/g,
																	"'"
																)),
														  (a = e.stylize(
																a,
																"string"
														  )));
												}
												return a + ": " + s;
											}
											function b(e) {
												return Array.isArray(e);
											}
											function w(e) {
												return "boolean" == typeof e;
											}
											function C(e) {
												return null === e;
											}
											function T(e) {
												return "number" == typeof e;
											}
											function k(e) {
												return "string" == typeof e;
											}
											function P(e) {
												return void 0 === e;
											}
											function E(e) {
												return (
													M(e) &&
													"[object RegExp]" === O(e)
												);
											}
											function M(e) {
												return (
													"object" ==
														(0, t.default)(e) &&
													null !== e
												);
											}
											function I(e) {
												return (
													M(e) &&
													"[object Date]" === O(e)
												);
											}
											function L(e) {
												return (
													M(e) &&
													("[object Error]" ===
														O(e) ||
														e instanceof Error)
												);
											}
											function D(e) {
												return "function" == typeof e;
											}
											function O(e) {
												return Object.prototype.toString.call(
													e
												);
											}
											function z(e) {
												return e < 10
													? "0" + e.toString(10)
													: e.toString(10);
											}
											(n.debuglog = function (t) {
												if (
													(P(s) &&
														(s =
															e.env.NODE_DEBUG ||
															""),
													(t = t.toUpperCase()),
													!f[t])
												)
													if (
														new RegExp(
															"\\b" + t + "\\b",
															"i"
														).test(s)
													) {
														var r = e.pid;
														f[t] = function () {
															var e =
																n.format.apply(
																	n,
																	arguments
																);
															console.error(
																"%s %d: %s",
																t,
																r,
																e
															);
														};
													} else
														f[t] = function () {};
												return f[t];
											}),
												(n.inspect = h),
												(h.colors = {
													bold: [1, 22],
													italic: [3, 23],
													underline: [4, 24],
													inverse: [7, 27],
													white: [37, 39],
													grey: [90, 39],
													black: [30, 39],
													blue: [34, 39],
													cyan: [36, 39],
													green: [32, 39],
													magenta: [35, 39],
													red: [31, 39],
													yellow: [33, 39],
												}),
												(h.styles = {
													special: "cyan",
													number: "yellow",
													boolean: "yellow",
													undefined: "grey",
													null: "bold",
													string: "green",
													date: "magenta",
													regexp: "red",
												}),
												(n.isArray = b),
												(n.isBoolean = w),
												(n.isNull = C),
												(n.isNullOrUndefined =
													function (e) {
														return null == e;
													}),
												(n.isNumber = T),
												(n.isString = k),
												(n.isSymbol = function (e) {
													return (
														"symbol" ==
														(0, t.default)(e)
													);
												}),
												(n.isUndefined = P),
												(n.isRegExp = E),
												(n.isObject = M),
												(n.isDate = I),
												(n.isError = L),
												(n.isFunction = D),
												(n.isPrimitive = function (e) {
													return (
														null === e ||
														"boolean" == typeof e ||
														"number" == typeof e ||
														"string" == typeof e ||
														"symbol" ==
															(0, t.default)(e) ||
														void 0 === e
													);
												}),
												(n.isBuffer = i(138));
											var R = [
												"Jan",
												"Feb",
												"Mar",
												"Apr",
												"May",
												"Jun",
												"Jul",
												"Aug",
												"Sep",
												"Oct",
												"Nov",
												"Dec",
											];
											function B(e, t) {
												return Object.prototype.hasOwnProperty.call(
													e,
													t
												);
											}
											(n.log = function () {
												var e, t;
												console.log(
													"%s - %s",
													((t = [
														z(
															(e =
																new Date()).getHours()
														),
														z(e.getMinutes()),
														z(e.getSeconds()),
													].join(":")),
													[
														e.getDate(),
														R[e.getMonth()],
														t,
													].join(" ")),
													n.format.apply(n, arguments)
												);
											}),
												(n.inherits = i(139)),
												(n._extend = function (e, t) {
													if (!t || !M(t)) return e;
													for (
														var n = (0, u.default)(
																t
															),
															r = n.length;
														r--;

													)
														e[n[r]] = t[n[r]];
													return e;
												});
											var j =
												void 0 !== r.default
													? (0, r.default)(
															"util.promisify.custom"
													  )
													: void 0;
											function F(e, t) {
												if (!e) {
													var n = new Error(
														"Promise was rejected with a falsy value"
													);
													(n.reason = e), (e = n);
												}
												return t(e);
											}
											(n.promisify = function (e) {
												if ("function" != typeof e)
													throw new TypeError(
														'The "original" argument must be of type Function'
													);
												if (j && e[j]) {
													var t;
													if (
														"function" !=
														typeof (t = e[j])
													)
														throw new TypeError(
															'The "util.promisify.custom" argument must be of type Function'
														);
													return (
														Object.defineProperty(
															t,
															j,
															{
																value: t,
																enumerable: !1,
																writable: !1,
																configurable:
																	!0,
															}
														),
														t
													);
												}
												function t() {
													for (
														var t,
															n,
															r = new A.default(
																function (
																	e,
																	r
																) {
																	(t = e),
																		(n = r);
																}
															),
															i = [],
															o = 0;
														o < arguments.length;
														o++
													)
														i.push(arguments[o]);
													i.push(function (e, r) {
														e ? n(e) : t(r);
													});
													try {
														e.apply(this, i);
													} catch (e) {
														n(e);
													}
													return r;
												}
												return (
													(0, c.default)(
														t,
														(0, l.default)(e)
													),
													j &&
														Object.defineProperty(
															t,
															j,
															{
																value: t,
																enumerable: !1,
																writable: !1,
																configurable:
																	!0,
															}
														),
													Object.defineProperties(
														t,
														o(e)
													)
												);
											}),
												(n.promisify.custom = j),
												(n.callbackify = function (t) {
													if ("function" != typeof t)
														throw new TypeError(
															'The "original" argument must be of type Function'
														);
													function n() {
														for (
															var n = [], r = 0;
															r <
															arguments.length;
															r++
														)
															n.push(
																arguments[r]
															);
														var i = n.pop();
														if (
															"function" !=
															typeof i
														)
															throw new TypeError(
																"The last argument must be of type Function"
															);
														var o = this,
															a = function () {
																return i.apply(
																	o,
																	arguments
																);
															};
														t.apply(this, n).then(
															function (t) {
																e.nextTick(
																	a,
																	null,
																	t
																);
															},
															function (t) {
																e.nextTick(
																	F,
																	t,
																	a
																);
															}
														);
													}
													return (
														(0, c.default)(
															n,
															(0, l.default)(t)
														),
														Object.defineProperties(
															n,
															o(t)
														),
														n
													);
												});
										}.call(this, i(137)));
									},
									function (e, t) {
										var n,
											r,
											i = (e.exports = {});
										function o() {
											throw new Error(
												"setTimeout has not been defined"
											);
										}
										function a() {
											throw new Error(
												"clearTimeout has not been defined"
											);
										}
										function s(e) {
											if (n === setTimeout)
												return setTimeout(e, 0);
											if ((n === o || !n) && setTimeout)
												return (
													(n = setTimeout),
													setTimeout(e, 0)
												);
											try {
												return n(e, 0);
											} catch (t) {
												try {
													return n.call(null, e, 0);
												} catch (t) {
													return n.call(this, e, 0);
												}
											}
										}
										!(function () {
											try {
												n =
													"function" ==
													typeof setTimeout
														? setTimeout
														: o;
											} catch (e) {
												n = o;
											}
											try {
												r =
													"function" ==
													typeof clearTimeout
														? clearTimeout
														: a;
											} catch (e) {
												r = a;
											}
										})();
										var l,
											u = [],
											c = !1,
											f = -1;
										function h() {
											c &&
												l &&
												((c = !1),
												l.length
													? (u = l.concat(u))
													: (f = -1),
												u.length && p());
										}
										function p() {
											if (!c) {
												var e = s(h);
												c = !0;
												for (var t = u.length; t; ) {
													for (
														l = u, u = [];
														++f < t;

													)
														l && l[f].run();
													(f = -1), (t = u.length);
												}
												(l = null),
													(c = !1),
													(function (e) {
														if (r === clearTimeout)
															return clearTimeout(
																e
															);
														if (
															(r === a || !r) &&
															clearTimeout
														)
															return (
																(r =
																	clearTimeout),
																clearTimeout(e)
															);
														try {
															r(e);
														} catch (t) {
															try {
																return r.call(
																	null,
																	e
																);
															} catch (t) {
																return r.call(
																	this,
																	e
																);
															}
														}
													})(e);
											}
										}
										function d(e, t) {
											(this.fun = e), (this.array = t);
										}
										function y() {}
										(i.nextTick = function (e) {
											var t = new Array(
												arguments.length - 1
											);
											if (arguments.length > 1)
												for (
													var n = 1;
													n < arguments.length;
													n++
												)
													t[n - 1] = arguments[n];
											u.push(new d(e, t)),
												1 !== u.length || c || s(p);
										}),
											(d.prototype.run = function () {
												this.fun.apply(
													null,
													this.array
												);
											}),
											(i.title = "browser"),
											(i.browser = !0),
											(i.env = {}),
											(i.argv = []),
											(i.version = ""),
											(i.versions = {}),
											(i.on = y),
											(i.addListener = y),
											(i.once = y),
											(i.off = y),
											(i.removeListener = y),
											(i.removeAllListeners = y),
											(i.emit = y),
											(i.prependListener = y),
											(i.prependOnceListener = y),
											(i.listeners = function (e) {
												return [];
											}),
											(i.binding = function (e) {
												throw new Error(
													"process.binding is not supported"
												);
											}),
											(i.cwd = function () {
												return "/";
											}),
											(i.chdir = function (e) {
												throw new Error(
													"process.chdir is not supported"
												);
											}),
											(i.umask = function () {
												return 0;
											});
									},
									function (e, n) {
										e.exports = function (e) {
											return (
												e &&
												"object" == (0, t.default)(e) &&
												"function" == typeof e.copy &&
												"function" == typeof e.fill &&
												"function" == typeof e.readUInt8
											);
										};
									},
									function (e, t) {
										"function" == typeof Object.create
											? (e.exports = function (e, t) {
													(e.super_ = t),
														(e.prototype =
															Object.create(
																t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			enumerable:
																				!1,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															));
											  })
											: (e.exports = function (e, t) {
													e.super_ = t;
													var n = function () {};
													(n.prototype = t.prototype),
														(e.prototype = new n()),
														(e.prototype.constructor =
															e);
											  });
									},
									function (e) {
										e.exports = {
											$version: 8,
											$root: {
												version: {
													required: !0,
													type: "enum",
													values: [8],
													doc: "Style specification version number. Must be 8.",
													example: 8,
												},
												name: {
													type: "string",
													doc: "A human-readable name for the style.",
													example: "Bright",
												},
												metadata: {
													type: "*",
													doc: "Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'.",
												},
												center: {
													type: "array",
													value: "number",
													doc: "Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",
													example: [
														-73.9749, 40.7736,
													],
												},
												zoom: {
													type: "number",
													doc: "Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",
													example: 12.5,
												},
												bearing: {
													type: "number",
													default: 0,
													period: 360,
													units: "degrees",
													doc: 'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90° orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',
													example: 29,
												},
												pitch: {
													type: "number",
													default: 0,
													units: "degrees",
													doc: "Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",
													example: 50,
												},
												light: {
													type: "light",
													doc: "The global light source.",
													example: {
														anchor: "viewport",
														color: "white",
														intensity: 0.4,
													},
												},
												sources: {
													required: !0,
													type: "sources",
													doc: "Data source specifications.",
													example: {
														"mapbox-streets": {
															type: "vector",
															url: "mapbox://mapbox.mapbox-streets-v6",
														},
													},
												},
												sprite: {
													type: "string",
													doc: "A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties.",
													example:
														"mapbox://sprites/mapbox/bright-v8",
												},
												glyphs: {
													type: "string",
													doc: "A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property.",
													example:
														"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",
												},
												transition: {
													type: "transition",
													doc: "A global transition definition to use as a default across properties.",
													example: {
														duration: 300,
														delay: 0,
													},
												},
												layers: {
													required: !0,
													type: "array",
													value: "layer",
													doc: "Layers will be drawn in the order of this array.",
													example: [
														{
															id: "water",
															source: "mapbox-streets",
															"source-layer":
																"water",
															type: "fill",
															paint: {
																"fill-color":
																	"#00ffff",
															},
														},
													],
												},
											},
											sources: {
												"*": {
													type: "source",
													doc: "Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided.",
												},
											},
											source: [
												"source_vector",
												"source_raster",
												"source_raster_dem",
												"source_geojson",
												"source_video",
												"source_image",
												"source_canvas",
											],
											source_vector: {
												type: {
													required: !0,
													type: "enum",
													values: {
														vector: {
															doc: "A vector tile source.",
														},
													},
													doc: "The type of the source.",
												},
												url: {
													type: "string",
													doc: "A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<mapid>`.",
												},
												tiles: {
													type: "array",
													value: "string",
													doc: "An array of one or more tile source URLs, as in the TileJSON spec.",
												},
												bounds: {
													type: "array",
													value: "number",
													length: 4,
													default: [
														-180, -85.0511, 180,
														85.0511,
													],
													doc: "An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL.",
												},
												minzoom: {
													type: "number",
													default: 0,
													doc: "Minimum zoom level for which tiles are available, as in the TileJSON spec.",
												},
												maxzoom: {
													type: "number",
													default: 22,
													doc: "Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels.",
												},
												attribution: {
													type: "string",
													doc: "Contains an attribution to be displayed when the map is shown to a user.",
												},
												"*": {
													type: "*",
													doc: "Other keys to configure the data source.",
												},
											},
											source_raster: {
												type: {
													required: !0,
													type: "enum",
													values: {
														raster: {
															doc: "A raster tile source.",
														},
													},
													doc: "The type of the source.",
												},
												url: {
													type: "string",
													doc: "A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<mapid>`.",
												},
												tiles: {
													type: "array",
													value: "string",
													doc: "An array of one or more tile source URLs, as in the TileJSON spec.",
												},
												bounds: {
													type: "array",
													value: "number",
													length: 4,
													default: [
														-180, -85.0511, 180,
														85.0511,
													],
													doc: "An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL.",
												},
												minzoom: {
													type: "number",
													default: 0,
													doc: "Minimum zoom level for which tiles are available, as in the TileJSON spec.",
												},
												maxzoom: {
													type: "number",
													default: 22,
													doc: "Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels.",
												},
												tileSize: {
													type: "number",
													default: 512,
													units: "pixels",
													doc: "The minimum visual size to display tiles for this layer. Only configurable for raster layers.",
												},
												scheme: {
													type: "enum",
													values: {
														xyz: {
															doc: "Slippy map tilenames scheme.",
														},
														tms: {
															doc: "OSGeo spec scheme.",
														},
													},
													default: "xyz",
													doc: "Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed.",
												},
												attribution: {
													type: "string",
													doc: "Contains an attribution to be displayed when the map is shown to a user.",
												},
												"*": {
													type: "*",
													doc: "Other keys to configure the data source.",
												},
											},
											source_raster_dem: {
												type: {
													required: !0,
													type: "enum",
													values: {
														"raster-dem": {
															doc: "A raster DEM source using Mapbox Terrain RGB",
														},
													},
													doc: "The type of the source.",
												},
												url: {
													type: "string",
													doc: "A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<mapid>`.",
												},
												tiles: {
													type: "array",
													value: "string",
													doc: "An array of one or more tile source URLs, as in the TileJSON spec.",
												},
												bounds: {
													type: "array",
													value: "number",
													length: 4,
													default: [
														-180, -85.0511, 180,
														85.0511,
													],
													doc: "An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL.",
												},
												minzoom: {
													type: "number",
													default: 0,
													doc: "Minimum zoom level for which tiles are available, as in the TileJSON spec.",
												},
												maxzoom: {
													type: "number",
													default: 22,
													doc: "Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels.",
												},
												tileSize: {
													type: "number",
													default: 512,
													units: "pixels",
													doc: "The minimum visual size to display tiles for this layer. Only configurable for raster layers.",
												},
												attribution: {
													type: "string",
													doc: "Contains an attribution to be displayed when the map is shown to a user.",
												},
												"*": {
													type: "*",
													doc: "Other keys to configure the data source.",
												},
											},
											source_geojson: {
												type: {
													required: !0,
													type: "enum",
													values: {
														geojson: {
															doc: "A GeoJSON data source.",
														},
													},
													doc: "The data type of the GeoJSON source.",
												},
												data: {
													type: "*",
													doc: "A URL to a GeoJSON file, or inline GeoJSON.",
												},
												maxzoom: {
													type: "number",
													default: 18,
													doc: "Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels).",
												},
												buffer: {
													type: "number",
													default: 128,
													maximum: 512,
													minimum: 0,
													doc: "Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance.",
												},
												tolerance: {
													type: "number",
													default: 0.375,
													doc: "Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance).",
												},
												cluster: {
													type: "boolean",
													default: !1,
													doc: "If the data is a collection of point features, setting this to true clusters the points by radius into groups.",
												},
												clusterRadius: {
													type: "number",
													default: 50,
													minimum: 0,
													doc: "Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile.",
												},
												clusterMaxZoom: {
													type: "number",
													doc: "Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered).",
												},
											},
											source_video: {
												type: {
													required: !0,
													type: "enum",
													values: {
														video: {
															doc: "A video data source.",
														},
													},
													doc: "The data type of the video source.",
												},
												urls: {
													required: !0,
													type: "array",
													value: "string",
													doc: "URLs to video content in order of preferred format.",
												},
												coordinates: {
													required: !0,
													doc: "Corners of video specified in longitude, latitude pairs.",
													type: "array",
													length: 4,
													value: {
														type: "array",
														length: 2,
														value: "number",
														doc: "A single longitude, latitude pair.",
													},
												},
											},
											source_image: {
												type: {
													required: !0,
													type: "enum",
													values: {
														image: {
															doc: "An image data source.",
														},
													},
													doc: "The data type of the image source.",
												},
												url: {
													required: !0,
													type: "string",
													doc: "URL that points to an image.",
												},
												coordinates: {
													required: !0,
													doc: "Corners of image specified in longitude, latitude pairs.",
													type: "array",
													length: 4,
													value: {
														type: "array",
														length: 2,
														value: "number",
														doc: "A single longitude, latitude pair.",
													},
												},
											},
											source_canvas: {
												type: {
													required: !0,
													type: "enum",
													values: {
														canvas: {
															doc: "A canvas data source.",
														},
													},
													doc: "The data type of the canvas source.",
												},
												coordinates: {
													required: !0,
													doc: "Corners of canvas specified in longitude, latitude pairs.",
													type: "array",
													length: 4,
													value: {
														type: "array",
														length: 2,
														value: "number",
														doc: "A single longitude, latitude pair.",
													},
												},
												animate: {
													type: "boolean",
													default: "true",
													doc: "Whether the canvas source is animated. If the canvas is static, `animate` should be set to `false` to improve performance.",
												},
												canvas: {
													type: "string",
													required: !0,
													doc: "HTML ID of the canvas from which to read pixels.",
												},
											},
											layer: {
												id: {
													type: "string",
													doc: "Unique layer name.",
													required: !0,
												},
												type: {
													type: "enum",
													values: {
														fill: {
															doc: "A filled polygon with an optional stroked border.",
															"sdk-support": {
																"basic functionality":
																	{
																		js: "0.10.0",
																		android:
																			"2.0.1",
																		ios: "2.0.0",
																		macos: "0.1.0",
																	},
															},
														},
														line: {
															doc: "A stroked line.",
															"sdk-support": {
																"basic functionality":
																	{
																		js: "0.10.0",
																		android:
																			"2.0.1",
																		ios: "2.0.0",
																		macos: "0.1.0",
																	},
															},
														},
														symbol: {
															doc: "An icon or a text label.",
															"sdk-support": {
																"basic functionality":
																	{
																		js: "0.10.0",
																		android:
																			"2.0.1",
																		ios: "2.0.0",
																		macos: "0.1.0",
																	},
															},
														},
														circle: {
															doc: "A filled circle.",
															"sdk-support": {
																"basic functionality":
																	{
																		js: "0.10.0",
																		android:
																			"2.0.1",
																		ios: "2.0.0",
																		macos: "0.1.0",
																	},
															},
														},
														heatmap: {
															doc: "A heatmap.",
															"sdk-support": {
																"basic functionality":
																	{
																		js: "0.41.0",
																	},
															},
														},
														"fill-extrusion": {
															doc: "An extruded (3D) polygon.",
															"sdk-support": {
																"basic functionality":
																	{
																		js: "0.27.0",
																		android:
																			"5.1.0",
																		ios: "3.6.0",
																		macos: "0.5.0",
																	},
															},
														},
														raster: {
															doc: "Raster map textures such as satellite imagery.",
															"sdk-support": {
																"basic functionality":
																	{
																		js: "0.10.0",
																		android:
																			"2.0.1",
																		ios: "2.0.0",
																		macos: "0.1.0",
																	},
															},
														},
														hillshade: {
															doc: "Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB tiles",
															"sdk-support": {
																"basic functionality":
																	{
																		js: "0.43.0",
																	},
															},
														},
														background: {
															doc: "The background color or pattern of the map.",
															"sdk-support": {
																"basic functionality":
																	{
																		js: "0.10.0",
																		android:
																			"2.0.1",
																		ios: "2.0.0",
																		macos: "0.1.0",
																	},
															},
														},
													},
													doc: "Rendering type of this layer.",
													required: !0,
												},
												metadata: {
													type: "*",
													doc: "Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'.",
												},
												source: {
													type: "string",
													doc: "Name of a source description to be used for this layer. Required for all layer types except `background`.",
												},
												"source-layer": {
													type: "string",
													doc: "Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources.",
												},
												minzoom: {
													type: "number",
													minimum: 0,
													maximum: 24,
													doc: "The minimum zoom level on which the layer gets parsed and appears on.",
												},
												maxzoom: {
													type: "number",
													minimum: 0,
													maximum: 24,
													doc: "The maximum zoom level on which the layer gets parsed and appears on.",
												},
												filter: {
													type: "filter",
													doc: "A expression specifying conditions on source features. Only features that match the filter are displayed.",
												},
												layout: {
													type: "layout",
													doc: "Layout properties for the layer.",
												},
												paint: {
													type: "paint",
													doc: "Default paint properties for this layer.",
												},
											},
											layout: [
												"layout_fill",
												"layout_line",
												"layout_circle",
												"layout_heatmap",
												"layout_fill-extrusion",
												"layout_symbol",
												"layout_raster",
												"layout_hillshade",
												"layout_background",
											],
											layout_background: {
												visibility: {
													type: "enum",
													values: {
														visible: {
															doc: "The layer is shown.",
														},
														none: {
															doc: "The layer is not shown.",
														},
													},
													default: "visible",
													doc: "Whether this layer is displayed.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
													},
												},
											},
											layout_fill: {
												visibility: {
													type: "enum",
													values: {
														visible: {
															doc: "The layer is shown.",
														},
														none: {
															doc: "The layer is not shown.",
														},
													},
													default: "visible",
													doc: "Whether this layer is displayed.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
													},
												},
											},
											layout_circle: {
												visibility: {
													type: "enum",
													values: {
														visible: {
															doc: "The layer is shown.",
														},
														none: {
															doc: "The layer is not shown.",
														},
													},
													default: "visible",
													doc: "Whether this layer is displayed.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
													},
												},
											},
											layout_heatmap: {
												visibility: {
													type: "enum",
													values: {
														visible: {
															doc: "The layer is shown.",
														},
														none: {
															doc: "The layer is not shown.",
														},
													},
													default: "visible",
													doc: "Whether this layer is displayed.",
													"sdk-support": {
														"basic functionality": {
															js: "0.41.0",
														},
													},
												},
											},
											"layout_fill-extrusion": {
												visibility: {
													type: "enum",
													values: {
														visible: {
															doc: "The layer is shown.",
														},
														none: {
															doc: "The layer is not shown.",
														},
													},
													default: "visible",
													doc: "Whether this layer is displayed.",
													"sdk-support": {
														"basic functionality": {
															js: "0.27.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
													},
												},
											},
											layout_line: {
												"line-cap": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													values: {
														butt: {
															doc: "A cap with a squared-off end which is drawn to the exact endpoint of the line.",
														},
														round: {
															doc: "A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line.",
														},
														square: {
															doc: "A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width.",
														},
													},
													default: "butt",
													doc: "The display of line endings.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"line-join": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													"property-function": !0,
													values: {
														bevel: {
															doc: "A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width.",
														},
														round: {
															doc: "A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line.",
														},
														miter: {
															doc: "A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet.",
														},
													},
													default: "miter",
													doc: "The display of lines when joining.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.40.0",
															android: "5.2.0",
															ios: "3.7.0",
															macos: "0.6.0",
														},
													},
												},
												"line-miter-limit": {
													type: "number",
													default: 2,
													function: "interpolated",
													"zoom-function": !0,
													doc: "Used to automatically convert miter joins to bevel joins for sharp angles.",
													requires: [
														{
															"line-join":
																"miter",
														},
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"line-round-limit": {
													type: "number",
													default: 1.05,
													function: "interpolated",
													"zoom-function": !0,
													doc: "Used to automatically convert round joins to miter joins for shallow angles.",
													requires: [
														{
															"line-join":
																"round",
														},
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												visibility: {
													type: "enum",
													values: {
														visible: {
															doc: "The layer is shown.",
														},
														none: {
															doc: "The layer is not shown.",
														},
													},
													default: "visible",
													doc: "Whether this layer is displayed.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
											},
											layout_symbol: {
												"symbol-placement": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													values: {
														point: {
															doc: "The label is placed at the point where the geometry is located.",
														},
														line: {
															doc: "The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries.",
														},
													},
													default: "point",
													doc: "Label placement relative to its geometry.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"symbol-spacing": {
													type: "number",
													default: 250,
													minimum: 1,
													function: "interpolated",
													"zoom-function": !0,
													units: "pixels",
													doc: "Distance between two symbol anchors.",
													requires: [
														{
															"symbol-placement":
																"line",
														},
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"symbol-avoid-edges": {
													type: "boolean",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													default: !1,
													doc: "If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"icon-allow-overlap": {
													type: "boolean",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													default: !1,
													doc: "If true, the icon will be visible even if it collides with other previously drawn symbols.",
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"icon-ignore-placement": {
													type: "boolean",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													default: !1,
													doc: "If true, other symbols can be visible even if they collide with the icon.",
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"icon-optional": {
													type: "boolean",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													default: !1,
													doc: "If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",
													requires: [
														"icon-image",
														"text-field",
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"icon-rotation-alignment": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													values: {
														map: {
															doc: "When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line`, aligns icon x-axes with the line.",
														},
														viewport: {
															doc: "Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`.",
														},
														auto: {
															doc: "When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line`, this is equivalent to `map`.",
														},
													},
													default: "auto",
													doc: "In combination with `symbol-placement`, determines the rotation behavior of icons.",
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"`auto` value": {
															js: "0.25.0",
															android: "4.2.0",
															ios: "3.4.0",
															macos: "0.3.0",
														},
														"data-driven styling":
															{},
													},
												},
												"icon-size": {
													type: "number",
													default: 1,
													minimum: 0,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													units: "factor of the original icon size",
													doc: "Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.35.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
													},
												},
												"icon-text-fit": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													values: {
														none: {
															doc: "The icon is displayed at its intrinsic aspect ratio.",
														},
														width: {
															doc: "The icon is scaled in the x-dimension to fit the width of the text.",
														},
														height: {
															doc: "The icon is scaled in the y-dimension to fit the height of the text.",
														},
														both: {
															doc: "The icon is scaled in both x- and y-dimensions.",
														},
													},
													default: "none",
													doc: "Scales the icon to fit around the associated text.",
													requires: [
														"icon-image",
														"text-field",
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.21.0",
															android: "4.2.0",
															ios: "3.4.0",
															macos: "0.2.1",
														},
														"data-driven styling":
															{},
													},
												},
												"icon-text-fit-padding": {
													type: "array",
													value: "number",
													length: 4,
													default: [0, 0, 0, 0],
													units: "pixels",
													function: "interpolated",
													"zoom-function": !0,
													doc: "Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",
													requires: [
														"icon-image",
														"text-field",
														{
															"icon-text-fit": [
																"both",
																"width",
																"height",
															],
														},
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.21.0",
															android: "4.2.0",
															ios: "3.4.0",
															macos: "0.2.1",
														},
														"data-driven styling":
															{},
													},
												},
												"icon-image": {
													type: "string",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													"property-function": !0,
													doc: "Name of image in sprite to use for drawing an image background. Within literal values and zoom functions, property names enclosed in curly brackets (e.g. `{token}`) are replaced with the value of the named property. Expressions and property functions do not support this syntax; for equivalent functionality in expressions, use the [`concat`](#expressions-concat) and [`get`](#expressions-get) operators.",
													tokens: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.35.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
													},
												},
												"icon-rotate": {
													type: "number",
													default: 0,
													period: 360,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													units: "degrees",
													doc: "Rotates the icon clockwise.",
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.21.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"icon-padding": {
													type: "number",
													default: 2,
													minimum: 0,
													function: "interpolated",
													"zoom-function": !0,
													units: "pixels",
													doc: "Size of the additional area around the icon bounding box used for detecting symbol collisions.",
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"icon-keep-upright": {
													type: "boolean",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													default: !1,
													doc: "If true, the icon may be flipped to prevent it from being rendered upside-down.",
													requires: [
														"icon-image",
														{
															"icon-rotation-alignment":
																"map",
														},
														{
															"symbol-placement":
																"line",
														},
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"icon-offset": {
													type: "array",
													value: "number",
													length: 2,
													default: [0, 0],
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													doc: "Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.29.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"icon-anchor": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													"property-function": !0,
													values: {
														center: {
															doc: "The center of the icon is placed closest to the anchor.",
														},
														left: {
															doc: "The left side of the icon is placed closest to the anchor.",
														},
														right: {
															doc: "The right side of the icon is placed closest to the anchor.",
														},
														top: {
															doc: "The top of the icon is placed closest to the anchor.",
														},
														bottom: {
															doc: "The bottom of the icon is placed closest to the anchor.",
														},
														"top-left": {
															doc: "The top left corner of the icon is placed closest to the anchor.",
														},
														"top-right": {
															doc: "The top right corner of the icon is placed closest to the anchor.",
														},
														"bottom-left": {
															doc: "The bottom left corner of the icon is placed closest to the anchor.",
														},
														"bottom-right": {
															doc: "The bottom right corner of the icon is placed closest to the anchor.",
														},
													},
													default: "center",
													doc: "Part of the icon placed closest to the anchor.",
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.40.0",
															android: "5.2.0",
															ios: "3.7.0",
															macos: "0.6.0",
														},
														"data-driven styling": {
															js: "0.40.0",
															android: "5.2.0",
															ios: "3.7.0",
															macos: "0.6.0",
														},
													},
												},
												"icon-pitch-alignment": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													values: {
														map: {
															doc: "The icon is aligned to the plane of the map.",
														},
														viewport: {
															doc: "The icon is aligned to the plane of the viewport.",
														},
														auto: {
															doc: "Automatically matches the value of `icon-rotation-alignment`.",
														},
													},
													default: "auto",
													doc: "Orientation of icon when map is pitched.",
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.39.0",
															android: "5.2.0",
															ios: "3.7.0",
															macos: "0.6.0",
														},
														"data-driven styling":
															{},
													},
												},
												"text-pitch-alignment": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													values: {
														map: {
															doc: "The text is aligned to the plane of the map.",
														},
														viewport: {
															doc: "The text is aligned to the plane of the viewport.",
														},
														auto: {
															doc: "Automatically matches the value of `text-rotation-alignment`.",
														},
													},
													default: "auto",
													doc: "Orientation of text when map is pitched.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.21.0",
															android: "4.2.0",
															ios: "3.4.0",
															macos: "0.2.1",
														},
														"`auto` value": {
															js: "0.25.0",
															android: "4.2.0",
															ios: "3.4.0",
															macos: "0.3.0",
														},
														"data-driven styling":
															{},
													},
												},
												"text-rotation-alignment": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													values: {
														map: {
															doc: "When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line`, aligns text x-axes with the line.",
														},
														viewport: {
															doc: "Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`.",
														},
														auto: {
															doc: "When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line`, this is equivalent to `map`.",
														},
													},
													default: "auto",
													doc: "In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"`auto` value": {
															js: "0.25.0",
															android: "4.2.0",
															ios: "3.4.0",
															macos: "0.3.0",
														},
														"data-driven styling":
															{},
													},
												},
												"text-field": {
													type: "string",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													"property-function": !0,
													default: "",
													tokens: !0,
													doc: "Value to use for a text label. Within literal values and zoom functions, property names enclosed in curly brackets (e.g. `{token}`) are replaced with the value of the named property. Expressions and property functions do not support this syntax; for equivalent functionality in expressions, use the [`concat`](#expressions-concat) and [`get`](#expressions-get) operators.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.33.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"text-font": {
													type: "array",
													value: "string",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													"property-function": !0,
													default: [
														"Open Sans Regular",
														"Arial Unicode MS Regular",
													],
													doc: "Font stack to use for displaying text.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"text-size": {
													type: "number",
													default: 16,
													minimum: 0,
													units: "pixels",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													doc: "Font size.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.35.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
													},
												},
												"text-max-width": {
													type: "number",
													default: 10,
													minimum: 0,
													units: "ems",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													doc: "The maximum line width for text wrapping.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.40.0",
															android: "5.2.0",
															ios: "3.7.0",
															macos: "0.6.0",
														},
													},
												},
												"text-line-height": {
													type: "number",
													default: 1.2,
													units: "ems",
													function: "interpolated",
													"zoom-function": !0,
													doc: "Text leading value for multi-line text.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"text-letter-spacing": {
													type: "number",
													default: 0,
													units: "ems",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													doc: "Text tracking amount.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.40.0",
															android: "5.2.0",
															ios: "3.7.0",
															macos: "0.6.0",
														},
													},
												},
												"text-justify": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													"property-function": !0,
													values: {
														left: {
															doc: "The text is aligned to the left.",
														},
														center: {
															doc: "The text is centered.",
														},
														right: {
															doc: "The text is aligned to the right.",
														},
													},
													default: "center",
													doc: "Text justification options.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.39.0",
															android: "5.2.0",
															ios: "3.7.0",
															macos: "0.6.0",
														},
													},
												},
												"text-anchor": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													"property-function": !0,
													values: {
														center: {
															doc: "The center of the text is placed closest to the anchor.",
														},
														left: {
															doc: "The left side of the text is placed closest to the anchor.",
														},
														right: {
															doc: "The right side of the text is placed closest to the anchor.",
														},
														top: {
															doc: "The top of the text is placed closest to the anchor.",
														},
														bottom: {
															doc: "The bottom of the text is placed closest to the anchor.",
														},
														"top-left": {
															doc: "The top left corner of the text is placed closest to the anchor.",
														},
														"top-right": {
															doc: "The top right corner of the text is placed closest to the anchor.",
														},
														"bottom-left": {
															doc: "The bottom left corner of the text is placed closest to the anchor.",
														},
														"bottom-right": {
															doc: "The bottom right corner of the text is placed closest to the anchor.",
														},
													},
													default: "center",
													doc: "Part of the text placed closest to the anchor.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.39.0",
															android: "5.2.0",
															ios: "3.7.0",
															macos: "0.6.0",
														},
													},
												},
												"text-max-angle": {
													type: "number",
													default: 45,
													units: "degrees",
													function: "interpolated",
													"zoom-function": !0,
													doc: "Maximum angle change between adjacent characters.",
													requires: [
														"text-field",
														{
															"symbol-placement":
																"line",
														},
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"text-rotate": {
													type: "number",
													default: 0,
													period: 360,
													units: "degrees",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													doc: "Rotates the text clockwise.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.35.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
													},
												},
												"text-padding": {
													type: "number",
													default: 2,
													minimum: 0,
													units: "pixels",
													function: "interpolated",
													"zoom-function": !0,
													doc: "Size of the additional area around the text bounding box used for detecting symbol collisions.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"text-keep-upright": {
													type: "boolean",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													default: !0,
													doc: "If true, the text may be flipped vertically to prevent it from being rendered upside-down.",
													requires: [
														"text-field",
														{
															"text-rotation-alignment":
																"map",
														},
														{
															"symbol-placement":
																"line",
														},
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"text-transform": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													"property-function": !0,
													values: {
														none: {
															doc: "The text is not altered.",
														},
														uppercase: {
															doc: "Forces all letters to be displayed in uppercase.",
														},
														lowercase: {
															doc: "Forces all letters to be displayed in lowercase.",
														},
													},
													default: "none",
													doc: "Specifies how to capitalize text, similar to the CSS `text-transform` property.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.33.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"text-offset": {
													type: "array",
													doc: "Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up.",
													value: "number",
													units: "ems",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													length: 2,
													default: [0, 0],
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.35.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
													},
												},
												"text-allow-overlap": {
													type: "boolean",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													default: !1,
													doc: "If true, the text will be visible even if it collides with other previously drawn symbols.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"text-ignore-placement": {
													type: "boolean",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													default: !1,
													doc: "If true, other symbols can be visible even if they collide with the text.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"text-optional": {
													type: "boolean",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													default: !1,
													doc: "If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",
													requires: [
														"text-field",
														"icon-image",
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												visibility: {
													type: "enum",
													values: {
														visible: {
															doc: "The layer is shown.",
														},
														none: {
															doc: "The layer is not shown.",
														},
													},
													default: "visible",
													doc: "Whether this layer is displayed.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
											},
											layout_raster: {
												visibility: {
													type: "enum",
													values: {
														visible: {
															doc: "The layer is shown.",
														},
														none: {
															doc: "The layer is not shown.",
														},
													},
													default: "visible",
													doc: "Whether this layer is displayed.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
											},
											layout_hillshade: {
												visibility: {
													type: "enum",
													values: {
														visible: {
															doc: "The layer is shown.",
														},
														none: {
															doc: "The layer is not shown.",
														},
													},
													default: "visible",
													doc: "Whether this layer is displayed.",
													"sdk-support": {
														"basic functionality": {
															js: "0.43.0",
														},
														"data-driven styling":
															{},
													},
												},
											},
											filter: {
												type: "array",
												value: "*",
												doc: "A filter selects specific features from a layer.",
											},
											filter_operator: {
												type: "enum",
												values: {
													"==": {
														doc: '`["==", key, value]` equality: `feature[key] = value`',
													},
													"!=": {
														doc: '`["!=", key, value]` inequality: `feature[key] ≠ value`',
													},
													">": {
														doc: '`[">", key, value]` greater than: `feature[key] > value`',
													},
													">=": {
														doc: '`[">=", key, value]` greater than or equal: `feature[key] ≥ value`',
													},
													"<": {
														doc: '`["<", key, value]` less than: `feature[key] < value`',
													},
													"<=": {
														doc: '`["<=", key, value]` less than or equal: `feature[key] ≤ value`',
													},
													in: {
														doc: '`["in", key, v0, ..., vn]` set inclusion: `feature[key] ∈ {v0, ..., vn}`',
													},
													"!in": {
														doc: '`["!in", key, v0, ..., vn]` set exclusion: `feature[key] ∉ {v0, ..., vn}`',
													},
													all: {
														doc: '`["all", f0, ..., fn]` logical `AND`: `f0 ∧ ... ∧ fn`',
													},
													any: {
														doc: '`["any", f0, ..., fn]` logical `OR`: `f0 ∨ ... ∨ fn`',
													},
													none: {
														doc: '`["none", f0, ..., fn]` logical `NOR`: `¬f0 ∧ ... ∧ ¬fn`',
													},
													has: {
														doc: '`["has", key]` `feature[key]` exists',
													},
													"!has": {
														doc: '`["!has", key]` `feature[key]` does not exist',
													},
												},
												doc: "The filter operator.",
											},
											geometry_type: {
												type: "enum",
												values: {
													Point: {
														doc: "Filter to point geometries.",
													},
													LineString: {
														doc: "Filter to line geometries.",
													},
													Polygon: {
														doc: "Filter to polygon geometries.",
													},
												},
												doc: "The geometry type for the filter to select.",
											},
											function: {
												expression: {
													type: "expression",
													doc: "An expression.",
												},
												stops: {
													type: "array",
													doc: "An array of stops.",
													value: "function_stop",
												},
												base: {
													type: "number",
													default: 1,
													minimum: 0,
													doc: "The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly.",
												},
												property: {
													type: "string",
													doc: "The name of a feature property to use as the function input.",
													default: "$zoom",
												},
												type: {
													type: "enum",
													values: {
														identity: {
															doc: "Return the input value as the output value.",
														},
														exponential: {
															doc: "Generate an output by interpolating between stops just less than and just greater than the function input.",
														},
														interval: {
															doc: "Return the output value of the stop just less than the function input.",
														},
														categorical: {
															doc: "Return the output value of the stop equal to the function input.",
														},
													},
													doc: "The interpolation strategy to use in function evaluation.",
													default: "exponential",
												},
												colorSpace: {
													type: "enum",
													values: {
														rgb: {
															doc: "Use the RGB color space to interpolate color values",
														},
														lab: {
															doc: "Use the LAB color space to interpolate color values.",
														},
														hcl: {
															doc: "Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually.",
														},
													},
													doc: "The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",
													default: "rgb",
												},
												default: {
													type: "*",
													required: !1,
													doc: "A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances.",
												},
											},
											function_stop: {
												type: "array",
												minimum: 0,
												maximum: 22,
												value: ["number", "color"],
												length: 2,
												doc: "Zoom level and value pair.",
											},
											expression: {
												type: "array",
												value: "*",
												minimum: 1,
												doc: "An expression defines a function that can be used for data-driven style properties or feature filters.",
											},
											expression_name: {
												doc: "",
												type: "enum",
												values: {
													let: {
														doc: 'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',
														group: "Variable binding",
													},
													var: {
														doc: 'References variable bound using "let".',
														group: "Variable binding",
													},
													literal: {
														doc: "Provides a literal array or object value.",
														group: "Types",
													},
													array: {
														doc: "Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",
														group: "Types",
													},
													at: {
														doc: "Retrieves an item from an array.",
														group: "Lookup",
													},
													case: {
														doc: "Selects the first output whose corresponding test condition evaluates to true.",
														group: "Decision",
													},
													match: {
														doc: 'Selects the output whose label value matches the input value, or the fallback value if no match is found. The `input` can be any string or number expression (e.g. `["get", "building_type"]`). Each label can either be a single literal value or an array of values.',
														group: "Decision",
													},
													coalesce: {
														doc: "Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",
														group: "Decision",
													},
													step: {
														doc: 'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first input if the input is less than the first stop.',
														group: "Ramps, scales, curves",
													},
													interpolate: {
														doc: 'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: interpolates using the cubic bezier curve defined by the given control points.',
														group: "Ramps, scales, curves",
													},
													ln2: {
														doc: "Returns mathematical constant ln(2).",
														group: "Math",
													},
													pi: {
														doc: "Returns the mathematical constant pi.",
														group: "Math",
													},
													e: {
														doc: "Returns the mathematical constant e.",
														group: "Math",
													},
													typeof: {
														doc: "Returns a string describing the type of the given value.",
														group: "Types",
													},
													string: {
														doc: "Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string value is obtained. If none of the inputs are strings, the expression is an error.",
														group: "Types",
													},
													number: {
														doc: "Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number value is obtained. If none of the inputs are numbers, the expression is an error.",
														group: "Types",
													},
													boolean: {
														doc: "Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean value is obtained. If none of the inputs are booleans, the expression is an error.",
														group: "Types",
													},
													object: {
														doc: "Asserts that the input value is an object. If it is not, the expression is an error.",
														group: "Types",
													},
													"to-string": {
														doc: 'Converts the input value to a string. If the input is `null`, the result is `"null"`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',
														group: "Types",
													},
													"to-number": {
														doc: 'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',
														group: "Types",
													},
													"to-boolean": {
														doc: "Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",
														group: "Types",
													},
													"to-rgba": {
														doc: "Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",
														group: "Color",
													},
													"to-color": {
														doc: "Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",
														group: "Types",
													},
													rgb: {
														doc: "Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",
														group: "Color",
													},
													rgba: {
														doc: "Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",
														group: "Color",
													},
													get: {
														doc: "Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",
														group: "Lookup",
													},
													has: {
														doc: "Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",
														group: "Lookup",
													},
													length: {
														doc: "Gets the length of an array or string.",
														group: "Lookup",
													},
													properties: {
														doc: 'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',
														group: "Feature data",
													},
													"geometry-type": {
														doc: "Gets the feature's geometry type: Point, MultiPoint, LineString, MultiLineString, Polygon, MultiPolygon.",
														group: "Feature data",
													},
													id: {
														doc: "Gets the feature's id, if it has one.",
														group: "Feature data",
													},
													zoom: {
														doc: 'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',
														group: "Zoom",
													},
													"heatmap-density": {
														doc: "Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",
														group: "Heatmap",
													},
													"+": {
														doc: "Returns the sum of the inputs.",
														group: "Math",
													},
													"*": {
														doc: "Returns the product of the inputs.",
														group: "Math",
													},
													"-": {
														doc: "For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",
														group: "Math",
													},
													"/": {
														doc: "Returns the result of floating point division of the first input by the second.",
														group: "Math",
													},
													"%": {
														doc: "Returns the remainder after integer division of the first input by the second.",
														group: "Math",
													},
													"^": {
														doc: "Returns the result of raising the first input to the power specified by the second.",
														group: "Math",
													},
													sqrt: {
														doc: "Returns the square root of the input.",
														group: "Math",
													},
													log10: {
														doc: "Returns the base-ten logarithm of the input.",
														group: "Math",
													},
													ln: {
														doc: "Returns the natural logarithm of the input.",
														group: "Math",
													},
													log2: {
														doc: "Returns the base-two logarithm of the input.",
														group: "Math",
													},
													sin: {
														doc: "Returns the sine of the input.",
														group: "Math",
													},
													cos: {
														doc: "Returns the cosine of the input.",
														group: "Math",
													},
													tan: {
														doc: "Returns the tangent of the input.",
														group: "Math",
													},
													asin: {
														doc: "Returns the arcsine of the input.",
														group: "Math",
													},
													acos: {
														doc: "Returns the arccosine of the input.",
														group: "Math",
													},
													atan: {
														doc: "Returns the arctangent of the input.",
														group: "Math",
													},
													min: {
														doc: "Returns the minimum value of the inputs.",
														group: "Math",
													},
													max: {
														doc: "Returns the maximum value of the inputs.",
														group: "Math",
													},
													"==": {
														doc: "Returns `true` if the input values are equal, `false` otherwise. The inputs must be numbers, strings, or booleans, and both of the same type.",
														group: "Decision",
													},
													"!=": {
														doc: "Returns `true` if the input values are not equal, `false` otherwise. The inputs must be numbers, strings, or booleans, and both of the same type.",
														group: "Decision",
													},
													">": {
														doc: "Returns `true` if the first input is strictly greater than the second, `false` otherwise. The inputs must be numbers or strings, and both of the same type.",
														group: "Decision",
													},
													"<": {
														doc: "Returns `true` if the first input is strictly less than the second, `false` otherwise. The inputs must be numbers or strings, and both of the same type.",
														group: "Decision",
													},
													">=": {
														doc: "Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The inputs must be numbers or strings, and both of the same type.",
														group: "Decision",
													},
													"<=": {
														doc: "Returns `true` if the first input is less than or equal to the second, `false` otherwise. The inputs must be numbers or strings, and both of the same type.",
														group: "Decision",
													},
													all: {
														doc: "Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",
														group: "Decision",
													},
													any: {
														doc: "Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",
														group: "Decision",
													},
													"!": {
														doc: "Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",
														group: "Decision",
													},
													upcase: {
														doc: "Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",
														group: "String",
													},
													downcase: {
														doc: "Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",
														group: "String",
													},
													concat: {
														doc: "Returns a string consisting of the concatenation of the inputs.",
														group: "String",
													},
												},
											},
											light: {
												anchor: {
													type: "enum",
													default: "viewport",
													values: {
														map: {
															doc: "The position of the light source is aligned to the rotation of the map.",
														},
														viewport: {
															doc: "The position of the light source is aligned to the rotation of the viewport.",
														},
													},
													transition: !1,
													"zoom-function": !0,
													"property-function": !1,
													function:
														"piecewise-constant",
													doc: "Whether extruded geometries are lit relative to the map or viewport.",
													example: "map",
													"sdk-support": {
														"basic functionality": {
															js: "0.27.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
													},
												},
												position: {
													type: "array",
													default: [1.15, 210, 30],
													length: 3,
													value: "number",
													transition: !0,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !1,
													doc: "Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0° (0° when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0° when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0°, directly above, to 180°, directly below).",
													example: [1.5, 90, 80],
													"sdk-support": {
														"basic functionality": {
															js: "0.27.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
													},
												},
												color: {
													type: "color",
													default: "#ffffff",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !1,
													transition: !0,
													doc: "Color tint for lighting extruded geometries.",
													"sdk-support": {
														"basic functionality": {
															js: "0.27.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
													},
												},
												intensity: {
													type: "number",
													default: 0.5,
													minimum: 0,
													maximum: 1,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !1,
													transition: !0,
													doc: "Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.",
													"sdk-support": {
														"basic functionality": {
															js: "0.27.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
													},
												},
											},
											paint: [
												"paint_fill",
												"paint_line",
												"paint_circle",
												"paint_heatmap",
												"paint_fill-extrusion",
												"paint_symbol",
												"paint_raster",
												"paint_hillshade",
												"paint_background",
											],
											paint_fill: {
												"fill-antialias": {
													type: "boolean",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													default: !0,
													doc: "Whether or not the fill should be antialiased.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"fill-opacity": {
													type: "number",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													default: 1,
													minimum: 0,
													maximum: 1,
													doc: "The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.21.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"fill-color": {
													type: "color",
													default: "#000000",
													doc: "The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													requires: [
														{ "!": "fill-pattern" },
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.19.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"fill-outline-color": {
													type: "color",
													doc: "The outline color of the fill. Matches the value of `fill-color` if unspecified.",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													requires: [
														{ "!": "fill-pattern" },
														{
															"fill-antialias":
																!0,
														},
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.19.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"fill-translate": {
													type: "array",
													value: "number",
													length: 2,
													default: [0, 0],
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
													units: "pixels",
													doc: "The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"fill-translate-anchor": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													values: {
														map: {
															doc: "The fill is translated relative to the map.",
														},
														viewport: {
															doc: "The fill is translated relative to the viewport.",
														},
													},
													doc: "Controls the frame of reference for `fill-translate`.",
													default: "map",
													requires: [
														"fill-translate",
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"fill-pattern": {
													type: "string",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													transition: !0,
													doc: "Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512).",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
											},
											"paint_fill-extrusion": {
												"fill-extrusion-opacity": {
													type: "number",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !1,
													default: 1,
													minimum: 0,
													maximum: 1,
													doc: "The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.27.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
													},
												},
												"fill-extrusion-color": {
													type: "color",
													default: "#000000",
													doc: "The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													requires: [
														{
															"!": "fill-extrusion-pattern",
														},
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.27.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
														"data-driven styling": {
															js: "0.27.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
													},
												},
												"fill-extrusion-translate": {
													type: "array",
													value: "number",
													length: 2,
													default: [0, 0],
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
													units: "pixels",
													doc: "The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.",
													"sdk-support": {
														"basic functionality": {
															js: "0.27.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
														"data-driven styling":
															{},
													},
												},
												"fill-extrusion-translate-anchor":
													{
														type: "enum",
														function:
															"piecewise-constant",
														"zoom-function": !0,
														values: {
															map: {
																doc: "The fill extrusion is translated relative to the map.",
															},
															viewport: {
																doc: "The fill extrusion is translated relative to the viewport.",
															},
														},
														doc: "Controls the frame of reference for `fill-extrusion-translate`.",
														default: "map",
														requires: [
															"fill-extrusion-translate",
														],
														"sdk-support": {
															"basic functionality":
																{
																	js: "0.27.0",
																	android:
																		"5.1.0",
																	ios: "3.6.0",
																	macos: "0.5.0",
																},
															"data-driven styling":
																{},
														},
													},
												"fill-extrusion-pattern": {
													type: "string",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													transition: !0,
													doc: "Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512).",
													"sdk-support": {
														"basic functionality": {
															js: "0.27.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
														"data-driven styling":
															{},
													},
												},
												"fill-extrusion-height": {
													type: "number",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													default: 0,
													minimum: 0,
													units: "meters",
													doc: "The height with which to extrude this layer.",
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.27.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
														"data-driven styling": {
															js: "0.27.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
													},
												},
												"fill-extrusion-base": {
													type: "number",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													default: 0,
													minimum: 0,
													units: "meters",
													doc: "The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",
													transition: !0,
													requires: [
														"fill-extrusion-height",
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.27.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
														"data-driven styling": {
															js: "0.27.0",
															android: "5.1.0",
															ios: "3.6.0",
															macos: "0.5.0",
														},
													},
												},
											},
											paint_line: {
												"line-opacity": {
													type: "number",
													doc: "The opacity at which the line will be drawn.",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													default: 1,
													minimum: 0,
													maximum: 1,
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.29.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"line-color": {
													type: "color",
													doc: "The color with which the line will be drawn.",
													default: "#000000",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													requires: [
														{ "!": "line-pattern" },
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.23.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"line-translate": {
													type: "array",
													value: "number",
													length: 2,
													default: [0, 0],
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
													units: "pixels",
													doc: "The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"line-translate-anchor": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													values: {
														map: {
															doc: "The line is translated relative to the map.",
														},
														viewport: {
															doc: "The line is translated relative to the viewport.",
														},
													},
													doc: "Controls the frame of reference for `line-translate`.",
													default: "map",
													requires: [
														"line-translate",
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"line-width": {
													type: "number",
													default: 1,
													minimum: 0,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													units: "pixels",
													doc: "Stroke thickness.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.39.0",
														},
													},
												},
												"line-gap-width": {
													type: "number",
													default: 0,
													minimum: 0,
													doc: "Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													units: "pixels",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.29.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"line-offset": {
													type: "number",
													default: 0,
													doc: "The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													units: "pixels",
													"sdk-support": {
														"basic functionality": {
															js: "0.12.1",
															android: "3.0.0",
															ios: "3.1.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.29.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"line-blur": {
													type: "number",
													default: 0,
													minimum: 0,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													units: "pixels",
													doc: "Blur applied to the line, in pixels.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.29.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"line-dasharray": {
													type: "array",
													value: "number",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													doc: "Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width.",
													minimum: 0,
													transition: !0,
													units: "line widths",
													requires: [
														{ "!": "line-pattern" },
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"line-pattern": {
													type: "string",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													transition: !0,
													doc: "Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512).",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
											},
											paint_circle: {
												"circle-radius": {
													type: "number",
													default: 5,
													minimum: 0,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													units: "pixels",
													doc: "Circle radius.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.18.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"circle-color": {
													type: "color",
													default: "#000000",
													doc: "The fill color of the circle.",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.18.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"circle-blur": {
													type: "number",
													default: 0,
													doc: "Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.20.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"circle-opacity": {
													type: "number",
													doc: "The opacity at which the circle will be drawn.",
													default: 1,
													minimum: 0,
													maximum: 1,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.20.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"circle-translate": {
													type: "array",
													value: "number",
													length: 2,
													default: [0, 0],
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
													units: "pixels",
													doc: "The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"circle-translate-anchor": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													values: {
														map: {
															doc: "The circle is translated relative to the map.",
														},
														viewport: {
															doc: "The circle is translated relative to the viewport.",
														},
													},
													doc: "Controls the frame of reference for `circle-translate`.",
													default: "map",
													requires: [
														"circle-translate",
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"circle-pitch-scale": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													values: {
														map: {
															doc: "Circles are scaled according to their apparent distance to the camera.",
														},
														viewport: {
															doc: "Circles are not scaled.",
														},
													},
													default: "map",
													doc: "Controls the scaling behavior of the circle when the map is pitched.",
													"sdk-support": {
														"basic functionality": {
															js: "0.21.0",
															android: "4.2.0",
															ios: "3.4.0",
															macos: "0.2.1",
														},
														"data-driven styling":
															{},
													},
												},
												"circle-pitch-alignment": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													values: {
														map: {
															doc: "The circle is aligned to the plane of the map.",
														},
														viewport: {
															doc: "The circle is aligned to the plane of the viewport.",
														},
													},
													default: "viewport",
													doc: "Orientation of circle when map is pitched.",
													"sdk-support": {
														"basic functionality": {
															js: "0.39.0",
															android: "5.2.0",
															ios: "3.7.0",
															macos: "0.6.0",
														},
														"data-driven styling":
															{},
													},
												},
												"circle-stroke-width": {
													type: "number",
													default: 0,
													minimum: 0,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													units: "pixels",
													doc: "The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.",
													"sdk-support": {
														"basic functionality": {
															js: "0.29.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
														"data-driven styling": {
															js: "0.29.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"circle-stroke-color": {
													type: "color",
													default: "#000000",
													doc: "The stroke color of the circle.",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.29.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
														"data-driven styling": {
															js: "0.29.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"circle-stroke-opacity": {
													type: "number",
													doc: "The opacity of the circle's stroke.",
													default: 1,
													minimum: 0,
													maximum: 1,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.29.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
														"data-driven styling": {
															js: "0.29.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
											},
											paint_heatmap: {
												"heatmap-radius": {
													type: "number",
													default: 30,
													minimum: 1,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													units: "pixels",
													doc: "Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.",
													"sdk-support": {
														"basic functionality": {
															js: "0.41.0",
														},
														"data-driven styling":
															{},
													},
												},
												"heatmap-weight": {
													type: "number",
													default: 1,
													minimum: 0,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !1,
													doc: "A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.",
													"sdk-support": {
														"basic functionality": {
															js: "0.41.0",
														},
														"data-driven styling": {
															js: "0.41.0",
														},
													},
												},
												"heatmap-intensity": {
													type: "number",
													default: 1,
													minimum: 0,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !1,
													transition: !0,
													doc: "Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.",
													"sdk-support": {
														"basic functionality": {
															js: "0.41.0",
														},
														"data-driven styling":
															{},
													},
												},
												"heatmap-color": {
													type: "color",
													default: [
														"interpolate",
														["linear"],
														["heatmap-density"],
														0,
														"rgba(0, 0, 255, 0)",
														0.1,
														"royalblue",
														0.3,
														"cyan",
														0.5,
														"lime",
														0.7,
														"yellow",
														1,
														"red",
													],
													doc: 'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',
													function: "interpolated",
													"zoom-function": !1,
													"property-function": !1,
													transition: !1,
													"sdk-support": {
														"basic functionality": {
															js: "0.41.0",
														},
														"data-driven styling":
															{},
													},
												},
												"heatmap-opacity": {
													type: "number",
													doc: "The global opacity at which the heatmap layer will be drawn.",
													default: 1,
													minimum: 0,
													maximum: 1,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !1,
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.41.0",
														},
														"data-driven styling":
															{},
													},
												},
											},
											paint_symbol: {
												"icon-opacity": {
													doc: "The opacity at which the icon will be drawn.",
													type: "number",
													default: 1,
													minimum: 0,
													maximum: 1,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.33.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"icon-color": {
													type: "color",
													default: "#000000",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													doc: "The color of the icon. This can only be used with sdf icons.",
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.33.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"icon-halo-color": {
													type: "color",
													default: "rgba(0, 0, 0, 0)",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													doc: "The color of the icon's halo. Icon halos can only be used with SDF icons.",
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.33.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"icon-halo-width": {
													type: "number",
													default: 0,
													minimum: 0,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													units: "pixels",
													doc: "Distance of halo to the icon outline.",
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.33.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"icon-halo-blur": {
													type: "number",
													default: 0,
													minimum: 0,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													units: "pixels",
													doc: "Fade out the halo towards the outside.",
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.33.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"icon-translate": {
													type: "array",
													value: "number",
													length: 2,
													default: [0, 0],
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
													units: "pixels",
													doc: "Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",
													requires: ["icon-image"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"icon-translate-anchor": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													values: {
														map: {
															doc: "Icons are translated relative to the map.",
														},
														viewport: {
															doc: "Icons are translated relative to the viewport.",
														},
													},
													doc: "Controls the frame of reference for `icon-translate`.",
													default: "map",
													requires: [
														"icon-image",
														"icon-translate",
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"text-opacity": {
													type: "number",
													doc: "The opacity at which the text will be drawn.",
													default: 1,
													minimum: 0,
													maximum: 1,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.33.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"text-color": {
													type: "color",
													doc: "The color with which the text will be drawn.",
													default: "#000000",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.33.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"text-halo-color": {
													type: "color",
													default: "rgba(0, 0, 0, 0)",
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													doc: "The color of the text's halo, which helps it stand out from backgrounds.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.33.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"text-halo-width": {
													type: "number",
													default: 0,
													minimum: 0,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													units: "pixels",
													doc: "Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.33.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"text-halo-blur": {
													type: "number",
													default: 0,
													minimum: 0,
													function: "interpolated",
													"zoom-function": !0,
													"property-function": !0,
													transition: !0,
													units: "pixels",
													doc: "The halo's fadeout distance towards the outside.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling": {
															js: "0.33.0",
															android: "5.0.0",
															ios: "3.5.0",
															macos: "0.4.0",
														},
													},
												},
												"text-translate": {
													type: "array",
													value: "number",
													length: 2,
													default: [0, 0],
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
													units: "pixels",
													doc: "Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",
													requires: ["text-field"],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"text-translate-anchor": {
													type: "enum",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													values: {
														map: {
															doc: "The text is translated relative to the map.",
														},
														viewport: {
															doc: "The text is translated relative to the viewport.",
														},
													},
													doc: "Controls the frame of reference for `text-translate`.",
													default: "map",
													requires: [
														"text-field",
														"text-translate",
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
											},
											paint_raster: {
												"raster-opacity": {
													type: "number",
													doc: "The opacity at which the image will be drawn.",
													default: 1,
													minimum: 0,
													maximum: 1,
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"raster-hue-rotate": {
													type: "number",
													default: 0,
													period: 360,
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
													units: "degrees",
													doc: "Rotates hues around the color wheel.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"raster-brightness-min": {
													type: "number",
													function: "interpolated",
													"zoom-function": !0,
													doc: "Increase or reduce the brightness of the image. The value is the minimum brightness.",
													default: 0,
													minimum: 0,
													maximum: 1,
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"raster-brightness-max": {
													type: "number",
													function: "interpolated",
													"zoom-function": !0,
													doc: "Increase or reduce the brightness of the image. The value is the maximum brightness.",
													default: 1,
													minimum: 0,
													maximum: 1,
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"raster-saturation": {
													type: "number",
													doc: "Increase or reduce the saturation of the image.",
													default: 0,
													minimum: -1,
													maximum: 1,
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"raster-contrast": {
													type: "number",
													doc: "Increase or reduce the contrast of the image.",
													default: 0,
													minimum: -1,
													maximum: 1,
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
												"raster-fade-duration": {
													type: "number",
													default: 300,
													minimum: 0,
													function: "interpolated",
													"zoom-function": !0,
													transition: !1,
													units: "milliseconds",
													doc: "Fade duration when a new tile is added.",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
														"data-driven styling":
															{},
													},
												},
											},
											paint_hillshade: {
												"hillshade-illumination-direction":
													{
														type: "number",
														default: 335,
														minimum: 0,
														maximum: 359,
														doc: "The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",
														function:
															"interpolated",
														"zoom-function": !0,
														transition: !1,
													},
												"hillshade-illumination-anchor":
													{
														type: "enum",
														function:
															"piecewise-constant",
														"zoom-function": !0,
														values: {
															map: {
																doc: "The hillshade illumination is relative to the north direction.",
															},
															viewport: {
																doc: "The hillshade illumination is relative to the top of the viewport.",
															},
														},
														default: "viewport",
														doc: "Direction of light source when map is rotated.",
													},
												"hillshade-exaggeration": {
													type: "number",
													doc: "Intensity of the hillshade",
													default: 0.5,
													minimum: 0,
													maximum: 1,
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
												},
												"hillshade-shadow-color": {
													type: "color",
													default: "#000000",
													doc: "The shading color of areas that face away from the light source.",
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
												},
												"hillshade-highlight-color": {
													type: "color",
													default: "#FFFFFF",
													doc: "The shading color of areas that faces towards the light source.",
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
												},
												"hillshade-accent-color": {
													type: "color",
													default: "#000000",
													doc: "The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
												},
											},
											paint_background: {
												"background-color": {
													type: "color",
													default: "#000000",
													doc: "The color with which the background will be drawn.",
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
													requires: [
														{
															"!": "background-pattern",
														},
													],
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
													},
												},
												"background-pattern": {
													type: "string",
													function:
														"piecewise-constant",
													"zoom-function": !0,
													transition: !0,
													doc: "Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512).",
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
													},
												},
												"background-opacity": {
													type: "number",
													default: 1,
													minimum: 0,
													maximum: 1,
													doc: "The opacity at which the background will be drawn.",
													function: "interpolated",
													"zoom-function": !0,
													transition: !0,
													"sdk-support": {
														"basic functionality": {
															js: "0.10.0",
															android: "2.0.1",
															ios: "2.0.0",
															macos: "0.1.0",
														},
													},
												},
											},
											transition: {
												duration: {
													type: "number",
													default: 300,
													minimum: 0,
													units: "milliseconds",
													doc: "Time allotted for transitions to complete.",
												},
												delay: {
													type: "number",
													default: 0,
													minimum: 0,
													units: "milliseconds",
													doc: "Length of time before a transition begins.",
												},
											},
										};
									},
									function (e, t, n) {
										var r = n(75),
											i = n(29),
											o = n(13),
											a = n(150);
										function s(e, t) {
											t = t || o;
											var n = [];
											return (
												(n = n.concat(
													i({
														key: "",
														value: e,
														valueSpec: t.$root,
														styleSpec: t,
														style: e,
														objectElementValidators:
															{
																glyphs: a,
																"*": function () {
																	return [];
																},
															},
													})
												)),
												e.constants &&
													(n = n.concat(
														r({
															key: "constants",
															value: e.constants,
															style: e,
															styleSpec: t,
														})
													)),
												l(n)
											);
										}
										function l(e) {
											return []
												.concat(e)
												.sort(function (e, t) {
													return e.line - t.line;
												});
										}
										function u(e) {
											return function () {
												return l(
													e.apply(this, arguments)
												);
											};
										}
										(s.source = u(n(99))),
											(s.light = u(n(100))),
											(s.layer = u(n(95))),
											(s.filter = u(n(59))),
											(s.paintProperty = u(n(96))),
											(s.layoutProperty = u(n(98))),
											(e.exports = s);
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(8),
											o = i.array,
											a = i.ValueType,
											s = i.NumberType,
											l = n(31),
											u = (function () {
												function e(t, n, r) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.type = t),
														(this.index = n),
														(this.input = r);
												}
												var t, n, i;
												return (
													(t = e),
													(i = [
														{
															key: "parse",
															value: function (
																t,
																n
															) {
																if (
																	3 !==
																	t.length
																)
																	return n.error(
																		"Expected 2 arguments, but found ".concat(
																			t.length -
																				1,
																			" instead."
																		)
																	);
																var r = n.parse(
																		t[1],
																		1,
																		s
																	),
																	i = n.parse(
																		t[2],
																		2,
																		o(
																			n.expectedType ||
																				a
																		)
																	);
																return r && i
																	? new e(
																			i.type.itemType,
																			r,
																			i
																	  )
																	: null;
															},
														},
													]),
													(n = [
														{
															key: "evaluate",
															value: function (
																e
															) {
																var t =
																		this.index.evaluate(
																			e
																		),
																	n =
																		this.input.evaluate(
																			e
																		);
																if (
																	t < 0 ||
																	t >=
																		n.length
																)
																	throw new l(
																		"Array index out of bounds: "
																			.concat(
																				t,
																				" > "
																			)
																			.concat(
																				n.length,
																				"."
																			)
																	);
																if (
																	t !==
																	Math.floor(
																		t
																	)
																)
																	throw new l(
																		"Array index must be an integer, but found ".concat(
																			t,
																			" instead."
																		)
																	);
																return n[t];
															},
														},
														{
															key: "eachChild",
															value: function (
																e
															) {
																e(this.index),
																	e(
																		this
																			.input
																	);
															},
														},
														{
															key: "possibleOutputs",
															value: function () {
																return [void 0];
															},
														},
													]) && r(t.prototype, n),
													i && r(t, i),
													e
												);
											})();
										e.exports = u;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(1),
											a = n(25).typeOf,
											s = (function () {
												function e(t, n, r, i, o, a) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.inputType = t),
														(this.type = n),
														(this.input = r),
														(this.cases = i),
														(this.outputs = o),
														(this.otherwise = a);
												}
												var t, n, s;
												return (
													(t = e),
													(s = [
														{
															key: "parse",
															value: function (
																t,
																n
															) {
																if (
																	t.length < 5
																)
																	return n.error(
																		"Expected at least 4 arguments, but found only ".concat(
																			t.length -
																				1,
																			"."
																		)
																	);
																if (
																	t.length %
																		2 !=
																	1
																)
																	return n.error(
																		"Expected an even number of arguments."
																	);
																var r, s;
																n.expectedType &&
																	"value" !==
																		n
																			.expectedType
																			.kind &&
																	(s =
																		n.expectedType);
																for (
																	var l = {},
																		u = [],
																		c = 2;
																	c <
																	t.length -
																		1;
																	c += 2
																) {
																	var f =
																			t[
																				c
																			],
																		h =
																			t[
																				c +
																					1
																			];
																	Array.isArray(
																		f
																	) ||
																		(f = [
																			f,
																		]);
																	var p =
																		n.concat(
																			c
																		);
																	if (
																		0 ===
																		f.length
																	)
																		return p.error(
																			"Expected at least one branch label."
																		);
																	var d = !0,
																		y = !1,
																		m =
																			void 0;
																	try {
																		for (
																			var v,
																				g =
																					(0,
																					o.default)(
																						f
																					);
																			!(d =
																				(v =
																					g.next())
																					.done);
																			d =
																				!0
																		) {
																			var _ =
																				v.value;
																			if (
																				"number" !=
																					typeof _ &&
																				"string" !=
																					typeof _
																			)
																				return p.error(
																					"Branch labels must be numbers or strings."
																				);
																			if (
																				"number" ==
																					typeof _ &&
																				Math.abs(
																					_
																				) >
																					M.default
																			)
																				return p.error(
																					"Branch labels must be integers no larger than ".concat(
																						M.default,
																						"."
																					)
																				);
																			if (
																				"number" ==
																					typeof _ &&
																				Math.floor(
																					_
																				) !==
																					_
																			)
																				return p.error(
																					"Numeric branch labels must be integer values."
																				);
																			if (
																				r
																			) {
																				if (
																					p.checkSubtype(
																						r,
																						a(
																							_
																						)
																					)
																				)
																					return null;
																			} else
																				r =
																					a(
																						_
																					);
																			if (
																				void 0 !==
																				l[
																					String(
																						_
																					)
																				]
																			)
																				return p.error(
																					"Branch labels must be unique."
																				);
																			l[
																				String(
																					_
																				)
																			] =
																				u.length;
																		}
																	} catch (e) {
																		(y =
																			!0),
																			(m =
																				e);
																	} finally {
																		try {
																			d ||
																				null ==
																					g.return ||
																				g.return();
																		} finally {
																			if (
																				y
																			)
																				throw m;
																		}
																	}
																	var b =
																		n.parse(
																			h,
																			c,
																			s
																		);
																	if (!b)
																		return null;
																	(s =
																		s ||
																		b.type),
																		u.push(
																			b
																		);
																}
																var x = n.parse(
																	t[1],
																	1,
																	r
																);
																if (!x)
																	return null;
																var w = n.parse(
																	t[
																		t.length -
																			1
																	],
																	t.length -
																		1,
																	s
																);
																return w
																	? (i(
																			r &&
																				s
																	  ),
																	  new e(
																			r,
																			s,
																			x,
																			l,
																			u,
																			w
																	  ))
																	: null;
															},
														},
													]),
													(n = [
														{
															key: "evaluate",
															value: function (
																e
															) {
																var t =
																	this.input.evaluate(
																		e
																	);
																return (
																	this
																		.outputs[
																		this
																			.cases[
																			t
																		]
																	] ||
																	this
																		.otherwise
																).evaluate(e);
															},
														},
														{
															key: "eachChild",
															value: function (
																e
															) {
																e(this.input),
																	this.outputs.forEach(
																		e
																	),
																	e(
																		this
																			.otherwise
																	);
															},
														},
														{
															key: "possibleOutputs",
															value: function () {
																var e;
																return (e =
																	[]).concat
																	.apply(
																		e,
																		(function (
																			e
																		) {
																			return (
																				(function (
																					e
																				) {
																					if (
																						Array.isArray(
																							e
																						)
																					) {
																						for (
																							var t = 0,
																								n =
																									new Array(
																										e.length
																									);
																							t <
																							e.length;
																							t++
																						)
																							n[
																								t
																							] =
																								e[
																									t
																								];
																						return n;
																					}
																				})(
																					e
																				) ||
																				(function (
																					e
																				) {
																					if (
																						(0,
																						y.default)(
																							Object(
																								e
																							)
																						) ||
																						"[object Arguments]" ===
																							Object.prototype.toString.call(
																								e
																							)
																					)
																						return (0,
																						m.default)(
																							e
																						);
																				})(
																					e
																				) ||
																				(function () {
																					throw new TypeError(
																						"Invalid attempt to spread non-iterable instance"
																					);
																				})()
																			);
																		})(
																			this.outputs.map(
																				function (
																					e
																				) {
																					return e.possibleOutputs();
																				}
																			)
																		)
																	)
																	.concat(
																		this.otherwise.possibleOutputs()
																	);
															},
														},
													]) && r(t.prototype, n),
													s && r(t, s),
													e
												);
											})();
										e.exports = s;
									},
									function (e, t, n) {
										function r(e, t) {
											return (
												(function (e) {
													if (Array.isArray(e))
														return e;
												})(e) ||
												(function (e, t) {
													var n = [],
														r = !0,
														i = !1,
														a = void 0;
													try {
														for (
															var s,
																l = (0,
																o.default)(e);
															!(r = (s = l.next())
																.done) &&
															(n.push(s.value),
															!t ||
																n.length !== t);
															r = !0
														);
													} catch (e) {
														(i = !0), (a = e);
													} finally {
														try {
															r ||
																null ==
																	l.return ||
																l.return();
														} finally {
															if (i) throw a;
														}
													}
													return n;
												})(e, t) ||
												(function () {
													throw new TypeError(
														"Invalid attempt to destructure non-iterable instance"
													);
												})()
											);
										}
										function i(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var a = n(1),
											s = n(8).BooleanType,
											l = (function () {
												function e(t, n, r) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.type = t),
														(this.branches = n),
														(this.otherwise = r);
												}
												var t, n, l;
												return (
													(t = e),
													(l = [
														{
															key: "parse",
															value: function (
																t,
																n
															) {
																if (
																	t.length < 4
																)
																	return n.error(
																		"Expected at least 3 arguments, but found only ".concat(
																			t.length -
																				1,
																			"."
																		)
																	);
																if (
																	t.length %
																		2 !=
																	0
																)
																	return n.error(
																		"Expected an odd number of arguments."
																	);
																var r;
																n.expectedType &&
																	"value" !==
																		n
																			.expectedType
																			.kind &&
																	(r =
																		n.expectedType);
																for (
																	var i = [],
																		o = 1;
																	o <
																	t.length -
																		1;
																	o += 2
																) {
																	var l =
																		n.parse(
																			t[
																				o
																			],
																			o,
																			s
																		);
																	if (!l)
																		return null;
																	var u =
																		n.parse(
																			t[
																				o +
																					1
																			],
																			o +
																				1,
																			r
																		);
																	if (!u)
																		return null;
																	i.push([
																		l,
																		u,
																	]),
																		(r =
																			r ||
																			u.type);
																}
																var c = n.parse(
																	t[
																		t.length -
																			1
																	],
																	t.length -
																		1,
																	r
																);
																return c
																	? (a(r),
																	  new e(
																			r,
																			i,
																			c
																	  ))
																	: null;
															},
														},
													]),
													(n = [
														{
															key: "evaluate",
															value: function (
																e
															) {
																var t = !0,
																	n = !1,
																	i = void 0;
																try {
																	for (
																		var a,
																			s =
																				(0,
																				o.default)(
																					this
																						.branches
																				);
																		!(t =
																			(a =
																				s.next())
																				.done);
																		t = !0
																	) {
																		var l =
																				r(
																					a.value,
																					2
																				),
																			u =
																				l[0],
																			c =
																				l[1];
																		if (
																			u.evaluate(
																				e
																			)
																		)
																			return c.evaluate(
																				e
																			);
																	}
																} catch (e) {
																	(n = !0),
																		(i = e);
																} finally {
																	try {
																		t ||
																			null ==
																				s.return ||
																			s.return();
																	} finally {
																		if (n)
																			throw i;
																	}
																}
																return this.otherwise.evaluate(
																	e
																);
															},
														},
														{
															key: "eachChild",
															value: function (
																e
															) {
																var t = !0,
																	n = !1,
																	i = void 0;
																try {
																	for (
																		var a,
																			s =
																				(0,
																				o.default)(
																					this
																						.branches
																				);
																		!(t =
																			(a =
																				s.next())
																				.done);
																		t = !0
																	) {
																		var l =
																				r(
																					a.value,
																					2
																				),
																			u =
																				l[0],
																			c =
																				l[1];
																		e(u),
																			e(
																				c
																			);
																	}
																} catch (e) {
																	(n = !0),
																		(i = e);
																} finally {
																	try {
																		t ||
																			null ==
																				s.return ||
																			s.return();
																	} finally {
																		if (n)
																			throw i;
																	}
																}
																e(
																	this
																		.otherwise
																);
															},
														},
														{
															key: "possibleOutputs",
															value: function () {
																var e;
																return (e =
																	[]).concat
																	.apply(
																		e,
																		(function (
																			e
																		) {
																			return (
																				(function (
																					e
																				) {
																					if (
																						Array.isArray(
																							e
																						)
																					) {
																						for (
																							var t = 0,
																								n =
																									new Array(
																										e.length
																									);
																							t <
																							e.length;
																							t++
																						)
																							n[
																								t
																							] =
																								e[
																									t
																								];
																						return n;
																					}
																				})(
																					e
																				) ||
																				(function (
																					e
																				) {
																					if (
																						(0,
																						y.default)(
																							Object(
																								e
																							)
																						) ||
																						"[object Arguments]" ===
																							Object.prototype.toString.call(
																								e
																							)
																					)
																						return (0,
																						m.default)(
																							e
																						);
																				})(
																					e
																				) ||
																				(function () {
																					throw new TypeError(
																						"Invalid attempt to spread non-iterable instance"
																					);
																				})()
																			);
																		})(
																			this.branches.map(
																				function (
																					e
																				) {
																					var t =
																						r(
																							e,
																							2
																						);
																					return (
																						t[0],
																						t[1].possibleOutputs()
																					);
																				}
																			)
																		)
																	)
																	.concat(
																		this.otherwise.possibleOutputs()
																	);
															},
														},
													]) && i(t.prototype, n),
													l && i(t, l),
													e
												);
											})();
										e.exports = l;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(8),
											o = i.ValueType,
											a = i.BooleanType,
											s = n(8).toString;
										function l(e) {
											return (
												"string" === e.kind ||
												"number" === e.kind ||
												"boolean" === e.kind ||
												"null" === e.kind
											);
										}
										function u(e) {
											return (function () {
												function t(e, n) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, t),
														(this.type = a),
														(this.lhs = e),
														(this.rhs = n);
												}
												var n, i, u;
												return (
													(n = t),
													(u = [
														{
															key: "parse",
															value: function (
																e,
																n
															) {
																if (
																	3 !==
																	e.length
																)
																	return n.error(
																		"Expected two arguments."
																	);
																var r = n.parse(
																	e[1],
																	1,
																	o
																);
																if (!r)
																	return null;
																var i = n.parse(
																	e[2],
																	2,
																	o
																);
																return i
																	? l(
																			r.type
																	  ) ||
																	  l(i.type)
																		? r.type
																				.kind !==
																				i
																					.type
																					.kind &&
																		  "value" !==
																				r
																					.type
																					.kind &&
																		  "value" !==
																				i
																					.type
																					.kind
																			? n.error(
																					"Cannot compare "
																						.concat(
																							s(
																								r.type
																							),
																							" and "
																						)
																						.concat(
																							s(
																								i.type
																							),
																							"."
																						)
																			  )
																			: new t(
																					r,
																					i
																			  )
																		: n.error(
																				"Expected at least one argument to be a string, number, boolean, or null, but found ("
																					.concat(
																						s(
																							r.type
																						),
																						", "
																					)
																					.concat(
																						s(
																							i.type
																						),
																						") instead."
																					)
																		  )
																	: null;
															},
														},
													]),
													(i = [
														{
															key: "evaluate",
															value: function (
																t
															) {
																return e(
																	this.lhs.evaluate(
																		t
																	),
																	this.rhs.evaluate(
																		t
																	)
																);
															},
														},
														{
															key: "eachChild",
															value: function (
																e
															) {
																e(this.lhs),
																	e(this.rhs);
															},
														},
														{
															key: "possibleOutputs",
															value: function () {
																return [!0, !1];
															},
														},
													]) && r(n.prototype, i),
													u && r(n, u),
													t
												);
											})();
										}
										e.exports = {
											Equals: u(function (e, t) {
												return e === t;
											}),
											NotEquals: u(function (e, t) {
												return e !== t;
											}),
										};
									},
									function (e, t) {
										e.exports = {
											success: function (e) {
												return {
													result: "success",
													value: e,
												};
											},
											error: function (e) {
												return {
													result: "error",
													value: e,
												};
											},
										};
									},
									function (e, t, n) {
										var r = n(12),
											i = n(26).number,
											o = 0.95047,
											a = 1.08883,
											s = 6 / 29,
											l = 3 * s * s,
											u = Math.PI / 180,
											c = 180 / Math.PI;
										function f(e) {
											return e > 0.008856451679035631
												? Math.pow(e, 1 / 3)
												: e / l + 4 / 29;
										}
										function h(e) {
											return e > s
												? e * e * e
												: l * (e - 4 / 29);
										}
										function p(e) {
											return (
												255 *
												(e <= 0.0031308
													? 12.92 * e
													: 1.055 *
															Math.pow(
																e,
																1 / 2.4
															) -
													  0.055)
											);
										}
										function d(e) {
											return (e /= 255) <= 0.04045
												? e / 12.92
												: Math.pow(
														(e + 0.055) / 1.055,
														2.4
												  );
										}
										function y(e) {
											var t = d(e.r),
												n = d(e.g),
												r = d(e.b),
												i = f(
													(0.4124564 * t +
														0.3575761 * n +
														0.1804375 * r) /
														o
												),
												s = f(
													(0.2126729 * t +
														0.7151522 * n +
														0.072175 * r) /
														1
												);
											return {
												l: 116 * s - 16,
												a: 500 * (i - s),
												b:
													200 *
													(s -
														f(
															(0.0193339 * t +
																0.119192 * n +
																0.9503041 * r) /
																a
														)),
												alpha: e.a,
											};
										}
										function m(e) {
											var t = (e.l + 16) / 116,
												n = isNaN(e.a)
													? t
													: t + e.a / 500,
												i = isNaN(e.b)
													? t
													: t - e.b / 200;
											return (
												(t = 1 * h(t)),
												(n = o * h(n)),
												(i = a * h(i)),
												new r(
													p(
														3.2404542 * n -
															1.5371385 * t -
															0.4985314 * i
													),
													p(
														-0.969266 * n +
															1.8760108 * t +
															0.041556 * i
													),
													p(
														0.0556434 * n -
															0.2040259 * t +
															1.0572252 * i
													),
													e.alpha
												)
											);
										}
										function v(e, t, n) {
											var r = t - e;
											return (
												e +
												n *
													(r > 180 || r < -180
														? r -
														  360 *
																Math.round(
																	r / 360
																)
														: r)
											);
										}
										e.exports = {
											lab: {
												forward: y,
												reverse: m,
												interpolate: function (
													e,
													t,
													n
												) {
													return {
														l: i(e.l, t.l, n),
														a: i(e.a, t.a, n),
														b: i(e.b, t.b, n),
														alpha: i(
															e.alpha,
															t.alpha,
															n
														),
													};
												},
											},
											hcl: {
												forward: function (e) {
													var t = y(e),
														n = t.l,
														r = t.a,
														i = t.b,
														o =
															Math.atan2(i, r) *
															c;
													return {
														h: o < 0 ? o + 360 : o,
														c: Math.sqrt(
															r * r + i * i
														),
														l: n,
														alpha: e.a,
													};
												},
												reverse: function (e) {
													var t = e.h * u,
														n = e.c;
													return m({
														l: e.l,
														a: Math.cos(t) * n,
														b: Math.sin(t) * n,
														alpha: e.alpha,
													});
												},
												interpolate: function (
													e,
													t,
													n
												) {
													return {
														h: v(e.h, t.h, n),
														c: i(e.c, t.c, n),
														l: i(e.l, t.l, n),
														alpha: i(
															e.alpha,
															t.alpha,
															n
														),
													};
												},
											},
										};
									},
									function (e, t, n) {
										var r = n(17),
											i = n(7);
										e.exports = function (e) {
											var t = e.value,
												n = e.key,
												o = r(t);
											return "boolean" !== o
												? [
														new i(
															n,
															t,
															"boolean expected, ".concat(
																o,
																" found"
															)
														),
												  ]
												: [];
										};
									},
									function (e, t, n) {
										var r = n(7),
											i = n(17),
											o = n(80).parseCSSColor;
										e.exports = function (e) {
											var t = e.key,
												n = e.value,
												a = i(n);
											return "string" !== a
												? [
														new r(
															t,
															n,
															"color expected, ".concat(
																a,
																" found"
															)
														),
												  ]
												: null === o(n)
												? [
														new r(
															t,
															n,
															'color expected, "'.concat(
																n,
																'" found'
															)
														),
												  ]
												: [];
										};
									},
									function (e, t, n) {
										var r = n(7),
											i = n(101);
										e.exports = function (e) {
											var t = e.value,
												n = e.key,
												o = i(e);
											return (
												o.length ||
													(-1 ===
														t.indexOf(
															"{fontstack}"
														) &&
														o.push(
															new r(
																n,
																t,
																'"glyphs" url must include a "{fontstack}" token'
															)
														),
													-1 ===
														t.indexOf("{range}") &&
														o.push(
															new r(
																n,
																t,
																'"glyphs" url must include a "{range}" token'
															)
														)),
												o
											);
										};
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function u(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function f(e) {
											return (f = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function h(e, t) {
											return (h =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var p = i(19),
											d = i(103),
											y =
												i(
													44
												).multiPolygonIntersectsBufferedMultiPoint,
											m = i(47),
											v = m.getMaximumPaintValue,
											g = m.translateDistance,
											_ = m.translate,
											b = i(154),
											x = i(4),
											w =
												(x.Transitionable,
												x.Transitioning,
												x.PossiblyEvaluated,
												(function (e) {
													function t(e) {
														return (
															(function (e, t) {
																if (
																	!(
																		e instanceof
																		t
																	)
																)
																	throw new TypeError(
																		"Cannot call a class as a function"
																	);
															})(this, t),
															u(
																this,
																f(t).call(
																	this,
																	e,
																	b
																)
															)
														);
													}
													var n, r;
													return (
														(function (e, t) {
															if (
																"function" !=
																	typeof t &&
																null !== t
															)
																throw new TypeError(
																	"Super expression must either be null or a function"
																);
															(e.prototype =
																Object.create(
																	t &&
																		t.prototype,
																	{
																		constructor:
																			{
																				value: e,
																				writable:
																					!0,
																				configurable:
																					!0,
																			},
																	}
																)),
																t && h(e, t);
														})(t, p),
														(n = t),
														(r = [
															{
																key: "createBucket",
																value: function (
																	e
																) {
																	return new d(
																		e
																	);
																},
															},
															{
																key: "queryRadius",
																value: function (
																	e
																) {
																	var t = e;
																	return (
																		v(
																			"circle-radius",
																			this,
																			t
																		) +
																		v(
																			"circle-stroke-width",
																			this,
																			t
																		) +
																		g(
																			this.paint.get(
																				"circle-translate"
																			)
																		)
																	);
																},
															},
															{
																key: "queryIntersectsFeature",
																value: function (
																	e,
																	t,
																	n,
																	r,
																	i,
																	o
																) {
																	var a = _(
																			e,
																			this.paint.get(
																				"circle-translate"
																			),
																			this.paint.get(
																				"circle-translate-anchor"
																			),
																			i,
																			o
																		),
																		s =
																			this.paint
																				.get(
																					"circle-radius"
																				)
																				.evaluate(
																					t
																				) *
																			o,
																		l =
																			this.paint
																				.get(
																					"circle-stroke-width"
																				)
																				.evaluate(
																					t
																				) *
																			o;
																	return y(
																		a,
																		n,
																		s + l
																	);
																},
															},
														]) && s(n.prototype, r),
														t
													);
												})());
										e.exports = w;
									},
									function (e, t, n) {
										var r = n(23).createLayout;
										e.exports = r(
											[
												{
													name: "a_pos",
													components: 2,
													type: "Int16",
												},
											],
											4
										);
									},
									function (e, t, n) {
										var r = n(0);
										t.packUint8ToFloat = function (e, t) {
											return (
												256 *
													(e = r.clamp(
														Math.floor(e),
														0,
														255
													)) +
												r.clamp(Math.floor(t), 0, 255)
											);
										};
									},
									function (e, t, n) {
										var r = n(13),
											i = n(4),
											o = i.Properties,
											a = i.DataConstantProperty,
											s = i.DataDrivenProperty,
											l =
												(i.CrossFadedProperty,
												i.HeatmapColorProperty,
												new o({
													"circle-radius": new s(
														r.paint_circle[
															"circle-radius"
														]
													),
													"circle-color": new s(
														r.paint_circle[
															"circle-color"
														]
													),
													"circle-blur": new s(
														r.paint_circle[
															"circle-blur"
														]
													),
													"circle-opacity": new s(
														r.paint_circle[
															"circle-opacity"
														]
													),
													"circle-translate": new a(
														r.paint_circle[
															"circle-translate"
														]
													),
													"circle-translate-anchor":
														new a(
															r.paint_circle[
																"circle-translate-anchor"
															]
														),
													"circle-pitch-scale": new a(
														r.paint_circle[
															"circle-pitch-scale"
														]
													),
													"circle-pitch-alignment":
														new a(
															r.paint_circle[
																"circle-pitch-alignment"
															]
														),
													"circle-stroke-width":
														new s(
															r.paint_circle[
																"circle-stroke-width"
															]
														),
													"circle-stroke-color":
														new s(
															r.paint_circle[
																"circle-stroke-color"
															]
														),
													"circle-stroke-opacity":
														new s(
															r.paint_circle[
																"circle-stroke-opacity"
															]
														),
												}));
										e.exports = { paint: l };
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t, n) {
											return (s =
												"undefined" != typeof Reflect &&
												k.default
													? k.default
													: function (e, t, n) {
															var r = (function (
																e,
																t
															) {
																for (
																	;
																	!Object.prototype.hasOwnProperty.call(
																		e,
																		t
																	) &&
																	null !==
																		(e =
																			u(
																				e
																			));

																);
																return e;
															})(e, t);
															if (r) {
																var i = (0,
																x.default)(
																	r,
																	t
																);
																return i.get
																	? i.get.call(
																			n
																	  )
																	: i.value;
															}
													  })(e, t, n || e);
										}
										function u(e) {
											return (u = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function f(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function h(e, t, n) {
											return (
												t && f(e.prototype, t),
												n && f(e, n),
												e
											);
										}
										function p(e, t) {
											return (p =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var d = i(19),
											y = i(156),
											m = i(33).RGBAImage,
											v = i(157),
											g = i(4),
											_ =
												(g.Transitionable,
												g.Transitioning,
												g.PossiblyEvaluated,
												(function (e) {
													function t(e) {
														var n;
														return (
															(function (e, t) {
																if (
																	!(
																		e instanceof
																		t
																	)
																)
																	throw new TypeError(
																		"Cannot call a class as a function"
																	);
															})(this, t),
															(n = (function (
																e,
																t
															) {
																return !t ||
																	("object" !==
																		o(t) &&
																		"function" !=
																			typeof t)
																	? (function (
																			e
																	  ) {
																			if (
																				void 0 ===
																				e
																			)
																				throw new ReferenceError(
																					"this hasn't been initialised - super() hasn't been called"
																				);
																			return e;
																	  })(e)
																	: t;
															})(
																this,
																u(t).call(
																	this,
																	e,
																	v
																)
															))._updateColorRamp(),
															n
														);
													}
													return (
														(function (e, t) {
															if (
																"function" !=
																	typeof t &&
																null !== t
															)
																throw new TypeError(
																	"Super expression must either be null or a function"
																);
															(e.prototype =
																Object.create(
																	t &&
																		t.prototype,
																	{
																		constructor:
																			{
																				value: e,
																				writable:
																					!0,
																				configurable:
																					!0,
																			},
																	}
																)),
																t && p(e, t);
														})(t, d),
														h(t, [
															{
																key: "createBucket",
																value: function (
																	e
																) {
																	return new y(
																		e
																	);
																},
															},
														]),
														h(t, [
															{
																key: "setPaintProperty",
																value: function (
																	e,
																	n,
																	r
																) {
																	s(
																		u(
																			t.prototype
																		),
																		"setPaintProperty",
																		this
																	).call(
																		this,
																		e,
																		n,
																		r
																	),
																		"heatmap-color" ===
																			e &&
																			this._updateColorRamp();
																},
															},
															{
																key: "_updateColorRamp",
																value: function () {
																	for (
																		var e =
																				this
																					._transitionablePaint
																					._values[
																					"heatmap-color"
																				]
																					.value
																					.expression,
																			t =
																				new Uint8Array(
																					1024
																				),
																			n =
																				t.length,
																			r = 4;
																		r < n;
																		r += 4
																	) {
																		var i =
																			e.evaluate(
																				{
																					heatmapDensity:
																						r /
																						n,
																				}
																			);
																		(t[
																			r +
																				0
																		] = Math.floor(
																			(255 *
																				i.r) /
																				i.a
																		)),
																			(t[
																				r +
																					1
																			] =
																				Math.floor(
																					(255 *
																						i.g) /
																						i.a
																				)),
																			(t[
																				r +
																					2
																			] =
																				Math.floor(
																					(255 *
																						i.b) /
																						i.a
																				)),
																			(t[
																				r +
																					3
																			] =
																				Math.floor(
																					255 *
																						i.a
																				));
																	}
																	(this.colorRamp =
																		new m(
																			{
																				width: 256,
																				height: 1,
																			},
																			t
																		)),
																		(this.colorRampTexture =
																			null);
																},
															},
															{
																key: "resize",
																value: function () {
																	this
																		.heatmapFbo &&
																		(this.heatmapFbo.destroy(),
																		(this.heatmapFbo =
																			null));
																},
															},
															{
																key: "queryRadius",
																value: function () {
																	return 0;
																},
															},
															{
																key: "queryIntersectsFeature",
																value: function () {
																	return !1;
																},
															},
															{
																key: "hasOffscreenPass",
																value: function () {
																	return (
																		0 !==
																			this.paint.get(
																				"heatmap-opacity"
																			) &&
																		"none" !==
																			this
																				.visibility
																	);
																},
															},
														]),
														t
													);
												})());
										e.exports = _;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function u(e) {
											return (u = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function f(e, t) {
											return (f =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var h = i(103),
											p = i(11).register,
											d = (function (e) {
												function t() {
													return (
														(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														s(
															this,
															u(t).apply(
																this,
																arguments
															)
														)
													);
												}
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && f(e, t);
													})(t, h),
													t
												);
											})();
										p("HeatmapBucket", d, {
											omit: ["layers"],
										}),
											(e.exports = d);
									},
									function (e, t, n) {
										var r = n(13),
											i = n(4),
											o = i.Properties,
											a = i.DataConstantProperty,
											s = i.DataDrivenProperty,
											l =
												(i.CrossFadedProperty,
												i.HeatmapColorProperty),
											u = new o({
												"heatmap-radius": new s(
													r.paint_heatmap[
														"heatmap-radius"
													]
												),
												"heatmap-weight": new s(
													r.paint_heatmap[
														"heatmap-weight"
													]
												),
												"heatmap-intensity": new a(
													r.paint_heatmap[
														"heatmap-intensity"
													]
												),
												"heatmap-color": new l(
													r.paint_heatmap[
														"heatmap-color"
													]
												),
												"heatmap-opacity": new a(
													r.paint_heatmap[
														"heatmap-opacity"
													]
												),
											});
										e.exports = { paint: u };
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function u(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function f(e) {
											return (f = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function h(e, t) {
											return (h =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var p = i(19),
											d = i(159),
											y = i(4),
											m =
												(y.Transitionable,
												y.Transitioning,
												y.PossiblyEvaluated,
												(function (e) {
													function t(e) {
														return (
															(function (e, t) {
																if (
																	!(
																		e instanceof
																		t
																	)
																)
																	throw new TypeError(
																		"Cannot call a class as a function"
																	);
															})(this, t),
															u(
																this,
																f(t).call(
																	this,
																	e,
																	d
																)
															)
														);
													}
													var n, r;
													return (
														(function (e, t) {
															if (
																"function" !=
																	typeof t &&
																null !== t
															)
																throw new TypeError(
																	"Super expression must either be null or a function"
																);
															(e.prototype =
																Object.create(
																	t &&
																		t.prototype,
																	{
																		constructor:
																			{
																				value: e,
																				writable:
																					!0,
																				configurable:
																					!0,
																			},
																	}
																)),
																t && h(e, t);
														})(t, p),
														(n = t),
														(r = [
															{
																key: "hasOffscreenPass",
																value: function () {
																	return (
																		0 !==
																			this.paint.get(
																				"hillshade-exaggeration"
																			) &&
																		"none" !==
																			this
																				.visibility
																	);
																},
															},
														]) && s(n.prototype, r),
														t
													);
												})());
										e.exports = m;
									},
									function (e, t, n) {
										var r = n(13),
											i = n(4),
											o = i.Properties,
											a = i.DataConstantProperty,
											s =
												(i.DataDrivenProperty,
												i.CrossFadedProperty,
												i.HeatmapColorProperty,
												new o({
													"hillshade-illumination-direction":
														new a(
															r.paint_hillshade[
																"hillshade-illumination-direction"
															]
														),
													"hillshade-illumination-anchor":
														new a(
															r.paint_hillshade[
																"hillshade-illumination-anchor"
															]
														),
													"hillshade-exaggeration":
														new a(
															r.paint_hillshade[
																"hillshade-exaggeration"
															]
														),
													"hillshade-shadow-color":
														new a(
															r.paint_hillshade[
																"hillshade-shadow-color"
															]
														),
													"hillshade-highlight-color":
														new a(
															r.paint_hillshade[
																"hillshade-highlight-color"
															]
														),
													"hillshade-accent-color":
														new a(
															r.paint_hillshade[
																"hillshade-accent-color"
															]
														),
												}));
										e.exports = { paint: s };
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function u(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function f(e) {
											return (f = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function h(e, t) {
											return (h =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var p = i(19),
											d = i(161),
											y =
												i(
													44
												).multiPolygonIntersectsMultiPolygon,
											m = i(47),
											v = m.translateDistance,
											g = m.translate,
											_ = i(164),
											b = i(4),
											x =
												(b.Transitionable,
												b.Transitioning,
												b.PossiblyEvaluated,
												(function (e) {
													function t(e) {
														return (
															(function (e, t) {
																if (
																	!(
																		e instanceof
																		t
																	)
																)
																	throw new TypeError(
																		"Cannot call a class as a function"
																	);
															})(this, t),
															u(
																this,
																f(t).call(
																	this,
																	e,
																	_
																)
															)
														);
													}
													var n, r;
													return (
														(function (e, t) {
															if (
																"function" !=
																	typeof t &&
																null !== t
															)
																throw new TypeError(
																	"Super expression must either be null or a function"
																);
															(e.prototype =
																Object.create(
																	t &&
																		t.prototype,
																	{
																		constructor:
																			{
																				value: e,
																				writable:
																					!0,
																				configurable:
																					!0,
																			},
																	}
																)),
																t && h(e, t);
														})(t, p),
														(n = t),
														(r = [
															{
																key: "recalculate",
																value: function (
																	e
																) {
																	(this.paint =
																		this._transitioningPaint.possiblyEvaluate(
																			e
																		)),
																		void 0 ===
																			this._transitionablePaint.getValue(
																				"fill-outline-color"
																			) &&
																			(this.paint._values[
																				"fill-outline-color"
																			] =
																				this.paint._values[
																					"fill-color"
																				]);
																},
															},
															{
																key: "createBucket",
																value: function (
																	e
																) {
																	return new d(
																		e
																	);
																},
															},
															{
																key: "queryRadius",
																value: function () {
																	return v(
																		this.paint.get(
																			"fill-translate"
																		)
																	);
																},
															},
															{
																key: "queryIntersectsFeature",
																value: function (
																	e,
																	t,
																	n,
																	r,
																	i,
																	o
																) {
																	var a = g(
																		e,
																		this.paint.get(
																			"fill-translate"
																		),
																		this.paint.get(
																			"fill-translate-anchor"
																		),
																		i,
																		o
																	);
																	return y(
																		a,
																		n
																	);
																},
															},
														]) && s(n.prototype, r),
														t
													);
												})());
										e.exports = x;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(14).FillLayoutArray,
											a = n(162).members,
											s = n(36).SegmentVector,
											l = n(32).ProgramConfigurationSet,
											u = n(37),
											c = u.LineIndexArray,
											f = u.TriangleIndexArray,
											h = n(38),
											p = n(104),
											d = n(105),
											y = n(1),
											m = n(11).register,
											v = (function () {
												function e(t) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.zoom = t.zoom),
														(this.overscaling =
															t.overscaling),
														(this.layers =
															t.layers),
														(this.layerIds =
															this.layers.map(
																function (e) {
																	return e.id;
																}
															)),
														(this.index = t.index),
														(this.layoutVertexArray =
															new i()),
														(this.indexArray =
															new f()),
														(this.indexArray2 =
															new c()),
														(this.programConfigurations =
															new l(
																a,
																t.layers,
																t.zoom
															)),
														(this.segments =
															new s()),
														(this.segments2 =
															new s());
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "populate",
															value: function (
																e,
																t
															) {
																var n = !0,
																	r = !1,
																	i = void 0;
																try {
																	for (
																		var a,
																			s =
																				(0,
																				o.default)(
																					e
																				);
																		!(n =
																			(a =
																				s.next())
																				.done);
																		n = !0
																	) {
																		var l =
																				a.value,
																			u =
																				l.feature,
																			c =
																				l.index,
																			f =
																				l.sourceLayerIndex;
																		if (
																			this.layers[0]._featureFilter(
																				{
																					zoom: this
																						.zoom,
																				},
																				u
																			)
																		) {
																			var p =
																				h(
																					u
																				);
																			this.addFeature(
																				u,
																				p
																			),
																				t.featureIndex.insert(
																					u,
																					p,
																					c,
																					f,
																					this
																						.index
																				);
																		}
																	}
																} catch (e) {
																	(r = !0),
																		(i = e);
																} finally {
																	try {
																		n ||
																			null ==
																				s.return ||
																			s.return();
																	} finally {
																		if (r)
																			throw i;
																	}
																}
															},
														},
														{
															key: "isEmpty",
															value: function () {
																return (
																	0 ===
																	this
																		.layoutVertexArray
																		.length
																);
															},
														},
														{
															key: "upload",
															value: function (
																e
															) {
																(this.layoutVertexBuffer =
																	e.createVertexBuffer(
																		this
																			.layoutVertexArray,
																		a
																	)),
																	(this.indexBuffer =
																		e.createIndexBuffer(
																			this
																				.indexArray
																		)),
																	(this.indexBuffer2 =
																		e.createIndexBuffer(
																			this
																				.indexArray2
																		)),
																	this.programConfigurations.upload(
																		e
																	);
															},
														},
														{
															key: "destroy",
															value: function () {
																this
																	.layoutVertexBuffer &&
																	(this.layoutVertexBuffer.destroy(),
																	this.indexBuffer.destroy(),
																	this.indexBuffer2.destroy(),
																	this.programConfigurations.destroy(),
																	this.segments.destroy(),
																	this.segments2.destroy());
															},
														},
														{
															key: "addFeature",
															value: function (
																e,
																t
															) {
																var n = !0,
																	r = !1,
																	i = void 0;
																try {
																	for (
																		var a,
																			s =
																				(0,
																				o.default)(
																					d(
																						t,
																						500
																					)
																				);
																		!(n =
																			(a =
																				s.next())
																				.done);
																		n = !0
																	) {
																		var l =
																				a.value,
																			u = 0,
																			c =
																				!0,
																			f =
																				!1,
																			h =
																				void 0;
																		try {
																			for (
																				var m,
																					v =
																						(0,
																						o.default)(
																							l
																						);
																				!(c =
																					(m =
																						v.next())
																						.done);
																				c =
																					!0
																			)
																				u +=
																					m
																						.value
																						.length;
																		} catch (e) {
																			(f =
																				!0),
																				(h =
																					e);
																		} finally {
																			try {
																				c ||
																					null ==
																						v.return ||
																					v.return();
																			} finally {
																				if (
																					f
																				)
																					throw h;
																			}
																		}
																		var g =
																				this.segments.prepareSegment(
																					u,
																					this
																						.layoutVertexArray,
																					this
																						.indexArray
																				),
																			_ =
																				g.vertexLength,
																			b =
																				[],
																			x =
																				[],
																			w =
																				!0,
																			C =
																				!1,
																			T =
																				void 0;
																		try {
																			for (
																				var k,
																					P =
																						(0,
																						o.default)(
																							l
																						);
																				!(w =
																					(k =
																						P.next())
																						.done);
																				w =
																					!0
																			) {
																				var E =
																					k.value;
																				if (
																					0 !==
																					E.length
																				) {
																					E !==
																						l[0] &&
																						x.push(
																							b.length /
																								2
																						);
																					var S =
																							this.segments2.prepareSegment(
																								E.length,
																								this
																									.layoutVertexArray,
																								this
																									.indexArray2
																							),
																						A =
																							S.vertexLength;
																					this.layoutVertexArray.emplaceBack(
																						E[0]
																							.x,
																						E[0]
																							.y
																					),
																						this.indexArray2.emplaceBack(
																							A +
																								E.length -
																								1,
																							A
																						),
																						b.push(
																							E[0]
																								.x
																						),
																						b.push(
																							E[0]
																								.y
																						);
																					for (
																						var M = 1;
																						M <
																						E.length;
																						M++
																					)
																						this.layoutVertexArray.emplaceBack(
																							E[
																								M
																							]
																								.x,
																							E[
																								M
																							]
																								.y
																						),
																							this.indexArray2.emplaceBack(
																								A +
																									M -
																									1,
																								A +
																									M
																							),
																							b.push(
																								E[
																									M
																								]
																									.x
																							),
																							b.push(
																								E[
																									M
																								]
																									.y
																							);
																					(S.vertexLength +=
																						E.length),
																						(S.primitiveLength +=
																							E.length);
																				}
																			}
																		} catch (e) {
																			(C =
																				!0),
																				(T =
																					e);
																		} finally {
																			try {
																				w ||
																					null ==
																						P.return ||
																					P.return();
																			} finally {
																				if (
																					C
																				)
																					throw T;
																			}
																		}
																		var I =
																			p(
																				b,
																				x
																			);
																		y(
																			I.length %
																				3 ==
																				0
																		);
																		for (
																			var L = 0;
																			L <
																			I.length;
																			L += 3
																		)
																			this.indexArray.emplaceBack(
																				_ +
																					I[
																						L
																					],
																				_ +
																					I[
																						L +
																							1
																					],
																				_ +
																					I[
																						L +
																							2
																					]
																			);
																		(g.vertexLength +=
																			u),
																			(g.primitiveLength +=
																				I.length /
																				3);
																	}
																} catch (e) {
																	(r = !0),
																		(i = e);
																} finally {
																	try {
																		n ||
																			null ==
																				s.return ||
																			s.return();
																	} finally {
																		if (r)
																			throw i;
																	}
																}
																this.programConfigurations.populatePaintArrays(
																	this
																		.layoutVertexArray
																		.length,
																	e
																);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										m("FillBucket", v, {
											omit: ["layers"],
										}),
											(e.exports = v);
									},
									function (e, t, n) {
										var r = n(23).createLayout;
										e.exports = r(
											[
												{
													name: "a_pos",
													components: 2,
													type: "Int16",
												},
											],
											4
										);
									},
									function (e, t, n) {
										e.exports = (function () {
											function e(e, t, n) {
												var r = e[t];
												(e[t] = e[n]), (e[n] = r);
											}
											function t(e, t) {
												return e < t
													? -1
													: e > t
													? 1
													: 0;
											}
											return function (n, r, i, o, a) {
												!(function t(n, r, i, o, a) {
													for (; o > i; ) {
														if (o - i > 600) {
															var s = o - i + 1,
																l = r - i + 1,
																u = Math.log(s),
																c =
																	0.5 *
																	Math.exp(
																		(2 *
																			u) /
																			3
																	),
																f =
																	0.5 *
																	Math.sqrt(
																		(u *
																			c *
																			(s -
																				c)) /
																			s
																	) *
																	(l - s / 2 <
																	0
																		? -1
																		: 1);
															t(
																n,
																r,
																Math.max(
																	i,
																	Math.floor(
																		r -
																			(l *
																				c) /
																				s +
																			f
																	)
																),
																Math.min(
																	o,
																	Math.floor(
																		r +
																			((s -
																				l) *
																				c) /
																				s +
																			f
																	)
																),
																a
															);
														}
														var h = n[r],
															p = i,
															d = o;
														for (
															e(n, i, r),
																a(n[o], h) >
																	0 &&
																	e(n, i, o);
															p < d;

														) {
															for (
																e(n, p, d),
																	p++,
																	d--;
																a(n[p], h) < 0;

															)
																p++;
															for (
																;
																a(n[d], h) > 0;

															)
																d--;
														}
														0 === a(n[i], h)
															? e(n, i, d)
															: e(n, ++d, o),
															d <= r &&
																(i = d + 1),
															r <= d &&
																(o = d - 1);
													}
												})(
													n,
													r,
													i || 0,
													o || n.length - 1,
													a || t
												);
											};
										})();
									},
									function (e, t, n) {
										var r = n(13),
											i = n(4),
											o = i.Properties,
											a = i.DataConstantProperty,
											s = i.DataDrivenProperty,
											l = i.CrossFadedProperty,
											u =
												(i.HeatmapColorProperty,
												new o({
													"fill-antialias": new a(
														r.paint_fill[
															"fill-antialias"
														]
													),
													"fill-opacity": new s(
														r.paint_fill[
															"fill-opacity"
														]
													),
													"fill-color": new s(
														r.paint_fill[
															"fill-color"
														]
													),
													"fill-outline-color": new s(
														r.paint_fill[
															"fill-outline-color"
														]
													),
													"fill-translate": new a(
														r.paint_fill[
															"fill-translate"
														]
													),
													"fill-translate-anchor":
														new a(
															r.paint_fill[
																"fill-translate-anchor"
															]
														),
													"fill-pattern": new l(
														r.paint_fill[
															"fill-pattern"
														]
													),
												}));
										e.exports = { paint: u };
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function u(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function f(e) {
											return (f = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function h(e, t) {
											return (h =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var p = i(19),
											d = i(166),
											y =
												i(
													44
												).multiPolygonIntersectsMultiPolygon,
											m = i(47),
											v = m.translateDistance,
											g = m.translate,
											_ = i(168),
											b = i(4),
											x =
												(b.Transitionable,
												b.Transitioning,
												b.PossiblyEvaluated,
												(function (e) {
													function t(e) {
														return (
															(function (e, t) {
																if (
																	!(
																		e instanceof
																		t
																	)
																)
																	throw new TypeError(
																		"Cannot call a class as a function"
																	);
															})(this, t),
															u(
																this,
																f(t).call(
																	this,
																	e,
																	_
																)
															)
														);
													}
													var n, r;
													return (
														(function (e, t) {
															if (
																"function" !=
																	typeof t &&
																null !== t
															)
																throw new TypeError(
																	"Super expression must either be null or a function"
																);
															(e.prototype =
																Object.create(
																	t &&
																		t.prototype,
																	{
																		constructor:
																			{
																				value: e,
																				writable:
																					!0,
																				configurable:
																					!0,
																			},
																	}
																)),
																t && h(e, t);
														})(t, p),
														(n = t),
														(r = [
															{
																key: "createBucket",
																value: function (
																	e
																) {
																	return new d(
																		e
																	);
																},
															},
															{
																key: "queryRadius",
																value: function () {
																	return v(
																		this.paint.get(
																			"fill-extrusion-translate"
																		)
																	);
																},
															},
															{
																key: "queryIntersectsFeature",
																value: function (
																	e,
																	t,
																	n,
																	r,
																	i,
																	o
																) {
																	var a = g(
																		e,
																		this.paint.get(
																			"fill-extrusion-translate"
																		),
																		this.paint.get(
																			"fill-extrusion-translate-anchor"
																		),
																		i,
																		o
																	);
																	return y(
																		a,
																		n
																	);
																},
															},
															{
																key: "hasOffscreenPass",
																value: function () {
																	return (
																		0 !==
																			this.paint.get(
																				"fill-extrusion-opacity"
																			) &&
																		"none" !==
																			this
																				.visibility
																	);
																},
															},
															{
																key: "resize",
																value: function () {
																	this
																		.viewportFrame &&
																		(this.viewportFrame.destroy(),
																		(this.viewportFrame =
																			null));
																},
															},
														]) && s(n.prototype, r),
														t
													);
												})());
										e.exports = x;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(14).FillExtrusionLayoutArray,
											a = n(167).members,
											s = n(36),
											l = s.SegmentVector,
											u = s.MAX_VERTEX_ARRAY_LENGTH,
											c = n(32).ProgramConfigurationSet,
											f = n(37).TriangleIndexArray,
											h = n(38),
											p = n(6),
											d = n(104),
											y = n(105),
											m = n(1),
											v = n(11).register,
											g = Math.pow(2, 13);
										function _(e, t, n, r, i, o, a, s) {
											e.emplaceBack(
												t,
												n,
												2 * Math.floor(r * g) + a,
												i * g * 2,
												o * g * 2,
												Math.round(s)
											);
										}
										var b = (function () {
											function e(t) {
												!(function (e, t) {
													if (!(e instanceof t))
														throw new TypeError(
															"Cannot call a class as a function"
														);
												})(this, e),
													(this.zoom = t.zoom),
													(this.overscaling =
														t.overscaling),
													(this.layers = t.layers),
													(this.layerIds =
														this.layers.map(
															function (e) {
																return e.id;
															}
														)),
													(this.index = t.index),
													(this.layoutVertexArray =
														new i()),
													(this.indexArray = new f()),
													(this.programConfigurations =
														new c(
															a,
															t.layers,
															t.zoom
														)),
													(this.segments = new l());
											}
											var t, n;
											return (
												(t = e),
												(n = [
													{
														key: "populate",
														value: function (e, t) {
															var n = !0,
																r = !1,
																i = void 0;
															try {
																for (
																	var a,
																		s = (0,
																		o.default)(
																			e
																		);
																	!(n = (a =
																		s.next())
																		.done);
																	n = !0
																) {
																	var l =
																			a.value,
																		u =
																			l.feature,
																		c =
																			l.index,
																		f =
																			l.sourceLayerIndex;
																	if (
																		this.layers[0]._featureFilter(
																			{
																				zoom: this
																					.zoom,
																			},
																			u
																		)
																	) {
																		var p =
																			h(
																				u
																			);
																		this.addFeature(
																			u,
																			p
																		),
																			t.featureIndex.insert(
																				u,
																				p,
																				c,
																				f,
																				this
																					.index
																			);
																	}
																}
															} catch (e) {
																(r = !0),
																	(i = e);
															} finally {
																try {
																	n ||
																		null ==
																			s.return ||
																		s.return();
																} finally {
																	if (r)
																		throw i;
																}
															}
														},
													},
													{
														key: "isEmpty",
														value: function () {
															return (
																0 ===
																this
																	.layoutVertexArray
																	.length
															);
														},
													},
													{
														key: "upload",
														value: function (e) {
															(this.layoutVertexBuffer =
																e.createVertexBuffer(
																	this
																		.layoutVertexArray,
																	a
																)),
																(this.indexBuffer =
																	e.createIndexBuffer(
																		this
																			.indexArray
																	)),
																this.programConfigurations.upload(
																	e
																);
														},
													},
													{
														key: "destroy",
														value: function () {
															this
																.layoutVertexBuffer &&
																(this.layoutVertexBuffer.destroy(),
																this.indexBuffer.destroy(),
																this.programConfigurations.destroy(),
																this.segments.destroy());
														},
													},
													{
														key: "addFeature",
														value: function (e, t) {
															var n = !0,
																r = !1,
																i = void 0;
															try {
																for (
																	var a,
																		s = (0,
																		o.default)(
																			y(
																				t,
																				500
																			)
																		);
																	!(n = (a =
																		s.next())
																		.done);
																	n = !0
																) {
																	var l =
																			a.value,
																		c = 0,
																		f = !0,
																		h = !1,
																		p =
																			void 0;
																	try {
																		for (
																			var v,
																				g =
																					(0,
																					o.default)(
																						l
																					);
																			!(f =
																				(v =
																					g.next())
																					.done);
																			f =
																				!0
																		)
																			c +=
																				v
																					.value
																					.length;
																	} catch (e) {
																		(h =
																			!0),
																			(p =
																				e);
																	} finally {
																		try {
																			f ||
																				null ==
																					g.return ||
																				g.return();
																		} finally {
																			if (
																				h
																			)
																				throw p;
																		}
																	}
																	var b =
																			this.segments.prepareSegment(
																				4,
																				this
																					.layoutVertexArray,
																				this
																					.indexArray
																			),
																		C = !0,
																		T = !1,
																		k =
																			void 0;
																	try {
																		for (
																			var P,
																				E =
																					(0,
																					o.default)(
																						l
																					);
																			!(C =
																				(P =
																					E.next())
																					.done);
																			C =
																				!0
																		) {
																			var S =
																				P.value;
																			if (
																				0 !==
																					S.length &&
																				!w(
																					S
																				)
																			)
																				for (
																					var A = 0,
																						M = 0;
																					M <
																					S.length;
																					M++
																				) {
																					var I =
																						S[
																							M
																						];
																					if (
																						M >=
																						1
																					) {
																						var L =
																							S[
																								M -
																									1
																							];
																						if (
																							!x(
																								I,
																								L
																							)
																						) {
																							b.vertexLength +
																								4 >
																								u &&
																								(b =
																									this.segments.prepareSegment(
																										4,
																										this
																											.layoutVertexArray,
																										this
																											.indexArray
																									));
																							var D =
																									I.sub(
																										L
																									)
																										._perp()
																										._unit(),
																								O =
																									L.dist(
																										I
																									);
																							A +
																								O >
																								32768 &&
																								(A = 0),
																								_(
																									this
																										.layoutVertexArray,
																									I.x,
																									I.y,
																									D.x,
																									D.y,
																									0,
																									0,
																									A
																								),
																								_(
																									this
																										.layoutVertexArray,
																									I.x,
																									I.y,
																									D.x,
																									D.y,
																									0,
																									1,
																									A
																								),
																								(A +=
																									O),
																								_(
																									this
																										.layoutVertexArray,
																									L.x,
																									L.y,
																									D.x,
																									D.y,
																									0,
																									0,
																									A
																								),
																								_(
																									this
																										.layoutVertexArray,
																									L.x,
																									L.y,
																									D.x,
																									D.y,
																									0,
																									1,
																									A
																								);
																							var z =
																								b.vertexLength;
																							this.indexArray.emplaceBack(
																								z,
																								z +
																									1,
																								z +
																									2
																							),
																								this.indexArray.emplaceBack(
																									z +
																										1,
																									z +
																										2,
																									z +
																										3
																								),
																								(b.vertexLength += 4),
																								(b.primitiveLength += 2);
																						}
																					}
																				}
																		}
																	} catch (e) {
																		(T =
																			!0),
																			(k =
																				e);
																	} finally {
																		try {
																			C ||
																				null ==
																					E.return ||
																				E.return();
																		} finally {
																			if (
																				T
																			)
																				throw k;
																		}
																	}
																	b.vertexLength +
																		c >
																		u &&
																		(b =
																			this.segments.prepareSegment(
																				c,
																				this
																					.layoutVertexArray,
																				this
																					.indexArray
																			));
																	var R = [],
																		B = [],
																		j =
																			b.vertexLength,
																		F = !0,
																		N = !1,
																		V =
																			void 0;
																	try {
																		for (
																			var U,
																				H =
																					(0,
																					o.default)(
																						l
																					);
																			!(F =
																				(U =
																					H.next())
																					.done);
																			F =
																				!0
																		) {
																			var G =
																				U.value;
																			if (
																				0 !==
																				G.length
																			) {
																				G !==
																					l[0] &&
																					B.push(
																						R.length /
																							2
																					);
																				for (
																					var q = 0;
																					q <
																					G.length;
																					q++
																				) {
																					var W =
																						G[
																							q
																						];
																					_(
																						this
																							.layoutVertexArray,
																						W.x,
																						W.y,
																						0,
																						0,
																						1,
																						1,
																						0
																					),
																						R.push(
																							W.x
																						),
																						R.push(
																							W.y
																						);
																				}
																			}
																		}
																	} catch (e) {
																		(N =
																			!0),
																			(V =
																				e);
																	} finally {
																		try {
																			F ||
																				null ==
																					H.return ||
																				H.return();
																		} finally {
																			if (
																				N
																			)
																				throw V;
																		}
																	}
																	var Z = d(
																		R,
																		B
																	);
																	m(
																		Z.length %
																			3 ==
																			0
																	);
																	for (
																		var Y = 0;
																		Y <
																		Z.length;
																		Y += 3
																	)
																		this.indexArray.emplaceBack(
																			j +
																				Z[
																					Y
																				],
																			j +
																				Z[
																					Y +
																						1
																				],
																			j +
																				Z[
																					Y +
																						2
																				]
																		);
																	(b.primitiveLength +=
																		Z.length /
																		3),
																		(b.vertexLength +=
																			c);
																}
															} catch (e) {
																(r = !0),
																	(i = e);
															} finally {
																try {
																	n ||
																		null ==
																			s.return ||
																		s.return();
																} finally {
																	if (r)
																		throw i;
																}
															}
															this.programConfigurations.populatePaintArrays(
																this
																	.layoutVertexArray
																	.length,
																e
															);
														},
													},
												]) && r(t.prototype, n),
												e
											);
										})();
										function x(e, t) {
											return (
												(e.x === t.x &&
													(e.x < 0 || e.x > p)) ||
												(e.y === t.y &&
													(e.y < 0 || e.y > p))
											);
										}
										function w(e) {
											return (
												e.every(function (e) {
													return e.x < 0;
												}) ||
												e.every(function (e) {
													return e.x > p;
												}) ||
												e.every(function (e) {
													return e.y < 0;
												}) ||
												e.every(function (e) {
													return e.y > p;
												})
											);
										}
										v("FillExtrusionBucket", b, {
											omit: ["layers"],
										}),
											(e.exports = b);
									},
									function (e, t, n) {
										var r = n(23).createLayout;
										e.exports = r(
											[
												{
													name: "a_pos",
													components: 2,
													type: "Int16",
												},
												{
													name: "a_normal_ed",
													components: 4,
													type: "Int16",
												},
											],
											4
										);
									},
									function (e, t, n) {
										var r = n(13),
											i = n(4),
											o = i.Properties,
											a = i.DataConstantProperty,
											s = i.DataDrivenProperty,
											l = i.CrossFadedProperty,
											u =
												(i.HeatmapColorProperty,
												new o({
													"fill-extrusion-opacity":
														new a(
															r[
																"paint_fill-extrusion"
															][
																"fill-extrusion-opacity"
															]
														),
													"fill-extrusion-color":
														new s(
															r[
																"paint_fill-extrusion"
															][
																"fill-extrusion-color"
															]
														),
													"fill-extrusion-translate":
														new a(
															r[
																"paint_fill-extrusion"
															][
																"fill-extrusion-translate"
															]
														),
													"fill-extrusion-translate-anchor":
														new a(
															r[
																"paint_fill-extrusion"
															][
																"fill-extrusion-translate-anchor"
															]
														),
													"fill-extrusion-pattern":
														new l(
															r[
																"paint_fill-extrusion"
															][
																"fill-extrusion-pattern"
															]
														),
													"fill-extrusion-height":
														new s(
															r[
																"paint_fill-extrusion"
															][
																"fill-extrusion-height"
															]
														),
													"fill-extrusion-base":
														new s(
															r[
																"paint_fill-extrusion"
															][
																"fill-extrusion-base"
															]
														),
												}));
										e.exports = { paint: u };
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											if (!(e instanceof t))
												throw new TypeError(
													"Cannot call a class as a function"
												);
										}
										function u(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function f(e, t, n) {
											return (
												t && u(e.prototype, t),
												n && u(e, n),
												e
											);
										}
										function h(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function p(e, t, n) {
											return (p =
												"undefined" != typeof Reflect &&
												k.default
													? k.default
													: function (e, t, n) {
															var r = (function (
																e,
																t
															) {
																for (
																	;
																	!Object.prototype.hasOwnProperty.call(
																		e,
																		t
																	) &&
																	null !==
																		(e =
																			d(
																				e
																			));

																);
																return e;
															})(e, t);
															if (r) {
																var i = (0,
																x.default)(
																	r,
																	t
																);
																return i.get
																	? i.get.call(
																			n
																	  )
																	: i.value;
															}
													  })(e, t, n || e);
										}
										function d(e) {
											return (d = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function y(e, t) {
											if (
												"function" != typeof t &&
												null !== t
											)
												throw new TypeError(
													"Super expression must either be null or a function"
												);
											(e.prototype = Object.create(
												t && t.prototype,
												{
													constructor: {
														value: e,
														writable: !0,
														configurable: !0,
													},
												}
											)),
												t &&
													(function (e, t) {
														(
															c.default ||
															function (e, t) {
																return (
																	(e.__proto__ =
																		t),
																	e
																);
															}
														)(e, t);
													})(e, t);
										}
										var m = i(3),
											v = i(19),
											g = i(170),
											_ =
												i(
													44
												).multiPolygonIntersectsBufferedMultiLine,
											b = i(47),
											w = b.getMaximumPaintValue,
											C = b.translateDistance,
											T = b.translate,
											P = i(173),
											E = i(0).extend,
											S = i(61),
											A = i(4),
											M =
												(A.Transitionable,
												A.Transitioning,
												A.Layout,
												A.PossiblyEvaluated,
												A.DataDrivenProperty),
											I = new ((function (e) {
												function t() {
													return (
														s(this, t),
														h(
															this,
															d(t).apply(
																this,
																arguments
															)
														)
													);
												}
												return (
													y(t, M),
													f(t, [
														{
															key: "possiblyEvaluate",
															value: function (
																e,
																n
															) {
																return (
																	(n = new S(
																		Math.floor(
																			n.zoom
																		),
																		{
																			now: n.now,
																			fadeDuration:
																				n.fadeDuration,
																			zoomHistory:
																				n.zoomHistory,
																			transition:
																				n.transition,
																		}
																	)),
																	p(
																		d(
																			t.prototype
																		),
																		"possiblyEvaluate",
																		this
																	).call(
																		this,
																		e,
																		n
																	)
																);
															},
														},
														{
															key: "evaluate",
															value: function (
																e,
																n,
																r
															) {
																return (
																	(n = E(
																		{},
																		n,
																		{
																			zoom: Math.floor(
																				n.zoom
																			),
																		}
																	)),
																	p(
																		d(
																			t.prototype
																		),
																		"evaluate",
																		this
																	).call(
																		this,
																		e,
																		n,
																		r
																	)
																);
															},
														},
													]),
													t
												);
											})())(
												P.paint.properties[
													"line-width"
												].specification
											);
										I.useIntegerZoom = !0;
										var L = (function (e) {
											function t(e) {
												return (
													s(this, t),
													h(
														this,
														d(t).call(this, e, P)
													)
												);
											}
											return (
												y(t, v),
												f(t, [
													{
														key: "recalculate",
														value: function (e) {
															p(
																d(t.prototype),
																"recalculate",
																this
															).call(this, e),
																(this.paint._values[
																	"line-floorwidth"
																] = I.possiblyEvaluate(
																	this
																		._transitioningPaint
																		._values[
																		"line-width"
																	].value,
																	e
																));
														},
													},
													{
														key: "createBucket",
														value: function (e) {
															return new g(e);
														},
													},
													{
														key: "queryRadius",
														value: function (e) {
															var t = e,
																n = D(
																	w(
																		"line-width",
																		this,
																		t
																	),
																	w(
																		"line-gap-width",
																		this,
																		t
																	)
																),
																r = w(
																	"line-offset",
																	this,
																	t
																);
															return (
																n / 2 +
																Math.abs(r) +
																C(
																	this.paint.get(
																		"line-translate"
																	)
																)
															);
														},
													},
													{
														key: "queryIntersectsFeature",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o
														) {
															var a = T(
																	e,
																	this.paint.get(
																		"line-translate"
																	),
																	this.paint.get(
																		"line-translate-anchor"
																	),
																	i,
																	o
																),
																s =
																	(o / 2) *
																	D(
																		this.paint
																			.get(
																				"line-width"
																			)
																			.evaluate(
																				t
																			),
																		this.paint
																			.get(
																				"line-gap-width"
																			)
																			.evaluate(
																				t
																			)
																	),
																l = this.paint
																	.get(
																		"line-offset"
																	)
																	.evaluate(
																		t
																	);
															return (
																l &&
																	(n =
																		(function (
																			e,
																			t
																		) {
																			for (
																				var n =
																						[],
																					r =
																						new m(
																							0,
																							0
																						),
																					i = 0;
																				i <
																				e.length;
																				i++
																			) {
																				for (
																					var o =
																							e[
																								i
																							],
																						a =
																							[],
																						s = 0;
																					s <
																					o.length;
																					s++
																				) {
																					var l =
																							o[
																								s -
																									1
																							],
																						u =
																							o[
																								s
																							],
																						c =
																							o[
																								s +
																									1
																							],
																						f =
																							0 ===
																							s
																								? r
																								: u
																										.sub(
																											l
																										)
																										._unit()
																										._perp(),
																						h =
																							s ===
																							o.length -
																								1
																								? r
																								: c
																										.sub(
																											u
																										)
																										._unit()
																										._perp(),
																						p =
																							f
																								._add(
																									h
																								)
																								._unit(),
																						d =
																							p.x *
																								h.x +
																							p.y *
																								h.y;
																					p._mult(
																						1 /
																							d
																					),
																						a.push(
																							p
																								._mult(
																									t
																								)
																								._add(
																									u
																								)
																						);
																				}
																				n.push(
																					a
																				);
																			}
																			return n;
																		})(
																			n,
																			l *
																				o
																		)),
																_(a, n, s)
															);
														},
													},
												]),
												t
											);
										})();
										function D(e, t) {
											return t > 0 ? t + 2 * e : e;
										}
										e.exports = L;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(14).LineLayoutArray,
											a = n(171).members,
											s = n(36).SegmentVector,
											l = n(32).ProgramConfigurationSet,
											u = n(37).TriangleIndexArray,
											c = n(38),
											f = n(6),
											h = n(48).VectorTileFeature.types,
											p = n(11).register,
											d = Math.cos(
												(Math.PI / 180) * 37.5
											),
											y = Math.pow(2, 14) / 0.5;
										function m(e, t, n, r, i, o, a) {
											e.emplaceBack(
												t.x,
												t.y,
												r ? 1 : 0,
												i ? 1 : -1,
												Math.round(63 * n.x) + 128,
												Math.round(63 * n.y) + 128,
												(1 +
													(0 === o
														? 0
														: o < 0
														? -1
														: 1)) |
													(((0.5 * a) & 63) << 2),
												(0.5 * a) >> 6
											);
										}
										var v = (function () {
											function e(t) {
												!(function (e, t) {
													if (!(e instanceof t))
														throw new TypeError(
															"Cannot call a class as a function"
														);
												})(this, e),
													(this.zoom = t.zoom),
													(this.overscaling =
														t.overscaling),
													(this.layers = t.layers),
													(this.layerIds =
														this.layers.map(
															function (e) {
																return e.id;
															}
														)),
													(this.index = t.index),
													(this.layoutVertexArray =
														new i()),
													(this.indexArray = new u()),
													(this.programConfigurations =
														new l(
															a,
															t.layers,
															t.zoom
														)),
													(this.segments = new s());
											}
											var t, n;
											return (
												(t = e),
												(n = [
													{
														key: "populate",
														value: function (e, t) {
															var n = !0,
																r = !1,
																i = void 0;
															try {
																for (
																	var a,
																		s = (0,
																		o.default)(
																			e
																		);
																	!(n = (a =
																		s.next())
																		.done);
																	n = !0
																) {
																	var l =
																			a.value,
																		u =
																			l.feature,
																		f =
																			l.index,
																		h =
																			l.sourceLayerIndex;
																	if (
																		this.layers[0]._featureFilter(
																			{
																				zoom: this
																					.zoom,
																			},
																			u
																		)
																	) {
																		var p =
																			c(
																				u
																			);
																		this.addFeature(
																			u,
																			p
																		),
																			t.featureIndex.insert(
																				u,
																				p,
																				f,
																				h,
																				this
																					.index
																			);
																	}
																}
															} catch (e) {
																(r = !0),
																	(i = e);
															} finally {
																try {
																	n ||
																		null ==
																			s.return ||
																		s.return();
																} finally {
																	if (r)
																		throw i;
																}
															}
														},
													},
													{
														key: "isEmpty",
														value: function () {
															return (
																0 ===
																this
																	.layoutVertexArray
																	.length
															);
														},
													},
													{
														key: "upload",
														value: function (e) {
															(this.layoutVertexBuffer =
																e.createVertexBuffer(
																	this
																		.layoutVertexArray,
																	a
																)),
																(this.indexBuffer =
																	e.createIndexBuffer(
																		this
																			.indexArray
																	)),
																this.programConfigurations.upload(
																	e
																);
														},
													},
													{
														key: "destroy",
														value: function () {
															this
																.layoutVertexBuffer &&
																(this.layoutVertexBuffer.destroy(),
																this.indexBuffer.destroy(),
																this.programConfigurations.destroy(),
																this.segments.destroy());
														},
													},
													{
														key: "addFeature",
														value: function (e, t) {
															var n =
																	this
																		.layers[0]
																		.layout,
																r = n
																	.get(
																		"line-join"
																	)
																	.evaluate(
																		e
																	),
																i =
																	n.get(
																		"line-cap"
																	),
																a =
																	n.get(
																		"line-miter-limit"
																	),
																s =
																	n.get(
																		"line-round-limit"
																	),
																l = !0,
																u = !1,
																c = void 0;
															try {
																for (
																	var f,
																		h = (0,
																		o.default)(
																			t
																		);
																	!(l = (f =
																		h.next())
																		.done);
																	l = !0
																) {
																	var p =
																		f.value;
																	this.addLine(
																		p,
																		e,
																		r,
																		i,
																		a,
																		s
																	);
																}
															} catch (e) {
																(u = !0),
																	(c = e);
															} finally {
																try {
																	l ||
																		null ==
																			h.return ||
																		h.return();
																} finally {
																	if (u)
																		throw c;
																}
															}
														},
													},
													{
														key: "addLine",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o
														) {
															for (
																var a =
																		"Polygon" ===
																		h[
																			t
																				.type
																		],
																	s =
																		e.length;
																s >= 2 &&
																e[s - 1].equals(
																	e[s - 2]
																);

															)
																s--;
															for (
																var l = 0;
																l < s - 1 &&
																e[l].equals(
																	e[l + 1]
																);

															)
																l++;
															if (
																!(
																	s <
																	(a ? 3 : 2)
																)
															) {
																"bevel" === n &&
																	(i = 1.05);
																var u =
																		(f /
																			(512 *
																				this
																					.overscaling)) *
																		15,
																	c = e[l],
																	p =
																		this.segments.prepareSegment(
																			10 *
																				s,
																			this
																				.layoutVertexArray,
																			this
																				.indexArray
																		);
																this.distance = 0;
																var y,
																	m,
																	v,
																	g = r,
																	_ = a
																		? "butt"
																		: r,
																	b = !0,
																	x = void 0,
																	w = void 0,
																	C = void 0,
																	T = void 0;
																(this.e1 =
																	this.e2 =
																	this.e3 =
																		-1),
																	a &&
																		((y =
																			e[
																				s -
																					2
																			]),
																		(T = c
																			.sub(
																				y
																			)
																			._unit()
																			._perp()));
																for (
																	var k = l;
																	k < s;
																	k++
																)
																	if (
																		!(w =
																			a &&
																			k ===
																				s -
																					1
																				? e[
																						l +
																							1
																				  ]
																				: e[
																						k +
																							1
																				  ]) ||
																		!e[
																			k
																		].equals(
																			w
																		)
																	) {
																		T &&
																			(C =
																				T),
																			y &&
																				(x =
																					y),
																			(y =
																				e[
																					k
																				]),
																			(T =
																				w
																					? w
																							.sub(
																								y
																							)
																							._unit()
																							._perp()
																					: C);
																		var P =
																			(C =
																				C ||
																				T).add(
																				T
																			);
																		(0 ===
																			P.x &&
																			0 ===
																				P.y) ||
																			P._unit();
																		var E =
																				P.x *
																					T.x +
																				P.y *
																					T.y,
																			S =
																				0 !==
																				E
																					? 1 /
																					  E
																					: 1 /
																					  0,
																			A =
																				E <
																					d &&
																				x &&
																				w;
																		if (
																			A &&
																			k >
																				l
																		) {
																			var M =
																				y.dist(
																					x
																				);
																			if (
																				M >
																				2 *
																					u
																			) {
																				var I =
																					y.sub(
																						y
																							.sub(
																								x
																							)
																							._mult(
																								u /
																									M
																							)
																							._round()
																					);
																				(this.distance +=
																					I.dist(
																						x
																					)),
																					this.addCurrentVertex(
																						I,
																						this
																							.distance,
																						C.mult(
																							1
																						),
																						0,
																						0,
																						!1,
																						p
																					),
																					(x =
																						I);
																			}
																		}
																		var L =
																				x &&
																				w,
																			D =
																				L
																					? n
																					: w
																					? g
																					: _;
																		if (
																			(L &&
																				"round" ===
																					D &&
																				(S <
																				o
																					? (D =
																							"miter")
																					: S <=
																							2 &&
																					  (D =
																							"fakeround")),
																			"miter" ===
																				D &&
																				S >
																					i &&
																				(D =
																					"bevel"),
																			"bevel" ===
																				D &&
																				(S >
																					2 &&
																					(D =
																						"flipbevel"),
																				S <
																					i &&
																					(D =
																						"miter")),
																			x &&
																				(this.distance +=
																					y.dist(
																						x
																					)),
																			"miter" ===
																				D)
																		)
																			P._mult(
																				S
																			),
																				this.addCurrentVertex(
																					y,
																					this
																						.distance,
																					P,
																					0,
																					0,
																					!1,
																					p
																				);
																		else if (
																			"flipbevel" ===
																			D
																		) {
																			if (
																				S >
																				100
																			)
																				P =
																					T.clone().mult(
																						-1
																					);
																			else {
																				var O =
																						C.x *
																							T.y -
																							C.y *
																								T.x >
																						0
																							? -1
																							: 1,
																					z =
																						(S *
																							C.add(
																								T
																							).mag()) /
																						C.sub(
																							T
																						).mag();
																				P._perp()._mult(
																					z *
																						O
																				);
																			}
																			this.addCurrentVertex(
																				y,
																				this
																					.distance,
																				P,
																				0,
																				0,
																				!1,
																				p
																			),
																				this.addCurrentVertex(
																					y,
																					this
																						.distance,
																					P.mult(
																						-1
																					),
																					0,
																					0,
																					!1,
																					p
																				);
																		} else if (
																			"bevel" ===
																				D ||
																			"fakeround" ===
																				D
																		) {
																			var R =
																					C.x *
																						T.y -
																						C.y *
																							T.x >
																					0,
																				B =
																					-Math.sqrt(
																						S *
																							S -
																							1
																					);
																			if (
																				(R
																					? ((v = 0),
																					  (m =
																							B))
																					: ((m = 0),
																					  (v =
																							B)),
																				b ||
																					this.addCurrentVertex(
																						y,
																						this
																							.distance,
																						C,
																						m,
																						v,
																						!1,
																						p
																					),
																				"fakeround" ===
																					D)
																			) {
																				for (
																					var j =
																							Math.floor(
																								8 *
																									(0.5 -
																										(E -
																											0.5))
																							),
																						F =
																							void 0,
																						N = 0;
																					N <
																					j;
																					N++
																				)
																					(F =
																						T.mult(
																							(N +
																								1) /
																								(j +
																									1)
																						)
																							._add(
																								C
																							)
																							._unit()),
																						this.addPieSliceVertex(
																							y,
																							this
																								.distance,
																							F,
																							R,
																							p
																						);
																				this.addPieSliceVertex(
																					y,
																					this
																						.distance,
																					P,
																					R,
																					p
																				);
																				for (
																					var V =
																						j -
																						1;
																					V >=
																					0;
																					V--
																				)
																					(F =
																						C.mult(
																							(V +
																								1) /
																								(j +
																									1)
																						)
																							._add(
																								T
																							)
																							._unit()),
																						this.addPieSliceVertex(
																							y,
																							this
																								.distance,
																							F,
																							R,
																							p
																						);
																			}
																			w &&
																				this.addCurrentVertex(
																					y,
																					this
																						.distance,
																					T,
																					-m,
																					-v,
																					!1,
																					p
																				);
																		} else
																			"butt" ===
																			D
																				? (b ||
																						this.addCurrentVertex(
																							y,
																							this
																								.distance,
																							C,
																							0,
																							0,
																							!1,
																							p
																						),
																				  w &&
																						this.addCurrentVertex(
																							y,
																							this
																								.distance,
																							T,
																							0,
																							0,
																							!1,
																							p
																						))
																				: "square" ===
																				  D
																				? (b ||
																						(this.addCurrentVertex(
																							y,
																							this
																								.distance,
																							C,
																							1,
																							1,
																							!1,
																							p
																						),
																						(this.e1 =
																							this.e2 =
																								-1)),
																				  w &&
																						this.addCurrentVertex(
																							y,
																							this
																								.distance,
																							T,
																							-1,
																							-1,
																							!1,
																							p
																						))
																				: "round" ===
																						D &&
																				  (b ||
																						(this.addCurrentVertex(
																							y,
																							this
																								.distance,
																							C,
																							0,
																							0,
																							!1,
																							p
																						),
																						this.addCurrentVertex(
																							y,
																							this
																								.distance,
																							C,
																							1,
																							1,
																							!0,
																							p
																						),
																						(this.e1 =
																							this.e2 =
																								-1)),
																				  w &&
																						(this.addCurrentVertex(
																							y,
																							this
																								.distance,
																							T,
																							-1,
																							-1,
																							!0,
																							p
																						),
																						this.addCurrentVertex(
																							y,
																							this
																								.distance,
																							T,
																							0,
																							0,
																							!1,
																							p
																						)));
																		if (
																			A &&
																			k <
																				s -
																					1
																		) {
																			var U =
																				y.dist(
																					w
																				);
																			if (
																				U >
																				2 *
																					u
																			) {
																				var H =
																					y.add(
																						w
																							.sub(
																								y
																							)
																							._mult(
																								u /
																									U
																							)
																							._round()
																					);
																				(this.distance +=
																					H.dist(
																						y
																					)),
																					this.addCurrentVertex(
																						H,
																						this
																							.distance,
																						T.mult(
																							1
																						),
																						0,
																						0,
																						!1,
																						p
																					),
																					(y =
																						H);
																			}
																		}
																		b = !1;
																	}
																this.programConfigurations.populatePaintArrays(
																	this
																		.layoutVertexArray
																		.length,
																	t
																);
															}
														},
													},
													{
														key: "addCurrentVertex",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o,
															a
														) {
															var s,
																l =
																	this
																		.layoutVertexArray,
																u =
																	this
																		.indexArray;
															(s = n.clone()),
																r &&
																	s._sub(
																		n
																			.perp()
																			._mult(
																				r
																			)
																	),
																m(
																	l,
																	e,
																	s,
																	o,
																	!1,
																	r,
																	t
																),
																(this.e3 =
																	a.vertexLength++),
																this.e1 >= 0 &&
																	this.e2 >=
																		0 &&
																	(u.emplaceBack(
																		this.e1,
																		this.e2,
																		this.e3
																	),
																	a.primitiveLength++),
																(this.e1 =
																	this.e2),
																(this.e2 =
																	this.e3),
																(s =
																	n.mult(-1)),
																i &&
																	s._sub(
																		n
																			.perp()
																			._mult(
																				i
																			)
																	),
																m(
																	l,
																	e,
																	s,
																	o,
																	!0,
																	-i,
																	t
																),
																(this.e3 =
																	a.vertexLength++),
																this.e1 >= 0 &&
																	this.e2 >=
																		0 &&
																	(u.emplaceBack(
																		this.e1,
																		this.e2,
																		this.e3
																	),
																	a.primitiveLength++),
																(this.e1 =
																	this.e2),
																(this.e2 =
																	this.e3),
																t > y / 2 &&
																	((this.distance = 0),
																	this.addCurrentVertex(
																		e,
																		this
																			.distance,
																		n,
																		r,
																		i,
																		o,
																		a
																	));
														},
													},
													{
														key: "addPieSliceVertex",
														value: function (
															e,
															t,
															n,
															r,
															i
														) {
															n = n.mult(
																r ? -1 : 1
															);
															var o =
																	this
																		.layoutVertexArray,
																a =
																	this
																		.indexArray;
															m(
																o,
																e,
																n,
																!1,
																r,
																0,
																t
															),
																(this.e3 =
																	i.vertexLength++),
																this.e1 >= 0 &&
																	this.e2 >=
																		0 &&
																	(a.emplaceBack(
																		this.e1,
																		this.e2,
																		this.e3
																	),
																	i.primitiveLength++),
																r
																	? (this.e2 =
																			this.e3)
																	: (this.e1 =
																			this.e3);
														},
													},
												]) && r(t.prototype, n),
												e
											);
										})();
										p("LineBucket", v, {
											omit: ["layers"],
										}),
											(e.exports = v);
									},
									function (e, t, n) {
										var r = n(23).createLayout;
										e.exports = r(
											[
												{
													name: "a_pos_normal",
													components: 4,
													type: "Int16",
												},
												{
													name: "a_data",
													components: 4,
													type: "Uint8",
												},
											],
											4
										);
									},
									function (e, t, n) {
										var r = n(106);
										function i(e, t, n) {
											if (3 === e) {
												var i = new r(
													n,
													n.readVarint() + n.pos
												);
												i.length && (t[i.name] = i);
											}
										}
										e.exports = function (e, t) {
											this.layers = e.readFields(
												i,
												{},
												t
											);
										};
									},
									function (e, t, n) {
										var r = n(13),
											i = n(4),
											o = i.Properties,
											a = i.DataConstantProperty,
											s = i.DataDrivenProperty,
											l = i.CrossFadedProperty,
											u =
												(i.HeatmapColorProperty,
												new o({
													"line-cap": new a(
														r.layout_line[
															"line-cap"
														]
													),
													"line-join": new s(
														r.layout_line[
															"line-join"
														]
													),
													"line-miter-limit": new a(
														r.layout_line[
															"line-miter-limit"
														]
													),
													"line-round-limit": new a(
														r.layout_line[
															"line-round-limit"
														]
													),
												})),
											c = new o({
												"line-opacity": new s(
													r.paint_line["line-opacity"]
												),
												"line-color": new s(
													r.paint_line["line-color"]
												),
												"line-translate": new a(
													r.paint_line[
														"line-translate"
													]
												),
												"line-translate-anchor": new a(
													r.paint_line[
														"line-translate-anchor"
													]
												),
												"line-width": new s(
													r.paint_line["line-width"]
												),
												"line-gap-width": new s(
													r.paint_line[
														"line-gap-width"
													]
												),
												"line-offset": new s(
													r.paint_line["line-offset"]
												),
												"line-blur": new s(
													r.paint_line["line-blur"]
												),
												"line-dasharray": new l(
													r.paint_line[
														"line-dasharray"
													]
												),
												"line-pattern": new l(
													r.paint_line["line-pattern"]
												),
											});
										e.exports = { paint: c, layout: u };
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function u(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function f(e, t, n) {
											return (f =
												"undefined" != typeof Reflect &&
												k.default
													? k.default
													: function (e, t, n) {
															var r = (function (
																e,
																t
															) {
																for (
																	;
																	!Object.prototype.hasOwnProperty.call(
																		e,
																		t
																	) &&
																	null !==
																		(e =
																			h(
																				e
																			));

																);
																return e;
															})(e, t);
															if (r) {
																var i = (0,
																x.default)(
																	r,
																	t
																);
																return i.get
																	? i.get.call(
																			n
																	  )
																	: i.value;
															}
													  })(e, t, n || e);
										}
										function h(e) {
											return (h = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function p(e, t) {
											return (p =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var d = i(19),
											y = i(62),
											m = i(179),
											v = i(30).isExpression,
											g = i(1),
											_ = i(51),
											b = i(4),
											w =
												(b.Transitionable,
												b.Transitioning,
												b.Layout,
												b.PossiblyEvaluated,
												(function (e) {
													function t(e) {
														return (
															(function (e, t) {
																if (
																	!(
																		e instanceof
																		t
																	)
																)
																	throw new TypeError(
																		"Cannot call a class as a function"
																	);
															})(this, t),
															u(
																this,
																h(t).call(
																	this,
																	e,
																	_
																)
															)
														);
													}
													var n, r;
													return (
														(function (e, t) {
															if (
																"function" !=
																	typeof t &&
																null !== t
															)
																throw new TypeError(
																	"Super expression must either be null or a function"
																);
															(e.prototype =
																Object.create(
																	t &&
																		t.prototype,
																	{
																		constructor:
																			{
																				value: e,
																				writable:
																					!0,
																				configurable:
																					!0,
																			},
																	}
																)),
																t && p(e, t);
														})(t, d),
														(n = t),
														(r = [
															{
																key: "recalculate",
																value: function (
																	e
																) {
																	f(
																		h(
																			t.prototype
																		),
																		"recalculate",
																		this
																	).call(
																		this,
																		e
																	),
																		"auto" ===
																			this.layout.get(
																				"icon-rotation-alignment"
																			) &&
																			("line" ===
																			this.layout.get(
																				"symbol-placement"
																			)
																				? (this.layout._values[
																						"icon-rotation-alignment"
																				  ] =
																						"map")
																				: (this.layout._values[
																						"icon-rotation-alignment"
																				  ] =
																						"viewport")),
																		"auto" ===
																			this.layout.get(
																				"text-rotation-alignment"
																			) &&
																			("line" ===
																			this.layout.get(
																				"symbol-placement"
																			)
																				? (this.layout._values[
																						"text-rotation-alignment"
																				  ] =
																						"map")
																				: (this.layout._values[
																						"text-rotation-alignment"
																				  ] =
																						"viewport")),
																		"auto" ===
																			this.layout.get(
																				"text-pitch-alignment"
																			) &&
																			(this.layout._values[
																				"text-pitch-alignment"
																			] =
																				this.layout.get(
																					"text-rotation-alignment"
																				)),
																		"auto" ===
																			this.layout.get(
																				"icon-pitch-alignment"
																			) &&
																			(this.layout._values[
																				"icon-pitch-alignment"
																			] =
																				this.layout.get(
																					"icon-rotation-alignment"
																				));
																},
															},
															{
																key: "getValueAndResolveTokens",
																value: function (
																	e,
																	t
																) {
																	var n =
																			this.layout
																				.get(
																					e
																				)
																				.evaluate(
																					t
																				),
																		r =
																			this
																				._unevaluatedLayout
																				._values[
																				e
																			];
																	return r.isDataDriven() ||
																		v(
																			r.value
																		)
																		? n
																		: m(
																				t.properties,
																				n
																		  );
																},
															},
															{
																key: "createBucket",
																value: function (
																	e
																) {
																	return new y(
																		e
																	);
																},
															},
															{
																key: "queryRadius",
																value: function () {
																	return 0;
																},
															},
															{
																key: "queryIntersectsFeature",
																value: function () {
																	return (
																		g(!1),
																		!1
																	);
																},
															},
														]) && s(n.prototype, r),
														t
													);
												})());
										e.exports = w;
									},
									function (e, t, n) {
										var r = n(23).createLayout,
											i = {
												symbolLayoutAttributes: r([
													{
														name: "a_pos_offset",
														components: 4,
														type: "Int16",
													},
													{
														name: "a_data",
														components: 4,
														type: "Uint16",
													},
												]),
												dynamicLayoutAttributes: r(
													[
														{
															name: "a_projected_pos",
															components: 3,
															type: "Float32",
														},
													],
													4
												),
												placementOpacityAttributes: r(
													[
														{
															name: "a_fade_opacity",
															components: 1,
															type: "Uint32",
														},
													],
													4
												),
												collisionVertexAttributes: r(
													[
														{
															name: "a_placed",
															components: 2,
															type: "Uint8",
														},
													],
													4
												),
												collisionBox: r([
													{
														type: "Int16",
														name: "anchorPointX",
													},
													{
														type: "Int16",
														name: "anchorPointY",
													},
													{
														type: "Int16",
														name: "x1",
													},
													{
														type: "Int16",
														name: "y1",
													},
													{
														type: "Int16",
														name: "x2",
													},
													{
														type: "Int16",
														name: "y2",
													},
													{
														type: "Uint32",
														name: "featureIndex",
													},
													{
														type: "Uint16",
														name: "sourceLayerIndex",
													},
													{
														type: "Uint16",
														name: "bucketIndex",
													},
													{
														type: "Int16",
														name: "radius",
													},
													{
														type: "Int16",
														name: "signedDistanceFromAnchor",
													},
												]),
												collisionBoxLayout: r(
													[
														{
															name: "a_pos",
															components: 2,
															type: "Int16",
														},
														{
															name: "a_anchor_pos",
															components: 2,
															type: "Int16",
														},
														{
															name: "a_extrude",
															components: 2,
															type: "Int16",
														},
													],
													4
												),
												collisionCircleLayout: r(
													[
														{
															name: "a_pos",
															components: 2,
															type: "Int16",
														},
														{
															name: "a_anchor_pos",
															components: 2,
															type: "Int16",
														},
														{
															name: "a_extrude",
															components: 2,
															type: "Int16",
														},
													],
													4
												),
												placement: r([
													{
														type: "Int16",
														name: "anchorX",
													},
													{
														type: "Int16",
														name: "anchorY",
													},
													{
														type: "Uint16",
														name: "glyphStartIndex",
													},
													{
														type: "Uint16",
														name: "numGlyphs",
													},
													{
														type: "Uint32",
														name: "vertexStartIndex",
													},
													{
														type: "Uint32",
														name: "lineStartIndex",
													},
													{
														type: "Uint32",
														name: "lineLength",
													},
													{
														type: "Uint16",
														name: "segment",
													},
													{
														type: "Uint16",
														name: "lowerSize",
													},
													{
														type: "Uint16",
														name: "upperSize",
													},
													{
														type: "Float32",
														name: "lineOffsetX",
													},
													{
														type: "Float32",
														name: "lineOffsetY",
													},
													{
														type: "Uint8",
														name: "writingMode",
													},
													{
														type: "Uint8",
														name: "hidden",
													},
												]),
												glyphOffset: r([
													{
														type: "Float32",
														name: "offsetX",
													},
												]),
												lineVertex: r([
													{
														type: "Int16",
														name: "x",
													},
													{
														type: "Int16",
														name: "y",
													},
													{
														type: "Int16",
														name: "tileUnitDistanceFromAnchor",
													},
												]),
											};
										e.exports = i;
									},
									function (e, t, n) {
										var r = n(49);
										e.exports = function (e, t, n) {
											var i = t.layout
												.get("text-transform")
												.evaluate(n);
											return (
												"uppercase" === i
													? (e =
															e.toLocaleUpperCase())
													: "lowercase" === i &&
													  (e =
															e.toLocaleLowerCase()),
												r.applyArabicShaping &&
													(e =
														r.applyArabicShaping(
															e
														)),
												e
											);
										};
									},
									function (e, t) {
										e.exports = function (e) {
											var t = {},
												n = {},
												r = [],
												i = 0;
											function o(t) {
												r.push(e[t]), i++;
											}
											function a(e, t, i) {
												var o = n[e];
												return (
													delete n[e],
													(n[t] = o),
													r[o].geometry[0].pop(),
													(r[o].geometry[0] = r[
														o
													].geometry[0].concat(i[0])),
													o
												);
											}
											function s(e, n, i) {
												var o = t[n];
												return (
													delete t[n],
													(t[e] = o),
													r[o].geometry[0].shift(),
													(r[o].geometry[0] =
														i[0].concat(
															r[o].geometry[0]
														)),
													o
												);
											}
											function l(e, t, n) {
												var r = n
													? t[0][t[0].length - 1]
													: t[0][0];
												return ""
													.concat(e, ":")
													.concat(r.x, ":")
													.concat(r.y);
											}
											for (var u = 0; u < e.length; u++) {
												var c = e[u],
													f = c.geometry,
													h = c.text;
												if (h) {
													var p = l(h, f),
														d = l(h, f, !0);
													if (
														p in n &&
														d in t &&
														n[p] !== t[d]
													) {
														var y = s(p, d, f),
															m = a(
																p,
																d,
																r[y].geometry
															);
														delete t[p],
															delete n[d],
															(n[
																l(
																	h,
																	r[m]
																		.geometry,
																	!0
																)
															] = m),
															(r[y].geometry =
																null);
													} else
														p in n
															? a(p, d, f)
															: d in t
															? s(p, d, f)
															: (o(u),
															  (t[p] = i - 1),
															  (n[d] = i - 1));
												} else o(u);
											}
											return r.filter(function (e) {
												return e.geometry;
											});
										};
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function u(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function f(e) {
											return (f = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function h(e, t) {
											return (h =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var p = i(3),
											d = i(11).register,
											y = (function (e) {
												function t(e, n, r, i) {
													var o;
													return (
														(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((o = u(
															this,
															f(t).call(
																this,
																e,
																n
															)
														)).angle = r),
														void 0 !== i &&
															(o.segment = i),
														o
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && h(e, t);
													})(t, p),
													(n = t),
													(r = [
														{
															key: "clone",
															value: function () {
																return new t(
																	this.x,
																	this.y,
																	this.angle,
																	this.segment
																);
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										d("Anchor", y), (e.exports = y);
									},
									function (e, t) {
										e.exports = function (e, t) {
											return t
												.replace(
													/{([^{}]+)}/g,
													function (t, n) {
														return n in e
															? String(e[n])
															: "";
													}
												)
												.replace(
													/FORMAT_NUMBER\(([^\)]+)\)/g,
													function (e, t) {
														return (function (e) {
															e = e.split(",");
															var t = (0,
															T.default)(e[0]);
															return (
																e[2] &&
																	(t *= (0,
																	T.default)(
																		e[2]
																	)),
																t < 1e3
																	? Math.round(
																			t
																	  )
																	: t < 1e5
																	? (
																			t /
																			1e3
																	  ).toFixed(
																			1
																	  ) + "K"
																	: t < 1e6
																	? Math.round(
																			t /
																				1e3
																	  ) + "K"
																	: t < 1e9
																	? (
																			t /
																			1e6
																	  ).toFixed(
																			2
																	  ) + "M"
																	: t < 1e12
																	? (t =
																			Math.round(
																				t /
																					1e6
																			).toFixed(
																				0
																			)).slice(
																			0,
																			-3
																	  ) +
																	  "," +
																	  t.slice(
																			-4,
																			-1
																	  ) +
																	  "M"
																	: "HUGE_NUM"
															);
														})(t);
													}
												);
										};
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e) {
											return (s = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function u(e, t) {
											return (u =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var f = i(19),
											h = i(181),
											p = i(4),
											d =
												(p.Transitionable,
												p.Transitioning,
												p.PossiblyEvaluated,
												(function (e) {
													function t(e) {
														return (
															(function (e, t) {
																if (
																	!(
																		e instanceof
																		t
																	)
																)
																	throw new TypeError(
																		"Cannot call a class as a function"
																	);
															})(this, t),
															(function (e, t) {
																return !t ||
																	("object" !==
																		o(t) &&
																		"function" !=
																			typeof t)
																	? (function (
																			e
																	  ) {
																			if (
																				void 0 ===
																				e
																			)
																				throw new ReferenceError(
																					"this hasn't been initialised - super() hasn't been called"
																				);
																			return e;
																	  })(e)
																	: t;
															})(
																this,
																s(t).call(
																	this,
																	e,
																	h
																)
															)
														);
													}
													return (
														(function (e, t) {
															if (
																"function" !=
																	typeof t &&
																null !== t
															)
																throw new TypeError(
																	"Super expression must either be null or a function"
																);
															(e.prototype =
																Object.create(
																	t &&
																		t.prototype,
																	{
																		constructor:
																			{
																				value: e,
																				writable:
																					!0,
																				configurable:
																					!0,
																			},
																	}
																)),
																t && u(e, t);
														})(t, f),
														t
													);
												})());
										e.exports = d;
									},
									function (e, t, n) {
										var r = n(13),
											i = n(4),
											o = i.Properties,
											a = i.DataConstantProperty,
											s =
												(i.DataDrivenProperty,
												i.CrossFadedProperty),
											l =
												(i.HeatmapColorProperty,
												new o({
													"background-color": new a(
														r.paint_background[
															"background-color"
														]
													),
													"background-pattern": new s(
														r.paint_background[
															"background-pattern"
														]
													),
													"background-opacity": new a(
														r.paint_background[
															"background-opacity"
														]
													),
												}));
										e.exports = { paint: l };
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e) {
											return (s = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function u(e, t) {
											return (u =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var f = i(19),
											h = i(183),
											p = i(4),
											d =
												(p.Transitionable,
												p.Transitioning,
												p.PossiblyEvaluated,
												(function (e) {
													function t(e) {
														return (
															(function (e, t) {
																if (
																	!(
																		e instanceof
																		t
																	)
																)
																	throw new TypeError(
																		"Cannot call a class as a function"
																	);
															})(this, t),
															(function (e, t) {
																return !t ||
																	("object" !==
																		o(t) &&
																		"function" !=
																			typeof t)
																	? (function (
																			e
																	  ) {
																			if (
																				void 0 ===
																				e
																			)
																				throw new ReferenceError(
																					"this hasn't been initialised - super() hasn't been called"
																				);
																			return e;
																	  })(e)
																	: t;
															})(
																this,
																s(t).call(
																	this,
																	e,
																	h
																)
															)
														);
													}
													return (
														(function (e, t) {
															if (
																"function" !=
																	typeof t &&
																null !== t
															)
																throw new TypeError(
																	"Super expression must either be null or a function"
																);
															(e.prototype =
																Object.create(
																	t &&
																		t.prototype,
																	{
																		constructor:
																			{
																				value: e,
																				writable:
																					!0,
																				configurable:
																					!0,
																			},
																	}
																)),
																t && u(e, t);
														})(t, f),
														t
													);
												})());
										e.exports = d;
									},
									function (e, t, n) {
										var r = n(13),
											i = n(4),
											o = i.Properties,
											a = i.DataConstantProperty,
											s =
												(i.DataDrivenProperty,
												i.CrossFadedProperty,
												i.HeatmapColorProperty,
												new o({
													"raster-opacity": new a(
														r.paint_raster[
															"raster-opacity"
														]
													),
													"raster-hue-rotate": new a(
														r.paint_raster[
															"raster-hue-rotate"
														]
													),
													"raster-brightness-min":
														new a(
															r.paint_raster[
																"raster-brightness-min"
															]
														),
													"raster-brightness-max":
														new a(
															r.paint_raster[
																"raster-brightness-max"
															]
														),
													"raster-saturation": new a(
														r.paint_raster[
															"raster-saturation"
														]
													),
													"raster-contrast": new a(
														r.paint_raster[
															"raster-contrast"
														]
													),
													"raster-fade-duration":
														new a(
															r.paint_raster[
																"raster-fade-duration"
															]
														),
												}));
										e.exports = { paint: s };
									},
									function (e, t, n) {
										var r = n(16),
											i = n(2),
											o = n(34).normalizeSpriteURL,
											a = n(33).RGBAImage;
										e.exports = function (e, t, n) {
											var s,
												l,
												u,
												c =
													i.devicePixelRatio > 1
														? "@2x"
														: "";
											function f() {
												if (u) n(u);
												else if (s && l) {
													var e = i.getImageData(l),
														t = {};
													for (var r in s) {
														var o = s[r],
															c = o.width,
															f = o.height,
															h = o.x,
															p = o.y,
															d = o.sdf,
															y = o.pixelRatio,
															m = new a({
																width: c,
																height: f,
															});
														a.copy(
															e,
															m,
															{ x: h, y: p },
															{ x: 0, y: 0 },
															{
																width: c,
																height: f,
															}
														),
															(t[r] = {
																data: m,
																pixelRatio: y,
																sdf: d,
															});
													}
													n(null, t);
												}
											}
											r.getJSON(
												t(
													o(e, c, ".json"),
													r.ResourceType.SpriteJSON
												),
												function (e, t) {
													u ||
														((u = e), (s = t), f());
												}
											),
												r.getImage(
													t(
														o(e, c, ".png"),
														r.ResourceType
															.SpriteImage
													),
													function (e, t) {
														u ||
															((u = e),
															(l = t),
															f());
													}
												);
										};
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(111),
											a = n(33).RGBAImage,
											s = n(186).imagePosition,
											l = n(20),
											u = n(1),
											c = (function () {
												function e() {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.images = {}),
														(this.loaded = !1),
														(this.requestors = []),
														(this.shelfPack = new i(
															64,
															64,
															{ autoResize: !0 }
														)),
														(this.patterns = {}),
														(this.atlasImage =
															new a({
																width: 64,
																height: 64,
															})),
														(this.dirty = !0);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "isLoaded",
															value: function () {
																return this
																	.loaded;
															},
														},
														{
															key: "setLoaded",
															value: function (
																e
															) {
																if (
																	this
																		.loaded !==
																		e &&
																	((this.loaded =
																		e),
																	e)
																) {
																	var t = !0,
																		n = !1,
																		r =
																			void 0;
																	try {
																		for (
																			var i,
																				a =
																					(0,
																					o.default)(
																						this
																							.requestors
																					);
																			!(t =
																				(i =
																					a.next())
																					.done);
																			t =
																				!0
																		) {
																			var s =
																					i.value,
																				l =
																					s.ids,
																				u =
																					s.callback;
																			this._notify(
																				l,
																				u
																			);
																		}
																	} catch (e) {
																		(n =
																			!0),
																			(r =
																				e);
																	} finally {
																		try {
																			t ||
																				null ==
																					a.return ||
																				a.return();
																		} finally {
																			if (
																				n
																			)
																				throw r;
																		}
																	}
																	this.requestors =
																		[];
																}
															},
														},
														{
															key: "getImage",
															value: function (
																e
															) {
																return this
																	.images[e];
															},
														},
														{
															key: "addImage",
															value: function (
																e,
																t
															) {
																u(
																	!this
																		.images[
																		e
																	]
																),
																	(this.images[
																		e
																	] = t);
															},
														},
														{
															key: "removeImage",
															value: function (
																e
															) {
																u(
																	this.images[
																		e
																	]
																),
																	delete this
																		.images[
																		e
																	];
																var t =
																	this
																		.patterns[
																		e
																	];
																t &&
																	(this.shelfPack.unref(
																		t.bin
																	),
																	delete this
																		.patterns[
																		e
																	]);
															},
														},
														{
															key: "getImages",
															value: function (
																e,
																t
															) {
																var n = !0;
																if (
																	!this.isLoaded()
																) {
																	var r = !0,
																		i = !1,
																		a =
																			void 0;
																	try {
																		for (
																			var s,
																				l =
																					(0,
																					o.default)(
																						e
																					);
																			!(r =
																				(s =
																					l.next())
																					.done);
																			r =
																				!0
																		) {
																			var u =
																				s.value;
																			this
																				.images[
																				u
																			] ||
																				(n =
																					!1);
																		}
																	} catch (e) {
																		(i =
																			!0),
																			(a =
																				e);
																	} finally {
																		try {
																			r ||
																				null ==
																					l.return ||
																				l.return();
																		} finally {
																			if (
																				i
																			)
																				throw a;
																		}
																	}
																}
																this.isLoaded() ||
																n
																	? this._notify(
																			e,
																			t
																	  )
																	: this.requestors.push(
																			{
																				ids: e,
																				callback:
																					t,
																			}
																	  );
															},
														},
														{
															key: "_notify",
															value: function (
																e,
																t
															) {
																var n = {},
																	r = !0,
																	i = !1,
																	a = void 0;
																try {
																	for (
																		var s,
																			l =
																				(0,
																				o.default)(
																					e
																				);
																		!(r =
																			(s =
																				l.next())
																				.done);
																		r = !0
																	) {
																		var u =
																				s.value,
																			c =
																				this
																					.images[
																					u
																				];
																		c &&
																			(n[
																				u
																			] =
																				{
																					data: c.data.clone(),
																					pixelRatio:
																						c.pixelRatio,
																					sdf: c.sdf,
																				});
																	}
																} catch (e) {
																	(i = !0),
																		(a = e);
																} finally {
																	try {
																		r ||
																			null ==
																				l.return ||
																			l.return();
																	} finally {
																		if (i)
																			throw a;
																	}
																}
																t(null, n);
															},
														},
														{
															key: "getPixelSize",
															value: function () {
																return {
																	width: this
																		.shelfPack
																		.w,
																	height: this
																		.shelfPack
																		.h,
																};
															},
														},
														{
															key: "getPattern",
															value: function (
																e
															) {
																var t =
																	this
																		.patterns[
																		e
																	];
																if (t)
																	return t.position;
																var n =
																	this.getImage(
																		e
																	);
																if (!n)
																	return null;
																var r =
																		n.data
																			.width +
																		2,
																	i =
																		n.data
																			.height +
																		2,
																	o =
																		this.shelfPack.packOne(
																			r,
																			i
																		);
																if (!o)
																	return null;
																this.atlasImage.resize(
																	this.getPixelSize()
																);
																var l = n.data,
																	u =
																		this
																			.atlasImage,
																	c = o.x + 1,
																	f = o.y + 1,
																	h = l.width,
																	p =
																		l.height;
																a.copy(
																	l,
																	u,
																	{
																		x: 0,
																		y: 0,
																	},
																	{
																		x: c,
																		y: f,
																	},
																	{
																		width: h,
																		height: p,
																	}
																),
																	a.copy(
																		l,
																		u,
																		{
																			x: 0,
																			y:
																				p -
																				1,
																		},
																		{
																			x: c,
																			y:
																				f -
																				1,
																		},
																		{
																			width: h,
																			height: 1,
																		}
																	),
																	a.copy(
																		l,
																		u,
																		{
																			x: 0,
																			y: 0,
																		},
																		{
																			x: c,
																			y:
																				f +
																				p,
																		},
																		{
																			width: h,
																			height: 1,
																		}
																	),
																	a.copy(
																		l,
																		u,
																		{
																			x:
																				h -
																				1,
																			y: 0,
																		},
																		{
																			x:
																				c -
																				1,
																			y: f,
																		},
																		{
																			width: 1,
																			height: p,
																		}
																	),
																	a.copy(
																		l,
																		u,
																		{
																			x: 0,
																			y: 0,
																		},
																		{
																			x:
																				c +
																				h,
																			y: f,
																		},
																		{
																			width: 1,
																			height: p,
																		}
																	),
																	(this.dirty =
																		!0);
																var d = s(o, n);
																return (
																	(this.patterns[
																		e
																	] = {
																		bin: o,
																		position:
																			d,
																	}),
																	d
																);
															},
														},
														{
															key: "bind",
															value: function (
																e
															) {
																var t = e.gl;
																this
																	.atlasTexture
																	? this
																			.dirty &&
																	  (this.atlasTexture.update(
																			this
																				.atlasImage
																	  ),
																	  (this.dirty =
																			!1))
																	: (this.atlasTexture =
																			new l(
																				e,
																				this.atlasImage,
																				t.RGBA
																			)),
																	this.atlasTexture.bind(
																		t.LINEAR,
																		t.CLAMP_TO_EDGE
																	);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = c;
									},
									function (e, t, n) {
										var r = n(111),
											i = n(33).RGBAImage;
										function o(e, t) {
											var n = t.pixelRatio,
												r = {
													x: e.x + 1,
													y: e.y + 1,
													w: e.w - 2,
													h: e.h - 2,
												};
											return {
												pixelRatio: n,
												textureRect: r,
												tl: [r.x, r.y],
												br: [r.x + r.w, r.y + r.h],
												displaySize: [r.w / n, r.h / n],
											};
										}
										e.exports = {
											imagePosition: o,
											makeImageAtlas: function (e) {
												var t = new i({
														width: 0,
														height: 0,
													}),
													n = {},
													a = new r(0, 0, {
														autoResize: !0,
													});
												for (var s in e) {
													var l = e[s],
														u = a.packOne(
															l.data.width + 2,
															l.data.height + 2
														);
													t.resize({
														width: a.w,
														height: a.h,
													}),
														i.copy(
															l.data,
															t,
															{ x: 0, y: 0 },
															{
																x: u.x + 1,
																y: u.y + 1,
															},
															l.data
														),
														(n[s] = o(u, l));
												}
												return (
													a.shrink(),
													t.resize({
														width: a.w,
														height: a.h,
													}),
													{ image: t, positions: n }
												);
											},
										};
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(188),
											a = n(191),
											s = n(109),
											l = n(0).asyncAll,
											u = n(33).AlphaImage,
											c = (function () {
												function e(t, n) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.requestTransform =
															t),
														(this.localIdeographFontFamily =
															n),
														(this.entries = {});
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "setURL",
															value: function (
																e
															) {
																this.url = e;
															},
														},
														{
															key: "getGlyphs",
															value: function (
																e,
																t
															) {
																var n = this,
																	r = [];
																for (var a in e) {
																	var s = !0,
																		u = !1,
																		c =
																			void 0;
																	try {
																		for (
																			var f,
																				h =
																					(0,
																					o.default)(
																						e[
																							a
																						]
																					);
																			!(s =
																				(f =
																					h.next())
																					.done);
																			s =
																				!0
																		) {
																			var p =
																				f.value;
																			r.push(
																				{
																					stack: a,
																					id: p,
																				}
																			);
																		}
																	} catch (e) {
																		(u =
																			!0),
																			(c =
																				e);
																	} finally {
																		try {
																			s ||
																				null ==
																					h.return ||
																				h.return();
																		} finally {
																			if (
																				u
																			)
																				throw c;
																		}
																	}
																}
																l(
																	r,
																	function (
																		e,
																		t
																	) {
																		var r =
																				e.stack,
																			a =
																				e.id,
																			s =
																				n
																					.entries[
																					r
																				];
																		s ||
																			(s =
																				n.entries[
																					r
																				] =
																					{
																						glyphs: {},
																						requests:
																							{},
																					});
																		var l =
																			s
																				.glyphs[
																				a
																			];
																		if (
																			void 0 ===
																			l
																		)
																			if (
																				(l =
																					n._tinySDF(
																						s,
																						r,
																						a
																					))
																			)
																				t(
																					null,
																					{
																						stack: r,
																						id: a,
																						glyph: l,
																					}
																				);
																			else {
																				var u =
																					Math.floor(
																						a /
																							256
																					);
																				if (
																					256 *
																						u >
																					65535
																				)
																					t(
																						new Error(
																							"glyphs > 65535 not supported"
																						)
																					);
																				else {
																					var c =
																						s
																							.requests[
																							u
																						];
																					c ||
																						((c =
																							s.requests[
																								u
																							] =
																								[]),
																						i(
																							r,
																							u,
																							n.url,
																							n.requestTransform,
																							function (
																								e,
																								t
																							) {
																								if (
																									t
																								)
																									for (var n in t)
																										s.glyphs[
																											+n
																										] =
																											t[
																												+n
																											];
																								var r =
																										!0,
																									i =
																										!1,
																									a =
																										void 0;
																								try {
																									for (
																										var l,
																											f =
																												(0,
																												o.default)(
																													c
																												);
																										!(r =
																											(l =
																												f.next())
																												.done);
																										r =
																											!0
																									)
																										(0,
																										l.value)(
																											e,
																											t
																										);
																								} catch (e) {
																									(i =
																										!0),
																										(a =
																											e);
																								} finally {
																									try {
																										r ||
																											null ==
																												f.return ||
																											f.return();
																									} finally {
																										if (
																											i
																										)
																											throw a;
																									}
																								}
																								delete s
																									.requests[
																									u
																								];
																							}
																						)),
																						c.push(
																							function (
																								e,
																								n
																							) {
																								e
																									? t(
																											e
																									  )
																									: n &&
																									  t(
																											null,
																											{
																												stack: r,
																												id: a,
																												glyph:
																													n[
																														a
																													] ||
																													null,
																											}
																									  );
																							}
																						);
																				}
																			}
																		else
																			t(
																				null,
																				{
																					stack: r,
																					id: a,
																					glyph: l,
																				}
																			);
																	},
																	function (
																		e,
																		n
																	) {
																		if (e)
																			t(
																				e
																			);
																		else if (
																			n
																		) {
																			var r =
																					{},
																				i =
																					!0,
																				a =
																					!1,
																				s =
																					void 0;
																			try {
																				for (
																					var l,
																						u =
																							(0,
																							o.default)(
																								n
																							);
																					!(i =
																						(l =
																							u.next())
																							.done);
																					i =
																						!0
																				) {
																					var c =
																							l.value,
																						f =
																							c.stack,
																						h =
																							c.id,
																						p =
																							c.glyph;
																					(r[
																						f
																					] ||
																						(r[
																							f
																						] =
																							{}))[
																						h
																					] =
																						p && {
																							id: p.id,
																							bitmap: p.bitmap.clone(),
																							metrics:
																								p.metrics,
																						};
																				}
																			} catch (e) {
																				(a =
																					!0),
																					(s =
																						e);
																			} finally {
																				try {
																					i ||
																						null ==
																							u.return ||
																						u.return();
																				} finally {
																					if (
																						a
																					)
																						throw s;
																				}
																			}
																			t(
																				null,
																				r
																			);
																		}
																	}
																);
															},
														},
														{
															key: "_tinySDF",
															value: function (
																e,
																t,
																n
															) {
																var r =
																	this
																		.localIdeographFontFamily;
																if (
																	r &&
																	(s[
																		"CJK Unified Ideographs"
																	](n) ||
																		s[
																			"Hangul Syllables"
																		](n))
																) {
																	var i =
																		e.tinySDF;
																	if (!i) {
																		var o =
																			"400";
																		/bold/i.test(
																			t
																		)
																			? (o =
																					"900")
																			: /medium/i.test(
																					t
																			  )
																			? (o =
																					"500")
																			: /light/i.test(
																					t
																			  ) &&
																			  (o =
																					"200"),
																			(i =
																				e.tinySDF =
																					new a(
																						24,
																						3,
																						8,
																						0.25,
																						r,
																						o
																					));
																	}
																	return {
																		id: n,
																		bitmap: new u(
																			{
																				width: 30,
																				height: 30,
																			},
																			i.draw(
																				String.fromCharCode(
																					n
																				)
																			)
																		),
																		metrics:
																			{
																				width: 24,
																				height: 24,
																				left: 0,
																				top: -8,
																				advance: 24,
																			},
																	};
																}
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = c;
									},
									function (e, t, n) {
										var r = n(34).normalizeGlyphsURL,
											i = n(16),
											a = n(189);
										e.exports = function (e, t, n, s, l) {
											var u = 256 * t,
												c = u + 255,
												f = s(
													r(n)
														.replace(
															"{fontstack}",
															e
														)
														.replace(
															"{range}",
															""
																.concat(u, "-")
																.concat(c)
														),
													i.ResourceType.Glyphs
												);
											i.getArrayBuffer(
												f,
												function (e, t) {
													if (e) l(e);
													else if (t) {
														var n = {},
															r = !0,
															i = !1,
															s = void 0;
														try {
															for (
																var u,
																	c = (0,
																	o.default)(
																		a(
																			t.data
																		)
																	);
																!(r = (u =
																	c.next())
																	.done);
																r = !0
															) {
																var f = u.value;
																n[f.id] = f;
															}
														} catch (e) {
															(i = !0), (s = e);
														} finally {
															try {
																r ||
																	null ==
																		c.return ||
																	c.return();
															} finally {
																if (i) throw s;
															}
														}
														l(null, n);
													}
												}
											);
										};
									},
									function (e, t, n) {
										var r = n(33).AlphaImage,
											i = n(65);
										function o(e, t, n) {
											1 === e && n.readMessage(a, t);
										}
										function a(e, t, n) {
											if (3 === e) {
												var i = n.readMessage(s, {}),
													o = i.id,
													a = i.bitmap,
													l = i.width,
													u = i.height,
													c = i.left,
													f = i.top,
													h = i.advance;
												t.push({
													id: o,
													bitmap: new r(
														{
															width: l + 6,
															height: u + 6,
														},
														a
													),
													metrics: {
														width: l,
														height: u,
														left: c,
														top: f,
														advance: h,
													},
												});
											}
										}
										function s(e, t, n) {
											1 === e
												? (t.id = n.readVarint())
												: 2 === e
												? (t.bitmap = n.readBytes())
												: 3 === e
												? (t.width = n.readVarint())
												: 4 === e
												? (t.height = n.readVarint())
												: 5 === e
												? (t.left = n.readSVarint())
												: 6 === e
												? (t.top = n.readSVarint())
												: 7 === e &&
												  (t.advance = n.readVarint());
										}
										(e.exports = function (e) {
											return new i(e).readFields(o, []);
										}),
											(e.exports.GLYPH_PBF_BORDER = 3);
									},
									function (e, t) {
										(t.read = function (e, t, n, r, i) {
											var o,
												a,
												s = 8 * i - r - 1,
												l = (1 << s) - 1,
												u = l >> 1,
												c = -7,
												f = n ? i - 1 : 0,
												h = n ? -1 : 1,
												p = e[t + f];
											for (
												f += h,
													o = p & ((1 << -c) - 1),
													p >>= -c,
													c += s;
												c > 0;
												o = 256 * o + e[t + f],
													f += h,
													c -= 8
											);
											for (
												a = o & ((1 << -c) - 1),
													o >>= -c,
													c += r;
												c > 0;
												a = 256 * a + e[t + f],
													f += h,
													c -= 8
											);
											if (0 === o) o = 1 - u;
											else {
												if (o === l)
													return a
														? NaN
														: (1 / 0) *
																(p ? -1 : 1);
												(a += Math.pow(2, r)), (o -= u);
											}
											return (
												(p ? -1 : 1) *
												a *
												Math.pow(2, o - r)
											);
										}),
											(t.write = function (
												e,
												t,
												n,
												r,
												i,
												o
											) {
												var a,
													s,
													l,
													u = 8 * o - i - 1,
													c = (1 << u) - 1,
													f = c >> 1,
													h =
														23 === i
															? Math.pow(2, -24) -
															  Math.pow(2, -77)
															: 0,
													p = r ? 0 : o - 1,
													d = r ? 1 : -1,
													y =
														t < 0 ||
														(0 === t && 1 / t < 0)
															? 1
															: 0;
												for (
													t = Math.abs(t),
														isNaN(t) || t === 1 / 0
															? ((s = isNaN(t)
																	? 1
																	: 0),
															  (a = c))
															: ((a = Math.floor(
																	Math.log(
																		t
																	) / Math.LN2
															  )),
															  t *
																	(l =
																		Math.pow(
																			2,
																			-a
																		)) <
																	1 &&
																	(a--,
																	(l *= 2)),
															  (t +=
																	a + f >= 1
																		? h / l
																		: h *
																		  Math.pow(
																				2,
																				1 -
																					f
																		  )) *
																	l >=
																	2 &&
																	(a++,
																	(l /= 2)),
															  a + f >= c
																	? ((s = 0),
																	  (a = c))
																	: a + f >= 1
																	? ((s =
																			(t *
																				l -
																				1) *
																			Math.pow(
																				2,
																				i
																			)),
																	  (a += f))
																	: ((s =
																			t *
																			Math.pow(
																				2,
																				f -
																					1
																			) *
																			Math.pow(
																				2,
																				i
																			)),
																	  (a = 0)));
													i >= 8;
													e[n + p] = 255 & s,
														p += d,
														s /= 256,
														i -= 8
												);
												for (
													a = (a << i) | s, u += i;
													u > 0;
													e[n + p] = 255 & a,
														p += d,
														a /= 256,
														u -= 8
												);
												e[n + p - d] |= 128 * y;
											});
									},
									function (e, t, n) {
										(e.exports = i),
											(e.exports.default = i);
										var r = 1e20;
										function i(e, t, n, r, i, o) {
											(this.fontSize = e || 24),
												(this.buffer =
													void 0 === t ? 3 : t),
												(this.cutoff = r || 0.25),
												(this.fontFamily =
													i || "sans-serif"),
												(this.fontWeight =
													o || "normal"),
												(this.radius = n || 8);
											var a = (this.size =
												this.fontSize +
												2 * this.buffer);
											(this.canvas =
												document.createElement(
													"canvas"
												)),
												(this.canvas.width =
													this.canvas.height =
														a),
												(this.ctx =
													this.canvas.getContext(
														"2d"
													)),
												(this.ctx.font =
													this.fontWeight +
													" " +
													this.fontSize +
													"px " +
													this.fontFamily),
												(this.ctx.textBaseline =
													"middle"),
												(this.ctx.fillStyle = "black"),
												(this.gridOuter =
													new Float64Array(a * a)),
												(this.gridInner =
													new Float64Array(a * a)),
												(this.f = new Float64Array(a)),
												(this.d = new Float64Array(a)),
												(this.z = new Float64Array(
													a + 1
												)),
												(this.v = new Int16Array(a)),
												(this.middle = Math.round(
													(a / 2) *
														(navigator.userAgent.indexOf(
															"Gecko/"
														) >= 0
															? 1.2
															: 1)
												));
										}
										function o(e, t, n, r, i, o, s) {
											for (var l = 0; l < t; l++) {
												for (var u = 0; u < n; u++)
													r[u] = e[u * t + l];
												for (
													a(r, i, o, s, n), u = 0;
													u < n;
													u++
												)
													e[u * t + l] = i[u];
											}
											for (u = 0; u < n; u++) {
												for (l = 0; l < t; l++)
													r[l] = e[u * t + l];
												for (
													a(r, i, o, s, t), l = 0;
													l < t;
													l++
												)
													e[u * t + l] = Math.sqrt(
														i[l]
													);
											}
										}
										function a(e, t, n, i, o) {
											(n[0] = 0),
												(i[0] = -r),
												(i[1] = +r);
											for (var a = 1, s = 0; a < o; a++) {
												for (
													var l =
														(e[a] +
															a * a -
															(e[n[s]] +
																n[s] * n[s])) /
														(2 * a - 2 * n[s]);
													l <= i[s];

												)
													s--,
														(l =
															(e[a] +
																a * a -
																(e[n[s]] +
																	n[s] *
																		n[s])) /
															(2 * a - 2 * n[s]));
												(n[++s] = a),
													(i[s] = l),
													(i[s + 1] = +r);
											}
											for (a = 0, s = 0; a < o; a++) {
												for (; i[s + 1] < a; ) s++;
												t[a] =
													(a - n[s]) * (a - n[s]) +
													e[n[s]];
											}
										}
										i.prototype.draw = function (e) {
											this.ctx.clearRect(
												0,
												0,
												this.size,
												this.size
											),
												this.ctx.fillText(
													e,
													this.buffer,
													this.middle
												);
											for (
												var t = this.ctx.getImageData(
														0,
														0,
														this.size,
														this.size
													),
													n = new Uint8ClampedArray(
														this.size * this.size
													),
													i = 0;
												i < this.size * this.size;
												i++
											) {
												var a = t.data[4 * i + 3] / 255;
												(this.gridOuter[i] =
													1 === a
														? 0
														: 0 === a
														? r
														: Math.pow(
																Math.max(
																	0,
																	0.5 - a
																),
																2
														  )),
													(this.gridInner[i] =
														1 === a
															? r
															: 0 === a
															? 0
															: Math.pow(
																	Math.max(
																		0,
																		a - 0.5
																	),
																	2
															  ));
											}
											for (
												o(
													this.gridOuter,
													this.size,
													this.size,
													this.f,
													this.d,
													this.v,
													this.z
												),
													o(
														this.gridInner,
														this.size,
														this.size,
														this.f,
														this.d,
														this.v,
														this.z
													),
													i = 0;
												i < this.size * this.size;
												i++
											) {
												var s =
													this.gridOuter[i] -
													this.gridInner[i];
												n[i] = Math.max(
													0,
													Math.min(
														255,
														Math.round(
															255 -
																255 *
																	(s /
																		this
																			.radius +
																		this
																			.cutoff)
														)
													)
												);
											}
											return n;
										};
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e) {
											return (s = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function u(e, t) {
											return (u =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										function f(e, t) {
											if (!(e instanceof t))
												throw new TypeError(
													"Cannot call a class as a function"
												);
										}
										function h(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function p(e, t, n) {
											return (
												t && h(e.prototype, t),
												n && h(e, n),
												e
											);
										}
										var d = i(13),
											y = i(0),
											m = i(10),
											v = i(54),
											g = i(0).sphericalToCartesian,
											_ = (i(12), i(26)),
											b = i(4),
											x = b.Properties,
											w = b.Transitionable,
											C =
												(b.Transitioning,
												b.PossiblyEvaluated,
												b.DataConstantProperty),
											T = (function () {
												function e() {
													f(this, e),
														(this.specification =
															d.light.position);
												}
												return (
													p(e, [
														{
															key: "possiblyEvaluate",
															value: function (
																e,
																t
															) {
																return g(
																	e.expression.evaluate(
																		t
																	)
																);
															},
														},
														{
															key: "interpolate",
															value: function (
																e,
																t,
																n
															) {
																return {
																	x: _.number(
																		e.x,
																		t.x,
																		n
																	),
																	y: _.number(
																		e.y,
																		t.y,
																		n
																	),
																	z: _.number(
																		e.z,
																		t.z,
																		n
																	),
																};
															},
														},
													]),
													e
												);
											})(),
											k = new x({
												anchor: new C(d.light.anchor),
												position: new T(),
												color: new C(d.light.color),
												intensity: new C(
													d.light.intensity
												),
											}),
											P = (function (e) {
												function t(e) {
													var n;
													return (
														f(this, t),
														((n = (function (e, t) {
															return !t ||
																("object" !==
																	o(t) &&
																	"function" !=
																		typeof t)
																? (function (
																		e
																  ) {
																		if (
																			void 0 ===
																			e
																		)
																			throw new ReferenceError(
																				"this hasn't been initialised - super() hasn't been called"
																			);
																		return e;
																  })(e)
																: t;
														})(
															this,
															s(t).call(this)
														))._transitionable = new w(
															k
														)),
														n.setLight(e),
														(n._transitioning =
															n._transitionable.untransitioned()),
														n
													);
												}
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && u(e, t);
													})(t, m),
													p(t, [
														{
															key: "getLight",
															value: function () {
																return this._transitionable.serialize();
															},
														},
														{
															key: "setLight",
															value: function (
																e
															) {
																if (
																	!this._validate(
																		v.light,
																		e
																	)
																)
																	for (var t in e) {
																		var n =
																			e[
																				t
																			];
																		y.endsWith(
																			t,
																			"-transition"
																		)
																			? this._transitionable.setTransition(
																					t.slice(
																						0,
																						-"-transition"
																							.length
																					),
																					n
																			  )
																			: this._transitionable.setValue(
																					t,
																					n
																			  );
																	}
															},
														},
														{
															key: "updateTransitions",
															value: function (
																e
															) {
																this._transitioning =
																	this._transitionable.transitioned(
																		e,
																		this
																			._transitioning
																	);
															},
														},
														{
															key: "hasTransition",
															value: function () {
																return this._transitioning.hasTransition();
															},
														},
														{
															key: "recalculate",
															value: function (
																e
															) {
																this.properties =
																	this._transitioning.possiblyEvaluate(
																		e
																	);
															},
														},
														{
															key: "_validate",
															value: function (
																e,
																t
															) {
																return v.emitErrors(
																	this,
																	e.call(
																		v,
																		y.extend(
																			{
																				value: t,
																				style: {
																					glyphs: !0,
																					sprite: !0,
																				},
																				styleSpec:
																					d,
																			}
																		)
																	)
																);
															},
														},
													]),
													t
												);
											})();
										e.exports = P;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(0),
											o = (function () {
												function e(t, n) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.width = t),
														(this.height = n),
														(this.nextRow = 0),
														(this.bytes = 4),
														(this.data =
															new Uint8Array(
																this.width *
																	this
																		.height *
																	this.bytes
															)),
														(this.positions = {});
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "getDash",
															value: function (
																e,
																t
															) {
																var n =
																	e.join(
																		","
																	) +
																	String(t);
																return (
																	this
																		.positions[
																		n
																	] ||
																		(this.positions[
																			n
																		] = this.addDash(
																			e,
																			t
																		)),
																	this
																		.positions[
																		n
																	]
																);
															},
														},
														{
															key: "addDash",
															value: function (
																e,
																t
															) {
																var n = t
																		? 7
																		: 0,
																	r =
																		2 * n +
																		1;
																if (
																	this
																		.nextRow +
																		r >
																	this.height
																)
																	return (
																		i.warnOnce(
																			"LineAtlas out of space"
																		),
																		null
																	);
																for (
																	var o = 0,
																		a = 0;
																	a <
																	e.length;
																	a++
																)
																	o += e[a];
																for (
																	var s =
																			this
																				.width /
																			o,
																		l =
																			s /
																			2,
																		u =
																			e.length %
																				2 ==
																			1,
																		c = -n;
																	c <= n;
																	c++
																)
																	for (
																		var f =
																				this
																					.nextRow +
																				n +
																				c,
																			h =
																				this
																					.width *
																				f,
																			p =
																				u
																					? -e[
																							e.length -
																								1
																					  ]
																					: 0,
																			d =
																				e[0],
																			y = 1,
																			m = 0;
																		m <
																		this
																			.width;
																		m++
																	) {
																		for (
																			;
																			d <
																			m /
																				s;

																		)
																			(p =
																				d),
																				(d +=
																					e[
																						y
																					]),
																				u &&
																					y ===
																						e.length -
																							1 &&
																					(d +=
																						e[0]),
																				y++;
																		var v =
																				Math.abs(
																					m -
																						p *
																							s
																				),
																			g =
																				Math.abs(
																					m -
																						d *
																							s
																				),
																			_ =
																				Math.min(
																					v,
																					g
																				),
																			b =
																				y %
																					2 ==
																				1,
																			x =
																				void 0;
																		if (t) {
																			var w =
																				n
																					? (c /
																							n) *
																					  (l +
																							1)
																					: 0;
																			if (
																				b
																			) {
																				var C =
																					l -
																					Math.abs(
																						w
																					);
																				x =
																					Math.sqrt(
																						_ *
																							_ +
																							C *
																								C
																					);
																			} else
																				x =
																					l -
																					Math.sqrt(
																						_ *
																							_ +
																							w *
																								w
																					);
																		} else
																			x =
																				(b
																					? 1
																					: -1) *
																				_;
																		this.data[
																			3 +
																				4 *
																					(h +
																						m)
																		] = Math.max(
																			0,
																			Math.min(
																				255,
																				x +
																					128
																			)
																		);
																	}
																var T = {
																	y:
																		(this
																			.nextRow +
																			n +
																			0.5) /
																		this
																			.height,
																	height:
																		(2 *
																			n) /
																		this
																			.height,
																	width: o,
																};
																return (
																	(this.nextRow +=
																		r),
																	(this.dirty =
																		!0),
																	T
																);
															},
														},
														{
															key: "bind",
															value: function (
																e
															) {
																var t = e.gl;
																this.texture
																	? (t.bindTexture(
																			t.TEXTURE_2D,
																			this
																				.texture
																	  ),
																	  this
																			.dirty &&
																			((this.dirty =
																				!1),
																			t.texSubImage2D(
																				t.TEXTURE_2D,
																				0,
																				0,
																				0,
																				this
																					.width,
																				this
																					.height,
																				t.RGBA,
																				t.UNSIGNED_BYTE,
																				this
																					.data
																			)))
																	: ((this.texture =
																			t.createTexture()),
																	  t.bindTexture(
																			t.TEXTURE_2D,
																			this
																				.texture
																	  ),
																	  t.texParameteri(
																			t.TEXTURE_2D,
																			t.TEXTURE_WRAP_S,
																			t.REPEAT
																	  ),
																	  t.texParameteri(
																			t.TEXTURE_2D,
																			t.TEXTURE_WRAP_T,
																			t.REPEAT
																	  ),
																	  t.texParameteri(
																			t.TEXTURE_2D,
																			t.TEXTURE_MIN_FILTER,
																			t.LINEAR
																	  ),
																	  t.texParameteri(
																			t.TEXTURE_2D,
																			t.TEXTURE_MAG_FILTER,
																			t.LINEAR
																	  ),
																	  t.texImage2D(
																			t.TEXTURE_2D,
																			0,
																			t.RGBA,
																			this
																				.width,
																			this
																				.height,
																			0,
																			t.RGBA,
																			t.UNSIGNED_BYTE,
																			this
																				.data
																	  ));
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = o;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(0),
											o = n(195),
											a = (function () {
												function e(t, n) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.workerPool = t),
														(this.actors = []),
														(this.currentActor = 0),
														(this.id =
															i.uniqueId());
													for (
														var r =
																this.workerPool.acquire(
																	this.id
																),
															a = 0;
														a < r.length;
														a++
													) {
														var s = r[a],
															l = new o(
																s,
																n,
																this.id
															);
														(l.name =
															"Worker ".concat(
																a
															)),
															this.actors.push(l);
													}
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "broadcast",
															value: function (
																e,
																t,
																n
															) {
																(n =
																	n ||
																	function () {}),
																	i.asyncAll(
																		this
																			.actors,
																		function (
																			n,
																			r
																		) {
																			n.send(
																				e,
																				t,
																				r
																			);
																		},
																		n
																	);
															},
														},
														{
															key: "send",
															value: function (
																e,
																t,
																n,
																r
															) {
																return (
																	("number" !=
																		typeof r ||
																		isNaN(
																			r
																		)) &&
																		(r =
																			this.currentActor =
																				(this
																					.currentActor +
																					1) %
																				this
																					.actors
																					.length),
																	this.actors[
																		r
																	].send(
																		e,
																		t,
																		n
																	),
																	r
																);
															},
														},
														{
															key: "remove",
															value: function () {
																this.actors.forEach(
																	function (
																		e
																	) {
																		e.remove();
																	}
																),
																	(this.actors =
																		[]),
																	this.workerPool.release(
																		this.id
																	);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = a;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(0),
											o = n(11),
											a = o.serialize,
											s = o.deserialize,
											l = (function () {
												function e(t, n, r) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.target = t),
														(this.parent = n),
														(this.mapId = r),
														(this.callbacks = {}),
														(this.callbackID = 0),
														i.bindAll(
															["receive"],
															this
														),
														this.target.addEventListener(
															"message",
															this.receive,
															!1
														);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "send",
															value: function (
																e,
																t,
																n,
																r
															) {
																var i = n
																	? ""
																			.concat(
																				this
																					.mapId,
																				":"
																			)
																			.concat(
																				this
																					.callbackID++
																			)
																	: null;
																n &&
																	(this.callbacks[
																		i
																	] = n);
																var o = [];
																this.target.postMessage(
																	{
																		targetMapId:
																			r,
																		sourceMapId:
																			this
																				.mapId,
																		type: e,
																		id: String(
																			i
																		),
																		data: a(
																			t,
																			o
																		),
																	},
																	o
																);
															},
														},
														{
															key: "receive",
															value: function (
																e
															) {
																var t,
																	n = this,
																	r = e.data,
																	i = r.id;
																if (
																	!r.targetMapId ||
																	this
																		.mapId ===
																		r.targetMapId
																) {
																	var o =
																		function (
																			e,
																			t
																		) {
																			var r =
																				[];
																			n.target.postMessage(
																				{
																					sourceMapId:
																						n.mapId,
																					type: "<response>",
																					id: String(
																						i
																					),
																					error: e
																						? String(
																								e
																						  )
																						: null,
																					data: a(
																						t,
																						r
																					),
																				},
																				r
																			);
																		};
																	if (
																		"<response>" ===
																		r.type
																	)
																		(t =
																			this
																				.callbacks[
																				r
																					.id
																			]),
																			delete this
																				.callbacks[
																				r
																					.id
																			],
																			t &&
																			r.error
																				? t(
																						new Error(
																							r.error
																						)
																				  )
																				: t &&
																				  t(
																						null,
																						s(
																							r.data
																						)
																				  );
																	else if (
																		void 0 !==
																			r.id &&
																		this
																			.parent[
																			r
																				.type
																		]
																	)
																		this.parent[
																			r
																				.type
																		](
																			r.sourceMapId,
																			s(
																				r.data
																			),
																			o
																		);
																	else if (
																		void 0 !==
																			r.id &&
																		this
																			.parent
																			.getWorkerSource
																	) {
																		var l =
																			r.type.split(
																				"."
																			);
																		this.parent
																			.getWorkerSource(
																				r.sourceMapId,
																				l[0]
																			)
																			[
																				l[1]
																			](
																				s(
																					r.data
																				),
																				o
																			);
																	} else
																		this.parent[
																			r
																				.type
																		](
																			s(
																				r.data
																			)
																		);
																}
															},
														},
														{
															key: "remove",
															value: function () {
																this.target.removeEventListener(
																	"message",
																	this
																		.receive,
																	!1
																);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = l;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function u(e) {
											return (u = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function f(e) {
											if (void 0 === e)
												throw new ReferenceError(
													"this hasn't been initialised - super() hasn't been called"
												);
											return e;
										}
										function h(e, t) {
											return (h =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var p = i(10),
											d = i(0),
											y = i(112),
											m = i(34).normalizeTileURL,
											v = i(113),
											g = i(16).ResourceType,
											_ = i(2),
											b = (function (e) {
												function t(e, n, r, i) {
													var a;
													if (
														((function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((a = (function (e, t) {
															return !t ||
																("object" !==
																	o(t) &&
																	"function" !=
																		typeof t)
																? f(e)
																: t;
														})(
															this,
															u(t).call(this)
														)).id = e),
														(a.dispatcher = r),
														(a.type = "vector"),
														(a.minzoom = 0),
														(a.maxzoom = 22),
														(a.scheme = "xyz"),
														(a.tileSize = 512),
														(a.reparseOverscaled =
															!0),
														(a.isTileClipped = !0),
														d.extend(
															f(a),
															d.pick(n, [
																"url",
																"scheme",
																"tileSize",
															])
														),
														(a._options = d.extend(
															{ type: "vector" },
															n
														)),
														512 !== a.tileSize)
													)
														throw new Error(
															"vector tile sources must have a tileSize of 512"
														);
													return (
														a.setEventedParent(i), a
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && h(e, t);
													})(t, p),
													(n = t),
													(r = [
														{
															key: "load",
															value: function () {
																var e = this;
																this.fire(
																	"dataloading",
																	{
																		dataType:
																			"source",
																	}
																),
																	y(
																		this
																			._options,
																		this.map
																			._transformRequest,
																		function (
																			t,
																			n
																		) {
																			t
																				? e.fire(
																						"error",
																						t
																				  )
																				: n &&
																				  (d.extend(
																						e,
																						n
																				  ),
																				  n.bounds &&
																						(e.tileBounds =
																							new v(
																								n.bounds,
																								e.minzoom,
																								e.maxzoom
																							)),
																				  e.fire(
																						"data",
																						{
																							dataType:
																								"source",
																							sourceDataType:
																								"metadata",
																						}
																				  ),
																				  e.fire(
																						"data",
																						{
																							dataType:
																								"source",
																							sourceDataType:
																								"content",
																						}
																				  ));
																		}
																	);
															},
														},
														{
															key: "hasTile",
															value: function (
																e
															) {
																return (
																	!this
																		.tileBounds ||
																	this.tileBounds.contains(
																		e.canonical
																	)
																);
															},
														},
														{
															key: "onAdd",
															value: function (
																e
															) {
																(this.map = e),
																	this.load();
															},
														},
														{
															key: "serialize",
															value: function () {
																return d.extend(
																	{},
																	this
																		._options
																);
															},
														},
														{
															key: "loadTile",
															value: function (
																e,
																t
															) {
																var n =
																		e.tileID.overscaleFactor(),
																	r = m(
																		e.tileID.canonical.url(
																			this
																				.tiles,
																			this
																				.scheme
																		),
																		this.url
																	),
																	i = {
																		request:
																			this.map._transformRequest(
																				r,
																				g.Tile
																			),
																		uid: e.uid,
																		tileID: e.tileID,
																		zoom: e
																			.tileID
																			.overscaledZ,
																		tileSize:
																			this
																				.tileSize *
																			n,
																		type: this
																			.type,
																		source: this
																			.id,
																		pixelRatio:
																			_.devicePixelRatio,
																		overscaling:
																			n,
																		showCollisionBoxes:
																			this
																				.map
																				.showCollisionBoxes,
																	};
																function o(
																	n,
																	r
																) {
																	return e.aborted
																		? t(
																				null
																		  )
																		: n
																		? t(n)
																		: (this
																				.map
																				._refreshExpiredTiles &&
																				e.setExpiryData(
																					r
																				),
																		  e.loadVectorData(
																				r,
																				this
																					.map
																					.painter
																		  ),
																		  t(
																				null
																		  ),
																		  void (
																				e.reloadCallback &&
																				(this.loadTile(
																					e,
																					e.reloadCallback
																				),
																				(e.reloadCallback =
																					null))
																		  ));
																}
																void 0 ===
																	e.workerID ||
																"expired" ===
																	e.state
																	? (e.workerID =
																			this.dispatcher.send(
																				"loadTile",
																				i,
																				o.bind(
																					this
																				)
																			))
																	: "loading" ===
																	  e.state
																	? (e.reloadCallback =
																			t)
																	: this.dispatcher.send(
																			"reloadTile",
																			i,
																			o.bind(
																				this
																			),
																			e.workerID
																	  );
															},
														},
														{
															key: "abortTile",
															value: function (
																e
															) {
																this.dispatcher.send(
																	"abortTile",
																	{
																		uid: e.uid,
																		type: this
																			.type,
																		source: this
																			.id,
																	},
																	void 0,
																	e.workerID
																);
															},
														},
														{
															key: "unloadTile",
															value: function (
																e
															) {
																e.unloadVectorData(),
																	this.dispatcher.send(
																		"removeTile",
																		{
																			uid: e.uid,
																			type: this
																				.type,
																			source: this
																				.id,
																		},
																		void 0,
																		e.workerID
																	),
																	(e.workerID =
																		void 0);
															},
														},
														{
															key: "hasTransition",
															value: function () {
																return !1;
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										e.exports = b;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function u(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function f(e) {
											return (f = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function h(e, t) {
											return (h =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var p = i(16),
											d = i(0),
											y = (i(10), i(34).normalizeTileURL),
											m = i(2),
											v = i(27).OverscaledTileID,
											g = i(114),
											_ = (function (e) {
												function t(e, n, r, i) {
													var o;
													return (
														(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((o = u(
															this,
															f(t).call(
																this,
																e,
																n,
																r,
																i
															)
														)).type = "raster-dem"),
														(o.maxzoom = 22),
														(o._options = d.extend(
															{},
															n
														)),
														o
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && h(e, t);
													})(t, g),
													(n = t),
													(r = [
														{
															key: "serialize",
															value: function () {
																return {
																	type: "raster-dem",
																	url: this
																		.url,
																	tileSize:
																		this
																			.tileSize,
																	tiles: this
																		.tiles,
																	bounds: this
																		.bounds,
																};
															},
														},
														{
															key: "loadTile",
															value: function (
																e,
																t
															) {
																var n = y(
																	e.tileID.canonical.url(
																		this
																			.tiles,
																		this
																			.scheme
																	),
																	this.url,
																	this
																		.tileSize
																);
																(e.request =
																	p.getImage(
																		this.map._transformRequest(
																			n,
																			p
																				.ResourceType
																				.Tile
																		),
																		function (
																			n,
																			r
																		) {
																			if (
																				(delete e.request,
																				e.aborted)
																			)
																				(e.state =
																					"unloaded"),
																					t(
																						null
																					);
																			else if (
																				n
																			)
																				(e.state =
																					"errored"),
																					t(
																						n
																					);
																			else if (
																				r
																			) {
																				this
																					.map
																					._refreshExpiredTiles &&
																					e.setExpiryData(
																						r
																					),
																					delete r.cacheControl,
																					delete r.expires;
																				var i =
																						m.getImageData(
																							r
																						),
																					o =
																						{
																							uid: e.uid,
																							coord: e.tileID,
																							source: this
																								.id,
																							rawImageData:
																								i,
																						};
																				(e.workerID &&
																					"expired" !==
																						e.state) ||
																					(e.workerID =
																						this.dispatcher.send(
																							"loadDEMTile",
																							o,
																							function (
																								n,
																								r
																							) {
																								n &&
																									((e.state =
																										"errored"),
																									t(
																										n
																									)),
																									r &&
																										((e.dem =
																											r),
																										(e.needsHillshadePrepare =
																											!0),
																										(e.state =
																											"loaded"),
																										t(
																											null
																										));
																							}.bind(
																								this
																							)
																						));
																			}
																		}.bind(
																			this
																		)
																	)),
																	(e.neighboringTiles =
																		this._getNeighboringTiles(
																			e.tileID
																		));
															},
														},
														{
															key: "_getNeighboringTiles",
															value: function (
																e
															) {
																var t =
																		e.canonical,
																	n =
																		Math.pow(
																			2,
																			t.z
																		),
																	r =
																		(t.x -
																			1 +
																			n) %
																		n,
																	i =
																		0 ===
																		t.x
																			? e.wrap -
																			  1
																			: e.wrap,
																	o =
																		(t.x +
																			1 +
																			n) %
																		n,
																	a =
																		t.x +
																			1 ===
																		n
																			? e.wrap +
																			  1
																			: e.wrap,
																	s = {};
																return (
																	(s[
																		new v(
																			e.overscaledZ,
																			i,
																			t.z,
																			r,
																			t.y
																		).key
																	] = {
																		backfilled:
																			!1,
																	}),
																	(s[
																		new v(
																			e.overscaledZ,
																			a,
																			t.z,
																			o,
																			t.y
																		).key
																	] = {
																		backfilled:
																			!1,
																	}),
																	t.y > 0 &&
																		((s[
																			new v(
																				e.overscaledZ,
																				i,
																				t.z,
																				r,
																				t.y -
																					1
																			).key
																		] = {
																			backfilled:
																				!1,
																		}),
																		(s[
																			new v(
																				e.overscaledZ,
																				e.wrap,
																				t.z,
																				t.x,
																				t.y -
																					1
																			).key
																		] = {
																			backfilled:
																				!1,
																		}),
																		(s[
																			new v(
																				e.overscaledZ,
																				a,
																				t.z,
																				o,
																				t.y -
																					1
																			).key
																		] = {
																			backfilled:
																				!1,
																		})),
																	t.y + 1 <
																		n &&
																		((s[
																			new v(
																				e.overscaledZ,
																				i,
																				t.z,
																				r,
																				t.y +
																					1
																			).key
																		] = {
																			backfilled:
																				!1,
																		}),
																		(s[
																			new v(
																				e.overscaledZ,
																				e.wrap,
																				t.z,
																				t.x,
																				t.y +
																					1
																			).key
																		] = {
																			backfilled:
																				!1,
																		}),
																		(s[
																			new v(
																				e.overscaledZ,
																				a,
																				t.z,
																				o,
																				t.y +
																					1
																			).key
																		] = {
																			backfilled:
																				!1,
																		})),
																	s
																);
															},
														},
														{
															key: "unloadTile",
															value: function (
																e
															) {
																e.demTexture &&
																	this.map.painter.saveTileTexture(
																		e.demTexture
																	),
																	e.fbo &&
																		(e.fbo.destroy(),
																		delete e.fbo),
																	e.dem &&
																		delete e.dem,
																	delete e.neighboringTiles,
																	(e.state =
																		"unloaded"),
																	this.dispatcher.send(
																		"removeDEMTile",
																		{
																			uid: e.uid,
																			source: this
																				.id,
																		},
																		void 0,
																		e.workerID
																	);
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										e.exports = _;
									},
									function (e, t, n) {
										function r(e, t, n, r, o, a) {
											return (
												(a = a || {}),
												e +
													"?" +
													[
														"bbox=" + i(n, r, o),
														"format=" +
															(a.format ||
																"image/png"),
														"service=" +
															(a.service ||
																"WMS"),
														"version=" +
															(a.version ||
																"1.1.1"),
														"request=" +
															(a.request ||
																"GetMap"),
														"srs=" +
															(a.srs ||
																"EPSG:3857"),
														"width=" +
															(a.width || 256),
														"height=" +
															(a.height || 256),
														"layers=" + t,
													].join("&")
											);
										}
										function i(e, t, n) {
											var r = o(
													256 * e,
													256 *
														(t =
															Math.pow(2, n) -
															t -
															1),
													n
												),
												i = o(
													256 * (e + 1),
													256 * (t + 1),
													n
												);
											return (
												r[0] +
												"," +
												r[1] +
												"," +
												i[0] +
												"," +
												i[1]
											);
										}
										function o(e, t, n) {
											var r =
												(2 * Math.PI * 6378137) /
												256 /
												Math.pow(2, n);
											return [
												e * r -
													(2 * Math.PI * 6378137) / 2,
												t * r -
													(2 * Math.PI * 6378137) / 2,
											];
										}
										n.r(t),
											n.d(t, "getURL", function () {
												return r;
											}),
											n.d(t, "getTileBBox", function () {
												return i;
											}),
											n.d(
												t,
												"getMercCoords",
												function () {
													return o;
												}
											);
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function f(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function h(e) {
											return (h = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function p(e, t) {
											return (p =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var d = i(16),
											y = i(52),
											m = i(46),
											v = i(40),
											g = i(20),
											_ = (function (e) {
												function t(e, n, r, i) {
													var o;
													return (
														(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((o = f(
															this,
															h(t).call(
																this,
																e,
																n,
																r,
																i
															)
														)).roundZoom = !0),
														(o.type = "video"),
														(o.options = n),
														o
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && p(e, t);
													})(t, y),
													(n = t),
													(r = [
														{
															key: "load",
															value: function () {
																var e = this,
																	t =
																		this
																			.options;
																(this.urls =
																	t.urls),
																	d.getVideo(
																		t.urls,
																		function (
																			t,
																			n
																		) {
																			t
																				? e.fire(
																						"error",
																						{
																							error: t,
																						}
																				  )
																				: n &&
																				  ((e.video =
																						n),
																				  (e.video.loop =
																						!0),
																				  e.video.addEventListener(
																						"playing",
																						function () {
																							e.map._rerender();
																						}
																				  ),
																				  e.map &&
																						e.video.play(),
																				  e._finishLoading());
																		}
																	);
															},
														},
														{
															key: "getVideo",
															value: function () {
																return this
																	.video;
															},
														},
														{
															key: "onAdd",
															value: function (
																e
															) {
																this.map ||
																	((this.map =
																		e),
																	this.load(),
																	this
																		.video &&
																		(this.video.play(),
																		this.setCoordinates(
																			this
																				.coordinates
																		)));
															},
														},
														{
															key: "prepare",
															value: function () {
																if (
																	!(
																		0 ===
																			(0,
																			u.default)(
																				this
																					.tiles
																			)
																				.length ||
																		this
																			.video
																			.readyState <
																			2
																	)
																) {
																	var e =
																			this
																				.map
																				.painter
																				.context,
																		t =
																			e.gl;
																	for (var n in (this
																		.boundsBuffer ||
																		(this.boundsBuffer =
																			e.createVertexBuffer(
																				this
																					._boundsArray,
																				m.members
																			)),
																	this
																		.boundsVAO ||
																		(this.boundsVAO =
																			new v()),
																	this.texture
																		? this
																				.video
																				.paused ||
																		  (this.texture.bind(
																				t.LINEAR,
																				t.CLAMP_TO_EDGE
																		  ),
																		  t.texSubImage2D(
																				t.TEXTURE_2D,
																				0,
																				0,
																				0,
																				t.RGBA,
																				t.UNSIGNED_BYTE,
																				this
																					.video
																		  ))
																		: ((this.texture =
																				new g(
																					e,
																					this.video,
																					t.RGBA
																				)),
																		  this.texture.bind(
																				t.LINEAR,
																				t.CLAMP_TO_EDGE
																		  )),
																	this
																		.tiles)) {
																		var r =
																			this
																				.tiles[
																				n
																			];
																		"loaded" !==
																			r.state &&
																			((r.state =
																				"loaded"),
																			(r.texture =
																				this.texture));
																	}
																}
															},
														},
														{
															key: "serialize",
															value: function () {
																return {
																	type: "video",
																	urls: this
																		.urls,
																	coordinates:
																		this
																			.coordinates,
																};
															},
														},
														{
															key: "hasTransition",
															value: function () {
																return (
																	this
																		.video &&
																	!this.video
																		.paused
																);
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										e.exports = _;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function f(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function h(e) {
											return (h = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function p(e, t) {
											return (p =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var d = i(52),
											y = i(5),
											m = i(46),
											v = i(40),
											g = i(20),
											_ = (function (e) {
												function t(e, n, r, i) {
													var o;
													return (
														(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((o = f(
															this,
															h(t).call(
																this,
																e,
																n,
																r,
																i
															)
														)).options = n),
														(o.animate =
															void 0 ===
																n.animate ||
															n.animate),
														o
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && p(e, t);
													})(t, d),
													(n = t),
													(r = [
														{
															key: "load",
															value: function () {
																(this.canvas =
																	this
																		.canvas ||
																	y.document.getElementById(
																		this
																			.options
																			.canvas
																	)),
																	(this.width =
																		this.canvas.width),
																	(this.height =
																		this.canvas.height),
																	this._hasInvalidDimensions()
																		? this.fire(
																				"error",
																				new Error(
																					"Canvas dimensions cannot be less than or equal to zero."
																				)
																		  )
																		: ((this.play =
																				function () {
																					(this._playing =
																						!0),
																						this.map._rerender();
																				}),
																		  (this.pause =
																				function () {
																					this._playing =
																						!1;
																				}),
																		  this._finishLoading());
															},
														},
														{
															key: "getCanvas",
															value: function () {
																return this
																	.canvas;
															},
														},
														{
															key: "onAdd",
															value: function (
																e
															) {
																(this.map = e),
																	this.load(),
																	this
																		.canvas &&
																		this
																			.animate &&
																		this.play();
															},
														},
														{
															key: "onRemove",
															value: function () {
																this.pause();
															},
														},
														{
															key: "prepare",
															value: function () {
																var e = !1;
																if (
																	(this.canvas
																		.width !==
																		this
																			.width &&
																		((this.width =
																			this.canvas.width),
																		(e =
																			!0)),
																	this.canvas
																		.height !==
																		this
																			.height &&
																		((this.height =
																			this.canvas.height),
																		(e =
																			!0)),
																	!this._hasInvalidDimensions() &&
																		0 !==
																			(0,
																			u.default)(
																				this
																					.tiles
																			)
																				.length)
																) {
																	var t =
																			this
																				.map
																				.painter
																				.context,
																		n =
																			t.gl;
																	for (var r in (this
																		.boundsBuffer ||
																		(this.boundsBuffer =
																			t.createVertexBuffer(
																				this
																					._boundsArray,
																				m.members
																			)),
																	this
																		.boundsVAO ||
																		(this.boundsVAO =
																			new v()),
																	this.texture
																		? e
																			? this.texture.update(
																					this
																						.canvas
																			  )
																			: this
																					._playing &&
																			  (this.texture.bind(
																					n.LINEAR,
																					n.CLAMP_TO_EDGE
																			  ),
																			  n.texSubImage2D(
																					n.TEXTURE_2D,
																					0,
																					0,
																					0,
																					n.RGBA,
																					n.UNSIGNED_BYTE,
																					this
																						.canvas
																			  ))
																		: ((this.texture =
																				new g(
																					t,
																					this.canvas,
																					n.RGBA
																				)),
																		  this.texture.bind(
																				n.LINEAR,
																				n.CLAMP_TO_EDGE
																		  )),
																	this
																		.tiles)) {
																		var i =
																			this
																				.tiles[
																				r
																			];
																		"loaded" !==
																			i.state &&
																			((i.state =
																				"loaded"),
																			(i.texture =
																				this.texture));
																	}
																}
															},
														},
														{
															key: "serialize",
															value: function () {
																return {
																	type: "canvas",
																	canvas: this
																		.canvas,
																	coordinates:
																		this
																			.coordinates,
																};
															},
														},
														{
															key: "hasTransition",
															value: function () {
																return this
																	._playing;
															},
														},
														{
															key: "_hasInvalidDimensions",
															value: function () {
																for (
																	var e = 0,
																		t = [
																			this
																				.canvas
																				.width,
																			this
																				.canvas
																				.height,
																		];
																	e <
																	t.length;
																	e++
																) {
																	var n =
																		t[e];
																	if (
																		isNaN(
																			n
																		) ||
																		n <= 0
																	)
																		return !0;
																}
																return !1;
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										e.exports = _;
									},
									function (e, t) {
										e.exports = {
											deserialize: function (e, t) {
												var n = {};
												if (!t) return n;
												var r = !0,
													i = !1,
													a = void 0;
												try {
													for (
														var s,
															l = (0, o.default)(
																e
															);
														!(r = (s = l.next())
															.done);
														r = !0
													) {
														var u = s.value,
															c = u.layerIds
																.map(function (
																	e
																) {
																	return t.getLayer(
																		e
																	);
																})
																.filter(
																	Boolean
																);
														if (0 !== c.length) {
															u.layers = c;
															var f = !0,
																h = !1,
																p = void 0;
															try {
																for (
																	var d,
																		y = (0,
																		o.default)(
																			c
																		);
																	!(f = (d =
																		y.next())
																		.done);
																	f = !0
																)
																	n[
																		d.value.id
																	] = u;
															} catch (e) {
																(h = !0),
																	(p = e);
															} finally {
																try {
																	f ||
																		null ==
																			y.return ||
																		y.return();
																} finally {
																	if (h)
																		throw p;
																}
															}
														}
													}
												} catch (e) {
													(i = !0), (a = e);
												} finally {
													try {
														r ||
															null == l.return ||
															l.return();
													} finally {
														if (i) throw a;
													}
												}
												return n;
											},
										};
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										n(3);
										var i = n(38),
											a = n(6),
											s = n(60),
											l = n(102),
											c = n(203),
											f = n(48),
											h = n(65),
											p = n(119),
											d = n(0).arraysIntersect,
											y =
												(n(27).OverscaledTileID,
												n(11).register),
											m = n(14).FeatureIndexArray,
											v = (function () {
												function e(t, n, r, i) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.tileID = t),
														(this.overscaling = n),
														(this.x =
															t.canonical.x),
														(this.y =
															t.canonical.y),
														(this.z =
															t.canonical.z),
														(this.grid =
															r ||
															new l(a, 16, 0)),
														(this.featureIndexArray =
															i || new m());
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "insert",
															value: function (
																e,
																t,
																n,
																r,
																i
															) {
																var o =
																	this
																		.featureIndexArray
																		.length;
																this.featureIndexArray.emplaceBack(
																	n,
																	r,
																	i
																);
																for (
																	var a = 0;
																	a <
																	t.length;
																	a++
																) {
																	for (
																		var s =
																				t[
																					a
																				],
																			l =
																				[
																					1 /
																						0,
																					1 /
																						0,
																					-1 /
																						0,
																					-1 /
																						0,
																				],
																			u = 0;
																		u <
																		s.length;
																		u++
																	) {
																		var c =
																			s[
																				u
																			];
																		(l[0] =
																			Math.min(
																				l[0],
																				c.x
																			)),
																			(l[1] =
																				Math.min(
																					l[1],
																					c.y
																				)),
																			(l[2] =
																				Math.max(
																					l[2],
																					c.x
																				)),
																			(l[3] =
																				Math.max(
																					l[3],
																					c.y
																				));
																	}
																	this.grid.insert(
																		o,
																		l[0],
																		l[1],
																		l[2],
																		l[3]
																	);
																}
															},
														},
														{
															key: "query",
															value: function (
																e,
																t
															) {
																this.vtLayers ||
																	((this.vtLayers =
																		new f.VectorTile(
																			new h(
																				this.rawTileData
																			)
																		).layers),
																	(this.sourceLayerCoder =
																		new c(
																			this
																				.vtLayers
																				? (0,
																				  u.default)(
																						this
																							.vtLayers
																				  ).sort()
																				: [
																						"_geojsonTileLayer",
																				  ]
																		)));
																for (
																	var n = {},
																		r =
																			e.params ||
																			{},
																		i =
																			a /
																			e.tileSize /
																			e.scale,
																		o = s(
																			r.filter
																		),
																		l =
																			e.queryGeometry,
																		p =
																			e.additionalRadius *
																			i,
																		d =
																			1 /
																			0,
																		y =
																			1 /
																			0,
																		m =
																			-1 /
																			0,
																		v =
																			-1 /
																			0,
																		_ = 0;
																	_ <
																	l.length;
																	_++
																)
																	for (
																		var b =
																				l[
																					_
																				],
																			x = 0;
																		x <
																		b.length;
																		x++
																	) {
																		var w =
																			b[
																				x
																			];
																		(d =
																			Math.min(
																				d,
																				w.x
																			)),
																			(y =
																				Math.min(
																					y,
																					w.y
																				)),
																			(m =
																				Math.max(
																					m,
																					w.x
																				)),
																			(v =
																				Math.max(
																					v,
																					w.y
																				));
																	}
																var C =
																	this.grid.query(
																		d - p,
																		y - p,
																		m + p,
																		v + p
																	);
																C.sort(g),
																	this.filterMatching(
																		n,
																		C,
																		this
																			.featureIndexArray,
																		l,
																		o,
																		r.layers,
																		t,
																		e.bearing,
																		i
																	);
																var T =
																	e.collisionIndex
																		? e.collisionIndex.queryRenderedSymbols(
																				l,
																				this
																					.tileID,
																				a /
																					e.tileSize,
																				e.collisionBoxArray,
																				e.sourceID,
																				e.bucketInstanceIds
																		  )
																		: [];
																return (
																	T.sort(),
																	this.filterMatching(
																		n,
																		T,
																		e.collisionBoxArray,
																		l,
																		o,
																		r.layers,
																		t,
																		e.bearing,
																		i
																	),
																	n
																);
															},
														},
														{
															key: "filterMatching",
															value: function (
																e,
																t,
																n,
																r,
																o,
																a,
																s,
																l,
																u
															) {
																for (
																	var c,
																		f = 0;
																	f <
																	t.length;
																	f++
																) {
																	var h =
																		t[f];
																	if (
																		h !== c
																	) {
																		c = h;
																		var y =
																				n.get(
																					h
																				),
																			m =
																				this
																					.bucketLayerIDs[
																					y
																						.bucketIndex
																				];
																		if (
																			!a ||
																			d(
																				a,
																				m
																			)
																		) {
																			var v =
																					this.sourceLayerCoder.decode(
																						y.sourceLayerIndex
																					),
																				g =
																					this.vtLayers[
																						v
																					].feature(
																						y.featureIndex
																					);
																			if (
																				o(
																					{
																						zoom: this
																							.tileID
																							.overscaledZ,
																					},
																					g
																				)
																			)
																				for (
																					var _ =
																							null,
																						b = 0;
																					b <
																					m.length;
																					b++
																				) {
																					var x =
																						m[
																							b
																						];
																					if (
																						!(
																							a &&
																							a.indexOf(
																								x
																							) <
																								0
																						)
																					) {
																						var w =
																							s[
																								x
																							];
																						if (
																							w &&
																							("symbol" ===
																								w.type ||
																								(_ ||
																									(_ =
																										i(
																											g
																										)),
																								w.queryIntersectsFeature(
																									r,
																									g,
																									_,
																									this
																										.z,
																									l,
																									u
																								)))
																						) {
																							var C =
																								new p(
																									g,
																									this.z,
																									this.x,
																									this.y
																								);
																							C.layer =
																								w.serialize();
																							var T =
																								e[
																									x
																								];
																							void 0 ===
																								T &&
																								(T =
																									e[
																										x
																									] =
																										[]),
																								T.push(
																									{
																										featureIndex:
																											h,
																										feature:
																											C,
																									}
																								);
																						}
																					}
																				}
																		}
																	}
																}
															},
														},
														{
															key: "hasLayer",
															value: function (
																e
															) {
																var t = !0,
																	n = !1,
																	r = void 0;
																try {
																	for (
																		var i,
																			a =
																				(0,
																				o.default)(
																					this
																						.bucketLayerIDs
																				);
																		!(t =
																			(i =
																				a.next())
																				.done);
																		t = !0
																	) {
																		var s =
																				i.value,
																			l =
																				!0,
																			u =
																				!1,
																			c =
																				void 0;
																		try {
																			for (
																				var f,
																					h =
																						(0,
																						o.default)(
																							s
																						);
																				!(l =
																					(f =
																						h.next())
																						.done);
																				l =
																					!0
																			)
																				if (
																					e ===
																					f.value
																				)
																					return !0;
																		} catch (e) {
																			(u =
																				!0),
																				(c =
																					e);
																		} finally {
																			try {
																				l ||
																					null ==
																						h.return ||
																					h.return();
																			} finally {
																				if (
																					u
																				)
																					throw c;
																			}
																		}
																	}
																} catch (e) {
																	(n = !0),
																		(r = e);
																} finally {
																	try {
																		t ||
																			null ==
																				a.return ||
																			a.return();
																	} finally {
																		if (n)
																			throw r;
																	}
																}
																return !1;
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										function g(e, t) {
											return t - e;
										}
										y("FeatureIndex", v, {
											omit: [
												"rawTileData",
												"sourceLayerCoder",
												"collisionIndex",
											],
										}),
											(e.exports = v);
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(1),
											o = (function () {
												function e(t) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this._stringToNumber =
															{}),
														(this._numberToString =
															[]);
													for (
														var n = 0;
														n < t.length;
														n++
													) {
														var r = t[n];
														(this._stringToNumber[
															r
														] = n),
															(this._numberToString[
																n
															] = r);
													}
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "encode",
															value: function (
																e
															) {
																return (
																	i(
																		e in
																			this
																				._stringToNumber
																	),
																	this
																		._stringToNumber[
																		e
																	]
																);
															},
														},
														{
															key: "decode",
															value: function (
																e
															) {
																return (
																	i(
																		e <
																			this
																				._numberToString
																				.length
																	),
																	this
																		._numberToString[
																		e
																	]
																);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = o;
									},
									function (e, t) {
										function n(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var r = (function () {
											function e(t, n, r) {
												!(function (e, t) {
													if (!(e instanceof t))
														throw new TypeError(
															"Cannot call a class as a function"
														);
												})(this, e);
												var i = (this.boxCells = []),
													o = (this.circleCells = []);
												(this.xCellCount = Math.ceil(
													t / r
												)),
													(this.yCellCount =
														Math.ceil(n / r));
												for (
													var a = 0;
													a <
													this.xCellCount *
														this.yCellCount;
													a++
												)
													i.push([]), o.push([]);
												(this.circleKeys = []),
													(this.boxKeys = []),
													(this.bboxes = []),
													(this.circles = []),
													(this.width = t),
													(this.height = n),
													(this.xScale =
														this.xCellCount / t),
													(this.yScale =
														this.yCellCount / n),
													(this.boxUid = 0),
													(this.circleUid = 0);
											}
											var t, r;
											return (
												(t = e),
												(r = [
													{
														key: "keysLength",
														value: function () {
															return (
																this.boxKeys
																	.length +
																this.circleKeys
																	.length
															);
														},
													},
													{
														key: "insert",
														value: function (
															e,
															t,
															n,
															r,
															i
														) {
															this._forEachCell(
																t,
																n,
																r,
																i,
																this
																	._insertBoxCell,
																this.boxUid++
															),
																this.boxKeys.push(
																	e
																),
																this.bboxes.push(
																	t
																),
																this.bboxes.push(
																	n
																),
																this.bboxes.push(
																	r
																),
																this.bboxes.push(
																	i
																);
														},
													},
													{
														key: "insertCircle",
														value: function (
															e,
															t,
															n,
															r
														) {
															this._forEachCell(
																t - r,
																n - r,
																t + r,
																n + r,
																this
																	._insertCircleCell,
																this.circleUid++
															),
																this.circleKeys.push(
																	e
																),
																this.circles.push(
																	t
																),
																this.circles.push(
																	n
																),
																this.circles.push(
																	r
																);
														},
													},
													{
														key: "_insertBoxCell",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o
														) {
															this.boxCells[
																i
															].push(o);
														},
													},
													{
														key: "_insertCircleCell",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o
														) {
															this.circleCells[
																i
															].push(o);
														},
													},
													{
														key: "_query",
														value: function (
															e,
															t,
															n,
															r,
															i
														) {
															if (
																n < 0 ||
																e >
																	this
																		.width ||
																r < 0 ||
																t > this.height
															)
																return !i && [];
															var o = [];
															if (
																e <= 0 &&
																t <= 0 &&
																this.width <=
																	n &&
																this.height <= r
															)
																o =
																	Array.prototype.slice
																		.call(
																			this
																				.boxKeys
																		)
																		.concat(
																			this
																				.circleKeys
																		);
															else {
																var a = {
																	hitTest: i,
																	seenUids: {
																		box: {},
																		circle: {},
																	},
																};
																this._forEachCell(
																	e,
																	t,
																	n,
																	r,
																	this
																		._queryCell,
																	o,
																	a
																);
															}
															return i
																? o.length > 0
																: o;
														},
													},
													{
														key: "_queryCircle",
														value: function (
															e,
															t,
															n,
															r
														) {
															var i = e - n,
																o = e + n,
																a = t - n,
																s = t + n;
															if (
																o < 0 ||
																i >
																	this
																		.width ||
																s < 0 ||
																a > this.height
															)
																return !r && [];
															var l = [],
																u = {
																	hitTest: r,
																	circle: {
																		x: e,
																		y: t,
																		radius: n,
																	},
																	seenUids: {
																		box: {},
																		circle: {},
																	},
																};
															return (
																this._forEachCell(
																	i,
																	a,
																	o,
																	s,
																	this
																		._queryCellCircle,
																	l,
																	u
																),
																r
																	? l.length >
																	  0
																	: l
															);
														},
													},
													{
														key: "query",
														value: function (
															e,
															t,
															n,
															r
														) {
															return this._query(
																e,
																t,
																n,
																r,
																!1
															);
														},
													},
													{
														key: "hitTest",
														value: function (
															e,
															t,
															n,
															r
														) {
															return this._query(
																e,
																t,
																n,
																r,
																!0
															);
														},
													},
													{
														key: "hitTestCircle",
														value: function (
															e,
															t,
															n
														) {
															return this._queryCircle(
																e,
																t,
																n,
																!0
															);
														},
													},
													{
														key: "_queryCell",
														value: function (
															e,
															t,
															n,
															r,
															i,
															a,
															s
														) {
															var l = s.seenUids,
																u =
																	this
																		.boxCells[
																		i
																	];
															if (null !== u) {
																var c =
																		this
																			.bboxes,
																	f = !0,
																	h = !1,
																	p = void 0;
																try {
																	for (
																		var d,
																			y =
																				(0,
																				o.default)(
																					u
																				);
																		!(f =
																			(d =
																				y.next())
																				.done);
																		f = !0
																	) {
																		var m =
																			d.value;
																		if (
																			!l
																				.box[
																				m
																			]
																		) {
																			l.box[
																				m
																			] =
																				!0;
																			var v =
																				4 *
																				m;
																			if (
																				e <=
																					c[
																						v +
																							2
																					] &&
																				t <=
																					c[
																						v +
																							3
																					] &&
																				n >=
																					c[
																						v +
																							0
																					] &&
																				r >=
																					c[
																						v +
																							1
																					]
																			) {
																				if (
																					s.hitTest
																				)
																					return (
																						a.push(
																							!0
																						),
																						!0
																					);
																				a.push(
																					this
																						.boxKeys[
																						m
																					]
																				);
																			}
																		}
																	}
																} catch (e) {
																	(h = !0),
																		(p = e);
																} finally {
																	try {
																		f ||
																			null ==
																				y.return ||
																			y.return();
																	} finally {
																		if (h)
																			throw p;
																	}
																}
															}
															var g =
																this
																	.circleCells[
																	i
																];
															if (null !== g) {
																var _ =
																		this
																			.circles,
																	b = !0,
																	x = !1,
																	w = void 0;
																try {
																	for (
																		var C,
																			T =
																				(0,
																				o.default)(
																					g
																				);
																		!(b =
																			(C =
																				T.next())
																				.done);
																		b = !0
																	) {
																		var k =
																			C.value;
																		if (
																			!l
																				.circle[
																				k
																			]
																		) {
																			l.circle[
																				k
																			] =
																				!0;
																			var P =
																				3 *
																				k;
																			if (
																				this._circleAndRectCollide(
																					_[
																						P
																					],
																					_[
																						P +
																							1
																					],
																					_[
																						P +
																							2
																					],
																					e,
																					t,
																					n,
																					r
																				)
																			) {
																				if (
																					s.hitTest
																				)
																					return (
																						a.push(
																							!0
																						),
																						!0
																					);
																				a.push(
																					this
																						.circleKeys[
																						k
																					]
																				);
																			}
																		}
																	}
																} catch (e) {
																	(x = !0),
																		(w = e);
																} finally {
																	try {
																		b ||
																			null ==
																				T.return ||
																			T.return();
																	} finally {
																		if (x)
																			throw w;
																	}
																}
															}
														},
													},
													{
														key: "_queryCellCircle",
														value: function (
															e,
															t,
															n,
															r,
															i,
															a,
															s
														) {
															var l = s.circle,
																u = s.seenUids,
																c =
																	this
																		.boxCells[
																		i
																	];
															if (null !== c) {
																var f =
																		this
																			.bboxes,
																	h = !0,
																	p = !1,
																	d = void 0;
																try {
																	for (
																		var y,
																			m =
																				(0,
																				o.default)(
																					c
																				);
																		!(h =
																			(y =
																				m.next())
																				.done);
																		h = !0
																	) {
																		var v =
																			y.value;
																		if (
																			!u
																				.box[
																				v
																			]
																		) {
																			u.box[
																				v
																			] =
																				!0;
																			var g =
																				4 *
																				v;
																			if (
																				this._circleAndRectCollide(
																					l.x,
																					l.y,
																					l.radius,
																					f[
																						g +
																							0
																					],
																					f[
																						g +
																							1
																					],
																					f[
																						g +
																							2
																					],
																					f[
																						g +
																							3
																					]
																				)
																			)
																				return (
																					a.push(
																						!0
																					),
																					!0
																				);
																		}
																	}
																} catch (e) {
																	(p = !0),
																		(d = e);
																} finally {
																	try {
																		h ||
																			null ==
																				m.return ||
																			m.return();
																	} finally {
																		if (p)
																			throw d;
																	}
																}
															}
															var _ =
																this
																	.circleCells[
																	i
																];
															if (null !== _) {
																var b =
																		this
																			.circles,
																	x = !0,
																	w = !1,
																	C = void 0;
																try {
																	for (
																		var T,
																			k =
																				(0,
																				o.default)(
																					_
																				);
																		!(x =
																			(T =
																				k.next())
																				.done);
																		x = !0
																	) {
																		var P =
																			T.value;
																		if (
																			!u
																				.circle[
																				P
																			]
																		) {
																			u.circle[
																				P
																			] =
																				!0;
																			var E =
																				3 *
																				P;
																			if (
																				this._circlesCollide(
																					b[
																						E
																					],
																					b[
																						E +
																							1
																					],
																					b[
																						E +
																							2
																					],
																					l.x,
																					l.y,
																					l.radius
																				)
																			)
																				return (
																					a.push(
																						!0
																					),
																					!0
																				);
																		}
																	}
																} catch (e) {
																	(w = !0),
																		(C = e);
																} finally {
																	try {
																		x ||
																			null ==
																				k.return ||
																			k.return();
																	} finally {
																		if (w)
																			throw C;
																	}
																}
															}
														},
													},
													{
														key: "_forEachCell",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o,
															a
														) {
															for (
																var s =
																		this._convertToXCellCoord(
																			e
																		),
																	l =
																		this._convertToYCellCoord(
																			t
																		),
																	u =
																		this._convertToXCellCoord(
																			n
																		),
																	c =
																		this._convertToYCellCoord(
																			r
																		),
																	f = s;
																f <= u;
																f++
															)
																for (
																	var h = l;
																	h <= c;
																	h++
																) {
																	var p =
																		this
																			.xCellCount *
																			h +
																		f;
																	if (
																		i.call(
																			this,
																			e,
																			t,
																			n,
																			r,
																			p,
																			o,
																			a
																		)
																	)
																		return;
																}
														},
													},
													{
														key: "_convertToXCellCoord",
														value: function (e) {
															return Math.max(
																0,
																Math.min(
																	this
																		.xCellCount -
																		1,
																	Math.floor(
																		e *
																			this
																				.xScale
																	)
																)
															);
														},
													},
													{
														key: "_convertToYCellCoord",
														value: function (e) {
															return Math.max(
																0,
																Math.min(
																	this
																		.yCellCount -
																		1,
																	Math.floor(
																		e *
																			this
																				.yScale
																	)
																)
															);
														},
													},
													{
														key: "_circlesCollide",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o
														) {
															var a = r - e,
																s = i - t,
																l = n + o;
															return (
																l * l >
																a * a + s * s
															);
														},
													},
													{
														key: "_circleAndRectCollide",
														value: function (
															e,
															t,
															n,
															r,
															i,
															o,
															a
														) {
															var s = (o - r) / 2,
																l = Math.abs(
																	e - (r + s)
																);
															if (l > s + n)
																return !1;
															var u = (a - i) / 2,
																c = Math.abs(
																	t - (i + u)
																);
															if (c > u + n)
																return !1;
															if (
																l <= s ||
																c <= u
															)
																return !0;
															var f = l - s,
																h = c - u;
															return (
																f * f + h * h <=
																n * n
															);
														},
													},
												]) && n(t.prototype, r),
												e
											);
										})();
										e.exports = r;
									},
									function (e, t, n) {
										var r, i;
										function a(e, t, n) {
											return (
												t in e
													? Object.defineProperty(
															e,
															t,
															{
																value: n,
																enumerable: !0,
																configurable:
																	!0,
																writable: !0,
															}
													  )
													: (e[t] = n),
												e
											);
										}
										var s = n(63),
											l = n(110),
											u = n(49),
											c = {
												horizontal: 1,
												vertical: 2,
												horizontalOnly: 3,
											};
										e.exports = {
											shapeText: function (
												e,
												t,
												n,
												r,
												i,
												a,
												f,
												h,
												p,
												d
											) {
												var y = e.trim();
												d === c.vertical && (y = l(y));
												var _ = [],
													b = {
														positionedGlyphs: _,
														text: y,
														top: h[1],
														bottom: h[1],
														left: h[0],
														right: h[0],
														writingMode: d,
													},
													x =
														u.processBidirectionalText;
												return (
													(function (
														e,
														t,
														n,
														r,
														i,
														a,
														l,
														u,
														f
													) {
														var h = 0,
															p = -17,
															d = 0,
															y =
																e.positionedGlyphs,
															m =
																"right" === a
																	? 1
																	: "left" ===
																	  a
																	? 0
																	: 0.5,
															_ = !0,
															b = !1,
															x = void 0;
														try {
															for (
																var w,
																	C = (0,
																	o.default)(
																		n
																	);
																!(_ = (w =
																	C.next())
																	.done);
																_ = !0
															) {
																var T = w.value;
																if (
																	(T =
																		T.trim())
																		.length
																) {
																	for (
																		var k =
																				y.length,
																			P = 0;
																		P <
																		T.length;
																		P++
																	) {
																		var E =
																				T.charCodeAt(
																					P
																				),
																			S =
																				t[
																					E
																				];
																		S &&
																			(s.charHasUprightVerticalOrientation(
																				E
																			) &&
																			l !==
																				c.horizontal
																				? (y.push(
																						{
																							glyph: E,
																							x: h,
																							y: 0,
																							vertical:
																								!0,
																						}
																				  ),
																				  (h +=
																						f +
																						u))
																				: (y.push(
																						{
																							glyph: E,
																							x: h,
																							y: p,
																							vertical:
																								!1,
																						}
																				  ),
																				  (h +=
																						S
																							.metrics
																							.advance +
																						u)));
																	}
																	if (
																		y.length !==
																		k
																	) {
																		var A =
																			h -
																			u;
																		(d =
																			Math.max(
																				A,
																				d
																			)),
																			g(
																				y,
																				t,
																				k,
																				y.length -
																					1,
																				m
																			);
																	}
																	(h = 0),
																		(p +=
																			r);
																} else p += r;
															}
														} catch (e) {
															(b = !0), (x = e);
														} finally {
															try {
																_ ||
																	null ==
																		C.return ||
																	C.return();
															} finally {
																if (b) throw x;
															}
														}
														var M = v(i),
															I =
																M.horizontalAlign,
															L = M.verticalAlign;
														!(function (
															e,
															t,
															n,
															r,
															i,
															o,
															a
														) {
															for (
																var s =
																		(t -
																			n) *
																		i,
																	l =
																		(-r *
																			a +
																			0.5) *
																		o,
																	u = 0;
																u < e.length;
																u++
															)
																(e[u].x += s),
																	(e[u].y +=
																		l);
														})(
															y,
															m,
															I,
															L,
															d,
															r,
															n.length
														);
														var D = n.length * r;
														(e.top += -L * D),
															(e.bottom =
																e.top + D),
															(e.left += -I * d),
															(e.right =
																e.left + d);
													})(
														b,
														t,
														x
															? x(
																	y,
																	m(
																		y,
																		f,
																		n,
																		t
																	)
															  )
															: (function (e, t) {
																	var n = [],
																		r = 0,
																		i = !0,
																		a = !1,
																		s =
																			void 0;
																	try {
																		for (
																			var l,
																				u =
																					(0,
																					o.default)(
																						t
																					);
																			!(i =
																				(l =
																					u.next())
																					.done);
																			i =
																				!0
																		) {
																			var c =
																				l.value;
																			n.push(
																				e.substring(
																					r,
																					c
																				)
																			),
																				(r =
																					c);
																		}
																	} catch (e) {
																		(a =
																			!0),
																			(s =
																				e);
																	} finally {
																		try {
																			i ||
																				null ==
																					u.return ||
																				u.return();
																		} finally {
																			if (
																				a
																			)
																				throw s;
																		}
																	}
																	return (
																		r <
																			e.length &&
																			n.push(
																				e.substring(
																					r,
																					e.length
																				)
																			),
																		n
																	);
															  })(
																	y,
																	m(
																		y,
																		f,
																		n,
																		t
																	)
															  ),
														r,
														i,
														a,
														d,
														f,
														p
													),
													!!_.length && b
												);
											},
											shapeIcon: function (e, t, n) {
												var r = v(n),
													i = r.horizontalAlign,
													o = r.verticalAlign,
													a = t[0],
													s = t[1],
													l =
														a -
														e.displaySize[0] * i,
													u = l + e.displaySize[0],
													c =
														s -
														e.displaySize[1] * o;
												return {
													image: e,
													top: c,
													bottom:
														c + e.displaySize[1],
													left: l,
													right: u,
												};
											},
											WritingMode: c,
										};
										var f =
												(a((r = {}), 9, !0),
												a(r, 10, !0),
												a(r, 11, !0),
												a(r, 12, !0),
												a(r, 13, !0),
												a(r, 32, !0),
												r),
											h =
												(a((i = {}), 10, !0),
												a(i, 32, !0),
												a(i, 38, !0),
												a(i, 40, !0),
												a(i, 41, !0),
												a(i, 43, !0),
												a(i, 45, !0),
												a(i, 47, !0),
												a(i, 173, !0),
												a(i, 183, !0),
												a(i, 8203, !0),
												a(i, 8208, !0),
												a(i, 8211, !0),
												a(i, 8231, !0),
												i);
										function p(e, t, n, r) {
											var i = Math.pow(e - t, 2);
											return r
												? e < t
													? i / 2
													: 2 * i
												: i + Math.abs(n) * n;
										}
										function d(e, t) {
											var n = 0;
											return (
												10 === e && (n -= 1e4),
												(40 !== e && 65288 !== e) ||
													(n += 50),
												(41 !== t && 65289 !== t) ||
													(n += 50),
												n
											);
										}
										function y(e, t, n, r, i, a) {
											var s = null,
												l = p(t, n, i, a),
												u = !0,
												c = !1,
												f = void 0;
											try {
												for (
													var h,
														d = (0, o.default)(r);
													!(u = (h = d.next()).done);
													u = !0
												) {
													var y = h.value,
														m =
															p(
																t - y.x,
																n,
																i,
																a
															) + y.badness;
													m <= l &&
														((s = y), (l = m));
												}
											} catch (e) {
												(c = !0), (f = e);
											} finally {
												try {
													u ||
														null == d.return ||
														d.return();
												} finally {
													if (c) throw f;
												}
											}
											return {
												index: e,
												x: t,
												priorBreak: s,
												badness: l,
											};
										}
										function m(e, t, n, r) {
											if (!n) return [];
											if (!e) return [];
											for (
												var i = [],
													o = (function (e, t, n, r) {
														for (
															var i = 0, o = 0;
															o < e.length;
															o++
														) {
															var a =
																r[
																	e.charCodeAt(
																		o
																	)
																];
															a &&
																(i +=
																	a.metrics
																		.advance +
																	t);
														}
														return (
															i /
															Math.max(
																1,
																Math.ceil(i / n)
															)
														);
													})(e, t, n, r),
													a = 0,
													l = 0;
												l < e.length;
												l++
											) {
												var u = e.charCodeAt(l),
													c = r[u];
												c &&
													!f[u] &&
													(a +=
														c.metrics.advance + t),
													l < e.length - 1 &&
														(h[u] ||
															s.charAllowsIdeographicBreaking(
																u
															)) &&
														i.push(
															y(
																l + 1,
																a,
																o,
																i,
																d(
																	u,
																	e.charCodeAt(
																		l + 1
																	)
																),
																!1
															)
														);
											}
											return (function e(t) {
												return t
													? e(t.priorBreak).concat(
															t.index
													  )
													: [];
											})(y(e.length, a, o, i, 0, !0));
										}
										function v(e) {
											var t = 0.5,
												n = 0.5;
											switch (e) {
												case "right":
												case "top-right":
												case "bottom-right":
													t = 1;
													break;
												case "left":
												case "top-left":
												case "bottom-left":
													t = 0;
											}
											switch (e) {
												case "bottom":
												case "bottom-right":
												case "bottom-left":
													n = 1;
													break;
												case "top":
												case "top-right":
												case "top-left":
													n = 0;
											}
											return {
												horizontalAlign: t,
												verticalAlign: n,
											};
										}
										function g(e, t, n, r, i) {
											if (i) {
												var o = t[e[r].glyph];
												if (o)
													for (
														var a =
																o.metrics
																	.advance,
															s =
																(e[r].x + a) *
																i,
															l = n;
														l <= r;
														l++
													)
														e[l].x -= s;
											}
										}
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(1),
											o = (function () {
												function e(t, n, r) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.context = t);
													var i = t.gl;
													(this.buffer =
														i.createBuffer()),
														(this.dynamicDraw =
															Boolean(r)),
														this.unbindVAO(),
														t.bindElementBuffer.set(
															this.buffer
														),
														i.bufferData(
															i.ELEMENT_ARRAY_BUFFER,
															n.arrayBuffer,
															this.dynamicDraw
																? i.DYNAMIC_DRAW
																: i.STATIC_DRAW
														),
														this.dynamicDraw ||
															delete n.arrayBuffer;
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "unbindVAO",
															value: function () {
																this.context
																	.extVertexArrayObject &&
																	this.context.bindVertexArrayOES.set(
																		null
																	);
															},
														},
														{
															key: "bind",
															value: function () {
																this.context.bindElementBuffer.set(
																	this.buffer
																);
															},
														},
														{
															key: "updateData",
															value: function (
																e
															) {
																var t =
																	this.context
																		.gl;
																i(
																	this
																		.dynamicDraw
																),
																	this.unbindVAO(),
																	this.bind(),
																	t.bufferSubData(
																		t.ELEMENT_ARRAY_BUFFER,
																		0,
																		e.arrayBuffer
																	);
															},
														},
														{
															key: "destroy",
															value: function () {
																var e =
																	this.context
																		.gl;
																this.buffer &&
																	(e.deleteBuffer(
																		this
																			.buffer
																	),
																	delete this
																		.buffer);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = o;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(1),
											o = {
												Int8: "BYTE",
												Uint8: "UNSIGNED_BYTE",
												Int16: "SHORT",
												Uint16: "UNSIGNED_SHORT",
												Int32: "INT",
												Uint32: "UNSIGNED_INT",
												Float32: "FLOAT",
											},
											a = (function () {
												function e(t, n, r, i) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.length =
															n.length),
														(this.attributes = r),
														(this.itemSize =
															n.bytesPerElement),
														(this.dynamicDraw = i),
														(this.context = t);
													var o = t.gl;
													(this.buffer =
														o.createBuffer()),
														t.bindVertexBuffer.set(
															this.buffer
														),
														o.bufferData(
															o.ARRAY_BUFFER,
															n.arrayBuffer,
															this.dynamicDraw
																? o.DYNAMIC_DRAW
																: o.STATIC_DRAW
														),
														this.dynamicDraw ||
															delete n.arrayBuffer;
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "bind",
															value: function () {
																this.context.bindVertexBuffer.set(
																	this.buffer
																);
															},
														},
														{
															key: "updateData",
															value: function (
																e
															) {
																i(
																	e.length ===
																		this
																			.length
																);
																var t =
																	this.context
																		.gl;
																this.bind(),
																	t.bufferSubData(
																		t.ARRAY_BUFFER,
																		0,
																		e.arrayBuffer
																	);
															},
														},
														{
															key: "enableAttributes",
															value: function (
																e,
																t
															) {
																for (
																	var n = 0;
																	n <
																	this
																		.attributes
																		.length;
																	n++
																) {
																	var r =
																			this
																				.attributes[
																				n
																			],
																		i =
																			t
																				.attributes[
																				r
																					.name
																			];
																	void 0 !==
																		i &&
																		e.enableVertexAttribArray(
																			i
																		);
																}
															},
														},
														{
															key: "setVertexAttribPointers",
															value: function (
																e,
																t,
																n
															) {
																for (
																	var r = 0;
																	r <
																	this
																		.attributes
																		.length;
																	r++
																) {
																	var i =
																			this
																				.attributes[
																				r
																			],
																		a =
																			t
																				.attributes[
																				i
																					.name
																			];
																	void 0 !==
																		a &&
																		e.vertexAttribPointer(
																			a,
																			i.components,
																			e[
																				o[
																					i
																						.type
																				]
																			],
																			!1,
																			this
																				.itemSize,
																			i.offset +
																				this
																					.itemSize *
																					(n ||
																						0)
																		);
																}
															},
														},
														{
															key: "destroy",
															value: function () {
																var e =
																	this.context
																		.gl;
																this.buffer &&
																	(e.deleteBuffer(
																		this
																			.buffer
																	),
																	delete this
																		.buffer);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = a;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(122),
											o = i.ColorAttachment,
											a = i.DepthAttachment,
											s = (function () {
												function e(t, n, r) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.context = t),
														(this.width = n),
														(this.height = r);
													var i = t.gl,
														s = (this.framebuffer =
															i.createFramebuffer());
													(this.colorAttachment =
														new o(t, s)),
														(this.depthAttachment =
															new a(t, s));
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "destroy",
															value: function () {
																var e =
																		this
																			.context
																			.gl,
																	t =
																		this.colorAttachment.get();
																t &&
																	e.deleteTexture(
																		t
																	);
																var n =
																	this.depthAttachment.get();
																n &&
																	e.deleteRenderbuffer(
																		n
																	),
																	e.deleteFramebuffer(
																		this
																			.framebuffer
																	);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = s;
									},
									function (e, t, n) {
										var r,
											i = n(210);
										e.exports = function () {
											return r || (r = new i()), r;
										};
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(1),
											o = n(211),
											a = (function () {
												function e() {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.active = {});
												}
												var t, a;
												return (
													(t = e),
													(a = [
														{
															key: "acquire",
															value: function (
																e
															) {
																if (
																	!this
																		.workers
																) {
																	var t =
																		n(
																			71
																		).workerCount;
																	for (
																		i(
																			"number" ==
																				typeof t &&
																				t <
																					1 /
																						0
																		),
																			this.workers =
																				[];
																		this
																			.workers
																			.length <
																		t;

																	)
																		this.workers.push(
																			new o()
																		);
																}
																return (
																	(this.active[
																		e
																	] = !0),
																	this.workers.slice()
																);
															},
														},
														{
															key: "release",
															value: function (
																e
															) {
																delete this
																	.active[e],
																	0 ===
																		(0,
																		u.default)(
																			this
																				.active
																		)
																			.length &&
																		(this.workers.forEach(
																			function (
																				e
																			) {
																				e.terminate();
																			}
																		),
																		(this.workers =
																			null));
															},
														},
													]) && r(t.prototype, a),
													e
												);
											})();
										e.exports = a;
									},
									function (e, t, n) {
										var r = n(212);
										n(5),
											(e.exports = function () {
												return new r();
											});
									},
									function (e, t, n) {
										e.exports = function () {
											return n(213)(
												'!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=86)}([function(t,e,n){"use strict";(function(e){var r=n(90);\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */function i(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function o(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var a=n(91),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,l="foo"===function(){}.name;function c(t){return Object.prototype.toString.call(t)}function f(t){return!o(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}var h=t.exports=g,p=/\\s*function\\s+([^\\(\\s]*)\\s*/;function y(t){if(a.isFunction(t)){if(l)return t.name;var e=t.toString().match(p);return e&&e[1]}}function d(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function v(t){if(l||!a.isFunction(t))return a.inspect(t);var e=y(t);return"[Function"+(e?": "+e:"")+"]"}function m(t,e,n,r,i){throw new h.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function g(t,e){t||m(t,!0,e,"==",h.ok)}function b(t,e,n,r){if(t===e)return!0;if(o(t)&&o(e))return 0===i(t,e);if(a.isDate(t)&&a.isDate(e))return t.getTime()===e.getTime();if(a.isRegExp(t)&&a.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(f(t)&&f(e)&&c(t)===c(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==s&&s===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(a.isPrimitive(t)||a.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=x(t),o=x(e);if(i&&!o||!i&&o)return!1;if(i)return t=u.call(t),e=u.call(e),b(t,e,n);var s,l,c=_(t),f=_(e);if(c.length!==f.length)return!1;for(c.sort(),f.sort(),l=c.length-1;l>=0;l--)if(c[l]!==f[l])return!1;for(l=c.length-1;l>=0;l--)if(s=c[l],!b(t[s],e[s],n,r))return!1;return!0}(t,e,n,r))}return n?t===e:t==e}function x(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function w(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function k(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError(\'"block" argument must be a function\');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&m(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!t&&i&&!n;if((!t&&a.isError(i)&&o&&w(i,n)||s)&&m(i,n,"Got unwanted exception"+r),t&&i&&n&&!w(i,n)||!t&&i)throw i}h.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return d(v(t.actual),128)+" "+t.operator+" "+d(v(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=y(e),o=r.indexOf("\\n"+i);if(o>=0){var a=r.indexOf("\\n",o+1);r=r.substring(a+1)}this.stack=r}}},a.inherits(h.AssertionError,Error),h.fail=m,h.ok=g,h.equal=function(t,e,n){t!=e&&m(t,e,n,"==",h.equal)},h.notEqual=function(t,e,n){t==e&&m(t,e,n,"!=",h.notEqual)},h.deepEqual=function(t,e,n){b(t,e,!1)||m(t,e,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(t,e,n){b(t,e,!0)||m(t,e,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(t,e,n){b(t,e,!1)&&m(t,e,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function t(e,n,r){b(e,n,!0)&&m(e,n,r,"notDeepStrictEqual",t)},h.strictEqual=function(t,e,n){t!==e&&m(t,e,n,"===",h.strictEqual)},h.notStrictEqual=function(t,e,n){t===e&&m(t,e,n,"!==",h.notStrictEqual)},h.throws=function(t,e,n){k(!0,t,e,n)},h.doesNotThrow=function(t,e,n){k(!1,t,e,n)},h.ifError=function(t){if(t)throw t},h.strict=r(function t(e,n){e||m(e,!0,n,"==",t)},h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var _=Object.keys||function(t){var e=[];for(var n in t)s.call(t,n)&&e.push(n);return e}}).call(this,n(89))},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var a=n(0),s=n(2),u=s.clone,l=s.extend,c=s.easeCubicInOut,f=n(19),h=n(14).normalizePropertyExpression,p=(n(13),n(3).register),y=function(){function t(e,n){r(this,t),this.property=e,this.value=n,this.expression=h(void 0===n?e.specification.default:n,e.specification)}return o(t,[{key:"isDataDriven",value:function(){return"source"===this.expression.kind||"composite"===this.expression.kind}},{key:"possiblyEvaluate",value:function(t){return this.property.possiblyEvaluate(this,t)}}]),t}(),d=function(){function t(e){r(this,t),this.property=e,this.value=new y(e,void 0)}return o(t,[{key:"transitioned",value:function(t,e){return new m(this.property,this.value,e,l({},t.transition,this.transition),t.now)}},{key:"untransitioned",value:function(){return new m(this.property,this.value,null,{},0)}}]),t}(),v=function(){function t(e){r(this,t),this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}return o(t,[{key:"getValue",value:function(t){return u(this._values[t].value.value)}},{key:"setValue",value:function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new d(this._values[t].property)),this._values[t].value=new y(this._values[t].property,null===e?void 0:u(e))}},{key:"getTransition",value:function(t){return u(this._values[t].transition)}},{key:"setTransition",value:function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new d(this._values[t].property)),this._values[t].transition=u(e)||void 0}},{key:"serialize",value:function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e++){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i);var o=this.getTransition(r);void 0!==o&&(t["".concat(r,"-transition")]=o)}return t}},{key:"transitioned",value:function(t,e){for(var n=new g(this._properties),r=0,i=Object.keys(this._values);r<i.length;r++){var o=i[r];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n}},{key:"untransitioned",value:function(){for(var t=new g(this._properties),e=0,n=Object.keys(this._values);e<n.length;e++){var r=n[e];t._values[r]=this._values[r].untransitioned()}return t}}]),t}(),m=function(){function t(e,n,i,o,a){r(this,t),this.property=e,this.value=n,this.begin=a+o.delay||0,this.end=this.begin+o.duration||0,e.specification.transition&&(o.delay||o.duration)&&(this.prior=i)}return o(t,[{key:"possiblyEvaluate",value:function(t){var e=t.now||0,n=this.value.possiblyEvaluate(t),r=this.prior;if(r){if(e>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(e<this.begin)return r.possiblyEvaluate(t);var i=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(r.possiblyEvaluate(t),n,c(i))}return n}}]),t}(),g=function(){function t(e){r(this,t),this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}return o(t,[{key:"possiblyEvaluate",value:function(t){for(var e=new w(this._properties),n=0,r=Object.keys(this._values);n<r.length;n++){var i=r[n];e._values[i]=this._values[i].possiblyEvaluate(t)}return e}},{key:"hasTransition",value:function(){for(var t=0,e=Object.keys(this._values);t<e.length;t++){var n=e[t];if(this._values[n].prior)return!0}return!1}}]),t}(),b=function(){function t(e){r(this,t),this._properties=e,this._values=Object.create(e.defaultPropertyValues)}return o(t,[{key:"getValue",value:function(t){return u(this._values[t].value)}},{key:"setValue",value:function(t,e){this._values[t]=new y(this._values[t].property,null===e?void 0:u(e))}},{key:"serialize",value:function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e++){var r=n[e],i=this.getValue(r);void 0!==i&&(t[r]=i)}return t}},{key:"possiblyEvaluate",value:function(t){for(var e=new w(this._properties),n=0,r=Object.keys(this._values);n<r.length;n++){var i=r[n];e._values[i]=this._values[i].possiblyEvaluate(t)}return e}}]),t}(),x=function(){function t(e,n,i){r(this,t),this.property=e,this.value=n,this.globals=i}return o(t,[{key:"isConstant",value:function(){return"constant"===this.value.kind}},{key:"constantOr",value:function(t){return"constant"===this.value.kind?this.value.value:t}},{key:"evaluate",value:function(t){return this.property.evaluate(this.value,this.globals,t)}}]),t}(),w=function(){function t(e){r(this,t),this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}return o(t,[{key:"get",value:function(t){return this._values[t]}}]),t}(),k=function(){function t(e){r(this,t),this.specification=e}return o(t,[{key:"possiblyEvaluate",value:function(t,e){return a(!t.isDataDriven()),t.expression.evaluate(e)}},{key:"interpolate",value:function(t,e,n){var r=f[this.specification.type];return r?r(t,e,n):t}}]),t}(),_=function(){function t(e){r(this,t),this.specification=e}return o(t,[{key:"possiblyEvaluate",value:function(t,e){return"constant"===t.expression.kind||"camera"===t.expression.kind?new x(this,{kind:"constant",value:t.expression.evaluate(e)},e):new x(this,t.expression,e)}},{key:"interpolate",value:function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0!==t.value.value&&void 0!==e.value.value){var r=f[this.specification.type];return r?new x(this,{kind:"constant",value:r(t.value.value,e.value.value,n)},t.globals):t}}},{key:"evaluate",value:function(t,e,n){return"constant"===t.kind?t.value:t.evaluate(e,n)}}]),t}(),S=function(){function t(e){r(this,t),this.specification=e}return o(t,[{key:"possiblyEvaluate",value:function(t,e){if(void 0!==t.value){if("constant"===t.expression.kind){var n=t.expression.evaluate(e);return this._calculate(n,n,n,e)}return a(!t.isDataDriven()),this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e)}}},{key:"_calculate",value:function(t,e,n,r){var i=r.zoom,o=i-Math.floor(i),a=r.crossFadingFactor();return i>r.zoomHistory.lastIntegerZoom?{from:t,to:e,fromScale:2,toScale:1,t:o+(1-o)*a}:{from:n,to:e,fromScale:.5,toScale:1,t:1-(1-a)*o}}},{key:"interpolate",value:function(t){return t}}]),t}(),A=function(){function t(e){r(this,t),this.specification=e}return o(t,[{key:"possiblyEvaluate",value:function(){}},{key:"interpolate",value:function(){}}]),t}();p("DataDrivenProperty",_),p("DataConstantProperty",k),p("CrossFadedProperty",S),p("HeatmapColorProperty",A),t.exports={PropertyValue:y,Transitionable:v,Transitioning:g,Layout:b,PossiblyEvaluatedPropertyValue:x,PossiblyEvaluated:w,DataConstantProperty:k,DataDrivenProperty:_,CrossFadedProperty:S,HeatmapColorProperty:A,Properties:function t(e){for(var n in r(this,t),this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},e){var i=e[n],o=this.defaultPropertyValues[n]=new y(i,void 0),a=this.defaultTransitionablePropertyValues[n]=new d(i);this.defaultTransitioningPropertyValues[n]=a.untransitioned(),this.defaultPossiblyEvaluatedValues[n]=o.possiblyEvaluate({})}}}},function(t,e,n){function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(46),a=n(47);n(6);e.easeCubicInOut=function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},e.bezier=function(t,e,n,r){var i=new o(t,e,n,r);return function(t){return i.solve(t)}},e.ease=e.bezier(.25,.1,.25,1),e.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},e.wrap=function(t,e,n){var r=n-e,i=((t-e)%r+r)%r+e;return i===e?n:i},e.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var r=t.length,i=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),i[a]=e,0==--r&&n(o,i)})})},e.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},e.keysDifference=function(t,e){var n=[];for(var r in t)r in e||n.push(r);return n},e.extend=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)t[s]=a[s]}return t},e.pick=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r];i in t&&(n[i]=t[i])}return n};var s=1;e.uniqueId=function(){return s++},e.bindAll=function(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})},e.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=0;o<t.length;o++)e=Math.min(e,t[o].column),n=Math.min(n,t[o].row),r=Math.max(r,t[o].column),i=Math.max(i,t[o].row);var s=r-e,u=i-n,l=Math.max(s,u),c=Math.max(0,Math.floor(-Math.log(l)/Math.LN2));return new a((e+r)/2,(n+i)/2,0).zoomTo(c)},e.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},e.mapObject=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n||this,t[i],i,t);return r},e.filterObject=function(t,e,n){var r={};for(var i in t)e.call(n||this,t[i],i,t)&&(r[i]=t[i]);return r},e.deepEqual=n(88),e.clone=function(t){return Array.isArray(t)?t.map(e.clone):"object"===i(t)&&t?e.mapObject(t,e.clone):t},e.arraysIntersect=function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1};var u={};e.warnOnce=function(t){u[t]||("undefined"!=typeof console&&console.warn(t),u[t]=!0)},e.isCounterClockwise=function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)},e.calculateSignedArea=function(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],r+=((n=t[a]).x-e.x)*(e.y+n.y);return r},e.isClosedPolygon=function(t){if(t.length<4)return!1;var n=t[0],r=t[t.length-1];return!(Math.abs(n.x-r.x)>0||Math.abs(n.y-r.y)>0)&&Math.abs(e.calculateSignedArea(t))>.01},e.sphericalToCartesian=function(t){var e=r(t,3),n=e[0],i=e[1],o=e[2];return i+=90,i*=Math.PI/180,o*=Math.PI/180,{x:n*Math.cos(i)*Math.sin(o),y:n*Math.sin(i)*Math.sin(o),z:n*Math.cos(o)}},e.parseCacheControl=function(t){var e={};if(t.replace(/(?:^|(?:\\s*\\,\\s*))([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)(?:\\=(?:([^\\x00-\\x20\\(\\)<>@\\,;\\:\\\\"\\/\\[\\]\\?\\=\\{\\}\\x7F]+)|(?:\\"((?:[^"\\\\]|\\\\.)*)\\")))?/g,function(t,n,r,i){var o=r||i;return e[n]=!o||o.toLowerCase(),""}),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(0),o=n(48),a=n(13),s=n(14),u=s.StylePropertyFunction,l=s.StyleExpression,c=s.StyleExpressionWithErrorHandling,f=s.ZoomDependentExpression,h=s.ZoomConstantExpression,p=n(23).CompoundExpression,y=n(63),d=n(36).ImageData,v={};function m(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(!v[t],"".concat(t," is already registered.")),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),v[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var g in m("Object",Object),o.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),n},o.deserialize=function(t){return new o(t)},m("Grid",o),m("Color",a),m("StylePropertyFunction",u),m("StyleExpression",l,{omit:["_evaluator"]}),m("StyleExpressionWithErrorHandling",c,{omit:["_evaluator"]}),m("ZoomDependentExpression",f),m("ZoomConstantExpression",h),m("CompoundExpression",p,{omit:["_evaluate"]}),y)y[g]._classRegistryKey||m("Expression_".concat(g),y[g]);t.exports={register:m,serialize:function t(e,n){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(e instanceof ArrayBuffer)return n&&n.push(e),e;if(ArrayBuffer.isView(e)){var o=e;return n&&n.push(o.buffer),o}if(e instanceof d)return n&&n.push(e.data.buffer),e;if(Array.isArray(e)){var a=[],s=!0,u=!1,l=void 0;try{for(var c,f=e[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;a.push(t(h,n))}}catch(t){u=!0,l=t}finally{try{s||null==f.return||f.return()}finally{if(u)throw l}}return a}if("object"===r(e)){var p=e.constructor,y=p._classRegistryKey;if(!y)throw new Error("can\'t serialize object of unregistered class");i(v[y]);var m={};if(p.serialize)m._serialized=p.serialize(e,n);else for(var g in e)if(e.hasOwnProperty(g)&&!(v[y].omit.indexOf(g)>=0)){var b=e[g];m[g]=v[y].shallow.indexOf(g)>=0?b:t(b,n)}return{name:y,properties:m}}throw new Error("can\'t serialize object of type ".concat(r(e)))},deserialize:function t(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||e instanceof d)return e;if(Array.isArray(e))return e.map(function(e){return t(e)});if("object"===r(e)){var n=e,i=n.name,o=n.properties;if(!i)throw new Error("can\'t deserialize object of anonymous class");var a=v[i].klass;if(!a)throw new Error("can\'t deserialize unregistered class ".concat(i));if(a.deserialize)return a.deserialize(o._serialized);for(var s=Object.create(a.prototype),u=0,l=Object.keys(o);u<l.length;u++){var c=l[u];s[c]=v[i].shallow.indexOf(c)>=0?o[c]:t(o[c])}return s}throw new Error("can\'t deserialize object of type ".concat(r(e)))}}},function(t,e){var n={kind:"null"},r={kind:"number"},i={kind:"string"},o={kind:"boolean"},a={kind:"color"},s={kind:"object"},u={kind:"value"};function l(t,e){return{kind:"array",itemType:t,N:e}}function c(t){if("array"===t.kind){var e=c(t.itemType);return"number"==typeof t.N?"array<".concat(e,", ").concat(t.N,">"):"value"===t.itemType.kind?"array":"array<".concat(e,">")}return t.kind}var f=[n,r,i,o,a,s,l(u)];t.exports={NullType:n,NumberType:r,StringType:i,BooleanType:o,ColorType:a,ObjectType:s,ValueType:u,array:l,ErrorType:{kind:"error"},toString:c,checkSubtype:function t(e,n){if("error"===n.kind)return null;if("array"===e.kind){if("array"===n.kind&&!t(e.itemType,n.itemType)&&("number"!=typeof e.N||e.N===n.N))return null}else{if(e.kind===n.kind)return null;if("value"===e.kind)for(var r=0,i=f;r<i.length;r++)if(!t(i[r],n))return null}return"Expected ".concat(c(e)," but found ").concat(c(n)," instead.")}}},function(t,e){t.exports=function(t,e,n){this.message=(t?"".concat(t,": "):"")+n,null!=e&&e.__line__&&(this.line=e.__line__)}},function(t,e,n){"use strict";function r(t,e){this.x=t,this.y=e}t.exports=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this},_rotateAround:function(t,e){var n=Math.cos(t),r=Math.sin(t),i=e.x+n*(this.x-e.x)-r*(this.y-e.y),o=e.y+r*(this.x-e.x)+n*(this.y-e.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":n(t)}},function(t,e,n){t.exports=n(102)},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(2),l=n(8),c=n(103),f=n(76),h=n(1),p=h.Layout,y=h.Transitionable,d=(h.Transitioning,h.Properties,function(t){function e(t,n){var r;for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=o(this,a(e).call(this))).id=t.id,r.metadata=t.metadata,r.type=t.type,r.minzoom=t.minzoom,r.maxzoom=t.maxzoom,r.visibility="visible","background"!==t.type&&(r.source=t.source,r.sourceLayer=t["source-layer"],r.filter=t.filter),r._featureFilter=function(){return!0},n.layout&&(r._unevaluatedLayout=new p(n.layout)),r._transitionablePaint=new y(n.paint),t.paint)r.setPaintProperty(i,t.paint[i],{validate:!1});for(var s in t.layout)r.setLayoutProperty(s,t.layout[s],{validate:!1});return r._transitioningPaint=r._transitionablePaint.untransitioned(),r}var n,r,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,f),n=e,(r=[{key:"getLayoutProperty",value:function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)}},{key:"setLayoutProperty",value:function(t,e,n){if(null!=e){var r="layers.".concat(this.id,".layout.").concat(t);if(this._validate(c.layoutProperty,r,t,e,n))return}"visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility="none"===e?e:"visible"}},{key:"getPaintProperty",value:function(t){return u.endsWith(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)}},{key:"setPaintProperty",value:function(t,e,n){if(null!=e){var r="layers.".concat(this.id,".paint.").concat(t);if(this._validate(c.paintProperty,r,t,e,n))return}u.endsWith(t,"-transition")?this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0):this._transitionablePaint.setValue(t,e)}},{key:"isHidden",value:function(t){return!!(this.minzoom&&t<this.minzoom)||(!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility)}},{key:"updateTransitions",value:function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}},{key:"hasTransition",value:function(){return this._transitioningPaint.hasTransition()}},{key:"recalculate",value:function(t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t)}},{key:"serialize",value:function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(t.layout=t.layout||{},t.layout.visibility="none"),u.filterObject(t,function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})}},{key:"_validate",value:function(t,e,n,r,i){return(!i||!1!==i.validate)&&c.emitErrors(this,t.call(c,{key:e,layerType:this.type,objectKey:n,value:r,styleSpec:l,style:{glyphs:!0,sprite:!0}}))}},{key:"hasOffscreenPass",value:function(){return!1}},{key:"resize",value:function(){}}])&&i(n.prototype,r),h&&i(n,h),e}());t.exports=d;var v={circle:n(108),heatmap:n(112),hillshade:n(115),fill:n(117),"fill-extrusion":n(122),line:n(126),symbol:n(132),background:n(140),raster:n(142)};d.create=function(t){return new v[t.type](t)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=n(0),h=n(17).StructArray,p=n(17).Struct,y=n(3).register,d=n(6),v=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.int16[r+0]=t,this.int16[r+1]=e,n}}]),e}();v.prototype.bytesPerElement=4,y("StructArrayLayout2i4",v);var m=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r){var i=this.length;this.resize(i+1);var o=4*i;return this.int16[o+0]=t,this.int16[o+1]=e,this.int16[o+2]=n,this.int16[o+3]=r,i}}]),e}();m.prototype.bytesPerElement=8,y("StructArrayLayout4i8",m);var g=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r,i,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=n,this.int16[s+3]=r,this.int16[s+4]=i,this.int16[s+5]=o,a}}]),e}();g.prototype.bytesPerElement=12,y("StructArrayLayout2i4i12",g);var b=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r,i,o,a,s){var u=this.length;this.resize(u+1);var l=6*u,c=12*u;return this.int16[l+0]=t,this.int16[l+1]=e,this.int16[l+2]=n,this.int16[l+3]=r,this.uint8[c+8]=i,this.uint8[c+9]=o,this.uint8[c+10]=a,this.uint8[c+11]=s,u}}]),e}();b.prototype.bytesPerElement=12,y("StructArrayLayout4i4ub12",b);var x=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r,i,o,a,s){var u=this.length;this.resize(u+1);var l=8*u;return this.int16[l+0]=t,this.int16[l+1]=e,this.int16[l+2]=n,this.int16[l+3]=r,this.uint16[l+4]=i,this.uint16[l+5]=o,this.uint16[l+6]=a,this.uint16[l+7]=s,u}}]),e}();x.prototype.bytesPerElement=16,y("StructArrayLayout4i4ui16",x);var w=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.float32[i+0]=t,this.float32[i+1]=e,this.float32[i+2]=n,r}}]),e}();w.prototype.bytesPerElement=12,y("StructArrayLayout3f12",w);var k=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t){var e=this.length;this.resize(e+1);var n=1*e;return this.uint32[n+0]=t,e}}]),e}();k.prototype.bytesPerElement=4,y("StructArrayLayout1ul4",k);var _=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r,i,o,a,s,u,l,c){var f=this.length;this.resize(f+1);var h=12*f,p=6*f;return this.int16[h+0]=t,this.int16[h+1]=e,this.int16[h+2]=n,this.int16[h+3]=r,this.int16[h+4]=i,this.int16[h+5]=o,this.uint32[p+3]=a,this.uint16[h+8]=s,this.uint16[h+9]=u,this.int16[h+10]=l,this.int16[h+11]=c,f}}]),e}();_.prototype.bytesPerElement=24,y("StructArrayLayout6i1ul2ui2i24",_);var S=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r,i,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=n,this.int16[s+3]=r,this.int16[s+4]=i,this.int16[s+5]=o,a}}]),e}();S.prototype.bytesPerElement=12,y("StructArrayLayout2i2i2i12",S);var A=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e){var n=this.length;this.resize(n+1);var r=4*n;return this.uint8[r+0]=t,this.uint8[r+1]=e,n}}]),e}();A.prototype.bytesPerElement=4,y("StructArrayLayout2ub4",A);var T=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r,i,o,a,s,u,l,c,f,h,p){var y=this.length;this.resize(y+1);var d=20*y,v=10*y,m=40*y;return this.int16[d+0]=t,this.int16[d+1]=e,this.uint16[d+2]=n,this.uint16[d+3]=r,this.uint32[v+2]=i,this.uint32[v+3]=o,this.uint32[v+4]=a,this.uint16[d+10]=s,this.uint16[d+11]=u,this.uint16[d+12]=l,this.float32[v+7]=c,this.float32[v+8]=f,this.uint8[m+36]=h,this.uint8[m+37]=p,y}}]),e}();T.prototype.bytesPerElement=40,y("StructArrayLayout2i2ui3ul3ui2f2ub40",T);var j=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t){var e=this.length;this.resize(e+1);var n=1*e;return this.float32[n+0]=t,e}}]),e}();j.prototype.bytesPerElement=4,y("StructArrayLayout1f4",j);var O=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.int16[i+0]=t,this.int16[i+1]=e,this.int16[i+2]=n,r}}]),e}();O.prototype.bytesPerElement=6,y("StructArrayLayout3i6",O);var z=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n){var r=this.length;this.resize(r+1);var i=2*r,o=4*r;return this.uint32[i+0]=t,this.uint16[o+2]=e,this.uint16[o+3]=n,r}}]),e}();z.prototype.bytesPerElement=8,y("StructArrayLayout1ul2ui8",z);var P=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n){var r=this.length;this.resize(r+1);var i=3*r;return this.uint16[i+0]=t,this.uint16[i+1]=e,this.uint16[i+2]=n,r}}]),e}();P.prototype.bytesPerElement=6,y("StructArrayLayout3ui6",P);var E=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.uint16[r+0]=t,this.uint16[r+1]=e,n}}]),e}();E.prototype.bytesPerElement=4,y("StructArrayLayout2ui4",E);var C=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e){var n=this.length;this.resize(n+1);var r=2*n;return this.float32[r+0]=t,this.float32[r+1]=e,n}}]),e}();C.prototype.bytesPerElement=8,y("StructArrayLayout2f8",C);var M=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,h),a(e,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(t,e,n,r){var i=this.length;this.resize(i+1);var o=4*i;return this.float32[o+0]=t,this.float32[o+1]=e,this.float32[o+2]=n,this.float32[o+3]=r,i}}]),e}();M.prototype.bytesPerElement=16,y("StructArrayLayout4f16",M);var I=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,p),a(e,[{key:"anchorPointX",get:function(){return this._structArray.int16[this._pos2+0]},set:function(t){this._structArray.int16[this._pos2+0]=t}},{key:"anchorPointY",get:function(){return this._structArray.int16[this._pos2+1]},set:function(t){this._structArray.int16[this._pos2+1]=t}},{key:"x1",get:function(){return this._structArray.int16[this._pos2+2]},set:function(t){this._structArray.int16[this._pos2+2]=t}},{key:"y1",get:function(){return this._structArray.int16[this._pos2+3]},set:function(t){this._structArray.int16[this._pos2+3]=t}},{key:"x2",get:function(){return this._structArray.int16[this._pos2+4]},set:function(t){this._structArray.int16[this._pos2+4]=t}},{key:"y2",get:function(){return this._structArray.int16[this._pos2+5]},set:function(t){this._structArray.int16[this._pos2+5]=t}},{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+3]},set:function(t){this._structArray.uint32[this._pos4+3]=t}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+8]},set:function(t){this._structArray.uint16[this._pos2+8]=t}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+9]},set:function(t){this._structArray.uint16[this._pos2+9]=t}},{key:"radius",get:function(){return this._structArray.int16[this._pos2+10]},set:function(t){this._structArray.int16[this._pos2+10]=t}},{key:"signedDistanceFromAnchor",get:function(){return this._structArray.int16[this._pos2+11]},set:function(t){this._structArray.int16[this._pos2+11]=t}},{key:"anchorPoint",get:function(){return new d(this.anchorPointX,this.anchorPointY)}}]),e}();I.prototype.size=24;var B=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,_),a(e,[{key:"get",value:function(t){return f(!this.isTransferred),new I(this,t)}}]),e}();y("CollisionBoxArray",B);var V=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,p),a(e,[{key:"anchorX",get:function(){return this._structArray.int16[this._pos2+0]},set:function(t){this._structArray.int16[this._pos2+0]=t}},{key:"anchorY",get:function(){return this._structArray.int16[this._pos2+1]},set:function(t){this._structArray.int16[this._pos2+1]=t}},{key:"glyphStartIndex",get:function(){return this._structArray.uint16[this._pos2+2]},set:function(t){this._structArray.uint16[this._pos2+2]=t}},{key:"numGlyphs",get:function(){return this._structArray.uint16[this._pos2+3]},set:function(t){this._structArray.uint16[this._pos2+3]=t}},{key:"vertexStartIndex",get:function(){return this._structArray.uint32[this._pos4+2]},set:function(t){this._structArray.uint32[this._pos4+2]=t}},{key:"lineStartIndex",get:function(){return this._structArray.uint32[this._pos4+3]},set:function(t){this._structArray.uint32[this._pos4+3]=t}},{key:"lineLength",get:function(){return this._structArray.uint32[this._pos4+4]},set:function(t){this._structArray.uint32[this._pos4+4]=t}},{key:"segment",get:function(){return this._structArray.uint16[this._pos2+10]},set:function(t){this._structArray.uint16[this._pos2+10]=t}},{key:"lowerSize",get:function(){return this._structArray.uint16[this._pos2+11]},set:function(t){this._structArray.uint16[this._pos2+11]=t}},{key:"upperSize",get:function(){return this._structArray.uint16[this._pos2+12]},set:function(t){this._structArray.uint16[this._pos2+12]=t}},{key:"lineOffsetX",get:function(){return this._structArray.float32[this._pos4+7]},set:function(t){this._structArray.float32[this._pos4+7]=t}},{key:"lineOffsetY",get:function(){return this._structArray.float32[this._pos4+8]},set:function(t){this._structArray.float32[this._pos4+8]=t}},{key:"writingMode",get:function(){return this._structArray.uint8[this._pos1+36]},set:function(t){this._structArray.uint8[this._pos1+36]=t}},{key:"hidden",get:function(){return this._structArray.uint8[this._pos1+37]},set:function(t){this._structArray.uint8[this._pos1+37]=t}}]),e}();V.prototype.size=40;var L=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,T),a(e,[{key:"get",value:function(t){return f(!this.isTransferred),new V(this,t)}}]),e}();y("PlacedSymbolArray",L);var F=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,p),a(e,[{key:"offsetX",get:function(){return this._structArray.float32[this._pos4+0]},set:function(t){this._structArray.float32[this._pos4+0]=t}}]),e}();F.prototype.size=4;var R=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,j),a(e,[{key:"getoffsetX",value:function(t){return this.float32[1*t+0]}},{key:"get",value:function(t){return f(!this.isTransferred),new F(this,t)}}]),e}();y("GlyphOffsetArray",R);var D=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,p),a(e,[{key:"x",get:function(){return this._structArray.int16[this._pos2+0]},set:function(t){this._structArray.int16[this._pos2+0]=t}},{key:"y",get:function(){return this._structArray.int16[this._pos2+1]},set:function(t){this._structArray.int16[this._pos2+1]=t}},{key:"tileUnitDistanceFromAnchor",get:function(){return this._structArray.int16[this._pos2+2]},set:function(t){this._structArray.int16[this._pos2+2]=t}}]),e}();D.prototype.size=6;var q=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,O),a(e,[{key:"getx",value:function(t){return this.int16[3*t+0]}},{key:"gety",value:function(t){return this.int16[3*t+1]}},{key:"gettileUnitDistanceFromAnchor",value:function(t){return this.int16[3*t+2]}},{key:"get",value:function(t){return f(!this.isTransferred),new D(this,t)}}]),e}();y("SymbolLineVertexArray",q);var N=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,p),a(e,[{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+0]},set:function(t){this._structArray.uint32[this._pos4+0]=t}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+2]},set:function(t){this._structArray.uint16[this._pos2+2]=t}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+3]},set:function(t){this._structArray.uint16[this._pos2+3]=t}}]),e}();N.prototype.size=8;var U=function(t){function e(){return i(this,e),s(this,u(e).apply(this,arguments))}return l(e,z),a(e,[{key:"get",value:function(t){return f(!this.isTransferred),new N(this,t)}}]),e}();y("FeatureIndexArray",U),t.exports={StructArrayLayout2i4:v,StructArrayLayout4i8:m,StructArrayLayout2i4i12:g,StructArrayLayout4i4ub12:b,StructArrayLayout4i4ui16:x,StructArrayLayout3f12:w,StructArrayLayout1ul4:k,StructArrayLayout6i1ul2ui2i24:_,StructArrayLayout2i2i2i12:S,StructArrayLayout2ub4:A,StructArrayLayout2i2ui3ul3ui2f2ub40:T,StructArrayLayout1f4:j,StructArrayLayout3i6:O,StructArrayLayout1ul2ui8:z,StructArrayLayout3ui6:P,StructArrayLayout2ui4:E,StructArrayLayout2f8:C,StructArrayLayout4f16:M,PosArray:v,RasterBoundsArray:m,CircleLayoutArray:v,FillLayoutArray:v,FillExtrusionLayoutArray:g,HeatmapLayoutArray:v,LineLayoutArray:b,SymbolLayoutArray:x,SymbolDynamicLayoutArray:w,SymbolOpacityArray:k,CollisionBoxLayoutArray:S,CollisionCircleLayoutArray:S,CollisionVertexArray:A,TriangleIndexArray:P,LineIndexArray:E,CollisionBoxArray:B,PlacedSymbolArray:L,GlyphOffsetArray:R,SymbolLineVertexArray:q,FeatureIndexArray:U}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(0),o=n(13),a=n(4),s=a.NullType,u=a.NumberType,l=a.StringType,c=a.BooleanType,f=a.ColorType,h=a.ObjectType,p=a.ValueType,y=a.array;t.exports={Color:o,validateRGBA:function(t,e,n,r){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:"Invalid rgba value [".concat([t,e,n,r].join(", "),"]: \'a\' must be between 0 and 1."):"Invalid rgba value [".concat(("number"==typeof r?[t,e,n,r]:[t,e,n]).join(", "),"]: \'r\', \'g\', and \'b\' must be between 0 and 255.")},isValue:function t(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof o)return!0;if(Array.isArray(e)){var n=!0,i=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done);n=!0)if(!t(s.value))return!1}catch(t){i=!0,a=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}return!0}if("object"===r(e)){for(var l in e)if(!t(e[l]))return!1;return!0}return!1},typeOf:function t(e){if(null===e)return s;if("string"==typeof e)return l;if("boolean"==typeof e)return c;if("number"==typeof e)return u;if(e instanceof o)return f;if(Array.isArray(e)){var n,a=e.length,d=!0,v=!1,m=void 0;try{for(var g,b=e[Symbol.iterator]();!(d=(g=b.next()).done);d=!0){var x=t(g.value);if(n){if(n===x)continue;n=p;break}n=x}}catch(t){v=!0,m=t}finally{try{d||null==b.return||b.return()}finally{if(v)throw m}}return y(n||p,a)}return i("object"===r(e)),h}}},function(t,e){function n(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}t.exports=n,t.exports.deep=function t(e){return Array.isArray(e)?e.map(t):n(e)}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(49).parseCSSColor,o=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.r=e,this.g=n,this.b=r,this.a=i}var e,n,o;return e=t,o=[{key:"parse",value:function(e){if(e){if(e instanceof t)return e;if("string"==typeof e){var n=i(e);if(n)return new t(n[0]/255*n[3],n[1]/255*n[3],n[2]/255*n[3],n[3])}}}}],(n=[{key:"toString",value:function(){var t=this,e=[this.r,this.g,this.b].map(function(e){return Math.round(255*e/t.a)});return"rgba(".concat(e.concat(this.a).join(","),")")}}])&&r(e.prototype,n),o&&r(e,o),t}();o.black=new o(0,0,0,1),o.white=new o(1,1,1,1),o.transparent=new o(0,0,0,0),t.exports=o},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}var c=n(0),f=n(22),h=n(50),p=n(51),y=n(33),d=n(23).CompoundExpression,v=n(59),m=n(34),g=n(61),b=n(62),x=n(63),w=n(57),k=n(15),_=n(99),S=_.success,A=_.error,T=function(){function t(e){s(this,t),this.expression=e}return l(t,[{key:"evaluate",value:function(t,e){return this._evaluator||(this._evaluator=new y),this._evaluator.globals=t,this._evaluator.feature=e,this.expression.evaluate(this._evaluator)}}]),t}(),j=function(t){function e(t,n){var r,a;return s(this,e),(r=i(this,o(e).call(this,t)))._warningHistory={},r._defaultValue="color"===(a=n).type&&I(a.default)?new V(0,0,0,0):"color"===a.type?V.parse(a.default)||null:void 0===a.default?null:a.default,"enum"===n.type&&(r._enumValues=n.values),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,T),l(e,[{key:"evaluate",value:function(t,e){this._evaluator||(this._evaluator=new y),this._evaluator.globals=t,this._evaluator.feature=e;try{var n=this.expression.evaluate(this._evaluator);if(null==n)return this._defaultValue;if(this._enumValues&&!(n in this._enumValues))throw new k("Expected value to be one of ".concat(Object.keys(this._enumValues).map(function(t){return JSON.stringify(t)}).join(", "),", but found ").concat(JSON.stringify(n)," instead."));return n}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}}}]),e}();function O(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in x}function z(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new p(x,[],function(t){var e={color:R,string:D,number:q,enum:D,boolean:N};if("array"===t.type)return J(e[t.value]||U,t.length);return e[t.type]||null}(e)),i=r.parse(t);return i?!1===n.handleErrors?S(new T(i)):S(new j(i,e)):(c(r.errors.length>0),A(r.errors))}var P=function(){function t(e,n){s(this,t),this.kind=e,this._styleExpression=n}return l(t,[{key:"evaluate",value:function(t,e){return this._styleExpression.evaluate(t,e)}}]),t}(),E=function(){function t(e,n,r){s(this,t),this.kind=e,this.zoomStops=r.labels,this._styleExpression=n,r instanceof m&&(this._interpolationType=r.interpolation)}return l(t,[{key:"evaluate",value:function(t,e){return this._styleExpression.evaluate(t,e)}},{key:"interpolationFactor",value:function(t,e,n){return this._interpolationType?m.interpolationFactor(this._interpolationType,t,e,n):0}}]),t}();function C(t,e){if("error"===(t=z(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})).result)return t;var n=t.value.expression,r=w.isFeatureConstant(n);if(!r&&!e["property-function"])return A([new h("","property expressions not supported")]);var i=w.isGlobalPropertyConstant(n,["zoom"]);if(!i&&!1===e["zoom-function"])return A([new h("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof b)n=t(e.result);else if(e instanceof g){var r=!0,i=!1,o=void 0;try{for(var a,s=e.args[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(n=t(u))break}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}else(e instanceof v||e instanceof m)&&e.input instanceof d&&"zoom"===e.input.name&&(n=e);if(n instanceof h)return n;e.eachChild(function(e){var r=t(e);r instanceof h?n=r:!n&&r?n=new h("",\'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.\'):n&&r&&n!==r&&(n=new h("",\'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.\'))});return n}(n);return o||i?o instanceof h?A([o]):o instanceof m&&"piecewise-constant"===e.function?A([new h("",\'"interpolate" expressions cannot be used with this property\')]):S(o?new E(r?"camera":"composite",t.value,o):new P(r?"constant":"source",t.value)):A([new h("",\'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.\')])}var M=n(35),I=M.isFunction,B=M.createFunction,V=n(11).Color,L=function(){function t(e,n){s(this,t),this._parameters=e,this._specification=n,f(this,B(this._parameters,this._specification))}return l(t,null,[{key:"deserialize",value:function(e){return new t(e._parameters,e._specification)}},{key:"serialize",value:function(t){return{_parameters:t._parameters,_specification:t._specification}}}]),t}();t.exports={StyleExpression:T,StyleExpressionWithErrorHandling:j,isExpression:O,createExpression:z,createPropertyExpression:C,normalizePropertyExpression:function(t,e){if(I(t))return new L(t,e);if(O(t)){var n=C(t,e);if("error"===n.result)throw new Error(n.value.map(function(t){return"".concat(t.key,": ").concat(t.message)}).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=V.parse(t)),{kind:"constant",evaluate:function(){return r}}},ZoomConstantExpression:P,ZoomDependentExpression:E,StylePropertyFunction:L};var F=n(4),R=F.ColorType,D=F.StringType,q=F.NumberType,N=F.BooleanType,U=F.ValueType,J=F.array},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name="ExpressionEvaluationError",this.message=e}var e,r,i;return e=t,(r=[{key:"toJSON",value:function(){return this.message}}])&&n(e.prototype,r),i&&n(e,i),t}();t.exports=r},function(t,e,n){var r=n(22),i=n(12),o=n(14).isExpression,a=n(35).isFunction;t.exports=function(t){var e=n(65),s=n(68),u=n(24),l={"*":function(){return[]},array:n(66),boolean:n(105),number:n(67),color:n(106),constants:n(64),enum:n(37),filter:n(38),function:n(65),layer:n(69),object:n(24),source:n(73),light:n(74),string:n(75)},c=t.value,f=t.valueSpec,h=t.styleSpec;return f.function&&a(i(c))?e(t):f.function&&o(i.deep(c))?s(t):f.type&&l[f.type]?l[f.type](t):u(r({},t,{valueSpec:f.type?h[f.type]:f}))}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(0),a={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},s=function(){function t(){i(this,t),this.isTransferred=!1,this.capacity=-1,this.resize(0)}var e,n,a;return e=t,a=[{key:"serialize",value:function(t,e){return o(!t.isTransferred),t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}},{key:"deserialize",value:function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e}}],(n=[{key:"_trim",value:function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}},{key:"clear",value:function(){this.length=0}},{key:"resize",value:function(t){o(!this.isTransferred),this.reserve(t),this.length=t}},{key:"reserve",value:function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}}},{key:"_refreshViews",value:function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}])&&r(e.prototype,n),a&&r(e,a),t}();function u(t,e){return Math.ceil(t/e)*e}t.exports.StructArray=s,t.exports.Struct=function t(e,n){i(this,t),this._structArray=e,this._pos1=n*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},t.exports.viewTypes=a,t.exports.createLayout=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,r=0;return{members:t.map(function(t){o(t.name.length);var i,s=(i=t.type,a[i].BYTES_PER_ELEMENT),l=n=u(n,Math.max(e,s)),c=t.components||1;return r=Math.max(r,s),n+=s*c,{name:t.name,type:t.type,components:c,offset:l}}),size:u(n,Math.max(r,e)),alignment:e}}},function(t,e){t.exports=8192},function(t,e,n){var r=n(13);function i(t,e,n){return t*(1-n)+e*n}t.exports={number:i,color:function(t,e,n){return new r(i(t.r,e.r,n),i(t.g,e.g,n),i(t.b,e.b,n),i(t.a,e.a,n))},array:function(t,e,n){return t.map(function(t,r){return i(t,e[r],n)})}}},function(t,e,n){var r=n(2),i=n(18);var o,a=(o=16,{min:-1*Math.pow(2,o-1),max:Math.pow(2,o-1)-1});t.exports=function(t){for(var e=i/t.extent,n=t.loadGeometry(),o=0;o<n.length;o++)for(var s=n[o],u=0;u<s.length;u++){var l=s[u];l.x=Math.round(l.x*e),l.y=Math.round(l.y*e),(l.x<a.min||l.x>a.max||l.y<a.min||l.y>a.max)&&r.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}},function(t,e,n){t.exports.VectorTile=n(129),t.exports.VectorTileFeature=n(80),t.exports.VectorTileLayer=n(79)},function(t,e){t.exports=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)t[s]=a[s]}return t}},function(t,e,n){function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(4).toString,a=n(51),s=(n(33),n(0)),u=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.type=n,this._evaluate=r,this.args=i}var e,n,u;return e=t,u=[{key:"parse",value:function(e,n){var i=e[0],u=t.definitions[i];if(!u)return n.error(\'Unknown expression "\'.concat(i,\'". If you wanted a literal array, use ["literal", [...]].\'),0);for(var l=Array.isArray(u)?u[0]:u.type,c=Array.isArray(u)?[[u[1],u[2]]]:u.overloads,f=c.filter(function(t){var n=r(t,1)[0];return!Array.isArray(n)||n.length===e.length-1}),h=[],p=1;p<e.length;p++){var y=e[p],d=void 0;if(1===f.length){var v=f[0][0];d=Array.isArray(v)?v[p-1]:v.type}var m=n.parse(y,1+h.length,d);if(!m)return null;h.push(m)}var g=null,b=!0,x=!1,w=void 0;try{for(var k,_=f[Symbol.iterator]();!(b=(k=_.next()).done);b=!0){var S=r(k.value,2),A=S[0],T=S[1];if(g=new a(n.registry,n.path,null,n.scope),Array.isArray(A)&&A.length!==h.length)g.error("Expected ".concat(A.length," arguments, but found ").concat(h.length," instead."));else{for(var j=0;j<h.length;j++){var O=Array.isArray(A)?A[j]:A.type,z=h[j];g.concat(j+1).checkSubtype(O,z.type)}if(0===g.errors.length)return new t(i,l,T,h)}}}catch(t){x=!0,w=t}finally{try{b||null==_.return||_.return()}finally{if(x)throw w}}if(s(!g||g.errors.length>0),1===f.length)n.errors.push.apply(n.errors,g.errors);else{var P=(f.length?f:c).map(function(t){var e,n=r(t,1)[0];return e=n,Array.isArray(e)?"(".concat(e.map(o).join(", "),")"):"(".concat(o(e.type),"...)")}).join(" | "),E=h.map(function(t){return o(t.type)}).join(", ");n.error("Expected arguments of type ".concat(P,", but found (").concat(E,") instead."))}return null}},{key:"register",value:function(e,n){for(var r in s(!t.definitions),t.definitions=n,n)e[r]=t}}],(n=[{key:"evaluate",value:function(t){return this._evaluate(t,this.args)}},{key:"eachChild",value:function(t){this.args.forEach(t)}},{key:"possibleOutputs",value:function(){return[void 0]}}])&&i(e.prototype,n),u&&i(e,u),t}();t.exports={CompoundExpression:u,varargs:function(t){return{type:t}}}},function(t,e,n){var r=n(5),i=n(7),o=n(16);t.exports=function(t){var e=t.key,n=t.value,a=t.valueSpec||{},s=t.objectElementValidators||{},u=t.style,l=t.styleSpec,c=[],f=i(n);if("object"!==f)return[new r(e,n,"object expected, ".concat(f," found"))];for(var h in n){var p=h.split(".")[0],y=a[p]||a["*"],d=void 0;if(s[p])d=s[p];else if(a[p])d=o;else if(s["*"])d=s["*"];else{if(!a["*"]){c.push(new r(e,n[h],\'unknown property "\'.concat(h,\'"\')));continue}d=o}c=c.concat(d({key:(e?"".concat(e,"."):e)+h,value:n[h],valueSpec:y,style:u,styleSpec:l,object:n,objectKey:h},n))}for(var v in a)s[v]||a[v].required&&void 0===a[v].default&&void 0===n[v]&&c.push(new r(e,n,\'missing required property "\'.concat(v,\'"\')));return c}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(2).warnOnce,o=n(3).register,a=Math.pow(2,16)-1,s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.segments=t}var n,o,s;return n=e,(o=[{key:"prepareSegment",value:function(e,n,r){var o=this.segments[this.segments.length-1];return e>a&&i("Max vertices per segment is ".concat(a,": bucket requested ").concat(e)),(!o||o.vertexLength+e>t.exports.MAX_VERTEX_ARRAY_LENGTH)&&(o={vertexOffset:n.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},this.segments.push(o)),o}},{key:"get",value:function(){return this.segments}},{key:"destroy",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.segments[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;for(var a in o.vaos)o.vaos[a].destroy()}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}}])&&r(n.prototype,o),s&&r(n,s),e}();o("SegmentVector",s),t.exports={SegmentVector:s,MAX_VERTEX_ARRAY_LENGTH:a}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var a=n(110).packUint8ToFloat,s=(n(13),n(3).register),u=n(1).PossiblyEvaluatedPropertyValue,l=n(10),c=l.StructArrayLayout1f4,f=l.StructArrayLayout2f8,h=l.StructArrayLayout4f16;function p(t){return[a(255*t.r,255*t.g),a(255*t.b,255*t.a)]}var y=function(){function t(e,n,i){r(this,t),this.value=e,this.name=n,this.type=i,this.statistics={max:-1/0}}return o(t,[{key:"defines",value:function(){return["#define HAS_UNIFORM_u_".concat(this.name)]}},{key:"populatePaintArray",value:function(){}},{key:"upload",value:function(){}},{key:"destroy",value:function(){}},{key:"setUniforms",value:function(t,e,n,r){var i=r.constantOr(this.value),o=t.gl;"color"===this.type?o.uniform4f(e.uniforms["u_".concat(this.name)],i.r,i.g,i.b,i.a):o.uniform1f(e.uniforms["u_".concat(this.name)],i)}}]),t}(),d=function(){function t(e,n,i){r(this,t),this.expression=e,this.name=n,this.type=i,this.statistics={max:-1/0};var o="color"===i?f:c;this.paintVertexAttributes=[{name:"a_".concat(n),type:"Float32",components:"color"===i?2:1,offset:0}],this.paintVertexArray=new o}return o(t,[{key:"defines",value:function(){return[]}},{key:"populatePaintArray",value:function(t,e){var n=this.paintVertexArray,r=n.length;n.reserve(t);var i=this.expression.evaluate({zoom:0},e);if("color"===this.type)for(var o=p(i),a=r;a<t;a++)n.emplaceBack(o[0],o[1]);else{for(var s=r;s<t;s++)n.emplaceBack(i);this.statistics.max=Math.max(this.statistics.max,i)}}},{key:"upload",value:function(t){this.paintVertexArray&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}},{key:"setUniforms",value:function(t,e){t.gl.uniform1f(e.uniforms["a_".concat(this.name,"_t")],0)}}]),t}(),v=function(){function t(e,n,i,o,a){r(this,t),this.expression=e,this.name=n,this.type=i,this.useIntegerZoom=o,this.zoom=a,this.statistics={max:-1/0};var s="color"===i?h:f;this.paintVertexAttributes=[{name:"a_".concat(n),type:"Float32",components:"color"===i?4:2,offset:0}],this.paintVertexArray=new s}return o(t,[{key:"defines",value:function(){return[]}},{key:"populatePaintArray",value:function(t,e){var n=this.paintVertexArray,r=n.length;n.reserve(t);var i=this.expression.evaluate({zoom:this.zoom},e),o=this.expression.evaluate({zoom:this.zoom+1},e);if("color"===this.type)for(var a=p(i),s=p(o),u=r;u<t;u++)n.emplaceBack(a[0],a[1],s[0],s[1]);else{for(var l=r;l<t;l++)n.emplaceBack(i,o);this.statistics.max=Math.max(this.statistics.max,i,o)}}},{key:"upload",value:function(t){this.paintVertexArray&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}},{key:"interpolationFactor",value:function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)}},{key:"setUniforms",value:function(t,e,n){t.gl.uniform1f(e.uniforms["a_".concat(this.name,"_t")],this.interpolationFactor(n.zoom))}}]),t}(),m=function(){function t(){r(this,t),this.binders={},this.cacheKey="",this._buffers=[]}return o(t,[{key:"populatePaintArrays",value:function(t,e){for(var n in this.binders)this.binders[n].populatePaintArray(t,e)}},{key:"defines",value:function(){var t=[];for(var e in this.binders)t.push.apply(t,this.binders[e].defines());return t}},{key:"setUniforms",value:function(t,e,n,r){for(var i in this.binders){this.binders[i].setUniforms(t,e,r,n.get(i))}}},{key:"getPaintVertexBuffers",value:function(){return this._buffers}},{key:"upload",value:function(t){for(var e in this.binders)this.binders[e].upload(t);var n=[];for(var r in this.binders){var i=this.binders[r];(i instanceof d||i instanceof v)&&i.paintVertexBuffer&&n.push(i.paintVertexBuffer)}this._buffers=n}},{key:"destroy",value:function(){for(var t in this.binders)this.binders[t].destroy()}}],[{key:"createDynamic",value:function(e,n,r){var i=new t,o=[];for(var a in e.paint._values)if(r(a)){var s=e.paint.get(a);if(s instanceof u&&s.property.specification["property-function"]){var l=b(a,e.type),c=s.property.specification.type,f=s.property.useIntegerZoom;"constant"===s.value.kind?(i.binders[a]=new y(s.value,l,c),o.push("/u_".concat(l))):"source"===s.value.kind?(i.binders[a]=new d(s.value,l,c),o.push("/a_".concat(l))):(i.binders[a]=new v(s.value,l,c,f,n),o.push("/z_".concat(l)))}}return i.cacheKey=o.sort().join(""),i}}]),t}(),g=function(){function t(e,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0};r(this,t),this.programConfigurations={};var a=!0,s=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value;this.programConfigurations[f.id]=m.createDynamic(f,i,o),this.programConfigurations[f.id].layoutAttributes=e}}catch(t){s=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}}return o(t,[{key:"populatePaintArrays",value:function(t,e){for(var n in this.programConfigurations)this.programConfigurations[n].populatePaintArrays(t,e)}},{key:"get",value:function(t){return this.programConfigurations[t]}},{key:"upload",value:function(t){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t)}},{key:"destroy",value:function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()}}]),t}();function b(t,e){return{"text-opacity":"opacity","icon-opacity":"opacity","text-color":"fill_color","icon-color":"fill_color","text-halo-color":"halo_color","icon-halo-color":"halo_color","text-halo-blur":"halo_blur","icon-halo-blur":"halo_blur","text-halo-width":"halo_width","icon-halo-width":"halo_width","line-gap-width":"gapwidth"}[t]||t.replace("".concat(e,"-"),"").replace(/-/g,"_")}s("ConstantBinder",y),s("SourceExpressionBinder",d),s("CompositeExpressionBinder",v),s("ProgramConfiguration",m,{omit:["_buffers"]}),s("ProgramConfigurationSet",g),t.exports={ProgramConfiguration:m,ProgramConfigurationSet:g}},function(t,e,n){t.exports={LineIndexArray:n(10).LineIndexArray,TriangleIndexArray:n(10).TriangleIndexArray}},function(t,e,n){var r=n(2).isCounterClockwise;function i(t,e,n){if(t.length>1){if(o(t,e))return!0;for(var r=0;r<e.length;r++)if(s(e[r],t,n))return!0}for(var i=0;i<t.length;i++)if(s(t[i],e,n))return!0;return!1}function o(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var r=t[n],i=t[n+1],o=0;o<e.length-1;o++){if(a(r,i,e[o],e[o+1]))return!0}return!1}function a(t,e,n,i){return r(t,n,i)!==r(e,n,i)&&r(t,e,n)!==r(t,e,i)}function s(t,e,n){var r=n*n;if(1===e.length)return t.distSqr(e[0])<r;for(var i=1;i<e.length;i++){if(u(t,e[i-1],e[i])<r)return!0}return!1}function u(t,e,n){var r=e.distSqr(n);if(0===r)return t.distSqr(e);var i=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/r;return i<0?t.distSqr(e):i>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(i)._add(e))}function l(t,e){for(var n,r,i,o=!1,a=0;a<t.length;a++)for(var s=0,u=(n=t[a]).length-1;s<n.length;u=s++)r=n[s],i=n[u],r.y>e.y!=i.y>e.y&&e.x<(i.x-r.x)*(e.y-r.y)/(i.y-r.y)+r.x&&(o=!o);return o}function c(t,e){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r],a=t[i];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}t.exports={multiPolygonIntersectsBufferedMultiPoint:function(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r],o=0;o<e.length;o++)for(var a=e[o],u=0;u<a.length;u++){var l=a[u];if(c(i,l))return!0;if(s(l,i,n))return!0}return!1},multiPolygonIntersectsMultiPolygon:function(t,e){if(1===t.length&&1===t[0].length)return l(e,t[0][0]);for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++)if(l(t,r[i]))return!0;for(var a=0;a<t.length;a++){for(var s=t[a],u=0;u<s.length;u++)if(l(e,s[u]))return!0;for(var c=0;c<e.length;c++)if(o(s,e[c]))return!0}return!1},multiPolygonIntersectsBufferedMultiLine:function(t,e,n){for(var r=0;r<e.length;r++)for(var o=e[r],a=0;a<t.length;a++){var s=t[a];if(s.length>=3)for(var u=0;u<o.length;u++)if(c(s,o[u]))return!0;if(i(s,o,n))return!0}return!1},polygonIntersectsPolygon:function(t,e){for(var n=0;n<t.length;n++)if(c(e,t[n]))return!0;for(var r=0;r<e.length;r++)if(c(t,e[r]))return!0;return!!o(t,e)},distToSegmentSquared:u}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var a=n(0),s=n(3).register;function u(t,e,n,r){var i=e.width,o=e.height;if(r){if(r.length!==i*o*n)throw new RangeError("mismatched image size")}else r=new Uint8Array(i*o*n);return t.width=i,t.height=o,t.data=r,t}function l(t,e,n){var r=e.width,i=e.height;if(r!==t.width||i!==t.height){var o=u({},{width:r,height:i},n);c(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,i)},n),t.width=r,t.height=i,t.data=o.data}}function c(t,e,n,r,i,o){if(0===i.width||0===i.height)return e;if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range destination coordinates for image copy");var s=t.data,u=e.data;a(s!==u);for(var l=0;l<i.height;l++)for(var c=((n.y+l)*t.width+n.x)*o,f=((r.y+l)*e.width+r.x)*o,h=0;h<i.width*o;h++)u[f+h]=s[c+h];return e}var f=function(){function t(e,n){r(this,t),u(this,e,1,n)}return o(t,[{key:"resize",value:function(t){l(this,t,1)}},{key:"clone",value:function(){return new t({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(t,e,n,r,i){c(t,e,n,r,i,1)}}]),t}(),h=function(){function t(e,n){r(this,t),u(this,e,4,n)}return o(t,[{key:"resize",value:function(t){l(this,t,4)}},{key:"clone",value:function(){return new t({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(t,e,n,r,i){c(t,e,n,r,i,4)}}]),t}();s("AlphaImage",f),s("RGBAImage",h),t.exports={AlphaImage:f,RGBAImage:h}},function(t,e,n){var r=n(6);t.exports={getMaximumPaintValue:function(t,e,n){var r=e.paint.get(t).value;return"constant"===r.kind?r.value:n.programConfigurations.get(e.id).binders[t].statistics.max},translateDistance:function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},translate:function(t,e,n,i,o){if(!e[0]&&!e[1])return t;var a=r.convert(e);"viewport"===n&&a._rotate(-i);for(var s=[],u=0;u<t.length;u++){for(var l=t[u],c=[],f=0;f<l.length;f++)c.push(l[f].sub(a._mult(o)));s.push(c)}return s}}},function(t,e,n){var r=n(136);t.exports.allowsIdeographicBreaking=function(t){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(!e.charAllowsIdeographicBreaking(s.charCodeAt(0)))return!1}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!0},t.exports.allowsVerticalWritingMode=function(t){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(e.charHasUprightVerticalOrientation(s.charCodeAt(0)))return!0}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!1},t.exports.allowsLetterSpacing=function(t){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(!e.charAllowsLetterSpacing(s.charCodeAt(0)))return!1}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!0},t.exports.charAllowsLetterSpacing=function(t){return!r.Arabic(t)&&(!r["Arabic Supplement"](t)&&(!r["Arabic Extended-A"](t)&&(!r["Arabic Presentation Forms-A"](t)&&!r["Arabic Presentation Forms-B"](t))))},t.exports.charAllowsIdeographicBreaking=function(t){return!(t<11904)&&(!!r["Bopomofo Extended"](t)||(!!r.Bopomofo(t)||(!!r["CJK Compatibility Forms"](t)||(!!r["CJK Compatibility Ideographs"](t)||(!!r["CJK Compatibility"](t)||(!!r["CJK Radicals Supplement"](t)||(!!r["CJK Strokes"](t)||(!!r["CJK Symbols and Punctuation"](t)||(!!r["CJK Unified Ideographs Extension A"](t)||(!!r["CJK Unified Ideographs"](t)||(!!r["Enclosed CJK Letters and Months"](t)||(!!r["Halfwidth and Fullwidth Forms"](t)||(!!r.Hiragana(t)||(!!r["Ideographic Description Characters"](t)||(!!r["Kangxi Radicals"](t)||(!!r["Katakana Phonetic Extensions"](t)||(!!r.Katakana(t)||(!!r["Vertical Forms"](t)||(!!r["Yi Radicals"](t)||!!r["Yi Syllables"](t))))))))))))))))))))},e.charHasUprightVerticalOrientation=function(t){return 746===t||747===t||!(t<4352)&&(!!r["Bopomofo Extended"](t)||(!!r.Bopomofo(t)||(!(!r["CJK Compatibility Forms"](t)||t>=65097&&t<=65103)||(!!r["CJK Compatibility Ideographs"](t)||(!!r["CJK Compatibility"](t)||(!!r["CJK Radicals Supplement"](t)||(!!r["CJK Strokes"](t)||(!(!r["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||(!!r["CJK Unified Ideographs Extension A"](t)||(!!r["CJK Unified Ideographs"](t)||(!!r["Enclosed CJK Letters and Months"](t)||(!!r["Hangul Compatibility Jamo"](t)||(!!r["Hangul Jamo Extended-A"](t)||(!!r["Hangul Jamo Extended-B"](t)||(!!r["Hangul Jamo"](t)||(!!r["Hangul Syllables"](t)||(!!r.Hiragana(t)||(!!r["Ideographic Description Characters"](t)||(!!r.Kanbun(t)||(!!r["Kangxi Radicals"](t)||(!!r["Katakana Phonetic Extensions"](t)||(!(!r.Katakana(t)||12540===t)||(!(!r["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||(!(!r["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||(!!r["Unified Canadian Aboriginal Syllabics"](t)||(!!r["Unified Canadian Aboriginal Syllabics Extended"](t)||(!!r["Vertical Forms"](t)||(!!r["Yijing Hexagram Symbols"](t)||(!!r["Yi Syllables"](t)||!!r["Yi Radicals"](t))))))))))))))))))))))))))))))},e.charHasNeutralVerticalOrientation=function(t){return!(!r["Latin-1 Supplement"](t)||167!==t&&169!==t&&174!==t&&177!==t&&188!==t&&189!==t&&190!==t&&215!==t&&247!==t)||(!(!r["General Punctuation"](t)||8214!==t&&8224!==t&&8225!==t&&8240!==t&&8241!==t&&8251!==t&&8252!==t&&8258!==t&&8263!==t&&8264!==t&&8265!==t&&8273!==t)||(!!r["Letterlike Symbols"](t)||(!!r["Number Forms"](t)||(!(!r["Miscellaneous Technical"](t)||!(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215))||(!(!r["Control Pictures"](t)||9251===t)||(!!r["Optical Character Recognition"](t)||(!!r["Enclosed Alphanumerics"](t)||(!!r["Geometric Shapes"](t)||(!(!r["Miscellaneous Symbols"](t)||t>=9754&&t<=9759)||(!(!r["Miscellaneous Symbols and Arrows"](t)||!(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243))||(!!r["CJK Symbols and Punctuation"](t)||(!!r.Katakana(t)||(!!r["Private Use Area"](t)||(!!r["CJK Compatibility Forms"](t)||(!!r["Small Form Variants"](t)||(!!r["Halfwidth and Fullwidth Forms"](t)||(8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)))))))))))))))))},e.charHasRotatedVerticalOrientation=function(t){return!(e.charHasUprightVerticalOrientation(t)||e.charHasNeutralVerticalOrientation(t))}},function(t,e,n){"use strict";t.exports=i;var r=n(146);function i(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;function o(t){return t.type===i.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function s(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function u(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function l(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function c(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function y(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function v(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function m(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function g(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function b(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=m(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=b(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=m(this.buf,this.pos)+4294967296*m(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=m(this.buf,this.pos)+4294967296*b(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return a(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,n){var r="",i=e;for(;i<n;){var o,a,s,u=t[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=t[i+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==i.Bytes)return t.push(this.readVarint(e));var n=o(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==i.Bytes)return t.push(this.readSVarint());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==i.Bytes)return t.push(this.readBoolean());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==i.Bytes)return t.push(this.readFloat());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==i.Bytes)return t.push(this.readDouble());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==i.Bytes)return t.push(this.readFixed32());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==i.Bytes)return t.push(this.readSFixed32());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==i.Bytes)return t.push(this.readFixed64());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==i.Bytes)return t.push(this.readSFixed64());var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),g(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),g(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),g(this.buf,-1&t,this.pos),g(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),g(this.buf,-1&t,this.pos),g(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn\'t fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){var n=(7&t)<<4;if(e.buf[e.pos++]|=n|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&s(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),r.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),r.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&s(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,i.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,u,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,l,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,c,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,v,e)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(0),o=n(52),a=n(11).Color,s=["Unknown","Point","LineString","Polygon"],u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scope=new o,this._parseColorCache={}}var e,n,u;return e=t,(n=[{key:"id",value:function(){return this.feature&&"id"in this.feature?this.feature.id:null}},{key:"geometryType",value:function(){return this.feature?"number"==typeof this.feature.type?s[this.feature.type]:this.feature.type:null}},{key:"properties",value:function(){return this.feature&&this.feature.properties||{}}},{key:"pushScope",value:function(t){this.scope=this.scope.concat(t)}},{key:"popScope",value:function(){i(this.scope.parent),this.scope=this.scope.parent}},{key:"parseColor",value:function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=a.parse(t)),e}}])&&r(e.prototype,n),u&&r(e,u),t}();t.exports=u},function(t,e,n){function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(t,e){return s(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(t){if(Array.isArray(t))return t}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=n(46),c=n(19),f=n(4),h=f.toString,p=f.NumberType,y=n(60).findStopLessThanOrEqualTo,d=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];var a=!0,s=!1,u=void 0;try{for(var l,c=i[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=o(l.value,2),h=f[0],p=f[1];this.labels.push(h),this.outputs.push(p)}}catch(t){s=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw u}}}var e,n,f;return e=t,f=[{key:"interpolationFactor",value:function(t,e,n,r){var i=0;if("exponential"===t.name)i=v(e,t.base,n,r);else if("linear"===t.name)i=v(e,1,n,r);else if("cubic-bezier"===t.name){var o=t.controlPoints;i=new l(o[0],o[1],o[2],o[3]).solve(v(e,1,n,r))}return i}},{key:"parse",value:function(e,n){var r,o=s(r=e)||i(r)||a(),u=o[1],l=o[2],c=o.slice(3);if(!Array.isArray(u)||0===u.length)return n.error("Expected an interpolation type expression.",1);if("linear"===u[0])u={name:"linear"};else if("exponential"===u[0]){var f=u[1];if("number"!=typeof f)return n.error("Exponential interpolation requires a numeric base.",1,1);u={name:"exponential",base:f}}else{if("cubic-bezier"!==u[0])return n.error("Unknown interpolation type ".concat(String(u[0])),1,0);var y=u.slice(1);if(4!==y.length||y.some(function(t){return"number"!=typeof t||t<0||t>1}))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);u={name:"cubic-bezier",controlPoints:y}}if(e.length-1<4)return n.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if((e.length-1)%2!=0)return n.error("Expected an even number of arguments.");if(!(l=n.parse(l,2,p)))return null;var d=[],v=null;n.expectedType&&"value"!==n.expectedType.kind&&(v=n.expectedType);for(var m=0;m<c.length;m+=2){var g=c[m],b=c[m+1],x=m+3,w=m+4;if("number"!=typeof g)return n.error(\'Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.\',x);if(d.length&&d[d.length-1][0]>=g)return n.error(\'Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.\',x);var k=n.parse(b,w,v);if(!k)return null;v=v||k.type,d.push([g,k])}return"number"===v.kind||"color"===v.kind||"array"===v.kind&&"number"===v.itemType.kind&&"number"==typeof v.N?new t(v,u,l,d):n.error("Type ".concat(h(v)," is not interpolatable."))}}],(n=[{key:"evaluate",value:function(e){var n=this.labels,r=this.outputs;if(1===n.length)return r[0].evaluate(e);var i=this.input.evaluate(e);if(i<=n[0])return r[0].evaluate(e);var o=n.length;if(i>=n[o-1])return r[o-1].evaluate(e);var a=y(n,i),s=n[a],u=n[a+1],l=t.interpolationFactor(this.interpolation,i,s,u),f=r[a].evaluate(e),h=r[a+1].evaluate(e);return c[this.type.kind.toLowerCase()](f,h,l)}},{key:"eachChild",value:function(t){t(this.input);var e=!0,n=!1,r=void 0;try{for(var i,o=this.outputs[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){t(i.value)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"possibleOutputs",value:function(){var t;return(t=[]).concat.apply(t,r(this.outputs.map(function(t){return t.possibleOutputs()})))}}])&&u(e.prototype,n),f&&u(e,f),t}();function v(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}t.exports=d},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(100),o=n(13),a=n(22),s=n(7),u=n(19),l=n(34);function c(t){return t}function f(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function h(t,e,n,i,o){return f(r(n)===o?i[n]:void 0,t.default,e.default)}function p(t,e,n){if("number"!==s(n))return f(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=v(t.stops,n);return t.stops[i][1]}function y(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==s(n))return f(t.default,e.default);var o=t.stops.length;if(1===o)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[o-1][0])return t.stops[o-1][1];var a=v(t.stops,n),l=function(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}(n,r,t.stops[a][0],t.stops[a+1][0]),h=t.stops[a][1],p=t.stops[a+1][1],y=u[e.type]||c;if(t.colorSpace&&"rgb"!==t.colorSpace){var d=i[t.colorSpace];y=function(t,e){return d.reverse(d.interpolate(d.forward(t),d.forward(e),l))}}return"function"==typeof h.evaluate?{evaluate:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=h.evaluate.apply(void 0,e),i=p.evaluate.apply(void 0,e);if(void 0!==r&&void 0!==i)return y(r,i,l)}}:y(h,p,l)}function d(t,e,n){return"color"===e.type?n=o.parse(n):s(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),f(n,t.default,e.default)}function v(t,e){for(var n,r,i=0,o=t.length-1,a=0;i<=o;){if(n=t[a=Math.floor((i+o)/2)][0],r=t[a+1][0],e===n||e>n&&e<r)return a;n<e?i=a+1:n>e&&(o=a-1)}return Math.max(a-1,0)}t.exports={createFunction:function t(e,n){var s,u,c,v="color"===n.type,m=e.stops&&"object"===r(e.stops[0][0]),g=m||void 0!==e.property,b=m||!g,x=e.type||("interpolated"===n.function?"exponential":"interval");if(v&&((e=a({},e)).stops&&(e.stops=e.stops.map(function(t){return[t[0],o.parse(t[1])]})),e.default?e.default=o.parse(e.default):e.default=o.parse(n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!i[e.colorSpace])throw new Error("Unknown color space: ".concat(e.colorSpace));if("exponential"===x)s=y;else if("interval"===x)s=p;else if("categorical"===x){s=h,u=Object.create(null);var w=!0,k=!1,_=void 0;try{for(var S,A=e.stops[Symbol.iterator]();!(w=(S=A.next()).done);w=!0){var T=S.value;u[T[0]]=T[1]}}catch(t){k=!0,_=t}finally{try{w||null==A.return||A.return()}finally{if(k)throw _}}c=r(e.stops[0][0])}else{if("identity"!==x)throw new Error(\'Unknown function type "\'.concat(x,\'"\'));s=d}if(m){for(var j={},O=[],z=0;z<e.stops.length;z++){var P=e.stops[z],E=P[0].zoom;void 0===j[E]&&(j[E]={zoom:E,type:e.type,property:e.property,default:e.default,stops:[]},O.push(E)),j[E].stops.push([P[0].value,P[1]])}for(var C=[],M=0,I=O;M<I.length;M++){var B=I[M];C.push([j[B].zoom,t(j[B],n)])}return{kind:"composite",interpolationFactor:l.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:C.map(function(t){return t[0]}),evaluate:function(t,r){var i=t.zoom;return y({stops:C,base:e.base},n,i).evaluate(i,r)}}}return b?{kind:"camera",interpolationFactor:"exponential"===x?l.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==e.base?e.base:1}):function(){return 0},zoomStops:e.stops.map(function(t){return t[0]}),evaluate:function(t){var r=t.zoom;return s(e,n,r,u,c)}}:{kind:"source",evaluate:function(t,r){var i=r&&r.properties?r.properties[e.property]:void 0;return void 0===i?f(e.default,n.default):s(e,n,i,u,c)}}},isFunction:function(t){return"object"===r(t)&&null!==t&&!Array.isArray(t)}}},function(t,e){t.exports=self},function(t,e,n){var r=n(5),i=n(12);t.exports=function(t){var e=t.key,n=t.value,o=t.valueSpec,a=[];return Array.isArray(o.values)?-1===o.values.indexOf(i(n))&&a.push(new r(e,n,"expected one of [".concat(o.values.join(", "),"], ").concat(JSON.stringify(n)," found"))):-1===Object.keys(o.values).indexOf(i(n))&&a.push(new r(e,n,"expected one of [".concat(Object.keys(o.values).join(", "),"], ").concat(JSON.stringify(n)," found"))),a}},function(t,e,n){var r=n(5),i=n(68),o=n(37),a=n(7),s=n(12),u=n(22),l=n(39).isExpressionFilter;t.exports=function(t){return l(s.deep(t.value))?i(u({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value;var i=e.key;if("array"!==a(n))return[new r(i,n,"array expected, ".concat(a(n)," found"))];var u=e.styleSpec;var l;var c=[];if(n.length<1)return[new r(i,n,"filter array must have at least 1 element")];c=c.concat(o({key:"".concat(i,"[0]"),value:n[0],valueSpec:u.filter_operator,style:e.style,styleSpec:e.styleSpec}));switch(s(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===s(n[1])&&c.push(new r(i,n,\'"$type" cannot be use with operator "\'.concat(n[0],\'"\')));case"==":case"!=":3!==n.length&&c.push(new r(i,n,\'filter array for operator "\'.concat(n[0],\'" must have 3 elements\')));case"in":case"!in":n.length>=2&&"string"!==(l=a(n[1]))&&c.push(new r("".concat(i,"[1]"),n[1],"string expected, ".concat(l," found")));for(var f=2;f<n.length;f++)l=a(n[f]),"$type"===s(n[1])?c=c.concat(o({key:"".concat(i,"[").concat(f,"]"),value:n[f],valueSpec:u.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==l&&"number"!==l&&"boolean"!==l&&c.push(new r("".concat(i,"[").concat(f,"]"),n[f],"string, number, or boolean expected, ".concat(l," found")));break;case"any":case"all":case"none":for(var h=1;h<n.length;h++)c=c.concat(t({key:"".concat(i,"[").concat(h,"]"),value:n[h],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":l=a(n[1]),2!==n.length?c.push(new r(i,n,\'filter array for "\'.concat(n[0],\'" operator must have 2 elements\'))):"string"!==l&&c.push(new r("".concat(i,"[1]"),n[1],"string expected, ".concat(l," found")))}return c}(t)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(14).createExpression;function o(t){if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3===t.length&&(Array.isArray(t[1])||Array.isArray(t[2]));case"any":case"all":var e=!0,n=!1,r=void 0;try{for(var i,a=t.slice(1)[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;if(!o(s)&&"boolean"!=typeof s)return!1}}catch(t){n=!0,r=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}return!0;default:return!0}}t.exports=function(t){if(!t)return function(){return!0};o(t)||(t=u(t));var e=i(t,a);if("error"===e.result)throw new Error(e.value.map(function(t){return"".concat(t.key,": ").concat(t.message)}).join(", "));return function(t,n){return e.value.evaluate(t,n)}},t.exports.isExpressionFilter=o;var a={type:"boolean",default:!1,function:!0,"property-function":!0,"zoom-function":!0};function s(t,e){return t<e?-1:t>e?1:0}function u(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?l(t[1],t[2],"=="):"!="===n?h(l(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?l(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(u))):"all"===n?["all"].concat(t.slice(1).map(u)):"none"===n?["all"].concat(t.slice(1).map(u).map(h)):"in"===n?c(t[1],t.slice(2)):"!in"===n?h(c(t[1],t.slice(2))):"has"===n?f(t[1]):"!has"!==n||h(f(t[1]))}function l(t,e,n){switch(t){case"$type":return["filter-type-".concat(n),e];case"$id":return["filter-id-".concat(n),e];default:return["filter-".concat(n),t,e]}}function c(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(function(t){return r(t)!==r(e[0])})?["filter-in-large",t,["literal",e.sort(s)]]:["filter-in-small",t,["literal",e]]}}function f(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function h(t){return["!",t]}},function(t,e,n){var r=n(120),i=n(2).calculateSignedArea;function o(t,e){return e.area-t.area}t.exports=function(t,e){var n=t.length;if(n<=1)return[t];for(var a,s,u=[],l=0;l<n;l++){var c=i(t[l]);0!==c&&(t[l].area=Math.abs(c),void 0===s&&(s=c<0),s===c<0?(a&&u.push(a),a=[t[l]]):a.push(t[l]))}if(a&&u.push(a),e>1)for(var f=0;f<u.length;f++)u[f].length<=e||(r(u[f],e,1,u[f].length-1,o),u[f]=u[f].slice(0,e));return u}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(131),o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.zoom=e,n?(this.now=n.now,this.fadeDuration=n.fadeDuration,this.zoomHistory=n.zoomHistory,this.transition=n.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new i,this.transition={})}var e,n,o;return e=t,(n=[{key:"crossFadingFactor",value:function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}}])&&r(e.prototype,n),o&&r(e,o),t}();t.exports=o},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var a=n(133),s=a.symbolLayoutAttributes,u=a.collisionVertexAttributes,l=a.collisionBoxLayout,c=a.collisionCircleLayout,f=a.dynamicLayoutAttributes,h=n(10),p=h.SymbolLayoutArray,y=h.SymbolDynamicLayoutArray,d=h.SymbolOpacityArray,v=h.CollisionBoxLayoutArray,m=h.CollisionCircleLayoutArray,g=h.CollisionVertexArray,b=h.PlacedSymbolArray,x=h.GlyphOffsetArray,w=h.SymbolLineVertexArray,k=n(6),_=n(25).SegmentVector,S=n(26).ProgramConfigurationSet,A=n(27),T=A.TriangleIndexArray,j=A.LineIndexArray,O=n(134),z=n(135),P=n(31),E=n(20),C=n(21).VectorTileFeature.types,M=n(81),I=(n(45),n(137).getSizeData),B=n(3).register,V=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function L(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,Math.round(64*r),Math.round(64*i),o,a,s?s[0]:0,s?s[1]:0)}function F(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}var R=function(){function t(e){r(this,t),this.layoutVertexArray=new p,this.indexArray=new T,this.programConfigurations=e,this.segments=new _,this.dynamicLayoutVertexArray=new y,this.opacityVertexArray=new d,this.placedSymbolArray=new b}return o(t,[{key:"upload",value:function(t,e){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,s.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.programConfigurations.upload(t),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,f.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,V,!0),this.opacityVertexBuffer.itemSize=1}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}]),t}();B("SymbolBuffers",R);var D=function(){function t(e,n,i){r(this,t),this.layoutVertexArray=new e,this.layoutAttributes=n,this.indexArray=new i,this.segments=new _,this.collisionVertexArray=new g}return o(t,[{key:"upload",value:function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,u.members,!0)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}]),t}();B("CollisionBuffers",D);var q=function(){function t(e){r(this,t),this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=e.index,this.pixelRatio=e.pixelRatio;var n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=I(this.zoom,n["text-size"]),this.iconSizeData=I(this.zoom,n["icon-size"]);var i=this.layers[0].layout;this.sortFeaturesByY=i.get("text-allow-overlap")||i.get("icon-allow-overlap")||i.get("text-ignore-placement")||i.get("icon-ignore-placement")}return o(t,[{key:"createArrays",value:function(){this.text=new R(new S(s.members,this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new R(new S(s.members,this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.collisionBox=new D(v,l.members,j),this.collisionCircle=new D(m,c.members,T),this.glyphOffsetArray=new x,this.lineVertexArray=new w}},{key:"populate",value:function(t,e){var n=this.layers[0],r=n.layout,i=r.get("text-font"),o=r.get("text-field"),a=r.get("icon-image"),s=("constant"!==o.value.kind||o.value.value.length>0)&&("constant"!==i.value.kind||i.value.value.length>0),u="constant"!==a.value.kind||a.value.value&&a.value.value.length>0;if(this.features=[],s||u){var l=e.iconDependencies,c=e.glyphDependencies,f={zoom:this.zoom},h=!0,p=!1,y=void 0;try{for(var d,v=t[Symbol.iterator]();!(h=(d=v.next()).done);h=!0){var m=d.value,g=m.feature,b=m.index,x=m.sourceLayerIndex;if(n._featureFilter(f,g)){var w=void 0;s&&(w=n.getValueAndResolveTokens("text-field",g),w=O(w,n,g));var k=void 0;if(u&&(k=n.getValueAndResolveTokens("icon-image",g)),w||k){var _={text:w,icon:k,index:b,sourceLayerIndex:x,geometry:E(g),properties:g.properties,type:C[g.type]};if(void 0!==g.id&&(_.id=g.id),this.features.push(_),k&&(l[k]=!0),w)for(var S=i.evaluate(g).join(","),A=c[S]=c[S]||{},T="map"===r.get("text-rotation-alignment")&&"line"===r.get("symbol-placement"),j=P.allowsVerticalWritingMode(w),I=0;I<w.length;I++)if(A[w.charCodeAt(I)]=!0,T&&j){var B=M.lookup[w.charAt(I)];B&&(A[B.charCodeAt(0)]=!0)}}}}}catch(t){p=!0,y=t}finally{try{h||null==v.return||v.return()}finally{if(p)throw y}}"line"===r.get("symbol-placement")&&(this.features=z(this.features))}}},{key:"isEmpty",value:function(){return 0===this.symbolInstances.length}},{key:"upload",value:function(t){this.text.upload(t,this.sortFeaturesByY),this.icon.upload(t,this.sortFeaturesByY),this.collisionBox.upload(t),this.collisionCircle.upload(t)}},{key:"destroy",value:function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()}},{key:"addToLineVertexArray",value:function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:r},a<e.length-1&&(r+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=e[s-1].dist(e[s]));for(var u=0;u<e.length;u++){var l=o[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}},{key:"addSymbols",value:function(t,e,n,r,i,o,a,s,u,l){var c=t.indexArray,f=t.layoutVertexArray,h=t.dynamicLayoutVertexArray,p=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray),y=this.glyphOffsetArray.length,d=p.vertexLength,v=!0,m=!1,g=void 0;try{for(var b,x=e[Symbol.iterator]();!(v=(b=x.next()).done);v=!0){var w=b.value,k=w.tl,_=w.tr,S=w.bl,A=w.br,T=w.tex,j=p.vertexLength,O=w.glyphOffset[1];L(f,s.x,s.y,k.x,O+k.y,T.x,T.y,n),L(f,s.x,s.y,_.x,O+_.y,T.x+T.w,T.y,n),L(f,s.x,s.y,S.x,O+S.y,T.x,T.y+T.h,n),L(f,s.x,s.y,A.x,O+A.y,T.x+T.w,T.y+T.h,n),F(h,s,0),c.emplaceBack(j,j+1,j+2),c.emplaceBack(j+1,j+2,j+3),p.vertexLength+=4,p.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(w.glyphOffset[0])}}catch(t){m=!0,g=t}finally{try{v||null==x.return||x.return()}finally{if(m)throw g}}t.placedSymbolArray.emplaceBack(s.x,s.y,y,this.glyphOffsetArray.length-y,d,u,l,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],a,!1),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,o)}},{key:"_addCollisionDebugVertex",value:function(t,e,n,r,i){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,r.x,r.y,Math.round(i.x),Math.round(i.y))}},{key:"addCollisionDebugVertices",value:function(t,e,n,r,i,o,a,s){var u=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=u.vertexLength,c=i.layoutVertexArray,f=i.collisionVertexArray;if(this._addCollisionDebugVertex(c,f,o,a.anchor,new k(t,e)),this._addCollisionDebugVertex(c,f,o,a.anchor,new k(n,e)),this._addCollisionDebugVertex(c,f,o,a.anchor,new k(n,r)),this._addCollisionDebugVertex(c,f,o,a.anchor,new k(t,r)),u.vertexLength+=4,s){var h=i.indexArray;h.emplaceBack(l,l+1,l+2),h.emplaceBack(l,l+2,l+3),u.primitiveLength+=2}else{var p=i.indexArray;p.emplaceBack(l,l+1),p.emplaceBack(l+1,l+2),p.emplaceBack(l+2,l+3),p.emplaceBack(l+3,l),u.primitiveLength+=4}}},{key:"generateCollisionDebugBuffers",value:function(){var t=!0,e=!1,n=void 0;try{for(var r,i=this.symbolInstances[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;o.textCollisionFeature={boxStartIndex:o.textBoxStartIndex,boxEndIndex:o.textBoxEndIndex},o.iconCollisionFeature={boxStartIndex:o.iconBoxStartIndex,boxEndIndex:o.iconBoxEndIndex};for(var a=0;a<2;a++){var s=o[0===a?"textCollisionFeature":"iconCollisionFeature"];if(s)for(var u=s.boxStartIndex;u<s.boxEndIndex;u++){var l=this.collisionBoxArray.get(u),c=l.x1,f=l.y1,h=l.x2,p=l.y2,y=l.radius>0;this.addCollisionDebugVertices(c,f,h,p,y?this.collisionCircle:this.collisionBox,l.anchorPoint,o,y)}}}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}},{key:"deserializeCollisionBoxes",value:function(t,e,n,r,i){for(var o={},a=e;a<n;a++){var s=t.get(a);if(0===s.radius){o.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY};break}o.textCircles||(o.textCircles=[]);o.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var u=r;u<i;u++){var l=t.get(u);if(0===l.radius){o.iconBox={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2,anchorPointX:l.anchorPointX,anchorPointY:l.anchorPointY};break}}return o}},{key:"hasTextData",value:function(){return this.text.segments.get().length>0}},{key:"hasIconData",value:function(){return this.icon.segments.get().length>0}},{key:"hasCollisionBoxData",value:function(){return this.collisionBox.segments.get().length>0}},{key:"hasCollisionCircleData",value:function(){return this.collisionCircle.segments.get().length>0}},{key:"sortFeatures",value:function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&(this.sortedAngle=t,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var n=[],r=0;r<this.symbolInstances.length;r++)n.push(r);var i=Math.sin(t),o=Math.cos(t);n.sort(function(t,n){var r=e.symbolInstances[t],a=e.symbolInstances[n];return(i*r.anchor.x+o*r.anchor.y|0)-(i*a.anchor.x+o*a.anchor.y|0)||a.featureIndex-r.featureIndex}),this.text.indexArray.clear(),this.icon.indexArray.clear();for(var a=0,s=n;a<s.length;a++){var u=s[a],l=this.symbolInstances[u],c=!0,f=!1,h=void 0;try{for(var p,y=l.placedTextSymbolIndices[Symbol.iterator]();!(c=(p=y.next()).done);c=!0)for(var d=p.value,v=this.text.placedSymbolArray.get(d),m=v.vertexStartIndex+4*v.numGlyphs,g=v.vertexStartIndex;g<m;g+=4)this.text.indexArray.emplaceBack(g,g+1,g+2),this.text.indexArray.emplaceBack(g+1,g+2,g+3)}catch(t){f=!0,h=t}finally{try{c||null==y.return||y.return()}finally{if(f)throw h}}var b=this.icon.placedSymbolArray.get(u);if(b.numGlyphs){var x=b.vertexStartIndex;this.icon.indexArray.emplaceBack(x,x+1,x+2),this.icon.indexArray.emplaceBack(x+1,x+2,x+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}]),t}();B("SymbolBucket",q,{omit:["layers","collisionBoxArray","features","compareText"],shallow:["symbolInstances"]}),q.MAX_GLYPHS=65535,q.addDynamicAttributes=F,t.exports=q},function(t,e,n){var r=n(44),i=n(76),o=n(36),a=!1,s=null;t.exports.evented=new i,t.exports.registerForPluginAvailability=function(e){return s?e({pluginBlobURL:s,errorCallback:t.exports.errorCallback}):t.exports.evented.once("pluginAvailable",e),e},t.exports.createBlobURL=function(t){return o.URL.createObjectURL(new o.Blob([t.data],{type:"text/javascript"}))},t.exports.clearRTLTextPlugin=function(){a=!1,s=null},t.exports.setRTLTextPlugin=function(e,n){if(a)throw new Error("setRTLTextPlugin cannot be called multiple times.");a=!0,t.exports.errorCallback=n,r.getArrayBuffer({url:e},function(e,r){e?n(e):r&&(s=t.exports.createBlobURL(r),t.exports.evented.fire("pluginAvailable",{pluginBlobURL:s,errorCallback:n}))})},t.exports.applyArabicShaping=null,t.exports.processBidirectionalText=null},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function o(t){var e="function"==typeof Map?new Map:void 0;return(o=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return a(t,arguments,u(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,t)})(t)}function a(t,e,n){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&s(i,n.prototype),i}).apply(null,arguments)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(36),c={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};e.ResourceType=c,"function"==typeof Object.freeze&&Object.freeze(c);var f=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=i(this,u(e).call(this,t))).status=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,o(Error)),e}();function h(t){var e=new l.XMLHttpRequest;for(var n in e.open("GET",t.url,!0),t.headers)e.setRequestHeader(n,t.headers[n]);return e.withCredentials="include"===t.credentials,e}e.getJSON=function(t,e){var n=h(t);return n.setRequestHeader("Accept","application/json"),n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var t;try{t=JSON.parse(n.response)}catch(t){return e(t)}e(null,t)}else e(new f(n.statusText,n.status))},n.send(),n},e.getArrayBuffer=function(t,e){var n=h(t);return n.responseType="arraybuffer",n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){var t=n.response;if(0===t.byteLength&&200===n.status)return e(new Error("http status 200 returned without content."));n.status>=200&&n.status<300&&n.response?e(null,{data:t,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):e(new f(n.statusText,n.status))},n.send(),n};e.getImage=function(t,n){return e.getArrayBuffer(t,function(t,e){if(t)n(t);else if(e){var r=new l.Image,i=l.URL||l.webkitURL;r.onload=function(){n(null,r),i.revokeObjectURL(r.src)};var o=new l.Blob([new Uint8Array(e.data)],{type:"image/png"});r.cacheControl=e.cacheControl,r.expires=e.expires,r.src=e.data.byteLength?i.createObjectURL(o):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}})},e.getVideo=function(t,e){var n,r,i=l.document.createElement("video");i.onloadstart=function(){e(null,i)};for(var o=0;o<t.length;o++){var a=l.document.createElement("source");n=t[o],r=void 0,(r=l.document.createElement("a")).href=n,(r.protocol!==l.document.location.protocol||r.host!==l.document.location.host)&&(i.crossOrigin="Anonymous"),a.src=t[o],i.appendChild(a)}return i}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(6),l=n(3).register,c=function(t){function e(t,n,r,i){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(s=o(this,a(e).call(this,t,n))).angle=r,void 0!==i&&(s.segment=i),s}var n,r,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,u),n=e,(r=[{key:"clone",value:function(){return new e(this.x,this.y,this.angle,this.segment)}}])&&i(n.prototype,r),l&&i(n,l),e}();l("Anchor",c),t.exports=c},function(t,e){function n(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}t.exports=n,n.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){var n,r,i,o,a;for(void 0===e&&(e=1e-6),i=t,a=0;a<8;a++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=o/s}if((i=t)<(n=0))return n;if(i>(r=1))return r;for(;n<r;){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.column=e,this.row=n,this.zoom=r}var e,r,i;return e=t,(r=[{key:"clone",value:function(){return new t(this.column,this.row,this.zoom)}},{key:"zoomTo",value:function(t){return this.clone()._zoomTo(t)}},{key:"sub",value:function(t){return this.clone()._sub(t)}},{key:"_zoomTo",value:function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this}},{key:"_sub",value:function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this}}])&&n(e.prototype,r),i&&n(e,i),t}();t.exports=r},function(t,e,n){"use strict";t.exports=i;var r=3;function i(t,e,n){var i=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var o=new Int32Array(this.arrayBuffer);t=o[0],e=o[1],n=o[2],this.d=e+2*n;for(var a=0;a<this.d*this.d;a++){var s=o[r+a],u=o[r+a+1];i.push(s===u?null:o.subarray(s,u))}var l=o[r+i.length],c=o[r+i.length+1];this.keys=o.subarray(l,c),this.bboxes=o.subarray(c),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var f=0;f<this.d*this.d;f++)i.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var h=n/e*t;this.min=-h,this.max=t+h}i.prototype.insert=function(t,e,n,r,i){this._forEachCell(e,n,r,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},i.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},i.prototype._insertCell=function(t,e,n,r,i,o){this.cells[i].push(o)},i.prototype.query=function(t,e,n,r,i){var o=this.min,a=this.max;if(t<=o&&e<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,n,r,this._queryCell,s,{},i),s},i.prototype._queryCell=function(t,e,n,r,i,o,a,s){var u=this.cells[i];if(null!==u)for(var l=this.keys,c=this.bboxes,f=0;f<u.length;f++){var h=u[f];if(void 0===a[h]){var p=4*h;(s?s(c[p+0],c[p+1],c[p+2],c[p+3]):t<=c[p+2]&&e<=c[p+3]&&n>=c[p+0]&&r>=c[p+1])?(a[h]=!0,o.push(l[h])):a[h]=!1}}},i.prototype._forEachCell=function(t,e,n,r,i,o,a,s){for(var u=this._convertToCellCoord(t),l=this._convertToCellCoord(e),c=this._convertToCellCoord(n),f=this._convertToCellCoord(r),h=u;h<=c;h++)for(var p=l;p<=f;p++){var y=this.d*p+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(p),this._convertFromCellCoord(h+1),this._convertFromCellCoord(p+1)))&&i.call(this,t,e,n,r,y,o,a,s))return}},i.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},i.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},i.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=r+this.cells.length+1+1,n=0,i=0;i<this.cells.length;i++)n+=this.cells[i].length;var o=new Int32Array(e+n+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var a=e,s=0;s<t.length;s++){var u=t[s];o[r+s]=a,o.set(u,a),a+=u.length}return o[r+t.length]=a,o.set(this.keys,a),a+=this.keys.length,o[r+t.length+1]=a,o.set(this.bboxes,a),a+=this.bboxes.length,o.buffer}},function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return(t=Math.round(t))<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function o(t){return"%"===t[t.length-1]?r(parseFloat(t)/100*255):r(parseInt(t))}function a(t){return"%"===t[t.length-1]?i(parseFloat(t)/100):i(parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,i=t.replace(/ /g,"").toLowerCase();if(i in n)return n[i].slice();if("#"===i[0])return 4===i.length?(e=parseInt(i.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===i.length&&(e=parseInt(i.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=i.indexOf("("),l=i.indexOf(")");if(-1!==u&&l+1===i.length){var c=i.substr(0,u),f=i.substr(u+1,l-(u+1)).split(","),h=1;switch(c){case"rgba":if(4!==f.length)return null;h=a(f.pop());case"rgb":return 3!==f.length?null:[o(f[0]),o(f[1]),o(f[2]),h];case"hsla":if(4!==f.length)return null;h=a(f.pop());case"hsl":if(3!==f.length)return null;var p=(parseFloat(f[0])%360+360)%360/360,y=a(f[1]),d=a(f[2]),v=d<=.5?d*(y+1):d+y-d*y,m=2*d-v;return[r(255*s(m,v,p+1/3)),r(255*s(m,v,p)),r(255*s(m,v,p-1/3)),h];default:return null}}return null}}catch(t){}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function i(t){var e="function"==typeof Map?new Map:void 0;return(i=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return o(t,arguments,s(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,t)})(t)}function o(t,e,n){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&a(i,n.prototype),i}).apply(null,arguments)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){function e(t,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=r(this,s(e).call(this,n))).message=n,i.key=t,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,i(Error)),e}();t.exports=u},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(52),a=n(4).checkSubtype,s=n(50),u=n(53),l=n(54),c=n(55),f=n(56),h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.registry=e,this.path=n,this.key=n.map(function(t){return"[".concat(t,"]")}).join(""),this.scope=i,this.errors=a,this.expectedType=r}var e,h,p;return e=t,(h=[{key:"parse",value:function(t,e,i,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=this;if(e&&(s=s.concat(e,i,o)),null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return s.error(\'Expected an array with at least one element. If you wanted a literal array, use ["literal", []].\');var h=t[0];if("string"!=typeof h)return s.error("Expression name must be a string, but found ".concat(r(h),\' instead. If you wanted a literal array, use ["literal", [...]].\'),0),null;var p=s.registry[h];if(p){var y=p.parse(t,s);if(!y)return null;if(s.expectedType){var d=s.expectedType,v=y.type;if("string"!==d.kind&&"number"!==d.kind&&"boolean"!==d.kind||"value"!==v.kind)if("array"===d.kind&&"value"===v.kind)a.omitTypeAnnotations||(y=new c(d,y));else if("color"!==d.kind||"value"!==v.kind&&"string"!==v.kind){if(s.checkSubtype(s.expectedType,y.type))return null}else a.omitTypeAnnotations||(y=new f(d,[y]));else a.omitTypeAnnotations||(y=new l(d,[y]))}if(!(y instanceof u)&&function(t){var e=n(23).CompoundExpression,r=n(57),i=r.isGlobalPropertyConstant,o=r.isFeatureConstant,a=n(58);if(t instanceof a)return!1;if(t instanceof e&&"error"===t.name)return!1;var s=!0;if(t.eachChild(function(t){t instanceof u||(s=!1)}),!s)return!1;return o(t)&&i(t,["zoom","heatmap-density"])}(y)){var m=new(n(33));try{y=new u(y.type,y.evaluate(m))}catch(t){return s.error(t.message),null}}return y}return s.error(\'Unknown expression "\'.concat(h,\'". If you wanted a literal array, use ["literal", [...]].\'),0)}return void 0===t?s.error("\'undefined\' value invalid. Use null instead."):"object"===r(t)?s.error(\'Bare objects invalid. Use ["literal", {...}] instead.\'):s.error("Expected an array, but found ".concat(r(t)," instead."))}},{key:"concat",value:function(e,n,r){var i="number"==typeof e?this.path.concat(e):this.path,o=r?this.scope.concat(r):this.scope;return new t(this.registry,i,n||null,o,this.errors)}},{key:"error",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i="".concat(this.key).concat(n.map(function(t){return"[".concat(t,"]")}).join(""));this.errors.push(new s(i,t))}},{key:"checkSubtype",value:function(t,e){var n=a(t,e);return n&&this.error(n),n}}])&&i(e.prototype,h),p&&i(e,p),t}();t.exports=h},function(t,e){function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.bindings={};var i=!0,o=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=n(s.value,2),c=l[0],f=l[1];this.bindings[c]=f}}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}var e,i,o;return e=t,(i=[{key:"concat",value:function(e){return new t(this,e)}},{key:"get",value:function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error("".concat(t," not found in scope."))}},{key:"has",value:function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}])&&r(e.prototype,i),o&&r(e,o),t}();t.exports=i},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(11),o=i.isValue,a=i.typeOf,s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.value=n}var e,n,i;return e=t,i=[{key:"parse",value:function(e,n){if(2!==e.length)return n.error("\'literal\' expression requires exactly one argument, but found ".concat(e.length-1," instead."));if(!o(e[1]))return n.error("invalid value");var r=e[1],i=a(r),s=n.expectedType;return"array"!==i.kind||0!==i.N||!s||"array"!==s.kind||"number"==typeof s.N&&0!==s.N||(i=s),new t(i,r)}}],(n=[{key:"evaluate",value:function(){return this.value}},{key:"eachChild",value:function(){}},{key:"possibleOutputs",value:function(){return[this.value]}}])&&r(e.prototype,n),i&&r(e,i),t}();t.exports=s},function(t,e,n){function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(0),a=n(4),s=a.ObjectType,u=a.ValueType,l=a.StringType,c=a.NumberType,f=a.BooleanType,h=n(15),p=n(4),y=p.checkSubtype,d=p.toString,v=n(11).typeOf,m={string:l,number:c,boolean:f,object:s},g=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.args=n}var e,n,a;return e=t,a=[{key:"parse",value:function(e,n){if(e.length<2)return n.error("Expected at least one argument.");var r=e[0];o(m[r],r);for(var i=m[r],a=[],s=1;s<e.length;s++){var l=n.parse(e[s],s,u);if(!l)return null;a.push(l)}return new t(i,a)}}],(n=[{key:"evaluate",value:function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!y(this.type,v(n)))return n;if(e===this.args.length-1)throw new h("Expected value to be of type ".concat(d(this.type),", but found ").concat(d(v(n))," instead."))}return o(!1),null}},{key:"eachChild",value:function(t){this.args.forEach(t)}},{key:"possibleOutputs",value:function(){var t;return(t=[]).concat.apply(t,r(this.args.map(function(t){return t.possibleOutputs()})))}}])&&i(e.prototype,n),a&&i(e,a),t}();t.exports=g},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(4),o=i.toString,a=i.array,s=i.ValueType,u=i.StringType,l=i.NumberType,c=i.BooleanType,f=i.checkSubtype,h=n(11).typeOf,p=n(15),y={string:u,number:l,boolean:c},d=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.input=n}var e,n,i;return e=t,i=[{key:"parse",value:function(e,n){if(e.length<2||e.length>4)return n.error("Expected 1, 2, or 3 arguments, but found ".concat(e.length-1," instead."));var r,i;if(e.length>2){var o=e[1];if("string"!=typeof o||!(o in y))return n.error(\'The item type argument of "array" must be one of string, number, boolean\',1);r=y[o]}else r=s;if(e.length>3){if("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2]))return n.error(\'The length argument to "array" must be a positive integer literal\',2);i=e[2]}var u=a(r,i),l=n.parse(e[e.length-1],e.length-1,s);return l?new t(u,l):null}}],(n=[{key:"evaluate",value:function(t){var e=this.input.evaluate(t);if(f(this.type,h(e)))throw new p("Expected value to be of type ".concat(o(this.type),", but found ").concat(o(h(e))," instead."));return e}},{key:"eachChild",value:function(t){t(this.input)}},{key:"possibleOutputs",value:function(){return this.input.possibleOutputs()}}])&&r(e.prototype,n),i&&r(e,i),t}();t.exports=d},function(t,e,n){function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(0),a=n(4),s=a.ColorType,u=a.ValueType,l=a.NumberType,c=n(11),f=c.Color,h=c.validateRGBA,p=n(15),y={"to-number":l,"to-color":s},d=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.args=n}var e,n,a;return e=t,a=[{key:"parse",value:function(e,n){if(e.length<2)return n.error("Expected at least one argument.");var r=e[0];o(y[r],r);for(var i=y[r],a=[],s=1;s<e.length;s++){var l=n.parse(e[s],s,u);if(!l)return null;a.push(l)}return new t(i,a)}}],(n=[{key:"evaluate",value:function(t){if("color"===this.type.kind){var e,n,r=!0,i=!1,o=void 0;try{for(var a,s=this.args[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){if(e=a.value.evaluate(t),n=null,"string"==typeof e){var u=t.parseColor(e);if(u)return u}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value ".concat(JSON.stringify(e),": expected an array containing either three or four numeric values."):h(e[0],e[1],e[2],e[3])))return new f(e[0]/255,e[1]/255,e[2]/255,e[3])}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}throw new p(n||"Could not parse color from value \'".concat("string"==typeof e?e:JSON.stringify(e),"\'"))}var l=null,c=!0,y=!1,d=void 0;try{for(var v,m=this.args[Symbol.iterator]();!(c=(v=m.next()).done);c=!0){if(null!==(l=v.value.evaluate(t))){var g=Number(l);if(!isNaN(g))return g}}}catch(t){y=!0,d=t}finally{try{c||null==m.return||m.return()}finally{if(y)throw d}}throw new p("Could not convert ".concat(JSON.stringify(l)," to number."))}},{key:"eachChild",value:function(t){this.args.forEach(t)}},{key:"possibleOutputs",value:function(){var t;return(t=[]).concat.apply(t,r(this.args.map(function(t){return t.possibleOutputs()})))}}])&&i(e.prototype,n),a&&i(e,a),t}();t.exports=d},function(t,e,n){var r=n(23).CompoundExpression;t.exports={isFeatureConstant:function t(e){if(e instanceof r){if("get"===e.name&&1===e.args.length)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(e.name.startsWith("filter-"))return!1}var n=!0;return e.eachChild(function(e){n&&!t(e)&&(n=!1)}),n},isGlobalPropertyConstant:function t(e,n){if(e instanceof r&&n.indexOf(e.name)>=0)return!1;var i=!0;return e.eachChild(function(e){i&&!t(e,n)&&(i=!1)}),i}}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=n,this.name=e}var e,r,i;return e=t,i=[{key:"parse",value:function(e,n){if(2!==e.length||"string"!=typeof e[1])return n.error("\'var\' expression requires exactly one string literal argument.");var r=e[1];return n.scope.has(r)?new t(r,n.scope.get(r).type):n.error(\'Unknown variable "\'.concat(r,\'". Make sure "\').concat(r,\'" has been bound in an enclosing "let" expression before using it.\'),1)}}],(r=[{key:"evaluate",value:function(t){return t.scope.get(this.name).evaluate(t)}},{key:"eachChild",value:function(){}},{key:"possibleOutputs",value:function(){return[void 0]}}])&&n(e.prototype,r),i&&n(e,i),t}();t.exports=r},function(t,e,n){function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(t,e){return s(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(t){if(Array.isArray(t))return t}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=n(4).NumberType,c=n(60).findStopLessThanOrEqualTo,f=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.input=n,this.labels=[],this.outputs=[];var i=!0,a=!1,s=void 0;try{for(var u,l=r[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=o(u.value,2),f=c[0],h=c[1];this.labels.push(f),this.outputs.push(h)}}catch(t){a=!0,s=t}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}}var e,n,f;return e=t,f=[{key:"parse",value:function(e,n){var r,o=s(r=e)||i(r)||a(),u=o[1],c=o.slice(2);if(e.length-1<4)return n.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if((e.length-1)%2!=0)return n.error("Expected an even number of arguments.");if(!(u=n.parse(u,1,l)))return null;var f=[],h=null;n.expectedType&&"value"!==n.expectedType.kind&&(h=n.expectedType),c.unshift(-1/0);for(var p=0;p<c.length;p+=2){var y=c[p],d=c[p+1],v=p+1,m=p+2;if("number"!=typeof y)return n.error(\'Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.\',v);if(f.length&&f[f.length-1][0]>=y)return n.error(\'Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.\',v);var g=n.parse(d,m,h);if(!g)return null;h=h||g.type,f.push([y,g])}return new t(h,u,f)}}],(n=[{key:"evaluate",value:function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;return r>=e[i-1]?n[i-1].evaluate(t):n[c(e,r)].evaluate(t)}},{key:"eachChild",value:function(t){t(this.input);var e=!0,n=!1,r=void 0;try{for(var i,o=this.outputs[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){t(i.value)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"possibleOutputs",value:function(){var t;return(t=[]).concat.apply(t,r(this.outputs.map(function(t){return t.possibleOutputs()})))}}])&&u(e.prototype,n),f&&u(e,f),t}();t.exports=f},function(t,e,n){var r=n(15);t.exports={findStopLessThanOrEqualTo:function(t,e){for(var n,i,o=0,a=t.length-1,s=0;o<=a;){if(n=t[s=Math.floor((o+a)/2)],i=t[s+1],e===n||e>n&&e<i)return s;if(n<e)o=s+1;else{if(!(n>e))throw new r("Input is not a number.");a=s-1}}return Math.max(s-1,0)}}},function(t,e,n){function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(0),a=n(4),s=a.checkSubtype,u=a.ValueType,l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.args=n}var e,n,a;return e=t,a=[{key:"parse",value:function(e,n){if(e.length<2)return n.error("Expectected at least one argument.");var r=null,i=n.expectedType;i&&"value"!==i.kind&&(r=i);var a=[],l=!0,c=!1,f=void 0;try{for(var h,p=e.slice(1)[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var y=h.value,d=n.parse(y,1+a.length,r,void 0,{omitTypeAnnotations:!0});if(!d)return null;r=r||d.type,a.push(d)}}catch(t){c=!0,f=t}finally{try{l||null==p.return||p.return()}finally{if(c)throw f}}return o(r),new t(i&&a.some(function(t){return s(i,t.type)})?u:r,a)}}],(n=[{key:"evaluate",value:function(t){var e=null,n=!0,r=!1,i=void 0;try{for(var o,a=this.args[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(null!==(e=o.value.evaluate(t)))break}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return e}},{key:"eachChild",value:function(t){this.args.forEach(t)}},{key:"possibleOutputs",value:function(){var t;return(t=[]).concat.apply(t,r(this.args.map(function(t){return t.possibleOutputs()})))}}])&&i(e.prototype,n),a&&i(e,a),t}();t.exports=l},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=n.type,this.bindings=[].concat(e),this.result=n}var e,i,o;return e=t,o=[{key:"parse",value:function(e,r){if(e.length<4)return r.error("Expected at least 3 arguments, but found ".concat(e.length-1," instead."));for(var i=[],o=1;o<e.length-1;o+=2){var a=e[o];if("string"!=typeof a)return r.error("Expected string, but found ".concat(n(a)," instead."),o);if(/[^a-zA-Z0-9_]/.test(a))return r.error("Variable names must contain only alphanumeric characters or \'_\'.",o);var s=r.parse(e[o+1],o+1);if(!s)return null;i.push([a,s])}var u=r.parse(e[e.length-1],e.length-1,void 0,i);return u?new t(i,u):null}}],(i=[{key:"evaluate",value:function(t){t.pushScope(this.bindings);var e=this.result.evaluate(t);return t.popScope(),e}},{key:"eachChild",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.bindings[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){t(i.value[1])}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}t(this.result)}},{key:"possibleOutputs",value:function(){return this.result.possibleOutputs()}}])&&r(e.prototype,i),o&&r(e,o),t}();t.exports=i},function(t,e,n){function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var a=n(4),s=a.NumberType,u=a.StringType,l=a.BooleanType,c=a.ColorType,f=a.ObjectType,h=a.ValueType,p=a.ErrorType,y=a.array,d=a.toString,v=n(11),m=v.typeOf,g=v.Color,b=v.validateRGBA,x=n(23),w=x.CompoundExpression,k=x.varargs,_=n(15),S=n(62),A=n(58),T=n(53),j=n(54),O=n(55),z=n(56),P=n(95),E=n(96),C=n(97),M=n(59),I=n(34),B=n(61),V=n(98),L={"==":V.Equals,"!=":V.NotEquals,array:O,at:P,boolean:j,case:C,coalesce:B,interpolate:I,let:S,literal:T,match:E,number:j,object:j,step:M,string:j,"to-color":z,"to-number":z,var:A};function F(t,e){var n=o(e,4),r=n[0],i=n[1],a=n[2],s=n[3];r=r.evaluate(t),i=i.evaluate(t),a=a.evaluate(t);var u=s?s.evaluate(t):1,l=b(r,i,a,u);if(l)throw new _(l);return new g(r/255*u,i/255*u,a/255*u,u)}function R(t,e){return t in e}function D(t,e){var n=e[t];return void 0===n?null:n}function q(t,e){return o(e,1)[0].evaluate(t).length}function N(t,e){var n=o(e,2),r=n[0],i=n[1];return r.evaluate(t)<i.evaluate(t)}function U(t,e){var n=o(e,2),r=n[0],i=n[1];return r.evaluate(t)>i.evaluate(t)}function J(t,e){var n=o(e,2),r=n[0],i=n[1];return r.evaluate(t)<=i.evaluate(t)}function G(t,e){var n=o(e,2),r=n[0],i=n[1];return r.evaluate(t)>=i.evaluate(t)}w.register(L,{error:[p,[u],function(t,e){var n=o(e,1)[0];throw new _(n.evaluate(t))}],typeof:[u,[h],function(t,e){var n=o(e,1)[0];return d(m(n.evaluate(t)))}],"to-string":[u,[h],function(t,e){var n=o(e,1)[0],r=i(n=n.evaluate(t));return null===n||"string"===r||"number"===r||"boolean"===r?String(n):n instanceof g?n.toString():JSON.stringify(n)}],"to-boolean":[l,[h],function(t,e){var n=o(e,1)[0];return Boolean(n.evaluate(t))}],"to-rgba":[y(s,4),[c],function(t,e){var n=o(e,1)[0].evaluate(t),r=n.r,i=n.g,a=n.b,s=n.a;return[255*r/s,255*i/s,255*a/s,s]}],rgb:[c,[s,s,s],F],rgba:[c,[s,s,s,s],F],length:{type:s,overloads:[[[u],q],[[y(h)],q]]},has:{type:l,overloads:[[[u],function(t,e){return R(o(e,1)[0].evaluate(t),t.properties())}],[[u,f],function(t,e){var n=o(e,2),r=n[0],i=n[1];return R(r.evaluate(t),i.evaluate(t))}]]},get:{type:h,overloads:[[[u],function(t,e){return D(o(e,1)[0].evaluate(t),t.properties())}],[[u,f],function(t,e){var n=o(e,2),r=n[0],i=n[1];return D(r.evaluate(t),i.evaluate(t))}]]},properties:[f,[],function(t){return t.properties()}],"geometry-type":[u,[],function(t){return t.geometryType()}],id:[h,[],function(t){return t.id()}],zoom:[s,[],function(t){return t.globals.zoom}],"heatmap-density":[s,[],function(t){return t.globals.heatmapDensity||0}],"+":[s,k(s),function(t,e){var n=0,r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){n+=a.value.evaluate(t)}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}],"*":[s,k(s),function(t,e){var n=1,r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){n*=a.value.evaluate(t)}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}],"-":{type:s,overloads:[[[s,s],function(t,e){var n=o(e,2),r=n[0],i=n[1];return r.evaluate(t)-i.evaluate(t)}],[[s],function(t,e){return-o(e,1)[0].evaluate(t)}]]},"/":[s,[s,s],function(t,e){var n=o(e,2),r=n[0],i=n[1];return r.evaluate(t)/i.evaluate(t)}],"%":[s,[s,s],function(t,e){var n=o(e,2),r=n[0],i=n[1];return r.evaluate(t)%i.evaluate(t)}],ln2:[s,[],function(){return Math.LN2}],pi:[s,[],function(){return Math.PI}],e:[s,[],function(){return Math.E}],"^":[s,[s,s],function(t,e){var n=o(e,2),r=n[0],i=n[1];return Math.pow(r.evaluate(t),i.evaluate(t))}],sqrt:[s,[s],function(t,e){var n=o(e,1)[0];return Math.sqrt(n.evaluate(t))}],log10:[s,[s],function(t,e){var n=o(e,1)[0];return Math.log10(n.evaluate(t))}],ln:[s,[s],function(t,e){var n=o(e,1)[0];return Math.log(n.evaluate(t))}],log2:[s,[s],function(t,e){var n=o(e,1)[0];return Math.log2(n.evaluate(t))}],sin:[s,[s],function(t,e){var n=o(e,1)[0];return Math.sin(n.evaluate(t))}],cos:[s,[s],function(t,e){var n=o(e,1)[0];return Math.cos(n.evaluate(t))}],tan:[s,[s],function(t,e){var n=o(e,1)[0];return Math.tan(n.evaluate(t))}],asin:[s,[s],function(t,e){var n=o(e,1)[0];return Math.asin(n.evaluate(t))}],acos:[s,[s],function(t,e){var n=o(e,1)[0];return Math.acos(n.evaluate(t))}],atan:[s,[s],function(t,e){var n=o(e,1)[0];return Math.atan(n.evaluate(t))}],min:[s,k(s),function(t,e){return Math.min.apply(Math,r(e.map(function(e){return e.evaluate(t)})))}],max:[s,k(s),function(t,e){return Math.max.apply(Math,r(e.map(function(e){return e.evaluate(t)})))}],"filter-==":[l,[u,h],function(t,e){var n=o(e,2),r=n[0],i=n[1];return t.properties()[r.value]===i.value}],"filter-id-==":[l,[h],function(t,e){var n=o(e,1)[0];return t.id()===n.value}],"filter-type-==":[l,[u],function(t,e){var n=o(e,1)[0];return t.geometryType()===n.value}],"filter-<":[l,[u,h],function(t,e){var n=o(e,2),r=n[0],a=n[1],s=t.properties()[r.value],u=a.value;return i(s)===i(u)&&s<u}],"filter-id-<":[l,[h],function(t,e){var n=o(e,1)[0],r=t.id(),a=n.value;return i(r)===i(a)&&r<a}],"filter->":[l,[u,h],function(t,e){var n=o(e,2),r=n[0],a=n[1],s=t.properties()[r.value],u=a.value;return i(s)===i(u)&&s>u}],"filter-id->":[l,[h],function(t,e){var n=o(e,1)[0],r=t.id(),a=n.value;return i(r)===i(a)&&r>a}],"filter-<=":[l,[u,h],function(t,e){var n=o(e,2),r=n[0],a=n[1],s=t.properties()[r.value],u=a.value;return i(s)===i(u)&&s<=u}],"filter-id-<=":[l,[h],function(t,e){var n=o(e,1)[0],r=t.id(),a=n.value;return i(r)===i(a)&&r<=a}],"filter->=":[l,[u,h],function(t,e){var n=o(e,2),r=n[0],a=n[1],s=t.properties()[r.value],u=a.value;return i(s)===i(u)&&s>=u}],"filter-id->=":[l,[h],function(t,e){var n=o(e,1)[0],r=t.id(),a=n.value;return i(r)===i(a)&&r>=a}],"filter-has":[l,[h],function(t,e){return o(e,1)[0].value in t.properties()}],"filter-has-id":[l,[],function(t){return null!==t.id()}],"filter-type-in":[l,[y(u)],function(t,e){return o(e,1)[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[l,[y(h)],function(t,e){return o(e,1)[0].value.indexOf(t.id())>=0}],"filter-in-small":[l,[u,y(h)],function(t,e){var n=o(e,2),r=n[0];return n[1].value.indexOf(t.properties()[r.value])>=0}],"filter-in-large":[l,[u,y(h)],function(t,e){var n=o(e,2),r=n[0],i=n[1];return function(t,e,n,r){for(;n<=r;){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}(t.properties()[r.value],i.value,0,i.value.length-1)}],">":{type:l,overloads:[[[s,s],U],[[u,u],U]]},"<":{type:l,overloads:[[[s,s],N],[[u,u],N]]},">=":{type:l,overloads:[[[s,s],G],[[u,u],G]]},"<=":{type:l,overloads:[[[s,s],J],[[u,u],J]]},all:{type:l,overloads:[[[l,l],function(t,e){var n=o(e,2),r=n[0],i=n[1];return r.evaluate(t)&&i.evaluate(t)}],[k(l),function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(!o.value.evaluate(t))return!1}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!0}]]},any:{type:l,overloads:[[[l,l],function(t,e){var n=o(e,2),r=n[0],i=n[1];return r.evaluate(t)||i.evaluate(t)}],[k(l),function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(o.value.evaluate(t))return!0}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!1}]]},"!":[l,[l],function(t,e){return!o(e,1)[0].evaluate(t)}],upcase:[u,[u],function(t,e){return o(e,1)[0].evaluate(t).toUpperCase()}],downcase:[u,[u],function(t,e){return o(e,1)[0].evaluate(t).toLowerCase()}],concat:[u,k(u),function(t,e){return e.map(function(e){return e.evaluate(t)}).join("")}]}),t.exports=L},function(t,e,n){var r=n(5);t.exports=function(t){var e=t.key,n=t.value;return n?[new r(e,n,"constants have been deprecated as of v8")]:[]}},function(t,e,n){var r=n(5),i=n(7),o=n(16),a=n(24),s=n(66),u=n(67),l=n(12);t.exports=function(t){var e,n,c,f=t.valueSpec,h=l(t.value.type),p={},y="categorical"!==h&&void 0===t.value.property,d=!y,v="array"===i(t.value.stops)&&"array"===i(t.value.stops[0])&&"object"===i(t.value.stops[0][0]),m=a({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===h)return[new r(t.key,t.value,\'identity function may not have a "stops" property\')];var e=[],n=t.value;e=e.concat(s({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:g})),"array"===i(n)&&0===n.length&&e.push(new r(t.key,n,"array must have at least one stop"));return e},default:function(t){return o({key:t.key,value:t.value,valueSpec:f,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===h&&y&&m.push(new r(t.key,t.value,\'missing required property "property"\')),"identity"===h||t.value.stops||m.push(new r(t.key,t.value,\'missing required property "stops"\')),"exponential"===h&&"piecewise-constant"===t.valueSpec.function&&m.push(new r(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(d&&!t.valueSpec["property-function"]?m.push(new r(t.key,t.value,"property functions not supported")):y&&!t.valueSpec["zoom-function"]&&"heatmap-color"!==t.objectKey&&m.push(new r(t.key,t.value,"zoom functions not supported"))),"categorical"!==h&&!v||void 0!==t.value.property||m.push(new r(t.key,t.value,\'"property" property is required\')),m;function g(t){var e=[],s=t.value,h=t.key;if("array"!==i(s))return[new r(h,s,"array expected, ".concat(i(s)," found"))];if(2!==s.length)return[new r(h,s,"array length 2 expected, length ".concat(s.length," found"))];if(v){if("object"!==i(s[0]))return[new r(h,s,"object expected, ".concat(i(s[0])," found"))];if(void 0===s[0].zoom)return[new r(h,s,"object stop key must have zoom")];if(void 0===s[0].value)return[new r(h,s,"object stop key must have value")];if(c&&c>l(s[0].zoom))return[new r(h,s[0].zoom,"stop zoom values must appear in ascending order")];l(s[0].zoom)!==c&&(c=l(s[0].zoom),n=void 0,p={}),e=e.concat(a({key:"".concat(h,"[0]"),value:s[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:u,value:b}}))}else e=e.concat(b({key:"".concat(h,"[0]"),value:s[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},s));return e.concat(o({key:"".concat(h,"[1]"),value:s[1],valueSpec:f,style:t.style,styleSpec:t.styleSpec}))}function b(t,o){var a=i(t.value),s=l(t.value),u=null!==t.value?t.value:o;if(e){if(a!==e)return[new r(t.key,u,"".concat(a," stop domain type must match previous stop domain type ").concat(e))]}else e=a;if("number"!==a&&"string"!==a&&"boolean"!==a)return[new r(t.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==a&&"categorical"!==h){var c="number expected, ".concat(a," found");return f["property-function"]&&void 0===h&&(c+=\'\\nIf you intended to use a categorical function, specify `"type": "categorical"`.\'),[new r(t.key,u,c)]}return"categorical"!==h||"number"!==a||isFinite(s)&&Math.floor(s)===s?"categorical"!==h&&"number"===a&&void 0!==n&&s<n?[new r(t.key,u,"stop domain values must appear in ascending order")]:(n=s,"categorical"===h&&s in p?[new r(t.key,u,"stop domain values must be unique")]:(p[s]=!0,[])):[new r(t.key,u,"integer expected, found ".concat(s))]}}},function(t,e,n){var r=n(7),i=n(16),o=n(5);t.exports=function(t){var e=t.value,n=t.valueSpec,a=t.style,s=t.styleSpec,u=t.key,l=t.arrayElementValidator||i;if("array"!==r(e))return[new o(u,e,"array expected, ".concat(r(e)," found"))];if(n.length&&e.length!==n.length)return[new o(u,e,"array length ".concat(n.length," expected, length ").concat(e.length," found"))];if(n["min-length"]&&e.length<n["min-length"])return[new o(u,e,"array length at least ".concat(n["min-length"]," expected, length ").concat(e.length," found"))];var c={type:n.value};s.$version<7&&(c.function=n.function),"object"===r(n.value)&&(c=n.value);for(var f=[],h=0;h<e.length;h++)f=f.concat(l({array:e,arrayIndex:h,value:e[h],valueSpec:c,style:a,styleSpec:s,key:"".concat(u,"[").concat(h,"]")}));return f}},function(t,e,n){var r=n(7),i=n(5);t.exports=function(t){var e=t.key,n=t.value,o=t.valueSpec,a=r(n);return"number"!==a?[new i(e,n,"number expected, ".concat(a," found"))]:"minimum"in o&&n<o.minimum?[new i(e,n,"".concat(n," is less than the minimum value ").concat(o.minimum))]:"maximum"in o&&n>o.maximum?[new i(e,n,"".concat(n," is greater than the maximum value ").concat(o.maximum))]:[]}},function(t,e,n){var r=n(5),i=n(14),o=i.createExpression,a=i.createPropertyExpression,s=n(12);t.exports=function(t){var e=("property"===t.expressionContext?a:o)(s.deep(t.value),t.valueSpec);return"error"===e.result?e.value.map(function(e){return new r("".concat(t.key).concat(e.key),t.value,e.message)}):"property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==e.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new r(t.key,t.value,\'Invalid data expression for "text-font". Output values must be contained as literals within the expression.\')]:[]}},function(t,e,n){var r=n(5),i=n(12),o=n(24),a=n(38),s=n(70),u=n(72),l=n(16),c=n(22);t.exports=function(t){var e=[],n=t.value,f=t.key,h=t.style,p=t.styleSpec;n.type||n.ref||e.push(new r(f,n,\'either "type" or "ref" is required\'));var y,d=i(n.type),v=i(n.ref);if(n.id)for(var m=i(n.id),g=0;g<t.arrayIndex;g++){var b=h.layers[g];i(b.id)===m&&e.push(new r(f,n.id,\'duplicate layer id "\'.concat(n.id,\'", previously used at line \').concat(b.id.__line__)))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new r(f,n[t],\'"\'.concat(t,\'" is prohibited for ref layers\')))}),h.layers.forEach(function(t){i(t.id)===v&&(y=t)}),y?y.ref?e.push(new r(f,n.ref,"ref cannot reference another ref layer")):d=i(y.type):e.push(new r(f,n.ref,\'ref layer "\'.concat(v,\'" not found\')));else if("background"!==d)if(n.source){var x=h.sources&&h.sources[n.source],w=x&&i(x.type);x?"vector"===w&&"raster"===d?e.push(new r(f,n.source,\'layer "\'.concat(n.id,\'" requires a raster source\'))):"raster"===w&&"raster"!==d?e.push(new r(f,n.source,\'layer "\'.concat(n.id,\'" requires a vector source\'))):"vector"!==w||n["source-layer"]?"raster-dem"===w&&"hillshade"!==d&&e.push(new r(f,n.source,"raster-dem source can only be used with layer type \'hillshade\'.")):e.push(new r(f,n,\'layer "\'.concat(n.id,\'" must specify a "source-layer"\'))):e.push(new r(f,n.source,\'source "\'.concat(n.source,\'" not found\')))}else e.push(new r(f,n,\'missing required property "source"\'));return e=e.concat(o({key:f,value:n,valueSpec:p.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return l({key:"".concat(f,".type"),value:n.type,valueSpec:p.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:a,layout:function(t){return o({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return u(c({layerType:d},t))}}})},paint:function(t){return o({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return s(c({layerType:d},t))}}})}}}))}},function(t,e,n){var r=n(71);t.exports=function(t){return r(t,"paint")}},function(t,e,n){var r=n(16),i=n(5),o=n(7),a=n(35).isFunction,s=n(12);t.exports=function(t,e){var n=t.key,u=t.style,l=t.styleSpec,c=t.value,f=t.objectKey,h=l["".concat(e,"_").concat(t.layerType)];if(!h)return[];var p=f.match(/^(.*)-transition$/);if("paint"===e&&p&&h[p[1]]&&h[p[1]].transition)return r({key:n,value:c,valueSpec:l.transition,style:u,styleSpec:l});var y,d=t.valueSpec||h[f];if(!d)return[new i(n,c,\'unknown property "\'.concat(f,\'"\'))];if("string"===o(c)&&d["property-function"]&&!d.tokens&&(y=/^{([^}]+)}$/.exec(c)))return[new i(n,c,\'"\'.concat(f,\'" does not support interpolation syntax\\n\')+\'Use an identity property function instead: `{ "type": "identity", "property": \'.concat(JSON.stringify(y[1])," }`."))];var v=[];return"symbol"===t.layerType&&("text-field"===f&&u&&!u.glyphs&&v.push(new i(n,c,\'use of "text-field" requires a style "glyphs" property\')),"text-font"===f&&a(s.deep(c))&&"identity"===s(c.type)&&v.push(new i(n,c,\'"text-font" does not support identity functions\'))),v.concat(r({key:t.key,value:c,valueSpec:d,style:u,styleSpec:l,expressionContext:"property",propertyKey:f}))}},function(t,e,n){var r=n(71);t.exports=function(t){return r(t,"layout")}},function(t,e,n){var r=n(5),i=n(12),o=n(24),a=n(37);t.exports=function(t){var e=t.value,n=t.key,s=t.styleSpec,u=t.style;if(!e.type)return[new r(n,e,\'"type" is required\')];var l=i(e.type),c=[];switch(l){case"vector":case"raster":case"raster-dem":if(c=c.concat(o({key:n,value:e,valueSpec:s["source_".concat(l.replace("-","_"))],style:t.style,styleSpec:s})),"url"in e)for(var f in e)["type","url","tileSize"].indexOf(f)<0&&c.push(new r("".concat(n,".").concat(f),e[f],\'a source with a "url" property may not include a "\'.concat(f,\'" property\')));return c;case"geojson":return o({key:n,value:e,valueSpec:s.source_geojson,style:u,styleSpec:s});case"video":return o({key:n,value:e,valueSpec:s.source_video,style:u,styleSpec:s});case"image":return o({key:n,value:e,valueSpec:s.source_image,style:u,styleSpec:s});case"canvas":return o({key:n,value:e,valueSpec:s.source_canvas,style:u,styleSpec:s});default:return a({key:"".concat(n,".type"),value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image","canvas"]},style:u,styleSpec:s})}}},function(t,e,n){var r=n(5),i=n(7),o=n(16);t.exports=function(t){var e=t.value,n=t.styleSpec,a=n.light,s=t.style,u=[],l=i(e);if(void 0===e)return u;if("object"!==l)return u=u.concat([new r("light",e,"object expected, ".concat(l," found"))]);for(var c in e){var f=c.match(/^(.*)-transition$/);u=f&&a[f[1]]&&a[f[1]].transition?u.concat(o({key:c,value:e[c],valueSpec:n.transition,style:s,styleSpec:n})):a[c]?u.concat(o({key:c,value:e[c],valueSpec:a[c],style:s,styleSpec:n})):u.concat([new r(c,e[c],\'unknown property "\'.concat(c,\'"\'))])}return u}},function(t,e,n){var r=n(7),i=n(5);t.exports=function(t){var e=t.value,n=t.key,o=r(e);return"string"!==o?[new i(n,e,"string expected, ".concat(o," found"))]:[]}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(2);function o(t,e,n){n[t]=n[t]||[],n[t].push(e)}function a(t,e,n){if(n&&n[t]){var r=n[t].indexOf(e);-1!==r&&n[t].splice(r,1)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,s;return e=t,(n=[{key:"on",value:function(t,e){return this._listeners=this._listeners||{},o(t,e,this._listeners),this}},{key:"off",value:function(t,e){return a(t,e,this._listeners),a(t,e,this._oneTimeListeners),this}},{key:"once",value:function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},o(t,e,this._oneTimeListeners),this}},{key:"fire",value:function(t,e){if(this.listens(t)){e=i.extend({},e,{type:t,target:this});var n=this._listeners&&this._listeners[t]?this._listeners[t].slice():[],r=!0,o=!1,s=void 0;try{for(var u,l=n[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){u.value.call(this,e)}}catch(t){o=!0,s=t}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}var c=this._oneTimeListeners&&this._oneTimeListeners[t]?this._oneTimeListeners[t].slice():[],f=!0,h=!1,p=void 0;try{for(var y,d=c[Symbol.iterator]();!(f=(y=d.next()).done);f=!0){var v=y.value;a(t,v,this._oneTimeListeners),v.call(this,e)}}catch(t){h=!0,p=t}finally{try{f||null==d.return||d.return()}finally{if(h)throw p}}this._eventedParent&&this._eventedParent.fire(t,i.extend({},e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else i.endsWith(t,"error")&&console.error(e&&e.error||e||"Empty error event");return this}},{key:"listens",value:function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)}},{key:"setEventedParent",value:function(t,e){return this._eventedParent=t,this._eventedParentData=e,this}}])&&r(e.prototype,n),s&&r(e,s),t}();t.exports=s},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(10).CircleLayoutArray,o=n(109).members,a=n(25).SegmentVector,s=n(26).ProgramConfigurationSet,u=n(27).TriangleIndexArray,l=n(20),c=n(18),f=n(3).register;function h(t,e,n,r,i){t.emplaceBack(2*e+(r+1)/2,2*n+(i+1)/2)}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=e.index,this.layoutVertexArray=new i,this.indexArray=new u,this.segments=new a,this.programConfigurations=new s(o,e.layers,e.zoom)}var e,n,f;return e=t,(n=[{key:"populate",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=s.feature,c=s.index,f=s.sourceLayerIndex;if(this.layers[0]._featureFilter({zoom:this.zoom},u)){var h=l(u);this.addFeature(u,h),e.featureIndex.insert(u,h,c,f,this.index)}}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"upload",value:function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,o),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"addFeature",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=!0,l=!1,f=void 0;try{for(var p,y=s[Symbol.iterator]();!(u=(p=y.next()).done);u=!0){var d=p.value,v=d.x,m=d.y;if(!(v<0||v>=c||m<0||m>=c)){var g=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),b=g.vertexLength;h(this.layoutVertexArray,v,m,-1,-1),h(this.layoutVertexArray,v,m,1,-1),h(this.layoutVertexArray,v,m,1,1),h(this.layoutVertexArray,v,m,-1,1),this.indexArray.emplaceBack(b,b+1,b+2),this.indexArray.emplaceBack(b,b+3,b+2),g.vertexLength+=4,g.primitiveLength+=2}}}catch(t){l=!0,f=t}finally{try{u||null==y.return||y.return()}finally{if(l)throw f}}}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)}}])&&r(e.prototype,n),f&&r(e,f),t}();f("CircleBucket",p,{omit:["layers"]}),t.exports=p},function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r,s,u,l,c,p,d,v=e&&e.length,m=v?e[0]*n:t.length,g=i(t,0,m,n,!0),b=[];if(!g||g.next===g.prev)return b;if(v&&(g=function(t,e,n,r){var a,s,u,l,c,p=[];for(a=0,s=e.length;a<s;a++)u=e[a]*r,l=a<s-1?e[a+1]*r:t.length,(c=i(t,u,l,r,!1))===c.next&&(c.steiner=!0),p.push(y(c));for(p.sort(f),a=0;a<p.length;a++)h(p[a],n),n=o(n,n.next);return n}(t,e,g,n)),t.length>80*n){r=u=t[0],s=l=t[1];for(var x=n;x<m;x+=n)(c=t[x])<r&&(r=c),(p=t[x+1])<s&&(s=p),c>u&&(u=c),p>l&&(l=p);d=0!==(d=Math.max(u-r,l-s))?1/d:0}return a(g,b,n,r,s,d),b}function i(t,e,n,r,i){var o,a;if(i===A(t,e,n,r)>0)for(o=e;o<n;o+=r)a=k(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=k(o,t[o],t[o+1],a);return a&&g(a,a.next)&&(_(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!g(r,r.next)&&0!==m(r.prev,r,r.next))r=r.next;else{if(_(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,f,h){if(t){!h&&f&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=p(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(t,r,i,f);for(var y,d,v=t;t.prev!==t.next;)if(y=t.prev,d=t.next,f?u(t,r,i,f):s(t))e.push(y.i/n),e.push(t.i/n),e.push(d.i/n),_(t),t=d.next,v=d.next;else if((t=d)===v){h?1===h?a(t=l(t,e,n),e,n,r,i,f,2):2===h&&c(t,e,n,r,i,f):a(o(t),e,n,r,i,f,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(m(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(d(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&m(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,o=t,a=t.next;if(m(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=p(s,u,e,n,r),h=p(l,c,e,n,r),y=t.prevZ,v=t.nextZ;y&&y.z>=f&&v&&v.z<=h;){if(y!==t.prev&&y!==t.next&&d(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&m(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,v!==t.prev&&v!==t.next&&d(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;y&&y.z>=f;){if(y!==t.prev&&y!==t.next&&d(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&m(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;v&&v.z<=h;){if(v!==t.prev&&v!==t.next&&d(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&m(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function l(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!g(i,o)&&b(i,r,r.next,o)&&x(i,o)&&x(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),_(r),_(r.next),r=t=o),r=r.next}while(r!==t);return r}function c(t,e,n,r,i,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&v(u,l)){var c=w(u,l);return u=o(u,u.next),c=o(c,c.next),a(u,e,n,r,i,s),void a(c,e,n,r,i,s)}l=l.next}u=u.next}while(u!==t)}function f(t,e){return t.x-e.x}function h(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,f=n.y,h=1/0;r=n.next;for(;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&d(o<f?i:a,o,c,f,o<f?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<h||u===h&&r.x>n.x)&&x(r,t)&&(n=r,h=u),r=r.next;return n}(t,e)){var n=w(e,t);o(n,n.next)}}function p(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function y(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function d(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&b(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&x(t,e)&&x(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function m(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function g(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,n,r){return!!(g(t,e)&&g(n,r)||g(t,r)&&g(n,e))||m(t,e,n)>0!=m(t,e,r)>0&&m(n,r,t)>0!=m(n,r,e)>0}function x(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function w(t,e){var n=new S(t.i,t.x,t.y),r=new S(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function k(t,e,n,r){var i=new S(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function _(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=r,t.exports.default=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(A(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(A(t,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var h=r[s]*n,p=r[s+1]*n,y=r[s+2]*n;f+=Math.abs((t[h]-t[y])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[y+1]-t[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},function(t,e,n){"use strict";var r=n(80);function i(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(o,this,e),this.length=this._features.length}function o(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){var e=null,n=t.readVarint()+t.pos;for(;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}t.exports=i,i.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new r(this._pbf,e,this.extent,this._keys,this._values)}},function(t,e,n){"use strict";var r=n(6);function i(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(o,this,e)}function o(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){var n=t.readVarint()+t.pos;for(;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function a(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],r+=((n=t[a]).x-e.x)*(e.y+n.y);return r}t.exports=i,i.types=["Unknown","Point","LineString","Polygon"],i.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,o=0,a=0,s=0,u=[];t.pos<n;){if(o<=0){var l=t.readVarint();i=7&l,o=l>>3}if(o--,1===i||2===i)a+=t.readSVarint(),s+=t.readSVarint(),1===i&&(e&&u.push(e),e=[]),e.push(new r(a,s));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&u.push(e),u},i.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;t.pos<e;){if(r<=0){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=t.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},i.prototype.toGeoJSON=function(t,e,n){var r,o,s=this.extent*Math.pow(2,n),u=this.extent*t,l=this.extent*e,c=this.loadGeometry(),f=i.types[this.type];function h(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+l)/s;t[e]=[360*(n.x+u)/s-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(r=0;r<c.length;r++)p[r]=c[r][0];h(c=p);break;case 2:for(r=0;r<c.length;r++)h(c[r]);break;case 3:for(c=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var s=a(t[o]);0!==s&&(void 0===r&&(r=s<0),r===s<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}n&&i.push(n);return i}(c),r=0;r<c.length;r++)for(o=0;o<c[r].length;o++)h(c[r][o])}1===c.length?c=c[0]:f="Multi"+f;var y={type:"Feature",geometry:{type:f,coordinates:c},properties:this.properties};return"id"in this&&(y.id=this.id),y}},function(t,e,n){var r=n(31);t.exports=function(e){for(var n="",i=0;i<e.length;i++){var o=e.charCodeAt(i+1)||null,a=e.charCodeAt(i-1)||null;(!o||!r.charHasRotatedVerticalOrientation(o)||t.exports.lookup[e[i+1]])&&(!a||!r.charHasRotatedVerticalOrientation(a)||t.exports.lookup[e[i-1]])&&t.exports.lookup[e[i]]?n+=t.exports.lookup[e[i]]:n+=e[i]}return n},t.exports.lookup={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(44),o=n(21),a=n(32),s=n(147),u=n(2);function l(t,e){var n=i.getArrayBuffer(t.request,function(t,n){t?e(t):n&&e(null,{vectorTile:new o.VectorTile(new a(n.data)),rawData:n.data,cacheControl:n.cacheControl,expires:n.expires})});return function(){n.abort(),e()}}var c=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.actor=e,this.layerIndex=n,this.loadVectorData=r||l,this.loading={},this.loaded={}}var e,n,i;return e=t,(n=[{key:"loadTile",value:function(t,e){var n=this,r=t.source,i=t.uid;this.loading[r]||(this.loading[r]={});var o=this.loading[r][i]=new s(t);o.abort=this.loadVectorData(t,function(t,a){if(delete n.loading[r][i],t||!a)return e(t);var s=a.rawData,l={};a.expires&&(l.expires=a.expires),a.cacheControl&&(l.cacheControl=a.cacheControl),o.vectorTile=a.vectorTile,o.parse(a.vectorTile,n.layerIndex,n.actor,function(t,n){if(t||!n)return e(t);e(null,u.extend({rawTileData:s.slice(0)},n,l))}),n.loaded[r]=n.loaded[r]||{},n.loaded[r][i]=o})}},{key:"reloadTile",value:function(t,e){var n=this.loaded[t.source],r=t.uid,i=this;if(n&&n[r]){var o=n[r];o.showCollisionBoxes=t.showCollisionBoxes,"parsing"===o.status?o.reloadCallback=a.bind(o):"done"===o.status&&o.parse(o.vectorTile,this.layerIndex,this.actor,a.bind(o))}function a(t,n){if(this.reloadCallback){var r=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,i.layerIndex,i.actor,r)}e(t,n)}}},{key:"abortTile",value:function(t,e){var n=this.loading[t.source],r=t.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),e()}},{key:"removeTile",value:function(t,e){var n=this.loaded[t.source],r=t.uid;n&&n[r]&&delete n[r],e()}}])&&r(e.prototype,n),i&&r(e,i),t}();t.exports=c},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(0),o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._stringToNumber={},this._numberToString=[];for(var n=0;n<e.length;n++){var r=e[n];this._stringToNumber[r]=n,this._numberToString[n]=r}}var e,n,o;return e=t,(n=[{key:"encode",value:function(t){return i(t in this._stringToNumber),this._stringToNumber[t]}},{key:"decode",value:function(t){return i(t<this._numberToString.length),this._numberToString[t]}}])&&r(e.prototype,n),o&&r(e,o),t}();t.exports=o},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var a=n(150),s=n(0),u=n(3).register,l=n(47),c=function(){function t(e,n,i){r(this,t),s(e>=0&&e<=25),s(n>=0&&n<Math.pow(2,e)),s(i>=0&&i<Math.pow(2,e)),this.z=e,this.x=n,this.y=i,this.key=p(0,e,n,i)}return o(t,[{key:"equals",value:function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}},{key:"url",value:function(t,e){var n=a.getTileBBox(this.x,this.y,this.z),r=function(t,e,n){for(var r,i="",o=t;o>0;o--)i+=(e&(r=1<<o-1)?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",r).replace("{bbox-epsg-3857}",n)}}]),t}(),f=function t(e,n,i){r(this,t),this.wrap=e,this.canonical=n,this.key=p(e,n.z,n.x,n.y),this.posMatrix=i},h=function(){function t(e,n,i,o,a){r(this,t),s(e>=i),this.overscaledZ=e,this.wrap=n,this.canonical=new c(i,+o,+a),this.key=p(n,e,o,a)}return o(t,[{key:"scaledTo",value:function(e){s(e<=this.overscaledZ);var n=this.canonical.z-e;return e>this.canonical.z?new t(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new t(e,this.wrap,e,this.canonical.x>>n,this.canonical.y>>n)}},{key:"isChildOf",value:function(t){var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e}},{key:"children",value:function(e){if(this.overscaledZ>=e)return[new t(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var n=this.canonical.z+1,r=2*this.canonical.x,i=2*this.canonical.y;return[new t(n,this.wrap,n,r,i),new t(n,this.wrap,n,r+1,i),new t(n,this.wrap,n,r,i+1),new t(n,this.wrap,n,r+1,i+1)]}},{key:"isLessThan",value:function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}},{key:"wrapped",value:function(){return new t(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"overscaleFactor",value:function(){return Math.pow(2,this.overscaledZ-this.canonical.z)}},{key:"toUnwrapped",value:function(){return new f(this.wrap,this.canonical,this.posMatrix)}},{key:"toString",value:function(){return"".concat(this.overscaledZ,"/").concat(this.canonical.x,"/").concat(this.canonical.y)}},{key:"toCoordinate",value:function(){return new l(this.canonical.x+Math.pow(2,this.wrap),this.canonical.y,this.canonical.z)}}]),t}();function p(t,e,n,r){(t*=2)<0&&(t=-1*t-1);var i=1<<e;return 32*(i*i*t+i*r+n)+e}u("CanonicalTileID",c),u("OverscaledTileID",h,{omit:["posMatrix"]}),t.exports={CanonicalTileID:c,OverscaledTileID:h,UnwrappedTileID:f}},function(t,e,n){t.exports=function(){function t(t,e,n){n=n||{},this.w=t||64,this.h=e||64,this.autoResize=!!n.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function e(t,e,n){this.x=0,this.y=t,this.w=this.free=e,this.h=n}function n(t,e,n,r,i,o,a){this.id=t,this.x=e,this.y=n,this.w=r,this.h=i,this.maxw=o||r,this.maxh=a||i,this.refcount=0}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var n,r,i,o,a=[],s=0;s<t.length;s++)if(n=t[s].w||t[s].width,r=t[s].h||t[s].height,i=t[s].id,n&&r){if(!(o=this.packOne(n,r,i)))continue;e.inPlace&&(t[s].x=o.x,t[s].y=o.y,t[s].id=o.id),a.push(o)}return this.shrink(),a},t.prototype.packOne=function(t,n,r){var i,o,a,s,u,l,c,f,h={freebin:-1,shelf:-1,waste:1/0},p=0;if("string"==typeof r||"number"==typeof r){if(i=this.getBin(r))return this.ref(i),i;"number"==typeof r&&(this.maxId=Math.max(r,this.maxId))}else r=++this.maxId;for(s=0;s<this.freebins.length;s++){if(n===(i=this.freebins[s]).maxh&&t===i.maxw)return this.allocFreebin(s,t,n,r);n>i.maxh||t>i.maxw||n<=i.maxh&&t<=i.maxw&&(a=i.maxw*i.maxh-t*n)<h.waste&&(h.waste=a,h.freebin=s)}for(s=0;s<this.shelves.length;s++)if(p+=(o=this.shelves[s]).h,!(t>o.free)){if(n===o.h)return this.allocShelf(s,t,n,r);n>o.h||n<o.h&&(a=(o.h-n)*t)<h.waste&&(h.freebin=-1,h.waste=a,h.shelf=s)}return-1!==h.freebin?this.allocFreebin(h.freebin,t,n,r):-1!==h.shelf?this.allocShelf(h.shelf,t,n,r):n<=this.h-p&&t<=this.w?(o=new e(p,this.w,n),this.allocShelf(this.shelves.push(o)-1,t,n,r)):this.autoResize?(u=l=this.h,((c=f=this.w)<=u||t>c)&&(f=2*Math.max(t,c)),(u<c||n>u)&&(l=2*Math.max(n,u)),this.resize(f,l),this.packOne(t,n,r)):null},t.prototype.allocFreebin=function(t,e,n,r){var i=this.freebins.splice(t,1)[0];return i.id=r,i.w=e,i.h=n,i.refcount=0,this.bins[r]=i,this.ref(i),i},t.prototype.allocShelf=function(t,e,n,r){var i=this.shelves[t].alloc(e,n,r);return this.bins[r]=i,this.ref(i),i},t.prototype.shrink=function(){if(this.shelves.length>0){for(var t=0,e=0,n=0;n<this.shelves.length;n++){var r=this.shelves[n];e+=r.h,t=Math.max(r.w-r.free,t)}this.resize(t,e)}},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1==++t.refcount){var e=t.h;this.stats[e]=1+(0|this.stats[e])}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0==--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(t);return!0},e.prototype.alloc=function(t,e,r){if(t>this.free||e>this.h)return null;var i=this.x;return this.x+=t,this.free-=t,new n(r,i,this.y,t,e,t,this.h)},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t}()},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(87),o=n(101),a=n(82),s=n(164),u=n(166),l=n(0),c=n(43);new(function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.self=e,this.actor=new i(e,this),this.layerIndexes={},this.workerSourceTypes={vector:a,geojson:u},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error(\'Worker source with name "\'.concat(t,\'" already registered.\'));n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(t){if(c.applyArabicShaping||c.processBidirectionalText)throw new Error("RTL text plugin already registered.");c.applyArabicShaping=t.applyArabicShaping,c.processBidirectionalText=t.processBidirectionalText}}var e,n,f;return e=t,(n=[{key:"setLayers",value:function(t,e,n){this.getLayerIndex(t).replace(e),n()}},{key:"updateLayers",value:function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()}},{key:"loadTile",value:function(t,e,n){l(e.type),this.getWorkerSource(t,e.type).loadTile(e,n)}},{key:"loadDEMTile",value:function(t,e,n){this.getDEMWorkerSource(t).loadTile(e,n)}},{key:"reloadTile",value:function(t,e,n){l(e.type),this.getWorkerSource(t,e.type).reloadTile(e,n)}},{key:"abortTile",value:function(t,e,n){l(e.type),this.getWorkerSource(t,e.type).abortTile(e,n)}},{key:"removeTile",value:function(t,e,n){l(e.type),this.getWorkerSource(t,e.type).removeTile(e,n)}},{key:"removeDEMTile",value:function(t,e){this.getDEMWorkerSource(t).removeTile(e)}},{key:"removeSource",value:function(t,e,n){l(e.type);var r=this.getWorkerSource(t,e.type);void 0!==r.removeSource?r.removeSource(e,n):n()}},{key:"loadWorkerSource",value:function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t)}}},{key:"loadRTLTextPlugin",value:function(t,e,n){try{c.applyArabicShaping||c.processBidirectionalText||(this.self.importScripts(e),c.applyArabicShaping&&c.processBidirectionalText||n(new Error("RTL Text Plugin failed to import scripts from ".concat(e))))}catch(t){n(t)}}},{key:"getLayerIndex",value:function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new o),e}},{key:"getWorkerSource",value:function(t,e){var n=this;if(this.workerSources[t]||(this.workerSources[t]={}),!this.workerSources[t][e]){var r={send:function(e,r,i){n.actor.send(e,r,i,t)}};this.workerSources[t][e]=new this.workerSourceTypes[e](r,this.getLayerIndex(t))}return this.workerSources[t][e]}},{key:"getDEMWorkerSource",value:function(t){return this.demWorkerSources[t]||(this.demWorkerSources[t]=new s),this.demWorkerSources[t]}}])&&r(e.prototype,n),f&&r(e,f),t}())(self)},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(2),o=n(3),a=o.serialize,s=o.deserialize,u=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.target=e,this.parent=n,this.mapId=r,this.callbacks={},this.callbackID=0,i.bindAll(["receive"],this),this.target.addEventListener("message",this.receive,!1)}var e,n,o;return e=t,(n=[{key:"send",value:function(t,e,n,r){var i=n?"".concat(this.mapId,":").concat(this.callbackID++):null;n&&(this.callbacks[i]=n);var o=[];this.target.postMessage({targetMapId:r,sourceMapId:this.mapId,type:t,id:String(i),data:a(e,o)},o)}},{key:"receive",value:function(t){var e,n=this,r=t.data,i=r.id;if(!r.targetMapId||this.mapId===r.targetMapId){var o=function(t,e){var r=[];n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(i),error:t?String(t):null,data:a(e,r)},r)};if("<response>"===r.type)e=this.callbacks[r.id],delete this.callbacks[r.id],e&&r.error?e(new Error(r.error)):e&&e(null,s(r.data));else if(void 0!==r.id&&this.parent[r.type])this.parent[r.type](r.sourceMapId,s(r.data),o);else if(void 0!==r.id&&this.parent.getWorkerSource){var u=r.type.split(".");this.parent.getWorkerSource(r.sourceMapId,u[0])[u[1]](s(r.data),o)}else this.parent[r.type](s(r.data))}}},{key:"remove",value:function(){this.target.removeEventListener("message",this.receive,!1)}}])&&r(e.prototype,n),o&&r(e,o),t}();t.exports=u},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function t(e,r){if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(var i=0;i<e.length;i++)if(!t(e[i],r[i]))return!1;return!0}if("object"===n(e)&&null!==e&&null!==r){if("object"!==n(r))return!1;if(Object.keys(e).length!==Object.keys(r).length)return!1;for(var o in e)if(!t(e[o],r[o]))return!1;return!0}return e===r}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(t).replace(i,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),u=r[n];n<o;u=r[++n])d(u)||!x(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(t,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),y(n)?r.showHidden=n:n&&e._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),c(r,t,r.depth)}function u(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function l(t,e){return t}function c(t,n,r){if(t.customInspect&&n&&_(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return m(i)||(i=c(t,i,r)),i}var o=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(m(e)){var n="\'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\')+"\'";return t.stylize(n,"string")}if(v(e))return t.stylize(""+e,"number");if(y(e))return t.stylize(""+e,"boolean");if(d(e))return t.stylize("null","null")}(t,n);if(o)return o;var a=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),k(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(_(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return t.stylize(Date.prototype.toString.call(n),"date");if(k(n))return f(n)}var l,x="",S=!1,A=["{","}"];(p(n)&&(S=!0,A=["[","]"]),_(n))&&(x=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(x=" "+RegExp.prototype.toString.call(n)),w(n)&&(x=" "+Date.prototype.toUTCString.call(n)),k(n)&&(x=" "+f(n)),0!==a.length||S&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=S?function(t,e,n,r,i){for(var o=[],a=0,s=e.length;a<s;++a)j(e,String(a))?o.push(h(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}(t,n,r,s,a):a.map(function(e){return h(t,n,r,s,e,S)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\\n")>=0&&0,t+e.replace(/\\u001b\\[\\d\\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\\n ")+" "+t.join(",\\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(l,x,A)):A[0]+x+A[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),j(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=d(n)?c(t,u.value,null):c(t,u.value,n-1)).indexOf("\\n")>-1&&(s=o?s.split("\\n").map(function(t){return"  "+t}).join("\\n").substr(2):"\\n"+s.split("\\n").map(function(t){return"   "+t}).join("\\n")):s=t.stylize("[Circular]","special")),g(a)){if(o&&i.match(/^\\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\').replace(/(^"|"$)/g,"\'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function d(t){return null===t}function v(t){return"number"==typeof t}function m(t){return"string"==typeof t}function g(t){return void 0===t}function b(t){return x(t)&&"[object RegExp]"===S(t)}function x(t){return"object"==typeof t&&null!==t}function w(t){return x(t)&&"[object Date]"===S(t)}function k(t){return x(t)&&("[object Error]"===S(t)||t instanceof Error)}function _(t){return"function"==typeof t}function S(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(g(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\\\b"+n+"\\\\b","i").test(o)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=y,e.isNull=d,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=b,e.isObject=x,e.isDate=w,e.isError=k,e.isFunction=_,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(93);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":"),[t.getDate(),T[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(94),e._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var O="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function z(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError(\'The "original" argument must be of type Function\');if(O&&t[O]){var e;if("function"!=typeof(e=t[O]))throw new TypeError(\'The "util.promisify.custom" argument must be of type Function\');return Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(t,r){t?n(t):e(r)});try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),O&&Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=O,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError(\'The "original" argument must be of type Function\');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};e.apply(this,n).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick(z,e,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(92))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,f=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&p())}function p(){if(!c){var t=s(h);c=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function d(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new y(t,e)),1!==l.length||c||s(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(4),o=i.array,a=i.ValueType,s=i.NumberType,u=n(15),l=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.index=n,this.input=r}var e,n,i;return e=t,i=[{key:"parse",value:function(e,n){if(3!==e.length)return n.error("Expected 2 arguments, but found ".concat(e.length-1," instead."));var r=n.parse(e[1],1,s),i=n.parse(e[2],2,o(n.expectedType||a));return r&&i?new t(i.type.itemType,r,i):null}}],(n=[{key:"evaluate",value:function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0||e>=n.length)throw new u("Array index out of bounds: ".concat(e," > ").concat(n.length,"."));if(e!==Math.floor(e))throw new u("Array index must be an integer, but found ".concat(e," instead."));return n[e]}},{key:"eachChild",value:function(t){t(this.index),t(this.input)}},{key:"possibleOutputs",value:function(){return[void 0]}}])&&r(e.prototype,n),i&&r(e,i),t}();t.exports=l},function(t,e,n){function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(0),a=n(11).typeOf,s=function(){function t(e,n,r,i,o,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.inputType=e,this.type=n,this.input=r,this.cases=i,this.outputs=o,this.otherwise=a}var e,n,s;return e=t,s=[{key:"parse",value:function(e,n){if(e.length<5)return n.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if(e.length%2!=1)return n.error("Expected an even number of arguments.");var r,i;n.expectedType&&"value"!==n.expectedType.kind&&(i=n.expectedType);for(var s={},u=[],l=2;l<e.length-1;l+=2){var c=e[l],f=e[l+1];Array.isArray(c)||(c=[c]);var h=n.concat(l);if(0===c.length)return h.error("Expected at least one branch label.");var p=!0,y=!1,d=void 0;try{for(var v,m=c[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var g=v.value;if("number"!=typeof g&&"string"!=typeof g)return h.error("Branch labels must be numbers or strings.");if("number"==typeof g&&Math.abs(g)>Number.MAX_SAFE_INTEGER)return h.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if("number"==typeof g&&Math.floor(g)!==g)return h.error("Numeric branch labels must be integer values.");if(r){if(h.checkSubtype(r,a(g)))return null}else r=a(g);if(void 0!==s[String(g)])return h.error("Branch labels must be unique.");s[String(g)]=u.length}}catch(t){y=!0,d=t}finally{try{p||null==m.return||m.return()}finally{if(y)throw d}}var b=n.parse(f,l,i);if(!b)return null;i=i||b.type,u.push(b)}var x=n.parse(e[1],1,r);if(!x)return null;var w=n.parse(e[e.length-1],e.length-1,i);return w?(o(r&&i),new t(r,i,x,s,u,w)):null}}],(n=[{key:"evaluate",value:function(t){var e=this.input.evaluate(t);return(this.outputs[this.cases[e]]||this.otherwise).evaluate(t)}},{key:"eachChild",value:function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}},{key:"possibleOutputs",value:function(){var t;return(t=[]).concat.apply(t,r(this.outputs.map(function(t){return t.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())}}])&&i(e.prototype,n),s&&i(e,s),t}();t.exports=s},function(t,e,n){function r(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=n(0),s=n(4).BooleanType,u=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.branches=n,this.otherwise=r}var e,n,u;return e=t,u=[{key:"parse",value:function(e,n){if(e.length<4)return n.error("Expected at least 3 arguments, but found only ".concat(e.length-1,"."));if(e.length%2!=0)return n.error("Expected an odd number of arguments.");var r;n.expectedType&&"value"!==n.expectedType.kind&&(r=n.expectedType);for(var i=[],o=1;o<e.length-1;o+=2){var u=n.parse(e[o],o,s);if(!u)return null;var l=n.parse(e[o+1],o+1,r);if(!l)return null;i.push([u,l]),r=r||l.type}var c=n.parse(e[e.length-1],e.length-1,r);return c?(a(r),new t(r,i,c)):null}}],(n=[{key:"evaluate",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,a=this.branches[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=i(o.value,2),u=s[0],l=s[1];if(u.evaluate(t))return l.evaluate(t)}}catch(t){n=!0,r=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}return this.otherwise.evaluate(t)}},{key:"eachChild",value:function(t){var e=!0,n=!1,r=void 0;try{for(var o,a=this.branches[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=i(o.value,2),u=s[0],l=s[1];t(u),t(l)}}catch(t){n=!0,r=t}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}t(this.otherwise)}},{key:"possibleOutputs",value:function(){var t;return(t=[]).concat.apply(t,r(this.branches.map(function(t){var e=i(t,2);e[0];return e[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs())}}])&&o(e.prototype,n),u&&o(e,u),t}();t.exports=u},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(4),o=i.ValueType,a=i.BooleanType,s=n(4).toString;function u(t){return"string"===t.kind||"number"===t.kind||"boolean"===t.kind||"null"===t.kind}function l(t){return function(){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=a,this.lhs=t,this.rhs=n}var n,i,l;return n=e,l=[{key:"parse",value:function(t,n){if(3!==t.length)return n.error("Expected two arguments.");var r=n.parse(t[1],1,o);if(!r)return null;var i=n.parse(t[2],2,o);return i?u(r.type)||u(i.type)?r.type.kind!==i.type.kind&&"value"!==r.type.kind&&"value"!==i.type.kind?n.error("Cannot compare ".concat(s(r.type)," and ").concat(s(i.type),".")):new e(r,i):n.error("Expected at least one argument to be a string, number, boolean, or null, but found (".concat(s(r.type),", ").concat(s(i.type),") instead.")):null}}],(i=[{key:"evaluate",value:function(e){return t(this.lhs.evaluate(e),this.rhs.evaluate(e))}},{key:"eachChild",value:function(t){t(this.lhs),t(this.rhs)}},{key:"possibleOutputs",value:function(){return[!0,!1]}}])&&r(n.prototype,i),l&&r(n,l),e}()}t.exports={Equals:l(function(t,e){return t===e}),NotEquals:l(function(t,e){return t!==e})}},function(t,e){t.exports={success:function(t){return{result:"success",value:t}},error:function(t){return{result:"error",value:t}}}},function(t,e,n){var r=n(13),i=n(19).number,o=.95047,a=1,s=1.08883,u=4/29,l=6/29,c=3*l*l,f=l*l*l,h=Math.PI/180,p=180/Math.PI;function y(t){return t>f?Math.pow(t,1/3):t/c+u}function d(t){return t>l?t*t*t:c*(t-u)}function v(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function m(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function g(t){var e=m(t.r),n=m(t.g),r=m(t.b),i=y((.4124564*e+.3575761*n+.1804375*r)/o),u=y((.2126729*e+.7151522*n+.072175*r)/a);return{l:116*u-16,a:500*(i-u),b:200*(u-y((.0193339*e+.119192*n+.9503041*r)/s)),alpha:t.a}}function b(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,i=isNaN(t.b)?e:e-t.b/200;return e=a*d(e),n=o*d(n),i=s*d(i),new r(v(3.2404542*n-1.5371385*e-.4985314*i),v(-.969266*n+1.8760108*e+.041556*i),v(.0556434*n-.2040259*e+1.0572252*i),t.alpha)}function x(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}t.exports={lab:{forward:g,reverse:b,interpolate:function(t,e,n){return{l:i(t.l,e.l,n),a:i(t.a,e.a,n),b:i(t.b,e.b,n),alpha:i(t.alpha,e.alpha,n)}}},hcl:{forward:function(t){var e=g(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*p;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}},reverse:function(t){var e=t.h*h,n=t.c;return b({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:x(t.h,e.h,n),c:i(t.c,e.c,n),l:i(t.l,e.l,n),alpha:i(t.alpha,e.alpha,n)}}}}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(9),o=n(2),a=n(39),s=n(144),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e&&this.replace(e)}var e,n,u;return e=t,(n=[{key:"replace",value:function(t){this._layerConfigs={},this._layers={},this.update(t,[])}},{key:"update",value:function(t,e){var n=this,r=!0,u=!1,l=void 0;try{for(var c,f=t[Symbol.iterator]();!(r=(c=f.next()).done);r=!0){var h=c.value;this._layerConfigs[h.id]=h;var p=this._layers[h.id]=i.create(h);p._featureFilter=a(p.filter)}}catch(t){u=!0,l=t}finally{try{r||null==f.return||f.return()}finally{if(u)throw l}}var y=!0,d=!1,v=void 0;try{for(var m,g=e[Symbol.iterator]();!(y=(m=g.next()).done);y=!0){var b=m.value;delete this._layerConfigs[b],delete this._layers[b]}}catch(t){d=!0,v=t}finally{try{y||null==g.return||g.return()}finally{if(d)throw v}}this.familiesBySource={};var x=s(o.values(this._layerConfigs)),w=!0,k=!1,_=void 0;try{for(var S,A=x[Symbol.iterator]();!(w=(S=A.next()).done);w=!0){var T=S.value.map(function(t){return n._layers[t.id]}),j=T[0];if("none"!==j.visibility){var O=j.source||"",z=this.familiesBySource[O];z||(z=this.familiesBySource[O]={});var P=j.sourceLayer||"_geojsonTileLayer",E=z[P];E||(E=z[P]=[]),E.push(T)}}}catch(t){k=!0,_=t}finally{try{w||null==A.return||A.return()}finally{if(k)throw _}}}}])&&r(e.prototype,n),u&&r(e,u),t}();t.exports=u},function(t){t.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like \'mapbox:\'."},center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:\'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90° orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).\',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties.",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property.",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image","source_canvas"],source_vector:{type:{required:!0,type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<mapid>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source\'s bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<mapid>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source\'s bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A raster DEM source using Mapbox Terrain RGB"}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://<mapid>`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source\'s bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number",default:0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number",default:22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number",default:512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number",default:18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},tolerance:{type:"number",default:.375,doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups."},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered)."}},source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_canvas:{type:{required:!0,type:"enum",values:{canvas:{doc:"A canvas data source."}},doc:"The data type of the canvas source."},coordinates:{required:!0,doc:"Corners of canvas specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}},animate:{type:"boolean",default:"true",doc:"Whether the canvas source is animated. If the canvas is static, `animate` should be set to `false` to improve performance."},canvas:{type:"string",required:!0,doc:"HTML ID of the canvas from which to read pixels."}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB tiles","sdk-support":{"basic functionality":{js:"0.43.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like \'mapbox:\'."},source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level on which the layer gets parsed and appears on."},maxzoom:{type:"number",minimum:0,maximum:24,doc:"The maximum zoom level on which the layer gets parsed and appears on."},filter:{type:"filter",doc:"A expression specifying conditions on source features. Only features that match the filter are displayed."},layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},layout_fill:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},layout_circle:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0"}}}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line\'s width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line\'s width."}},default:"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line\'s width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line\'s width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},default:"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}}},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."}},default:"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don\'t have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"data-driven styling":{}}},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},default:"none",doc:"Scales the icon to fit around the associated text.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"data-driven styling":{}}},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"data-driven styling":{}}},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,doc:"Name of image in sprite to use for drawing an image background. Within literal values and zoom functions, property names enclosed in curly brackets (e.g. `{token}`) are replaced with the value of the named property. Expressions and property functions do not support this syntax; for equivalent functionality in expressions, use the [`concat`](#expressions-concat) and [`get`](#expressions-get) operators.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"icon-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},default:"center",doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}}},"icon-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},default:"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{}}},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},default:"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"data-driven styling":{}}},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line`, aligns text x-axes with the line."},viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line`, this is equivalent to `map`."}},default:"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"data-driven styling":{}}},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:"",tokens:!0,doc:"Value to use for a text label. Within literal values and zoom functions, property names enclosed in curly brackets (e.g. `{token}`) are replaced with the value of the named property. Expressions and property functions do not support this syntax; for equivalent functionality in expressions, use the [`concat`](#expressions-concat) and [`get`](#expressions-get) operators.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,doc:"The maximum line width for text wrapping.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}}},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":!0,doc:"Text leading value for multi-line text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}}},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},default:"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}}},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},default:"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}}},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},default:"none",doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up.",value:"number",units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,length:2,default:[0,0],requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}}},layout_hillshade:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0"},"data-driven styling":{}}}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_operator:{type:"enum",values:{"==":{doc:\'`["==", key, value]` equality: `feature[key] = value`\'},"!=":{doc:\'`["!=", key, value]` inequality: `feature[key] ≠ value`\'},">":{doc:\'`[">", key, value]` greater than: `feature[key] > value`\'},">=":{doc:\'`[">=", key, value]` greater than or equal: `feature[key] ≥ value`\'},"<":{doc:\'`["<", key, value]` less than: `feature[key] < value`\'},"<=":{doc:\'`["<=", key, value]` less than or equal: `feature[key] ≤ value`\'},in:{doc:\'`["in", key, v0, ..., vn]` set inclusion: `feature[key] ∈ {v0, ..., vn}`\'},"!in":{doc:\'`["!in", key, v0, ..., vn]` set exclusion: `feature[key] ∉ {v0, ..., vn}`\'},all:{doc:\'`["all", f0, ..., fn]` logical `AND`: `f0 ∧ ... ∧ fn`\'},any:{doc:\'`["any", f0, ..., fn]` logical `OR`: `f0 ∨ ... ∨ fn`\'},none:{doc:\'`["none", f0, ..., fn]` logical `NOR`: `¬f0 ∧ ... ∧ ¬fn`\'},has:{doc:\'`["has", key]` `feature[key]` exists\'},"!has":{doc:\'`["!has", key]` `feature[key]` does not exist\'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn\'t otherwise available. It is used in the following circumstances:\\n* In categorical functions, when the feature value does not match any of the stop domain values.\\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\\nIf no default is provided, the style property\'s default is used in these circumstances."}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:\'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].\',group:"Variable binding"},var:{doc:\'References variable bound using "let".\',group:"Variable binding"},literal:{doc:"Provides a literal array or object value.",group:"Types"},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types"},at:{doc:"Retrieves an item from an array.",group:"Lookup"},case:{doc:"Selects the first output whose corresponding test condition evaluates to true.",group:"Decision"},match:{doc:\'Selects the output whose label value matches the input value, or the fallback value if no match is found. The `input` can be any string or number expression (e.g. `["get", "building_type"]`). Each label can either be a single literal value or an array of values.\',group:"Decision"},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision"},step:{doc:\'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first input if the input is less than the first stop.\',group:"Ramps, scales, curves"},interpolate:{doc:\'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\\n\\nInterpolation types:\\n- `["linear"]`: interpolates linearly between the pair of stops just less than and just greater than the input.\\n- `["exponential", base]`: interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\\n- `["cubic-bezier", x1, y1, x2, y2]`: interpolates using the cubic bezier curve defined by the given control points.\',group:"Ramps, scales, curves"},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math"},pi:{doc:"Returns the mathematical constant pi.",group:"Math"},e:{doc:"Returns the mathematical constant e.",group:"Math"},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types"},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string value is obtained. If none of the inputs are strings, the expression is an error.",group:"Types"},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number value is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types"},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean value is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types"},object:{doc:"Asserts that the input value is an object. If it is not, the expression is an error.",group:"Types"},"to-string":{doc:\'Converts the input value to a string. If the input is `null`, the result is `"null"`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.\',group:"Types"},"to-number":{doc:\'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.\',group:"Types"},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types"},"to-rgba":{doc:"Returns a four-element array containing the input color\'s red, green, blue, and alpha components, in that order.",group:"Color"},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types"},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color"},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color"},get:{doc:"Retrieves a property value from the current feature\'s properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",group:"Lookup"},has:{doc:"Tests for the presence of an property value in the current feature\'s properties, or from another object if a second argument is provided.",group:"Lookup"},length:{doc:"Gets the length of an array or string.",group:"Lookup"},properties:{doc:\'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.\',group:"Feature data"},"geometry-type":{doc:"Gets the feature\'s geometry type: Point, MultiPoint, LineString, MultiLineString, Polygon, MultiPolygon.",group:"Feature data"},id:{doc:"Gets the feature\'s id, if it has one.",group:"Feature data"},zoom:{doc:\'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.\',group:"Zoom"},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap"},"+":{doc:"Returns the sum of the inputs.",group:"Math"},"*":{doc:"Returns the product of the inputs.",group:"Math"},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math"},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math"},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math"},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math"},sqrt:{doc:"Returns the square root of the input.",group:"Math"},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math"},ln:{doc:"Returns the natural logarithm of the input.",group:"Math"},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math"},sin:{doc:"Returns the sine of the input.",group:"Math"},cos:{doc:"Returns the cosine of the input.",group:"Math"},tan:{doc:"Returns the tangent of the input.",group:"Math"},asin:{doc:"Returns the arcsine of the input.",group:"Math"},acos:{doc:"Returns the arccosine of the input.",group:"Math"},atan:{doc:"Returns the arctangent of the input.",group:"Math"},min:{doc:"Returns the minimum value of the inputs.",group:"Math"},max:{doc:"Returns the maximum value of the inputs.",group:"Math"},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The inputs must be numbers, strings, or booleans, and both of the same type.",group:"Decision"},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The inputs must be numbers, strings, or booleans, and both of the same type.",group:"Decision"},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The inputs must be numbers or strings, and both of the same type.",group:"Decision"},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The inputs must be numbers or strings, and both of the same type.",group:"Decision"},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The inputs must be numbers or strings, and both of the same type.",group:"Decision"},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The inputs must be numbers or strings, and both of the same type.",group:"Decision"},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision"},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision"},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision"},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String"},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String"},concat:{doc:"Returns a string consisting of the concatenation of the inputs.",group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},transition:!1,"zoom-function":!0,"property-function":!1,function:"piecewise-constant",doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:!0,function:"interpolated","zoom-function":!0,"property-function":!1,doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0° (0° when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0° when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0°, directly above, to 180°, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"fill-color":{type:"color",default:"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color\'s opacity will not affect the opacity of the 1px stroke, if it is used.",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",doc:"The geometry\'s offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-translate`.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512).","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!1,default:1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"fill-extrusion-color":{type:"color",default:"#000000",doc:"The base color of the extruded fill. The extrusion\'s surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",doc:"The geometry\'s offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{}}},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{}}},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512).","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{}}},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"line-color":{type:"color",doc:"The color with which the line will be drawn.",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",doc:"The geometry\'s offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0"}}},"line-gap-width":{type:"number",default:0,minimum:0,doc:"Draws a line casing outside of a line\'s actual path. Value indicates the width of the inner gap.",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"line-offset":{type:"number",default:0,doc:"The line\'s offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width.",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512).","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"circle-color":{type:"color",default:"#000000",doc:"The fill color of the circle.",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"circle-blur":{type:"number",default:0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",doc:"The geometry\'s offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},default:"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"data-driven styling":{}}},"circle-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},default:"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{}}},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"The width of the circle\'s stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"circle-stroke-color":{type:"color",default:"#000000",doc:"The stroke color of the circle.",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle\'s stroke.",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0"},"data-driven styling":{}}},"heatmap-weight":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0"},"data-driven styling":{js:"0.41.0"}}},"heatmap-intensity":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0"},"data-driven styling":{}}},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:\'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.\',function:"interpolated","zoom-function":!1,"property-function":!1,transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0"},"data-driven styling":{}}},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0"},"data-driven styling":{}}}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,doc:"The color of the icon. This can only be used with sdf icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,doc:"The color of the icon\'s halo. Icon halos can only be used with SDF icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",doc:"Distance that the icon\'s anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"text-color":{type:"color",doc:"The color with which the text will be drawn.",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,doc:"The color of the text\'s halo, which helps it stand out from backgrounds.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",doc:"The halo\'s fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}}},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",doc:"Distance that the text\'s anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}}}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",function:"interpolated","zoom-function":!0,transition:!1},"hillshade-illumination-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated."},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",function:"interpolated","zoom-function":!0,transition:!0}},paint_background:{"background-color":{type:"color",default:"#000000",doc:"The color with which the background will be drawn.",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512).","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",function:"interpolated","zoom-function":!0,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}}}},function(t,e,n){t.exports=n(104),t.exports.emitErrors=function(t,e){if(e&&e.length){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value.message;t.fire("error",{error:new Error(s)})}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return!0}return!1}},function(t,e,n){var r=n(64),i=n(16),o=n(8),a=n(107);function s(t,e){e=e||o;var n=[];return n=n.concat(i({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:a,"*":function(){return[]}}})),t.constants&&(n=n.concat(r({key:"constants",value:t.constants,style:t,styleSpec:e}))),u(n)}function u(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function l(t){return function(){return u(t.apply(this,arguments))}}s.source=l(n(73)),s.light=l(n(74)),s.layer=l(n(69)),s.filter=l(n(38)),s.paintProperty=l(n(70)),s.layoutProperty=l(n(72)),t.exports=s},function(t,e,n){var r=n(7),i=n(5);t.exports=function(t){var e=t.value,n=t.key,o=r(e);return"boolean"!==o?[new i(n,e,"boolean expected, ".concat(o," found"))]:[]}},function(t,e,n){var r=n(5),i=n(7),o=n(49).parseCSSColor;t.exports=function(t){var e=t.key,n=t.value,a=i(n);return"string"!==a?[new r(e,n,"color expected, ".concat(a," found"))]:null===o(n)?[new r(e,n,\'color expected, "\'.concat(n,\'" found\'))]:[]}},function(t,e,n){var r=n(5),i=n(75);t.exports=function(t){var e=t.value,n=t.key,o=i(t);return o.length?o:(-1===e.indexOf("{fontstack}")&&o.push(new r(n,e,\'"glyphs" url must include a "{fontstack}" token\')),-1===e.indexOf("{range}")&&o.push(new r(n,e,\'"glyphs" url must include a "{range}" token\')),o)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(9),l=n(77),c=n(28).multiPolygonIntersectsBufferedMultiPoint,f=n(30),h=f.getMaximumPaintValue,p=f.translateDistance,y=f.translate,d=n(111),v=n(1),m=(v.Transitionable,v.Transitioning,v.PossiblyEvaluated,function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).call(this,t,d))}var n,r,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,u),n=e,(r=[{key:"createBucket",value:function(t){return new l(t)}},{key:"queryRadius",value:function(t){var e=t;return h("circle-radius",this,e)+h("circle-stroke-width",this,e)+p(this.paint.get("circle-translate"))}},{key:"queryIntersectsFeature",value:function(t,e,n,r,i,o){var a=y(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),i,o),s=this.paint.get("circle-radius").evaluate(e)*o,u=this.paint.get("circle-stroke-width").evaluate(e)*o;return c(a,n,s+u)}}])&&i(n.prototype,r),f&&i(n,f),e}());t.exports=m},function(t,e,n){var r=n(17).createLayout;t.exports=r([{name:"a_pos",components:2,type:"Int16"}],4)},function(t,e,n){var r=n(2);e.packUint8ToFloat=function(t,e){return 256*(t=r.clamp(Math.floor(t),0,255))+(e=r.clamp(Math.floor(e),0,255))}},function(t,e,n){var r=n(8),i=n(1),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=(i.CrossFadedProperty,i.HeatmapColorProperty,new o({"circle-radius":new s(r.paint_circle["circle-radius"]),"circle-color":new s(r.paint_circle["circle-color"]),"circle-blur":new s(r.paint_circle["circle-blur"]),"circle-opacity":new s(r.paint_circle["circle-opacity"]),"circle-translate":new a(r.paint_circle["circle-translate"]),"circle-translate-anchor":new a(r.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new a(r.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new a(r.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new s(r.paint_circle["circle-stroke-width"]),"circle-stroke-color":new s(r.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new s(r.paint_circle["circle-stroke-opacity"])}));t.exports={paint:u}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function o(t,e,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=n(9),f=n(113),h=n(29).RGBAImage,p=n(114),y=n(1),d=(y.Transitionable,y.Transitioning,y.PossiblyEvaluated,function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,a(e).call(this,t,p)))._updateColorRamp(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,c),u(e,[{key:"createBucket",value:function(t){return new f(t)}}]),u(e,[{key:"setPaintProperty",value:function(t,n,r){o(a(e.prototype),"setPaintProperty",this).call(this,t,n,r),"heatmap-color"===t&&this._updateColorRamp()}},{key:"_updateColorRamp",value:function(){for(var t=this._transitionablePaint._values["heatmap-color"].value.expression,e=new Uint8Array(1024),n=e.length,r=4;r<n;r+=4){var i=t.evaluate({heatmapDensity:r/n});e[r+0]=Math.floor(255*i.r/i.a),e[r+1]=Math.floor(255*i.g/i.a),e[r+2]=Math.floor(255*i.b/i.a),e[r+3]=Math.floor(255*i.a)}this.colorRamp=new h({width:256,height:1},e),this.colorRampTexture=null}},{key:"resize",value:function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}},{key:"queryRadius",value:function(){return 0}},{key:"queryIntersectsFeature",value:function(){return!1}},{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}]),e}());t.exports=d},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(77),u=n(3).register,l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,o(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,s),e}();u("HeatmapBucket",l,{omit:["layers"]}),t.exports=l},function(t,e,n){var r=n(8),i=n(1),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=(i.CrossFadedProperty,i.HeatmapColorProperty),l=new o({"heatmap-radius":new s(r.paint_heatmap["heatmap-radius"]),"heatmap-weight":new s(r.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new a(r.paint_heatmap["heatmap-intensity"]),"heatmap-color":new u(r.paint_heatmap["heatmap-color"]),"heatmap-opacity":new a(r.paint_heatmap["heatmap-opacity"])});t.exports={paint:l}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(9),l=n(116),c=n(1),f=(c.Transitionable,c.Transitioning,c.PossiblyEvaluated,function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).call(this,t,l))}var n,r,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,u),n=e,(r=[{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}])&&i(n.prototype,r),c&&i(n,c),e}());t.exports=f},function(t,e,n){var r=n(8),i=n(1),o=i.Properties,a=i.DataConstantProperty,s=(i.DataDrivenProperty,i.CrossFadedProperty,i.HeatmapColorProperty,new o({"hillshade-illumination-direction":new a(r.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new a(r.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new a(r.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new a(r.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new a(r.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new a(r.paint_hillshade["hillshade-accent-color"])}));t.exports={paint:s}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(9),l=n(118),c=n(28).multiPolygonIntersectsMultiPolygon,f=n(30),h=f.translateDistance,p=f.translate,y=n(121),d=n(1),v=(d.Transitionable,d.Transitioning,d.PossiblyEvaluated,function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).call(this,t,y))}var n,r,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,u),n=e,(r=[{key:"recalculate",value:function(t){this.paint=this._transitioningPaint.possiblyEvaluate(t),void 0===this._transitionablePaint.getValue("fill-outline-color")&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}},{key:"createBucket",value:function(t){return new l(t)}},{key:"queryRadius",value:function(){return h(this.paint.get("fill-translate"))}},{key:"queryIntersectsFeature",value:function(t,e,n,r,i,o){var a=p(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),i,o);return c(a,n)}}])&&i(n.prototype,r),f&&i(n,f),e}());t.exports=v},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(10).FillLayoutArray,o=n(119).members,a=n(25).SegmentVector,s=n(26).ProgramConfigurationSet,u=n(27),l=u.LineIndexArray,c=u.TriangleIndexArray,f=n(20),h=n(78),p=n(40),y=n(0),d=n(3).register,v=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=e.index,this.layoutVertexArray=new i,this.indexArray=new c,this.indexArray2=new l,this.programConfigurations=new s(o,e.layers,e.zoom),this.segments=new a,this.segments2=new a}var e,n,u;return e=t,(n=[{key:"populate",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=s.feature,l=s.index,c=s.sourceLayerIndex;if(this.layers[0]._featureFilter({zoom:this.zoom},u)){var h=f(u);this.addFeature(u,h),e.featureIndex.insert(u,h,l,c,this.index)}}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"upload",value:function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,o),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2),this.programConfigurations.upload(t)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}},{key:"addFeature",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=p(e,500)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=0,l=!0,c=!1,f=void 0;try{for(var d,v=s[Symbol.iterator]();!(l=(d=v.next()).done);l=!0){u+=d.value.length}}catch(t){c=!0,f=t}finally{try{l||null==v.return||v.return()}finally{if(c)throw f}}var m=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray),g=m.vertexLength,b=[],x=[],w=!0,k=!1,_=void 0;try{for(var S,A=s[Symbol.iterator]();!(w=(S=A.next()).done);w=!0){var T=S.value;if(0!==T.length){T!==s[0]&&x.push(b.length/2);var j=this.segments2.prepareSegment(T.length,this.layoutVertexArray,this.indexArray2),O=j.vertexLength;this.layoutVertexArray.emplaceBack(T[0].x,T[0].y),this.indexArray2.emplaceBack(O+T.length-1,O),b.push(T[0].x),b.push(T[0].y);for(var z=1;z<T.length;z++)this.layoutVertexArray.emplaceBack(T[z].x,T[z].y),this.indexArray2.emplaceBack(O+z-1,O+z),b.push(T[z].x),b.push(T[z].y);j.vertexLength+=T.length,j.primitiveLength+=T.length}}}catch(t){k=!0,_=t}finally{try{w||null==A.return||A.return()}finally{if(k)throw _}}var P=h(b,x);y(P.length%3==0);for(var E=0;E<P.length;E+=3)this.indexArray.emplaceBack(g+P[E],g+P[E+1],g+P[E+2]);m.vertexLength+=u,m.primitiveLength+=P.length/3}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)}}])&&r(e.prototype,n),u&&r(e,u),t}();d("FillBucket",v,{omit:["layers"]}),t.exports=v},function(t,e,n){var r=n(17).createLayout;t.exports=r([{name:"a_pos",components:2,type:"Int16"}],4)},function(t,e,n){t.exports=function(){"use strict";function t(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function e(t,e){return t<e?-1:t>e?1:0}return function(n,r,i,o,a){!function e(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1),h=Math.max(i,Math.floor(r-u*c/s+f)),p=Math.min(o,Math.floor(r+(s-u)*c/s+f));e(n,r,h,p,a)}var y=n[r],d=i,v=o;for(t(n,i,r),a(n[o],y)>0&&t(n,i,o);d<v;){for(t(n,d,v),d++,v--;a(n[d],y)<0;)d++;for(;a(n[v],y)>0;)v--}0===a(n[i],y)?t(n,i,v):t(n,++v,o),v<=r&&(i=v+1),r<=v&&(o=v-1)}}(n,r,i||0,o||n.length-1,a||e)}}()},function(t,e,n){var r=n(8),i=n(1),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=i.CrossFadedProperty,l=(i.HeatmapColorProperty,new o({"fill-antialias":new a(r.paint_fill["fill-antialias"]),"fill-opacity":new s(r.paint_fill["fill-opacity"]),"fill-color":new s(r.paint_fill["fill-color"]),"fill-outline-color":new s(r.paint_fill["fill-outline-color"]),"fill-translate":new a(r.paint_fill["fill-translate"]),"fill-translate-anchor":new a(r.paint_fill["fill-translate-anchor"]),"fill-pattern":new u(r.paint_fill["fill-pattern"])}));t.exports={paint:l}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=n(9),l=n(123),c=n(28).multiPolygonIntersectsMultiPolygon,f=n(30),h=f.translateDistance,p=f.translate,y=n(125),d=n(1),v=(d.Transitionable,d.Transitioning,d.PossiblyEvaluated,function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,a(e).call(this,t,y))}var n,r,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,u),n=e,(r=[{key:"createBucket",value:function(t){return new l(t)}},{key:"queryRadius",value:function(){return h(this.paint.get("fill-extrusion-translate"))}},{key:"queryIntersectsFeature",value:function(t,e,n,r,i,o){var a=p(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),i,o);return c(a,n)}},{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility}},{key:"resize",value:function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)}}])&&i(n.prototype,r),f&&i(n,f),e}());t.exports=v},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(10).FillExtrusionLayoutArray,o=n(124).members,a=n(25),s=a.SegmentVector,u=a.MAX_VERTEX_ARRAY_LENGTH,l=n(26).ProgramConfigurationSet,c=n(27).TriangleIndexArray,f=n(20),h=n(18),p=n(78),y=n(40),d=n(0),v=n(3).register,m=Math.pow(2,13);function g(t,e,n,r,i,o,a,s){t.emplaceBack(e,n,2*Math.floor(r*m)+a,i*m*2,o*m*2,Math.round(s))}var b=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=e.index,this.layoutVertexArray=new i,this.indexArray=new c,this.programConfigurations=new l(o,e.layers,e.zoom),this.segments=new s}var e,n,a;return e=t,(n=[{key:"populate",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=s.feature,l=s.index,c=s.sourceLayerIndex;if(this.layers[0]._featureFilter({zoom:this.zoom},u)){var h=f(u);this.addFeature(u,h),e.featureIndex.insert(u,h,l,c,this.index)}}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"upload",value:function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,o),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"addFeature",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=y(e,500)[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=0,c=!0,f=!1,h=void 0;try{for(var v,m=s[Symbol.iterator]();!(c=(v=m.next()).done);c=!0){l+=v.value.length}}catch(t){f=!0,h=t}finally{try{c||null==m.return||m.return()}finally{if(f)throw h}}var b=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),k=!0,_=!1,S=void 0;try{for(var A,T=s[Symbol.iterator]();!(k=(A=T.next()).done);k=!0){var j=A.value;if(0!==j.length&&!w(j))for(var O=0,z=0;z<j.length;z++){var P=j[z];if(z>=1){var E=j[z-1];if(!x(P,E)){b.vertexLength+4>u&&(b=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var C=P.sub(E)._perp()._unit(),M=E.dist(P);O+M>32768&&(O=0),g(this.layoutVertexArray,P.x,P.y,C.x,C.y,0,0,O),g(this.layoutVertexArray,P.x,P.y,C.x,C.y,0,1,O),O+=M,g(this.layoutVertexArray,E.x,E.y,C.x,C.y,0,0,O),g(this.layoutVertexArray,E.x,E.y,C.x,C.y,0,1,O);var I=b.vertexLength;this.indexArray.emplaceBack(I,I+1,I+2),this.indexArray.emplaceBack(I+1,I+2,I+3),b.vertexLength+=4,b.primitiveLength+=2}}}}}catch(t){_=!0,S=t}finally{try{k||null==T.return||T.return()}finally{if(_)throw S}}b.vertexLength+l>u&&(b=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray));var B=[],V=[],L=b.vertexLength,F=!0,R=!1,D=void 0;try{for(var q,N=s[Symbol.iterator]();!(F=(q=N.next()).done);F=!0){var U=q.value;if(0!==U.length){U!==s[0]&&V.push(B.length/2);for(var J=0;J<U.length;J++){var G=U[J];g(this.layoutVertexArray,G.x,G.y,0,0,1,1,0),B.push(G.x),B.push(G.y)}}}}catch(t){R=!0,D=t}finally{try{F||null==N.return||N.return()}finally{if(R)throw D}}var Z=p(B,V);d(Z.length%3==0);for(var H=0;H<Z.length;H+=3)this.indexArray.emplaceBack(L+Z[H],L+Z[H+1],L+Z[H+2]);b.primitiveLength+=Z.length/3,b.vertexLength+=l}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)}}])&&r(e.prototype,n),a&&r(e,a),t}();function x(t,e){return t.x===e.x&&(t.x<0||t.x>h)||t.y===e.y&&(t.y<0||t.y>h)}function w(t){return t.every(function(t){return t.x<0})||t.every(function(t){return t.x>h})||t.every(function(t){return t.y<0})||t.every(function(t){return t.y>h})}v("FillExtrusionBucket",b,{omit:["layers"]}),t.exports=b},function(t,e,n){var r=n(17).createLayout;t.exports=r([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4)},function(t,e,n){var r=n(8),i=n(1),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=i.CrossFadedProperty,l=(i.HeatmapColorProperty,new o({"fill-extrusion-opacity":new a(r["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new s(r["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new a(r["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new a(r["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new u(r["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new s(r["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new s(r["paint_fill-extrusion"]["fill-extrusion-base"])}));t.exports={paint:l}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=n(6),p=n(9),y=n(127),d=n(28).multiPolygonIntersectsBufferedMultiLine,v=n(30),m=v.getMaximumPaintValue,g=v.translateDistance,b=v.translate,x=n(130),w=n(2).extend,k=n(41),_=n(1),S=(_.Transitionable,_.Transitioning,_.Layout,_.PossiblyEvaluated,_.DataDrivenProperty),A=new(function(t){function e(){return i(this,e),s(this,l(e).apply(this,arguments))}return c(e,S),a(e,[{key:"possiblyEvaluate",value:function(t,n){return n=new k(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),u(l(e.prototype),"possiblyEvaluate",this).call(this,t,n)}},{key:"evaluate",value:function(t,n,r){return n=w({},n,{zoom:Math.floor(n.zoom)}),u(l(e.prototype),"evaluate",this).call(this,t,n,r)}}]),e}())(x.paint.properties["line-width"].specification);A.useIntegerZoom=!0;var T=function(t){function e(t){return i(this,e),s(this,l(e).call(this,t,x))}return c(e,p),a(e,[{key:"recalculate",value:function(t){u(l(e.prototype),"recalculate",this).call(this,t),this.paint._values["line-floorwidth"]=A.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}},{key:"createBucket",value:function(t){return new y(t)}},{key:"queryRadius",value:function(t){var e=t,n=j(m("line-width",this,e),m("line-gap-width",this,e)),r=m("line-offset",this,e);return n/2+Math.abs(r)+g(this.paint.get("line-translate"))}},{key:"queryIntersectsFeature",value:function(t,e,n,r,i,o){var a=b(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),i,o),s=o/2*j(this.paint.get("line-width").evaluate(e),this.paint.get("line-gap-width").evaluate(e)),u=this.paint.get("line-offset").evaluate(e);return u&&(n=function(t,e){for(var n=[],r=new h(0,0),i=0;i<t.length;i++){for(var o=t[i],a=[],s=0;s<o.length;s++){var u=o[s-1],l=o[s],c=o[s+1],f=0===s?r:l.sub(u)._unit()._perp(),p=s===o.length-1?r:c.sub(l)._unit()._perp(),y=f._add(p)._unit(),d=y.x*p.x+y.y*p.y;y._mult(1/d),a.push(y._mult(e)._add(l))}n.push(a)}return n}(n,u*o)),d(a,n,s)}}]),e}();function j(t,e){return e>0?e+2*t:t}t.exports=T},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(10).LineLayoutArray,o=n(128).members,a=n(25).SegmentVector,s=n(26).ProgramConfigurationSet,u=n(27).TriangleIndexArray,l=n(20),c=n(18),f=n(21).VectorTileFeature.types,h=n(3).register,p=63,y=Math.cos(Math.PI/180*37.5),d=.5,v=Math.pow(2,14)/d;function m(t,e,n,r,i,o,a){t.emplaceBack(e.x,e.y,r?1:0,i?1:-1,Math.round(p*n.x)+128,Math.round(p*n.y)+128,1+(0===o?0:o<0?-1:1)|(a*d&63)<<2,a*d>>6)}var g=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=e.index,this.layoutVertexArray=new i,this.indexArray=new u,this.programConfigurations=new s(o,e.layers,e.zoom),this.segments=new a}var e,n,h;return e=t,(n=[{key:"populate",value:function(t,e){var n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=s.feature,c=s.index,f=s.sourceLayerIndex;if(this.layers[0]._featureFilter({zoom:this.zoom},u)){var h=l(u);this.addFeature(u,h),e.featureIndex.insert(u,h,c,f,this.index)}}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"upload",value:function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,o),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"addFeature",value:function(t,e){var n=this.layers[0].layout,r=n.get("line-join").evaluate(t),i=n.get("line-cap"),o=n.get("line-miter-limit"),a=n.get("line-round-limit"),s=!0,u=!1,l=void 0;try{for(var c,f=e[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){var h=c.value;this.addLine(h,t,r,i,o,a)}}catch(t){u=!0,l=t}finally{try{s||null==f.return||f.return()}finally{if(u)throw l}}}},{key:"addLine",value:function(t,e,n,r,i,o){for(var a="Polygon"===f[e.type],s=t.length;s>=2&&t[s-1].equals(t[s-2]);)s--;for(var u=0;u<s-1&&t[u].equals(t[u+1]);)u++;if(!(s<(a?3:2))){"bevel"===n&&(i=1.05);var l=c/(512*this.overscaling)*15,h=t[u],p=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);this.distance=0;var d,v,m,g=r,b=a?"butt":r,x=!0,w=void 0,k=void 0,_=void 0,S=void 0;this.e1=this.e2=this.e3=-1,a&&(d=t[s-2],S=h.sub(d)._unit()._perp());for(var A=u;A<s;A++)if(!(k=a&&A===s-1?t[u+1]:t[A+1])||!t[A].equals(k)){S&&(_=S),d&&(w=d),d=t[A],S=k?k.sub(d)._unit()._perp():_;var T=(_=_||S).add(S);0===T.x&&0===T.y||T._unit();var j=T.x*S.x+T.y*S.y,O=0!==j?1/j:1/0,z=j<y&&w&&k;if(z&&A>u){var P=d.dist(w);if(P>2*l){var E=d.sub(d.sub(w)._mult(l/P)._round());this.distance+=E.dist(w),this.addCurrentVertex(E,this.distance,_.mult(1),0,0,!1,p),w=E}}var C=w&&k,M=C?n:k?g:b;if(C&&"round"===M&&(O<o?M="miter":O<=2&&(M="fakeround")),"miter"===M&&O>i&&(M="bevel"),"bevel"===M&&(O>2&&(M="flipbevel"),O<i&&(M="miter")),w&&(this.distance+=d.dist(w)),"miter"===M)T._mult(O),this.addCurrentVertex(d,this.distance,T,0,0,!1,p);else if("flipbevel"===M){if(O>100)T=S.clone().mult(-1);else{var I=_.x*S.y-_.y*S.x>0?-1:1,B=O*_.add(S).mag()/_.sub(S).mag();T._perp()._mult(B*I)}this.addCurrentVertex(d,this.distance,T,0,0,!1,p),this.addCurrentVertex(d,this.distance,T.mult(-1),0,0,!1,p)}else if("bevel"===M||"fakeround"===M){var V=_.x*S.y-_.y*S.x>0,L=-Math.sqrt(O*O-1);if(V?(m=0,v=L):(v=0,m=L),x||this.addCurrentVertex(d,this.distance,_,v,m,!1,p),"fakeround"===M){for(var F=Math.floor(8*(.5-(j-.5))),R=void 0,D=0;D<F;D++)R=S.mult((D+1)/(F+1))._add(_)._unit(),this.addPieSliceVertex(d,this.distance,R,V,p);this.addPieSliceVertex(d,this.distance,T,V,p);for(var q=F-1;q>=0;q--)R=_.mult((q+1)/(F+1))._add(S)._unit(),this.addPieSliceVertex(d,this.distance,R,V,p)}k&&this.addCurrentVertex(d,this.distance,S,-v,-m,!1,p)}else"butt"===M?(x||this.addCurrentVertex(d,this.distance,_,0,0,!1,p),k&&this.addCurrentVertex(d,this.distance,S,0,0,!1,p)):"square"===M?(x||(this.addCurrentVertex(d,this.distance,_,1,1,!1,p),this.e1=this.e2=-1),k&&this.addCurrentVertex(d,this.distance,S,-1,-1,!1,p)):"round"===M&&(x||(this.addCurrentVertex(d,this.distance,_,0,0,!1,p),this.addCurrentVertex(d,this.distance,_,1,1,!0,p),this.e1=this.e2=-1),k&&(this.addCurrentVertex(d,this.distance,S,-1,-1,!0,p),this.addCurrentVertex(d,this.distance,S,0,0,!1,p)));if(z&&A<s-1){var N=d.dist(k);if(N>2*l){var U=d.add(k.sub(d)._mult(l/N)._round());this.distance+=U.dist(d),this.addCurrentVertex(U,this.distance,S.mult(1),0,0,!1,p),d=U}}x=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)}}},{key:"addCurrentVertex",value:function(t,e,n,r,i,o,a){var s,u=this.layoutVertexArray,l=this.indexArray;s=n.clone(),r&&s._sub(n.perp()._mult(r)),m(u,t,s,o,!1,r,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(l.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,s=n.mult(-1),i&&s._sub(n.perp()._mult(i)),m(u,t,s,o,!0,-i,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(l.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>v/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,r,i,o,a))}},{key:"addPieSliceVertex",value:function(t,e,n,r,i){n=n.mult(r?-1:1);var o=this.layoutVertexArray,a=this.indexArray;m(o,t,n,!1,r,0,e),this.e3=i.vertexLength++,this.e1>=0&&this.e2>=0&&(a.emplaceBack(this.e1,this.e2,this.e3),i.primitiveLength++),r?this.e2=this.e3:this.e1=this.e3}}])&&r(e.prototype,n),h&&r(e,h),t}();h("LineBucket",g,{omit:["layers"]}),t.exports=g},function(t,e,n){var r=n(17).createLayout;t.exports=r([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4)},function(t,e,n){"use strict";var r=n(79);function i(t,e,n){if(3===t){var i=new r(n,n.readVarint()+n.pos);i.length&&(e[i.name]=i)}}t.exports=function(t,e){this.layers=t.readFields(i,{},e)}},function(t,e,n){var r=n(8),i=n(1),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=i.CrossFadedProperty,l=(i.HeatmapColorProperty,new o({"line-cap":new a(r.layout_line["line-cap"]),"line-join":new s(r.layout_line["line-join"]),"line-miter-limit":new a(r.layout_line["line-miter-limit"]),"line-round-limit":new a(r.layout_line["line-round-limit"])})),c=new o({"line-opacity":new s(r.paint_line["line-opacity"]),"line-color":new s(r.paint_line["line-color"]),"line-translate":new a(r.paint_line["line-translate"]),"line-translate-anchor":new a(r.paint_line["line-translate-anchor"]),"line-width":new s(r.paint_line["line-width"]),"line-gap-width":new s(r.paint_line["line-gap-width"]),"line-offset":new s(r.paint_line["line-offset"]),"line-blur":new s(r.paint_line["line-blur"]),"line-dasharray":new u(r.paint_line["line-dasharray"]),"line-pattern":new u(r.paint_line["line-pattern"])});t.exports={paint:c,layout:l}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.first=!0}var e,r,i;return e=t,(r=[{key:"update",value:function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))}}])&&n(e.prototype,r),i&&n(e,i),t}();t.exports=r},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=n(9),c=n(42),f=n(138),h=n(14).isExpression,p=n(0),y=n(139),d=n(1),v=(d.Transitionable,d.Transitioning,d.Layout,d.PossiblyEvaluated,function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,s(e).call(this,t,y))}var n,r,d;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,l),n=e,(r=[{key:"recalculate",value:function(t){a(s(e.prototype),"recalculate",this).call(this,t),"auto"===this.layout.get("icon-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))}},{key:"getValueAndResolveTokens",value:function(t,e){var n=this.layout.get(t).evaluate(e),r=this._unevaluatedLayout._values[t];return r.isDataDriven()||h(r.value)?n:f(e.properties,n)}},{key:"createBucket",value:function(t){return new c(t)}},{key:"queryRadius",value:function(){return 0}},{key:"queryIntersectsFeature",value:function(){return p(!1),!1}}])&&i(n.prototype,r),d&&i(n,d),e}());t.exports=v},function(t,e,n){var r=n(17).createLayout,i={symbolLayoutAttributes:r([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),dynamicLayoutAttributes:r([{name:"a_projected_pos",components:3,type:"Float32"}],4),placementOpacityAttributes:r([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),collisionVertexAttributes:r([{name:"a_placed",components:2,type:"Uint8"}],4),collisionBox:r([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),collisionBoxLayout:r([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),collisionCircleLayout:r([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),placement:r([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),glyphOffset:r([{type:"Float32",name:"offsetX"}]),lineVertex:r([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}])};t.exports=i},function(t,e,n){var r=n(43);t.exports=function(t,e,n){var i=e.layout.get("text-transform").evaluate(n);return"uppercase"===i?t=t.toLocaleUpperCase():"lowercase"===i&&(t=t.toLocaleLowerCase()),r.applyArabicShaping&&(t=r.applyArabicShaping(t)),t}},function(t,e){t.exports=function(t){var e={},n={},r=[],i=0;function o(e){r.push(t[e]),i++}function a(t,e,i){var o=n[t];return delete n[t],n[e]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(t,n,i){var o=e[n];return delete e[n],e[t]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function u(t,e,n){var r=n?e[0][e[0].length-1]:e[0][0];return"".concat(t,":").concat(r.x,":").concat(r.y)}for(var l=0;l<t.length;l++){var c=t[l],f=c.geometry,h=c.text;if(h){var p=u(h,f),y=u(h,f,!0);if(p in n&&y in e&&n[p]!==e[y]){var d=s(p,y,f),v=a(p,y,r[d].geometry);delete e[p],delete n[y],n[u(h,r[v].geometry,!0)]=v,r[d].geometry=null}else p in n?a(p,y,f):y in e?s(p,y,f):(o(l),e[p]=i-1,n[y]=i-1)}else o(l)}return r.filter(function(t){return t.geometry})}},function(t,e){t.exports={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}}},function(t,e,n){var r=n(14).normalizePropertyExpression,i=n(19),o=n(2);t.exports={getSizeData:function(t,e){var n=e.expression;if("constant"===n.kind)return{functionType:"constant",layoutSize:n.evaluate({zoom:t+1})};if("source"===n.kind)return{functionType:"source"};for(var r=n.zoomStops,i=0;i<r.length&&r[i]<=t;)i++;for(var o=i=Math.max(0,i-1);o<r.length&&r[o]<t+1;)o++;o=Math.min(r.length-1,o);var a={min:r[i],max:r[o]};return"composite"===n.kind?{functionType:"composite",zoomRange:a,propertyValue:e.value}:{functionType:"camera",layoutSize:n.evaluate({zoom:t+1}),zoomRange:a,sizeRange:{min:n.evaluate({zoom:a.min}),max:n.evaluate({zoom:a.max})},propertyValue:e.value}},evaluateSizeForFeature:function(t,e,n){var r=e;return"source"===t.functionType?n.lowerSize/10:"composite"===t.functionType?i.number(n.lowerSize/10,n.upperSize/10,r.uSizeT):r.uSize},evaluateSizeForZoom:function(t,e,n){if("constant"===t.functionType)return{uSizeT:0,uSize:t.layoutSize};if("source"===t.functionType)return{uSizeT:0,uSize:0};if("camera"===t.functionType){var i=t.propertyValue,a=t.zoomRange,s=t.sizeRange,u=r(i,n.specification),l=o.clamp(u.interpolationFactor(e,a.min,a.max),0,1);return{uSizeT:0,uSize:s.min+l*(s.max-s.min)}}var c=t.propertyValue,f=t.zoomRange,h=r(c,n.specification);return{uSizeT:o.clamp(h.interpolationFactor(e,f.min,f.max),0,1),uSize:0}}}},function(t,e){t.exports=function(t,e){return e.replace(/{([^{}]+)}/g,function(e,n){return n in t?String(t[n]):""}).replace(/FORMAT_NUMBER\\(([^\\)]+)\\)/g,function(t,e){return function(t){t=t.split(",");var e=parseFloat(t[0]);t[2]&&(e*=parseFloat(t[2]));return e<1e3?Math.round(e):e<1e5?(e/1e3).toFixed(1)+"K":e<1e6?Math.round(e/1e3)+"K":e<1e9?(e/1e6).toFixed(2)+"M":e<1e12?(e=Math.round(e/1e6).toFixed(0)).slice(0,-3)+","+e.slice(-4,-1)+"M":"HUGE_NUM"}(e)})}},function(t,e,n){var r=n(8),i=n(1),o=i.Properties,a=i.DataConstantProperty,s=i.DataDrivenProperty,u=(i.CrossFadedProperty,i.HeatmapColorProperty,new o({"symbol-placement":new a(r.layout_symbol["symbol-placement"]),"symbol-spacing":new a(r.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new a(r.layout_symbol["symbol-avoid-edges"]),"icon-allow-overlap":new a(r.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new a(r.layout_symbol["icon-ignore-placement"]),"icon-optional":new a(r.layout_symbol["icon-optional"]),"icon-rotation-alignment":new a(r.layout_symbol["icon-rotation-alignment"]),"icon-size":new s(r.layout_symbol["icon-size"]),"icon-text-fit":new a(r.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new a(r.layout_symbol["icon-text-fit-padding"]),"icon-image":new s(r.layout_symbol["icon-image"]),"icon-rotate":new s(r.layout_symbol["icon-rotate"]),"icon-padding":new a(r.layout_symbol["icon-padding"]),"icon-keep-upright":new a(r.layout_symbol["icon-keep-upright"]),"icon-offset":new s(r.layout_symbol["icon-offset"]),"icon-anchor":new s(r.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new a(r.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new a(r.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new a(r.layout_symbol["text-rotation-alignment"]),"text-field":new s(r.layout_symbol["text-field"]),"text-font":new s(r.layout_symbol["text-font"]),"text-size":new s(r.layout_symbol["text-size"]),"text-max-width":new s(r.layout_symbol["text-max-width"]),"text-line-height":new a(r.layout_symbol["text-line-height"]),"text-letter-spacing":new s(r.layout_symbol["text-letter-spacing"]),"text-justify":new s(r.layout_symbol["text-justify"]),"text-anchor":new s(r.layout_symbol["text-anchor"]),"text-max-angle":new a(r.layout_symbol["text-max-angle"]),"text-rotate":new s(r.layout_symbol["text-rotate"]),"text-padding":new a(r.layout_symbol["text-padding"]),"text-keep-upright":new a(r.layout_symbol["text-keep-upright"]),"text-transform":new s(r.layout_symbol["text-transform"]),"text-offset":new s(r.layout_symbol["text-offset"]),"text-allow-overlap":new a(r.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new a(r.layout_symbol["text-ignore-placement"]),"text-optional":new a(r.layout_symbol["text-optional"])})),l=new o({"icon-opacity":new s(r.paint_symbol["icon-opacity"]),"icon-color":new s(r.paint_symbol["icon-color"]),"icon-halo-color":new s(r.paint_symbol["icon-halo-color"]),"icon-halo-width":new s(r.paint_symbol["icon-halo-width"]),"icon-halo-blur":new s(r.paint_symbol["icon-halo-blur"]),"icon-translate":new a(r.paint_symbol["icon-translate"]),"icon-translate-anchor":new a(r.paint_symbol["icon-translate-anchor"]),"text-opacity":new s(r.paint_symbol["text-opacity"]),"text-color":new s(r.paint_symbol["text-color"]),"text-halo-color":new s(r.paint_symbol["text-halo-color"]),"text-halo-width":new s(r.paint_symbol["text-halo-width"]),"text-halo-blur":new s(r.paint_symbol["text-halo-blur"]),"text-translate":new a(r.paint_symbol["text-translate"]),"text-translate-anchor":new a(r.paint_symbol["text-translate-anchor"])});t.exports={paint:l,layout:u}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(9),u=n(141),l=n(1),c=(l.Transitionable,l.Transitioning,l.PossiblyEvaluated,function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,o(e).call(this,t,u))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,s),e}());t.exports=c},function(t,e,n){var r=n(8),i=n(1),o=i.Properties,a=i.DataConstantProperty,s=(i.DataDrivenProperty,i.CrossFadedProperty),u=(i.HeatmapColorProperty,new o({"background-color":new a(r.paint_background["background-color"]),"background-pattern":new s(r.paint_background["background-pattern"]),"background-opacity":new a(r.paint_background["background-opacity"])}));t.exports={paint:u}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s=n(9),u=n(143),l=n(1),c=(l.Transitionable,l.Transitioning,l.PossiblyEvaluated,function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,o(e).call(this,t,u))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(e,s),e}());t.exports=c},function(t,e,n){var r=n(8),i=n(1),o=i.Properties,a=i.DataConstantProperty,s=(i.DataDrivenProperty,i.CrossFadedProperty,i.HeatmapColorProperty,new o({"raster-opacity":new a(r.paint_raster["raster-opacity"]),"raster-hue-rotate":new a(r.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new a(r.paint_raster["raster-brightness-min"]),"raster-brightness-max":new a(r.paint_raster["raster-brightness-max"]),"raster-saturation":new a(r.paint_raster["raster-saturation"]),"raster-contrast":new a(r.paint_raster["raster-contrast"]),"raster-fade-duration":new a(r.paint_raster["raster-fade-duration"])}));t.exports={paint:s}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(145);function o(t){var e=r(t);if("number"===e||"boolean"===e||"string"===e||null==t)return JSON.stringify(t);if(Array.isArray(t)){var n="[",i=!0,a=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value;n+="".concat(o(c),",")}}catch(t){a=!0,s=t}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}return"".concat(n,"]")}for(var f=Object.keys(t).sort(),h="{",p=0;p<f.length;p++)h+="".concat(JSON.stringify(f[p]),":").concat(o(t[f[p]]),",");return"".concat(h,"}")}function a(t){var e="",n=!0,r=!1,a=void 0;try{for(var s,u=i[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var l=s.value;e+="/".concat(o(t[l]))}}catch(t){r=!0,a=t}finally{try{n||null==u.return||u.return()}finally{if(r)throw a}}return e}t.exports=function(t){for(var e={},n=0;n<t.length;n++){var r=a(t[n]),i=e[r];i||(i=e[r]=[]),i.push(t[n])}var o=[];for(var s in e)o.push(e[s]);return o}},function(t,e){t.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,y=r?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=y,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+p]=255&a,p+=y,a/=256,l-=8);t[n+p-y]|=128*d}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(148),o=n(151).performSymbolLayout,a=n(10).CollisionBoxArray,s=n(83),u=n(42),l=n(2),c=n(0),f=n(162).makeImageAtlas,h=n(163).makeGlyphAtlas,p=n(41),y=n(84).OverscaledTileID,d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tileID=new y(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=e.overscaling,this.showCollisionBoxes=e.showCollisionBoxes}var e,n,p;return e=t,(n=[{key:"parse",value:function(t,e,n,r){var p=this;this.status="parsing",this.data=t,this.collisionBoxArray=new a;var y=new s(Object.keys(t.layers).sort()),d=new i(this.tileID,this.overscaling);d.bucketLayerIDs=[];var m,g,b,x={},w={featureIndex:d,iconDependencies:{},glyphDependencies:{}},k=e.familiesBySource[this.source];for(var _ in k){var S=t.layers[_];if(S){1===S.version&&l.warnOnce(\'Vector tile source "\'.concat(this.source,\'" layer "\').concat(_,\'" \')+"does not use vector tile spec v2 and therefore may have some rendering errors.");for(var A=y.encode(_),T=[],j=0;j<S.length;j++){var O=S.feature(j);T.push({feature:O,index:j,sourceLayerIndex:A})}var z=!0,P=!1,E=void 0;try{for(var C,M=k[_][Symbol.iterator]();!(z=(C=M.next()).done);z=!0){var I=C.value,B=I[0];if(c(B.source===this.source),!(B.minzoom&&this.zoom<Math.floor(B.minzoom)))if(!(B.maxzoom&&this.zoom>=B.maxzoom))if("none"!==B.visibility)v(I,this.zoom),(x[B.id]=B.createBucket({index:d.bucketLayerIDs.length,layers:I,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray})).populate(T,w),d.bucketLayerIDs.push(I.map(function(t){return t.id}))}}catch(t){P=!0,E=t}finally{try{z||null==M.return||M.return()}finally{if(P)throw E}}}}var V=l.mapObject(w.glyphDependencies,function(t){return Object.keys(t).map(Number)});Object.keys(V).length?n.send("getGlyphs",{uid:this.uid,stacks:V},function(t,e){m||(m=t,g=e,F.call(p))}):g={};var L=Object.keys(w.iconDependencies);function F(){if(m)return r(m);if(g&&b){var t=h(g),e=f(b);for(var n in x){var i=x[n];i instanceof u&&(v(i.layers,this.zoom),o(i,g,t.positions,b,e.positions,this.showCollisionBoxes))}this.status="done",r(null,{buckets:l.values(x).filter(function(t){return!t.isEmpty()}),featureIndex:d,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,iconAtlasImage:e.image})}}L.length?n.send("getImages",{icons:L},function(t,e){m||(m=t,b=e,F.call(p))}):b={},F.call(this)}}])&&r(e.prototype,n),p&&r(e,p),t}();function v(t,e){var n=new p(e),r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){a.value.recalculate(n)}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}t.exports=d},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(6);var i=n(20),o=n(18),a=n(39),s=n(48),u=n(83),l=n(21),c=n(32),f=n(149),h=n(2).arraysIntersect,p=(n(84).OverscaledTileID,n(3).register),y=n(10).FeatureIndexArray,d=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tileID=e,this.overscaling=n,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=r||new s(o,16,0),this.featureIndexArray=i||new y}var e,n,p;return e=t,(n=[{key:"insert",value:function(t,e,n,r,i){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var a=0;a<e.length;a++){for(var s=e[a],u=[1/0,1/0,-1/0,-1/0],l=0;l<s.length;l++){var c=s[l];u[0]=Math.min(u[0],c.x),u[1]=Math.min(u[1],c.y),u[2]=Math.max(u[2],c.x),u[3]=Math.max(u[3],c.y)}this.grid.insert(o,u[0],u[1],u[2],u[3])}}},{key:"query",value:function(t,e){this.vtLayers||(this.vtLayers=new l.VectorTile(new c(this.rawTileData)).layers,this.sourceLayerCoder=new u(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));for(var n={},r=t.params||{},i=o/t.tileSize/t.scale,s=a(r.filter),f=t.queryGeometry,h=t.additionalRadius*i,p=1/0,y=1/0,d=-1/0,m=-1/0,g=0;g<f.length;g++)for(var b=f[g],x=0;x<b.length;x++){var w=b[x];p=Math.min(p,w.x),y=Math.min(y,w.y),d=Math.max(d,w.x),m=Math.max(m,w.y)}var k=this.grid.query(p-h,y-h,d+h,m+h);k.sort(v),this.filterMatching(n,k,this.featureIndexArray,f,s,r.layers,e,t.bearing,i);var _=t.collisionIndex?t.collisionIndex.queryRenderedSymbols(f,this.tileID,o/t.tileSize,t.collisionBoxArray,t.sourceID,t.bucketInstanceIds):[];return _.sort(),this.filterMatching(n,_,t.collisionBoxArray,f,s,r.layers,e,t.bearing,i),n}},{key:"filterMatching",value:function(t,e,n,r,o,a,s,u,l){for(var c,p=0;p<e.length;p++){var y=e[p];if(y!==c){c=y;var d=n.get(y),v=this.bucketLayerIDs[d.bucketIndex];if(!a||h(a,v)){var m=this.sourceLayerCoder.decode(d.sourceLayerIndex),g=this.vtLayers[m].feature(d.featureIndex);if(o({zoom:this.tileID.overscaledZ},g))for(var b=null,x=0;x<v.length;x++){var w=v[x];if(!(a&&a.indexOf(w)<0)){var k=s[w];if(k&&("symbol"===k.type||(b||(b=i(g)),k.queryIntersectsFeature(r,g,b,this.z,u,l)))){var _=new f(g,this.z,this.x,this.y);_.layer=k.serialize();var S=t[w];void 0===S&&(S=t[w]=[]),S.push({featureIndex:y,feature:_})}}}}}}}},{key:"hasLayer",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.bucketLayerIDs[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value,s=!0,u=!1,l=void 0;try{for(var c,f=a[Symbol.iterator]();!(s=(c=f.next()).done);s=!0){if(t===c.value)return!0}}catch(t){u=!0,l=t}finally{try{s||null==f.return||f.return()}finally{if(u)throw l}}}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return!1}}])&&r(e.prototype,n),p&&r(e,p),t}();function v(t,e){return e-t}p("FeatureIndex",d,{omit:["rawTileData","sourceLayerCoder","collisionIndex"]}),t.exports=d},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type="Feature",this._vectorTileFeature=e,e._z=n,e._x=r,e._y=i,this.properties=e.properties,null!=e.id&&(this.id=e.id)}var e,r,i;return e=t,(r=[{key:"toJSON",value:function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t}},{key:"geometry",get:function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},set:function(t){this._geometry=t}}])&&n(e.prototype,r),i&&n(e,i),t}();t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r,o,a){return a=a||{},t+"?"+["bbox="+i(n,r,o),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+e].join("&")}function i(t,e,n){var r=o(256*t,256*(e=Math.pow(2,n)-e-1),n),i=o(256*(t+1),256*(e+1),n);return r[0]+","+r[1]+","+i[0]+","+i[1]}function o(t,e,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[t*r-2*Math.PI*6378137/2,e*r-2*Math.PI*6378137/2]}n.r(e),n.d(e,"getURL",function(){return r}),n.d(e,"getTileBBox",function(){return i}),n.d(e,"getMercCoords",function(){return o})},function(t,e,n){var r=n(45),i=n(152),o=n(154),a=n(155),s=n(156),u=s.shapeText,l=s.shapeIcon,c=s.WritingMode,f=n(157),h=f.getGlyphQuads,p=f.getIconQuads,y=n(159),d=n(2),v=n(31),m=n(160),g=n(40),b=n(18),x=n(42),w=n(41);n(6);function k(t,e,n,s,u,l){var f=l.layoutTextSize.evaluate(e),h=l.layoutIconSize.evaluate(e),v=l.textMaxSize.evaluate(e);void 0===v&&(v=f);var w=t.layers[0].layout,k=w.get("text-offset").evaluate(e),A=w.get("icon-offset").evaluate(e),T=f/24,j=t.tilePixelRatio*T,O=t.tilePixelRatio*v/24,z=t.tilePixelRatio*h,P=t.tilePixelRatio*w.get("symbol-spacing"),E=w.get("text-padding")*t.tilePixelRatio,C=w.get("icon-padding")*t.tilePixelRatio,M=w.get("text-max-angle")/180*Math.PI,I="map"===w.get("text-rotation-alignment")&&"line"===w.get("symbol-placement"),B="map"===w.get("icon-rotation-alignment")&&"line"===w.get("symbol-placement"),V=P/2,L=function(r,i){i.x<0||i.x>=b||i.y<0||i.y>=b||t.symbolInstances.push(function(t,e,n,r,i,o,s,u,l,f,h,v,m,g,b,w,k,S,A,T,j,O){var z,P,E=t.addToLineVertexArray(e,n),C=0,M=0,I=0,B=r.horizontal?r.horizontal.text:"",V=[];r.horizontal&&(z=new y(s,n,e,u,l,f,r.horizontal,h,v,m,t.overscaling),M+=_(t,e,r.horizontal,o,m,A,T,g,E,r.vertical?c.horizontal:c.horizontalOnly,V,j,O),r.vertical&&(I+=_(t,e,r.vertical,o,m,A,T,g,E,c.vertical,V,j,O)));var L=z?z.boxStartIndex:t.collisionBoxArray.length,F=z?z.boxEndIndex:t.collisionBoxArray.length;if(i){var R=p(e,i,o,k,r.horizontal,A,T);P=new y(s,n,e,u,l,f,i,b,w,!1,t.overscaling),C=4*R.length;var D=t.iconSizeData,q=null;"source"===D.functionType?q=[10*o.layout.get("icon-size").evaluate(T)]:"composite"===D.functionType&&(q=[10*O.compositeIconSizes[0].evaluate(T),10*O.compositeIconSizes[1].evaluate(T)]),t.addSymbols(t.icon,R,q,S,k,T,!1,e,E.lineStartIndex,E.lineLength)}var N=P?P.boxStartIndex:t.collisionBoxArray.length,U=P?P.boxEndIndex:t.collisionBoxArray.length;t.glyphOffsetArray.length>=x.MAX_GLYPHS&&d.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907");var J=new a,G=new a;return{key:B,textBoxStartIndex:L,textBoxEndIndex:F,iconBoxStartIndex:N,iconBoxEndIndex:U,textOffset:g,iconOffset:S,anchor:e,line:n,featureIndex:u,feature:T,numGlyphVertices:M,numVerticalGlyphVertices:I,numIconVertices:C,textOpacityState:J,iconOpacityState:G,isDuplicate:!1,placedTextSymbolIndices:V,crossTileID:0}}(t,i,r,n,s,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,j,E,I,k,z,C,B,A,{zoom:t.zoom},e,u,l))};if("line"===w.get("symbol-placement")){var F=!0,R=!1,D=void 0;try{for(var q,N=o(e.geometry,0,0,b,b)[Symbol.iterator]();!(F=(q=N.next()).done);F=!0){var U=q.value,J=i(U,P,M,n.vertical||n.horizontal,s,24,O,t.overscaling,b),G=!0,Z=!1,H=void 0;try{for(var W,Y=J[Symbol.iterator]();!(G=(W=Y.next()).done);G=!0){var K=W.value,X=n.horizontal;X&&S(t,X.text,V,K)||L(U,K)}}catch(t){Z=!0,H=t}finally{try{G||null==Y.return||Y.return()}finally{if(Z)throw H}}}}catch(t){R=!0,D=t}finally{try{F||null==N.return||N.return()}finally{if(R)throw D}}}else if("Polygon"===e.type){var $=!0,Q=!1,tt=void 0;try{for(var et,nt=g(e.geometry,0)[Symbol.iterator]();!($=(et=nt.next()).done);$=!0){var rt=et.value,it=m(rt,16);L(rt[0],new r(it.x,it.y,0))}}catch(t){Q=!0,tt=t}finally{try{$||null==nt.return||nt.return()}finally{if(Q)throw tt}}}else if("LineString"===e.type){var ot=!0,at=!1,st=void 0;try{for(var ut,lt=e.geometry[Symbol.iterator]();!(ot=(ut=lt.next()).done);ot=!0){var ct=ut.value;L(ct,new r(ct[0].x,ct[0].y,0))}}catch(t){at=!0,st=t}finally{try{ot||null==lt.return||lt.return()}finally{if(at)throw st}}}else if("Point"===e.type){var ft=!0,ht=!1,pt=void 0;try{for(var yt,dt=e.geometry[Symbol.iterator]();!(ft=(yt=dt.next()).done);ft=!0){var vt=yt.value,mt=!0,gt=!1,bt=void 0;try{for(var xt,wt=vt[Symbol.iterator]();!(mt=(xt=wt.next()).done);mt=!0){var kt=xt.value;L([kt],new r(kt.x,kt.y,0))}}catch(t){gt=!0,bt=t}finally{try{mt||null==wt.return||wt.return()}finally{if(gt)throw bt}}}}catch(t){ht=!0,pt=t}finally{try{ft||null==dt.return||dt.return()}finally{if(ht)throw pt}}}}function _(t,e,n,r,i,o,a,s,u,l,c,f,p){var y=h(e,n,r,i,o,a,f),d=t.textSizeData,v=null;return"source"===d.functionType?v=[10*r.layout.get("text-size").evaluate(a)]:"composite"===d.functionType&&(v=[10*p.compositeTextSizes[0].evaluate(a),10*p.compositeTextSizes[1].evaluate(a)]),t.addSymbols(t.text,y,v,s,i,a,l,e,u.lineStartIndex,u.lineLength),c.push(t.text.placedSymbolArray.length-1),4*y.length}function S(t,e,n,r){var i=t.compareText;if(e in i){for(var o=i[e],a=o.length-1;a>=0;a--)if(r.dist(o[a])<n)return!0}else i[e]=[];return i[e].push(r),!1}t.exports={performSymbolLayout:function(t,e,n,r,i,o){t.createArrays(),t.symbolInstances=[];var a=512*t.overscaling;t.tilePixelRatio=b/a,t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,f=t.layers[0]._unevaluatedLayout._values,h={};if("composite"===t.textSizeData.functionType){var p=t.textSizeData.zoomRange,y=p.min,m=p.max;h.compositeTextSizes=[f["text-size"].possiblyEvaluate(new w(y)),f["text-size"].possiblyEvaluate(new w(m))]}if("composite"===t.iconSizeData.functionType){var g=t.iconSizeData.zoomRange,x=g.min,_=g.max;h.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new w(x)),f["icon-size"].possiblyEvaluate(new w(_))]}h.layoutTextSize=f["text-size"].possiblyEvaluate(new w(t.zoom+1)),h.layoutIconSize=f["icon-size"].possiblyEvaluate(new w(t.zoom+1)),h.textMaxSize=f["text-size"].possiblyEvaluate(new w(18));var S=24*s.get("text-line-height"),A="map"===s.get("text-rotation-alignment")&&"line"===s.get("symbol-placement"),T=s.get("text-keep-upright"),j=!0,O=!1,z=void 0;try{for(var P,E=t.features[Symbol.iterator]();!(j=(P=E.next()).done);j=!0){var C=P.value,M=s.get("text-font").evaluate(C).join(","),I=e[M]||{},B=n[M]||{},V={},L=C.text;if(L){var F=v.allowsVerticalWritingMode(L),R=s.get("text-offset").evaluate(C).map(function(t){return 24*t}),D=24*s.get("text-letter-spacing").evaluate(C),q=v.allowsLetterSpacing(L)?D:0,N=s.get("text-anchor").evaluate(C),U=s.get("text-justify").evaluate(C),J="line"!==s.get("symbol-placement")?24*s.get("text-max-width").evaluate(C):0;V.horizontal=u(L,I,J,S,N,U,q,R,24,c.horizontal),F&&A&&T&&(V.vertical=u(L,I,J,S,N,U,q,R,24,c.vertical))}var G=void 0;if(C.icon){var Z=r[C.icon];Z&&(G=l(i[C.icon],s.get("icon-offset").evaluate(C),s.get("icon-anchor").evaluate(C)),void 0===t.sdfIcons?t.sdfIcons=Z.sdf:t.sdfIcons!==Z.sdf&&d.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),Z.pixelRatio!==t.pixelRatio?t.iconsNeedLinear=!0:0!==s.get("icon-rotate").constantOr(1)&&(t.iconsNeedLinear=!0))}(V.horizontal||G)&&k(t,C,V,G,B,h)}}catch(t){O=!0,z=t}finally{try{j||null==E.return||E.return()}finally{if(O)throw z}}o&&t.generateCollisionDebugBuffers()}}},function(t,e,n){var r=n(19).number,i=n(45),o=n(153);t.exports=function(t,e,n,a,s,u,l,c,f){var h=a?.6*u*l:0,p=Math.max(a?a.right-a.left:0,s?s.right-s.left:0),y=0===t[0].x||t[0].x===f||0===t[0].y||t[0].y===f;e-p*l<e/4&&(e=p*l+e/4);var d=2*u;return function t(e,n,a,s,u,l,c,f,h){var p=l/2;var y=0;for(var d=0;d<e.length-1;d++)y+=e[d].dist(e[d+1]);var v=0,m=n-a;var g=[];for(var b=0;b<e.length-1;b++){for(var x=e[b],w=e[b+1],k=x.dist(w),_=w.angleTo(x);m+a<v+k;){var S=((m+=a)-v)/k,A=r(x.x,w.x,S),T=r(x.y,w.y,S);if(A>=0&&A<h&&T>=0&&T<h&&m-p>=0&&m+p<=y){var j=new i(A,T,_,b);j._round(),s&&!o(e,j,l,s,u)||g.push(j)}}v+=k}f||g.length||c||(g=t(e,v/2,a,s,u,l,c,!0,h));return g}(t,y?e/2*c%e:(p/2+d)*l*c%e,e,h,n,p*l,y,!1,f)}},function(t,e){t.exports=function(t,e,n,r,i){if(void 0===e.segment)return!0;var o=e,a=e.segment+1,s=0;for(;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;var u=[],l=0;for(;s<n/2;){var c=t[a-1],f=t[a],h=t[a+1];if(!h)return!1;var p=c.angleTo(f)-f.angleTo(h);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:p}),l+=p;s-u[0].distance>r;)l-=u.shift().angleDelta;if(l>i)return!1;a++,s+=f.dist(h)}return!0}},function(t,e,n){var r=n(6);t.exports=function(t,e,n,i,o){for(var a=[],s=0;s<t.length;s++)for(var u=t[s],l=void 0,c=0;c<u.length-1;c++){var f=u[c],h=u[c+1];f.x<e&&h.x<e||(f.x<e?f=new r(e,f.y+(h.y-f.y)*((e-f.x)/(h.x-f.x)))._round():h.x<e&&(h=new r(e,f.y+(h.y-f.y)*((e-f.x)/(h.x-f.x)))._round()),f.y<n&&h.y<n||(f.y<n?f=new r(f.x+(h.x-f.x)*((n-f.y)/(h.y-f.y)),n)._round():h.y<n&&(h=new r(f.x+(h.x-f.x)*((n-f.y)/(h.y-f.y)),n)._round()),f.x>=i&&h.x>=i||(f.x>=i?f=new r(i,f.y+(h.y-f.y)*((i-f.x)/(h.x-f.x)))._round():h.x>=i&&(h=new r(i,f.y+(h.y-f.y)*((i-f.x)/(h.x-f.x)))._round()),f.y>=o&&h.y>=o||(f.y>=o?f=new r(f.x+(h.x-f.x)*((o-f.y)/(h.y-f.y)),o)._round():h.y>=o&&(h=new r(f.x+(h.x-f.x)*((o-f.y)/(h.y-f.y)),o)._round()),l&&f.equals(l[l.length-1])||(l=[f],a.push(l)),l.push(h)))))}return a}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(3).register,o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.opacity=0,this.targetOpacity=0,this.time=0}var e,n,i;return e=t,(n=[{key:"clone",value:function(){var e=new t;return e.opacity=this.opacity,e.targetOpacity=this.targetOpacity,e.time=this.time,e}}])&&r(e.prototype,n),i&&r(e,i),t}();i("OpacityState",o),t.exports=o},function(t,e,n){var r,i;function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=n(31),s=n(81),u=n(43),l={horizontal:1,vertical:2,horizontalOnly:3};t.exports={shapeText:function(t,e,n,r,i,o,c,f,h,p){var y=t.trim();p===l.vertical&&(y=s(y));var g,b=[],x={positionedGlyphs:b,text:y,top:f[1],bottom:f[1],left:f[0],right:f[0],writingMode:p},w=u.processBidirectionalText;g=w?w(y,d(y,c,n,e)):function(t,e){var n=[],r=0,i=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;n.push(t.substring(r,l)),r=l}}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}r<t.length&&n.push(t.substring(r,t.length));return n}(y,d(y,c,n,e));return function(t,e,n,r,i,o,s,u,c){var f=0,h=-17,p=0,y=t.positionedGlyphs,d="right"===o?1:"left"===o?0:.5,g=!0,b=!1,x=void 0;try{for(var w,k=n[Symbol.iterator]();!(g=(w=k.next()).done);g=!0){var _=w.value;if((_=_.trim()).length){for(var S=y.length,A=0;A<_.length;A++){var T=_.charCodeAt(A),j=e[T];j&&(a.charHasUprightVerticalOrientation(T)&&s!==l.horizontal?(y.push({glyph:T,x:f,y:0,vertical:!0}),f+=c+u):(y.push({glyph:T,x:f,y:h,vertical:!1}),f+=j.metrics.advance+u))}if(y.length!==S){var O=f-u;p=Math.max(O,p),m(y,e,S,y.length-1,d)}f=0,h+=r}else h+=r}}catch(t){b=!0,x=t}finally{try{g||null==k.return||k.return()}finally{if(b)throw x}}var z=v(i),P=z.horizontalAlign,E=z.verticalAlign;!function(t,e,n,r,i,o,a){for(var s=(e-n)*i,u=(-r*a+.5)*o,l=0;l<t.length;l++)t[l].x+=s,t[l].y+=u}(y,d,P,E,p,r,n.length);var C=n.length*r;t.top+=-E*C,t.bottom=t.top+C,t.left+=-P*p,t.right=t.left+p}(x,e,g,r,i,o,p,c,h),!!b.length&&x},shapeIcon:function(t,e,n){var r=v(n),i=r.horizontalAlign,o=r.verticalAlign,a=e[0],s=e[1],u=a-t.displaySize[0]*i,l=u+t.displaySize[0],c=s-t.displaySize[1]*o,f=c+t.displaySize[1];return{image:t,top:c,bottom:f,left:u,right:l}},WritingMode:l};var c=(o(r={},9,!0),o(r,10,!0),o(r,11,!0),o(r,12,!0),o(r,13,!0),o(r,32,!0),r),f=(o(i={},10,!0),o(i,32,!0),o(i,38,!0),o(i,40,!0),o(i,41,!0),o(i,43,!0),o(i,45,!0),o(i,47,!0),o(i,173,!0),o(i,183,!0),o(i,8203,!0),o(i,8208,!0),o(i,8211,!0),o(i,8231,!0),i);function h(t,e,n,r){var i=Math.pow(t-e,2);return r?t<e?i/2:2*i:i+Math.abs(n)*n}function p(t,e){var n=0;return 10===t&&(n-=1e4),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function y(t,e,n,r,i,o){var a=null,s=h(e,n,i,o),u=!0,l=!1,c=void 0;try{for(var f,p=r[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var y=f.value,d=h(e-y.x,n,i,o)+y.badness;d<=s&&(a=y,s=d)}}catch(t){l=!0,c=t}finally{try{u||null==p.return||p.return()}finally{if(l)throw c}}return{index:t,x:e,priorBreak:a,badness:s}}function d(t,e,n,r){if(!n)return[];if(!t)return[];for(var i=[],o=function(t,e,n,r){for(var i=0,o=0;o<t.length;o++){var a=r[t.charCodeAt(o)];a&&(i+=a.metrics.advance+e)}return i/Math.max(1,Math.ceil(i/n))}(t,e,n,r),s=0,u=0;u<t.length;u++){var l=t.charCodeAt(u),h=r[l];h&&!c[l]&&(s+=h.metrics.advance+e),u<t.length-1&&(f[l]||a.charAllowsIdeographicBreaking(l))&&i.push(y(u+1,s,o,i,p(l,t.charCodeAt(u+1)),!1))}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(y(t.length,s,o,i,0,!0))}function v(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function m(t,e,n,r,i){if(i){var o=e[t[r].glyph];if(o)for(var a=o.metrics.advance,s=(t[r].x+a)*i,u=n;u<=r;u++)t[u].x-=s}}},function(t,e,n){var r=n(6),i=n(158).GLYPH_PBF_BORDER;t.exports={getIconQuads:function(t,e,n,i,o,a,s){var u,l,c,f,h=e.image,p=n.layout,y=e.top-1/h.pixelRatio,d=e.left-1/h.pixelRatio,v=e.bottom+1/h.pixelRatio,m=e.right+1/h.pixelRatio;if("none"!==p.get("icon-text-fit")&&o){var g=m-d,b=v-y,x=p.get("text-size").evaluate(s)/24,w=o.left*x,k=o.right*x,_=o.top*x,S=o.bottom*x,A=k-w,T=S-_,j=p.get("icon-text-fit-padding")[0],O=p.get("icon-text-fit-padding")[1],z=p.get("icon-text-fit-padding")[2],P=p.get("icon-text-fit-padding")[3],E="width"===p.get("icon-text-fit")?.5*(T-b):0,C="height"===p.get("icon-text-fit")?.5*(A-g):0,M="width"===p.get("icon-text-fit")||"both"===p.get("icon-text-fit")?A:g,I="height"===p.get("icon-text-fit")||"both"===p.get("icon-text-fit")?T:b;u=new r(w+C-P,_+E-j),l=new r(w+C+O+M,_+E-j),c=new r(w+C+O+M,_+E+z+I),f=new r(w+C-P,_+E+z+I)}else u=new r(d,y),l=new r(m,y),c=new r(m,v),f=new r(d,v);var B=n.layout.get("icon-rotate").evaluate(s)*Math.PI/180;if(B){var V=Math.sin(B),L=Math.cos(B),F=[L,-V,V,L];u._matMult(F),l._matMult(F),f._matMult(F),c._matMult(F)}var R={x:h.textureRect.x-1,y:h.textureRect.y-1,w:h.textureRect.w+2,h:h.textureRect.h+2};return[{tl:u,tr:l,bl:f,br:c,tex:R,writingMode:void 0,glyphOffset:[0,0]}]},getGlyphQuads:function(t,e,n,o,a,s,u){for(var l=n.layout.get("text-rotate").evaluate(s)*Math.PI/180,c=n.layout.get("text-offset").evaluate(s).map(function(t){return 24*t}),f=e.positionedGlyphs,h=[],p=0;p<f.length;p++){var y=f[p],d=u[y.glyph];if(d){var v=d.rect;if(v){var m=i+1,g=d.metrics.advance/2,b=o?[y.x+g,y.y]:[0,0],x=o?[0,0]:[y.x+g+c[0],y.y+c[1]],w=d.metrics.left-m-g+x[0],k=-d.metrics.top-m+x[1],_=w+v.w,S=k+v.h,A=new r(w,k),T=new r(_,k),j=new r(w,S),O=new r(_,S);if(o&&y.vertical){var z=new r(-g,g),P=-Math.PI/2,E=new r(5,0);A._rotateAround(P,z)._add(E),T._rotateAround(P,z)._add(E),j._rotateAround(P,z)._add(E),O._rotateAround(P,z)._add(E)}if(l){var C=Math.sin(l),M=Math.cos(l),I=[M,-C,C,M];A._matMult(I),T._matMult(I),j._matMult(I),O._matMult(I)}h.push({tl:A,tr:T,bl:j,br:O,tex:v,writingMode:e.writingMode,glyphOffset:b})}}}return h}}},function(t,e,n){var r=n(29).AlphaImage,i=n(32),o=3;function a(t,e,n){1===t&&n.readMessage(s,e)}function s(t,e,n){if(3===t){var i=n.readMessage(u,{}),a=i.id,s=i.bitmap,l=i.width,c=i.height,f=i.left,h=i.top,p=i.advance;e.push({id:a,bitmap:new r({width:l+2*o,height:c+2*o},s),metrics:{width:l,height:c,left:f,top:h,advance:p}})}}function u(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}t.exports=function(t){return new i(t).readFields(a,[])},t.exports.GLYPH_PBF_BORDER=o},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(e,n,r,i,o,a,s,u,l,c,f){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var h=s.top*u-l,p=s.bottom*u+l,y=s.left*u-l,d=s.right*u+l;if(this.boxStartIndex=e.length,c){var v=p-h,m=d-y;v>0&&(v=Math.max(10*u,v),this._addLineCollisionCircles(e,n,r,r.segment,m,v,i,o,a,f))}else e.emplaceBack(r.x,r.y,y,h,d,p,i,o,a,0,0);this.boxEndIndex=e.length}var e,r,i;return e=t,(r=[{key:"_addLineCollisionCircles",value:function(t,e,n,r,i,o,a,s,u,l){var c=o/2,f=Math.floor(i/c),h=1+.4*Math.log(l)/Math.LN2,p=Math.floor(f*h/2),y=-o/2,d=n,v=r+1,m=y,g=-i/2,b=g-i/4;do{if(--v<0){if(m>g)return;v=0;break}m-=e[v].dist(d),d=e[v]}while(m>b);for(var x=e[v].dist(e[v+1]),w=-p;w<f+p;w++){var k=w*c,_=g+k;if(k<0&&(_+=k),k>i&&(_+=k-i),!(_<m)){for(;m+x<_;){if(m+=x,++v+1>=e.length)return;x=e[v].dist(e[v+1])}var S=_-m,A=e[v],T=e[v+1].sub(A)._unit()._mult(S)._add(A)._round(),j=Math.abs(_-y)<c?0:.8*(_-y);t.emplaceBack(T.x,T.y,-o/2,-o/2,o/2,o/2,a,s,u,o/2,j)}}}}])&&n(e.prototype,r),i&&n(e,i),t}();t.exports=r},function(t,e,n){var r=n(161),i=n(6),o=n(28).distToSegmentSquared;function a(t,e){return e.max-t.max}function s(t,e,n,r){this.p=new i(t,e),this.h=n,this.d=function(t,e){for(var n=!1,r=1/0,i=0;i<e.length;i++)for(var a=e[i],s=0,u=a.length,l=u-1;s<u;l=s++){var c=a[s],f=a[l];c.y>t.y!=f.y>t.y&&t.x<(f.x-c.x)*(t.y-c.y)/(f.y-c.y)+c.x&&(n=!n),r=Math.min(r,o(t,c,f))}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}t.exports=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=1/0,u=1/0,l=-1/0,c=-1/0,f=t[0],h=0;h<f.length;h++){var p=f[h];(!h||p.x<o)&&(o=p.x),(!h||p.y<u)&&(u=p.y),(!h||p.x>l)&&(l=p.x),(!h||p.y>c)&&(c=p.y)}var y=l-o,d=c-u,v=Math.min(y,d),m=v/2,g=new r(null,a);if(0===v)return new i(o,u);for(var b=o;b<l;b+=v)for(var x=u;x<c;x+=v)g.push(new s(b+m,x+m,m,t));for(var w=function(t){for(var e=0,n=0,r=0,i=t[0],o=0,a=i.length,u=a-1;o<a;u=o++){var l=i[o],c=i[u],f=l.x*c.y-c.x*l.y;n+=(l.x+c.x)*f,r+=(l.y+c.y)*f,e+=3*f}return new s(n/e,r/e,0,t)}(t),k=g.length;g.length;){var _=g.pop();(_.d>w.d||!w.d)&&(w=_,n&&console.log("found best %d after %d probes",Math.round(1e4*_.d)/1e4,k)),_.max-w.d<=e||(m=_.h/2,g.push(new s(_.p.x-m,_.p.y-m,m,t)),g.push(new s(_.p.x+m,_.p.y-m,m,t)),g.push(new s(_.p.x-m,_.p.y+m,m,t)),g.push(new s(_.p.x+m,_.p.y+m,m,t)),k+=4)}return n&&(console.log("num probes: ".concat(k)),console.log("best distance: ".concat(w.d))),w.p}},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||i,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function i(t,e){return t<e?-1:t>e?1:0}t.exports=r,t.exports.default=r,r.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&n(e[a],s)<0&&(o=a,s=e[a]),n(s,i)>=0)break;e[t]=s,t=o}e[t]=i}}},function(t,e,n){var r=n(85),i=n(29).RGBAImage,o=1;function a(t,e){var n=e.pixelRatio,r={x:t.x+o,y:t.y+o,w:t.w-2*o,h:t.h-2*o};return{pixelRatio:n,textureRect:r,tl:[r.x,r.y],br:[r.x+r.w,r.y+r.h],displaySize:[r.w/n,r.h/n]}}t.exports={imagePosition:a,makeImageAtlas:function(t){var e=new i({width:0,height:0}),n={},s=new r(0,0,{autoResize:!0});for(var u in t){var l=t[u],c=s.packOne(l.data.width+2*o,l.data.height+2*o);e.resize({width:s.w,height:s.h}),i.copy(l.data,e,{x:0,y:0},{x:c.x+o,y:c.y+o},l.data),n[u]=a(c,l)}return s.shrink(),e.resize({width:s.w,height:s.h}),{image:e,positions:n}}}},function(t,e,n){var r=n(85),i=n(29).AlphaImage,o=1;t.exports={makeGlyphAtlas:function(t){var e=new i({width:0,height:0}),n={},a=new r(0,0,{autoResize:!0});for(var s in t){var u=t[s],l=n[s]={};for(var c in u){var f=u[+c];if(f&&0!==f.bitmap.width&&0!==f.bitmap.height){var h=a.packOne(f.bitmap.width+2*o,f.bitmap.height+2*o);e.resize({width:a.w,height:a.h}),i.copy(f.bitmap,e,{x:0,y:0},{x:h.x+o,y:h.y+o},f.bitmap),l[c]={rect:h,metrics:f.metrics}}}}return a.shrink(),e.resize({width:a.w,height:a.h}),{image:e,positions:n}}}},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(165).DEMData,o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.loading={},this.loaded={}}var e,n,o;return e=t,(n=[{key:"loadTile",value:function(t,e){var n=t.source,r=t.uid;this.loading[n]||(this.loading[n]={});var o=new i(r);this.loading[n][r]=o,o.loadFromImage(t.rawImageData),delete this.loading[n][r],this.loaded[n]=this.loaded[n]||{},this.loaded[n][r]=o,e(null,o)}},{key:"removeTile",value:function(t){var e=this.loaded[t.source],n=t.uid;e&&e[n]&&delete e[n]}}])&&r(e.prototype,n),o&&r(e,o),t}();t.exports=o},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var a=n(29).RGBAImage,s=n(2),u=n(3).register,l=function(){function t(e,n,i){if(r(this,t),e<=0)throw new RangeError("Level must have positive dimension");this.dim=e,this.border=n,this.stride=this.dim+2*this.border,this.data=i||new Int32Array((this.dim+2*this.border)*(this.dim+2*this.border))}return o(t,[{key:"set",value:function(t,e,n){this.data[this._idx(t,e)]=n+65536}},{key:"get",value:function(t,e){return this.data[this._idx(t,e)]-65536}},{key:"_idx",value:function(t,e){if(t<-this.border||t>=this.dim+this.border||e<-this.border||e>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(e+this.border)*this.stride+(t+this.border)}}]),t}();u("Level",l);var c=function(){function t(e,n,i){r(this,t),this.uid=e,this.scale=n||1,this.level=i||new l(256,512),this.loaded=!!i}return o(t,[{key:"loadFromImage",value:function(t){if(t.height!==t.width)throw new RangeError("DEM tiles must be square");for(var e=this.level=new l(t.width,t.width/2),n=t.data,r=0;r<e.dim;r++)for(var i=0;i<e.dim;i++){var o=4*(r*e.dim+i);e.set(i,r,this.scale*((256*n[o]*256+256*n[o+1]+n[o+2])/10-1e4))}for(var a=0;a<e.dim;a++)e.set(-1,a,e.get(0,a)),e.set(e.dim,a,e.get(e.dim-1,a)),e.set(a,-1,e.get(a,0)),e.set(a,e.dim,e.get(a,e.dim-1));e.set(-1,-1,e.get(0,0)),e.set(e.dim,-1,e.get(e.dim-1,0)),e.set(-1,e.dim,e.get(0,e.dim-1)),e.set(e.dim,e.dim,e.get(e.dim-1,e.dim-1)),this.loaded=!0}},{key:"getPixels",value:function(){return new a({width:this.level.dim+2*this.level.border,height:this.level.dim+2*this.level.border},new Uint8Array(this.level.data.buffer))}},{key:"backfillBorder",value:function(t,e,n){var r=this.level,i=t.level;if(r.dim!==i.dim)throw new Error("level mismatch (dem dimension)");var o=e*r.dim,a=e*r.dim+r.dim,u=n*r.dim,l=n*r.dim+r.dim;switch(e){case-1:o=a-1;break;case 1:a=o+1}switch(n){case-1:u=l-1;break;case 1:l=u+1}for(var c=s.clamp(o,-r.border,r.dim+r.border),f=s.clamp(a,-r.border,r.dim+r.border),h=s.clamp(u,-r.border,r.dim+r.border),p=s.clamp(l,-r.border,r.dim+r.border),y=-e*r.dim,d=-n*r.dim,v=h;v<p;v++)for(var m=c;m<f;m++)r.set(m,v,i.get(m+y,v+d))}}]),t}();u("DEMData",c),t.exports={DEMData:c,Level:l}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return t}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=n(44),c=n(167),f=n(170),h=n(171),p=n(173),y=n(178),d=n(82);function v(t,e){var n=t.source,r=t.tileID.canonical;if(!this._geoJSONIndexes[n])return e(null,null);var i=this._geoJSONIndexes[n].getTile(r.z,r.x,r.y);if(!i)return e(null,null);var o=new f(i.features),a=h(o);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),e(null,{vectorTile:o,rawData:a.buffer})}var m=function(t){function e(t,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i=o(this,s(e).call(this,t,n,v)),r&&(i.loadGeoJSON=r),i._geoJSONIndexes={},i}var n,f,h;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,d),n=e,(f=[{key:"loadData",value:function(t,e){var n=this;this.loadGeoJSON(t,function(i,o){if(i||!o)return e(i);if("object"!==r(o))return e(new Error("Input data is not a valid GeoJSON object."));c(o,!0);try{n._geoJSONIndexes[t.source]=t.cluster?p(t.superclusterOptions).load(o.features):y(o,t.geojsonVtOptions)}catch(i){return e(i)}n.loaded[t.source]={},e(null)})}},{key:"reloadTile",value:function(t,n){var r=this.loaded[t.source],i=t.uid;return r&&r[i]?a(s(e.prototype),"reloadTile",this).call(this,t,n):this.loadTile(t,n)}},{key:"loadGeoJSON",value:function(t,e){if(t.request)l.getJSON(t.request,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(t){return e(new Error("Input data is not a valid GeoJSON object."))}}}},{key:"removeSource",value:function(t,e){this._geoJSONIndexes[t.source]&&delete this._geoJSONIndexes[t.source],e()}}])&&i(n.prototype,f),h&&i(n,h),e}();t.exports=m},function(t,e,n){var r=n(168);function i(t,e){return function(n){return t(n,e)}}function o(t,e){e=!!e,t[0]=a(t[0],e);for(var n=1;n<t.length;n++)t[n]=a(t[n],!e);return t}function a(t,e){return function(t){return r.ring(t)>=0}(t)===e?t:t.reverse()}t.exports=function t(e,n){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(i(t,n)),e;case"Feature":return e.geometry=t(e.geometry,n),e;case"Polygon":case"MultiPolygon":return function(t,e){"Polygon"===t.type?t.coordinates=o(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(i(o,e)));return t}(e,n);default:return e}}},function(t,e,n){var r=n(169);function i(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e,n,i,o,s,u,l=0,c=t.length;if(c>2){for(u=0;u<c;u++)u===c-2?(i=c-2,o=c-1,s=0):u===c-1?(i=c-1,o=0,s=1):(i=u,o=u+1,s=u+2),e=t[i],n=t[o],l+=(a(t[s][0])-a(e[0]))*Math.sin(a(n[1]));l=l*r.RADIUS*r.RADIUS/2}return l}function a(t){return t*Math.PI/180}t.exports.geometry=function t(e){var n,r=0;switch(e.type){case"Polygon":return i(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)r+=i(e.coordinates[n]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)r+=t(e.geometries[n]);return r}},t.exports.ring=o},function(t,e){t.exports.RADIUS=6378137,t.exports.FLATTENING=1/298.257223563,t.exports.POLAR_RADIUS=6356752.3142},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var a=n(6),s=n(21).VectorTileFeature.prototype.toGeoJSON,u=n(18),l=function(){function t(e){r(this,t),this._feature=e,this.extent=u,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))}return o(t,[{key:"loadGeometry",value:function(){if(1===this._feature.type){var t=[],e=!0,n=!1,r=void 0;try{for(var i,o=this._feature.geometry[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var s=i.value;t.push([new a(s[0],s[1])])}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return t}var u=[],l=!0,c=!1,f=void 0;try{for(var h,p=this._feature.geometry[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var y=h.value,d=[],v=!0,m=!1,g=void 0;try{for(var b,x=y[Symbol.iterator]();!(v=(b=x.next()).done);v=!0){var w=b.value;d.push(new a(w[0],w[1]))}}catch(t){m=!0,g=t}finally{try{v||null==x.return||x.return()}finally{if(m)throw g}}u.push(d)}}catch(t){c=!0,f=t}finally{try{l||null==p.return||p.return()}finally{if(c)throw f}}return u}},{key:"toGeoJSON",value:function(t,e,n){return s.call(this,t,e,n)}}]),t}(),c=function(){function t(e){r(this,t),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=u,this.length=e.length,this._features=e}return o(t,[{key:"feature",value:function(t){return new l(this._features[t])}}]),t}();t.exports=c},function(t,e,n){var r=n(32),i=n(172);function o(t){var e=new r;return function(t,e){for(var n in t.layers)e.writeMessage(3,a,t.layers[n])}(t,e),e.finish()}function a(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)r.feature=t.feature(n),e.writeMessage(2,s,r);var i=r.keys;for(n=0;n<i.length;n++)e.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)e.writeMessage(4,h,o[n])}function s(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,u,t),e.writeVarintField(3,n.type),e.writeMessage(4,f,n)}function u(t,e){var n=t.feature,r=t.keys,i=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var u=o[s];void 0===u&&(r.push(s),u=r.length-1,o[s]=u),e.writeVarint(u);var l=n.properties[s],c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var f=c+":"+l,h=a[f];void 0===h&&(i.push(l),h=i.length-1,a[f]=h),e.writeVarint(h)}}function l(t,e){return(e<<3)+(7&t)}function c(t){return t<<1^t>>31}function f(t,e){for(var n=t.loadGeometry(),r=t.type,i=0,o=0,a=n.length,s=0;s<a;s++){var u=n[s],f=1;1===r&&(f=u.length),e.writeVarint(l(1,f));for(var h=3===r?u.length-1:u.length,p=0;p<h;p++){1===p&&1!==r&&e.writeVarint(l(2,h-1));var y=u[p].x-i,d=u[p].y-o;e.writeVarint(c(y)),e.writeVarint(c(d)),i+=y,o+=d}3===r&&e.writeVarint(l(7,1))}}function h(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}t.exports=o,t.exports.fromVectorTileJs=o,t.exports.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var r in t)n[r]=new i(t[r].features,e),n[r].name=r,n[r].version=e.version,n[r].extent=e.extent;return o({layers:n})},t.exports.GeoJSONWrapper=i},function(t,e,n){"use strict";var r=n(6),i=n(21).VectorTileFeature;function o(t,e){this.options=e||{},this.features=t,this.length=t.length}function a(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}t.exports=o,o.prototype.feature=function(t){return new a(this.features[t],this.options.extent)},a.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],i=[],o=0;o<n.length;o++)i.push(new r(n[o][0],n[o][1]));this.geometry.push(i)}return this.geometry},a.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),r=Math.min(r,u.y),i=Math.max(i,u.y)}return[e,r,n,i]},a.prototype.toGeoJSON=i.prototype.toGeoJSON},function(t,e,n){"use strict";var r=n(174);function i(t){this.options=f(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function o(t,e,n,r,i){return{x:t,y:e,zoom:1/0,id:r,properties:i,parentId:-1,numPoints:n}}function a(t,e){var n=t.geometry.coordinates;return{x:l(n[0]),y:c(n[1]),zoom:1/0,id:e,parentId:-1}}function s(t){return{type:"Feature",properties:u(t),geometry:{type:"Point",coordinates:[(r=t.x,360*(r-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,r}function u(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return f(f({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function l(t){return t/360+.5}function c(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function f(t,e){for(var n in e)t[n]=e[n];return t}function h(t){return t.x}function p(t){return t.y}t.exports=function(t){return new i(t)},i.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;var i=t.map(a);e&&console.timeEnd(n);for(var o=this.options.maxZoom;o>=this.options.minZoom;o--){var s=+Date.now();this.trees[o+1]=r(i,h,p,this.options.nodeSize,Float32Array),i=this._cluster(i,o),e&&console.log("z%d: %d clusters in %dms",o,i.length,+Date.now()-s)}return this.trees[this.options.minZoom]=r(i,h,p,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function(t,e){for(var n=this.trees[this._limitZoom(e)],r=n.range(l(t[0]),c(t[3]),l(t[2]),c(t[1])),i=[],o=0;o<r.length;o++){var a=n.points[r[o]];i.push(a.numPoints?s(a):this.points[a.id])}return i},getChildren:function(t,e){for(var n=this.trees[e+1].points[t],r=this.options.radius/(this.options.extent*Math.pow(2,e)),i=this.trees[e+1].within(n.x,n.y,r),o=[],a=0;a<i.length;a++){var u=this.trees[e+1].points[i[a]];u.parentId===t&&o.push(u.numPoints?s(u):this.points[u.id])}return o},getLeaves:function(t,e,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,t,e,n,r,0),i},getTile:function(t,e,n){var r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),o=this.options.extent,a=this.options.radius/o,s=(n-a)/i,u=(n+1+a)/i,l={features:[]};return this._addTileFeatures(r.range((e-a)/i,s,(e+1+a)/i,u),r.points,e,n,i,l),0===e&&this._addTileFeatures(r.range(1-a/i,s,1,u),r.points,i,n,i,l),e===i-1&&this._addTileFeatures(r.range(0,s,a/i,u),r.points,-1,n,i,l),l.features.length?l:null},getClusterExpansionZoom:function(t,e){for(;e<this.options.maxZoom;){var n=this.getChildren(t,e);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},_appendLeaves:function(t,e,n,r,i,o){for(var a=this.getChildren(e,n),s=0;s<a.length;s++){var u=a[s].properties;if(u.cluster?o+u.point_count<=i?o+=u.point_count:o=this._appendLeaves(t,u.cluster_id,n+1,r,i,o):o<i?o++:t.push(a[s]),t.length===r)break}return o},_addTileFeatures:function(t,e,n,r,i,o){for(var a=0;a<t.length;a++){var s=e[t[a]];o.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*i-n)),Math.round(this.options.extent*(s.y*i-r))]],tags:s.numPoints?u(s):this.points[s.id].properties})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var n=[],r=this.options.radius/(this.options.extent*Math.pow(2,e)),i=0;i<t.length;i++){var a=t[i];if(!(a.zoom<=e)){a.zoom=e;var s=this.trees[e+1],u=s.within(a.x,a.y,r),l=a.numPoints||1,c=a.x*l,f=a.y*l,h=null;this.options.reduce&&(h=this.options.initial(),this._accumulate(h,a));for(var p=0;p<u.length;p++){var y=s.points[u[p]];if(e<y.zoom){var d=y.numPoints||1;y.zoom=e,c+=y.x*d,f+=y.y*d,l+=d,y.parentId=i,this.options.reduce&&this._accumulate(h,y)}}1===l?n.push(a):(a.parentId=i,n.push(o(c/l,f/l,l,i,h)))}}return n},_accumulate:function(t,e){var n=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,n)}}},function(t,e,n){"use strict";var r=n(175),i=n(176),o=n(177);function a(t,e,n,i,o){e=e||s,n=n||u,o=o||Array,this.nodeSize=i||64,this.points=t,this.ids=new o(t.length),this.coords=new o(2*t.length);for(var a=0;a<t.length;a++)this.ids[a]=a,this.coords[2*a]=e(t[a]),this.coords[2*a+1]=n(t[a]);r(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function s(t){return t[0]}function u(t){return t[1]}t.exports=function(t,e,n,r,i){return new a(t,e,n,r,i)},a.prototype={range:function(t,e,n,r){return i(this.ids,this.coords,t,e,n,r,this.nodeSize)},within:function(t,e,n){return o(this.ids,this.coords,t,e,n,this.nodeSize)}}},function(t,e,n){"use strict";function r(t,e,n,r){i(t,n,r),i(e,2*n,2*r),i(e,2*n+1,2*r+1)}function i(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}t.exports=function t(e,n,i,o,a,s){if(a-o<=i)return;var u=Math.floor((o+a)/2);!function t(e,n,i,o,a,s){for(;a>o;){if(a-o>600){var u=a-o+1,l=i-o+1,c=Math.log(u),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),p=Math.max(o,Math.floor(i-l*f/u+h)),y=Math.min(a,Math.floor(i+(u-l)*f/u+h));t(e,n,i,p,y,s)}var d=n[2*i+s],v=o,m=a;for(r(e,n,o,i),n[2*a+s]>d&&r(e,n,o,a);v<m;){for(r(e,n,v,m),v++,m--;n[2*v+s]<d;)v++;for(;n[2*m+s]>d;)m--}n[2*o+s]===d?r(e,n,o,m):r(e,n,++m,a),m<=i&&(o=m+1),i<=m&&(a=m-1)}}(e,n,u,o,a,s%2);t(e,n,i,o,u-1,s+1);t(e,n,i,u+1,a,s+1)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i,o,a){var s,u,l=[0,t.length-1,0],c=[];for(;l.length;){var f=l.pop(),h=l.pop(),p=l.pop();if(h-p<=a)for(var y=p;y<=h;y++)s=e[2*y],u=e[2*y+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(t[y]);else{var d=Math.floor((p+h)/2);s=e[2*d],u=e[2*d+1],s>=n&&s<=i&&u>=r&&u<=o&&c.push(t[d]);var v=(f+1)%2;(0===f?n<=s:r<=u)&&(l.push(p),l.push(d-1),l.push(v)),(0===f?i>=s:o>=u)&&(l.push(d+1),l.push(h),l.push(v))}}return c}},function(t,e,n){"use strict";function r(t,e,n,r){var i=t-n,o=e-r;return i*i+o*o}t.exports=function(t,e,n,i,o,a){var s=[0,t.length-1,0],u=[],l=o*o;for(;s.length;){var c=s.pop(),f=s.pop(),h=s.pop();if(f-h<=a)for(var p=h;p<=f;p++)r(e[2*p],e[2*p+1],n,i)<=l&&u.push(t[p]);else{var y=Math.floor((h+f)/2),d=e[2*y],v=e[2*y+1];r(d,v,n,i)<=l&&u.push(t[y]);var m=(c+1)%2;(0===c?n-o<=d:i-o<=v)&&(s.push(h),s.push(y-1),s.push(m)),(0===c?n+o>=d:i+o>=v)&&(s.push(y+1),s.push(f),s.push(m))}}return u}},function(t,e,n){"use strict";function r(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var u=((t-n)*a+(e-r)*s)/(a*a+s*s);u>1?(n=i,r=o):u>0&&(n+=a*u,r+=s*u)}return(a=t-n)*a+(s=e-r)*s}function i(t,e,n,r){var i={id:void 0===t?null:t,type:e,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)o(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<e.length;r++)o(t,e[r]);else if("MultiPolygon"===n)for(r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)o(t,e[r][i])}(i),i}function o(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function a(t,e,n,r){if(e.geometry){var o=e.geometry.coordinates,c=e.geometry.type,f=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),h=[],p=e.id;if(n.promoteId?p=e.properties[n.promoteId]:n.generateId&&(p=r||0),"Point"===c)s(o,h);else if("MultiPoint"===c)for(var y=0;y<o.length;y++)s(o[y],h);else if("LineString"===c)u(o,h,f,!1);else if("MultiLineString"===c){if(n.lineMetrics){for(y=0;y<o.length;y++)h=[],u(o[y],h,f,!1),t.push(i(p,"LineString",h,e.properties));return}l(o,h,f,!1)}else if("Polygon"===c)l(o,h,f,!0);else{if("MultiPolygon"!==c){if("GeometryCollection"===c){for(y=0;y<e.geometry.geometries.length;y++)a(t,{id:p,geometry:e.geometry.geometries[y],properties:e.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(y=0;y<o.length;y++){var d=[];l(o[y],d,f,!0),h.push(d)}}t.push(i(p,c,h,e.properties))}}function s(t,e){e.push(c(t[0])),e.push(f(t[1])),e.push(0)}function u(t,e,n,i){for(var o,a,s=0,u=0;u<t.length;u++){var l=c(t[u][0]),h=f(t[u][1]);e.push(l),e.push(h),e.push(0),u>0&&(s+=i?(o*h-l*a)/2:Math.sqrt(Math.pow(l-o,2)+Math.pow(h-a,2))),o=l,a=h}var p=e.length-3;e[2]=1,function t(e,n,i,o){for(var a,s=o,u=i-n>>1,l=i-n,c=e[n],f=e[n+1],h=e[i],p=e[i+1],y=n+3;y<i;y+=3){var d=r(e[y],e[y+1],c,f,h,p);if(d>s)a=y,s=d;else if(d===s){var v=Math.abs(y-u);v<l&&(a=y,l=v)}}s>o&&(a-n>3&&t(e,n,a,o),e[a+2]=s,i-a>3&&t(e,a,i,o))}(e,0,p,n),e[p+2]=1,e.size=Math.abs(s),e.start=0,e.end=e.size}function l(t,e,n,r){for(var i=0;i<t.length;i++){var o=[];u(t[i],o,n,r),e.push(o)}}function c(t){return t/360+.5}function f(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function h(t,e,n,r,o,a,s,u){if(r/=e,a>=(n/=e)&&s<r)return t;if(s<n||a>=r)return null;for(var l=[],c=0;c<t.length;c++){var f=t[c],h=f.geometry,d=f.type,m=0===o?f.minX:f.minY,g=0===o?f.maxX:f.maxY;if(m>=n&&g<r)l.push(f);else if(!(g<n||m>=r)){var b=[];if("Point"===d||"MultiPoint"===d)p(h,b,n,r,o);else if("LineString"===d)y(h,b,n,r,o,!1,u.lineMetrics);else if("MultiLineString"===d)v(h,b,n,r,o,!1);else if("Polygon"===d)v(h,b,n,r,o,!0);else if("MultiPolygon"===d)for(var x=0;x<h.length;x++){var w=[];v(h[x],w,n,r,o,!0),w.length&&b.push(w)}if(b.length){if(u.lineMetrics&&"LineString"===d){for(x=0;x<b.length;x++)l.push(i(f.id,d,b[x],f.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===b.length?(d="LineString",b=b[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===b.length?"Point":"MultiPoint"),l.push(i(f.id,d,b,f.tags))}}}return l.length?l:null}function p(t,e,n,r,i){for(var o=0;o<t.length;o+=3){var a=t[o+i];a>=n&&a<=r&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function y(t,e,n,r,i,o,a){for(var s,u,l=d(t),c=0===i?g:b,f=t.start,h=0;h<t.length-3;h+=3){var p=t[h],y=t[h+1],v=t[h+2],x=t[h+3],w=t[h+4],k=0===i?p:y,_=0===i?x:w,S=!1;a&&(s=Math.sqrt(Math.pow(p-x,2)+Math.pow(y-w,2))),k<n?_>n&&(u=c(l,p,y,x,w,n),a&&(l.start=f+s*u)):k>r?_<r&&(u=c(l,p,y,x,w,r),a&&(l.start=f+s*u)):m(l,p,y,v),_<n&&k>=n&&(u=c(l,p,y,x,w,n),S=!0),_>r&&k<=r&&(u=c(l,p,y,x,w,r),S=!0),!o&&S&&(a&&(l.end=f+s*u),e.push(l),l=d(t)),a&&(f+=s)}var A=t.length-3;p=t[A],y=t[A+1],v=t[A+2],(k=0===i?p:y)>=n&&k<=r&&m(l,p,y,v),A=l.length-3,o&&A>=3&&(l[A]!==l[0]||l[A+1]!==l[1])&&m(l,l[0],l[1],l[2]),l.length&&e.push(l)}function d(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function v(t,e,n,r,i,o){for(var a=0;a<t.length;a++)y(t[a],e,n,r,i,o,!1)}function m(t,e,n,r){t.push(e),t.push(n),t.push(r)}function g(t,e,n,r,i,o){var a=(o-e)/(r-e);return t.push(o),t.push(n+(i-n)*a),t.push(1),a}function b(t,e,n,r,i,o){var a=(o-n)/(i-n);return t.push(e+(r-e)*a),t.push(o),t.push(1),a}function x(t,e){for(var n=[],r=0;r<t.length;r++){var o,a=t[r],s=a.type;if("Point"===s||"MultiPoint"===s||"LineString"===s)o=w(a.geometry,e);else if("MultiLineString"===s||"Polygon"===s){o=[];for(var u=0;u<a.geometry.length;u++)o.push(w(a.geometry[u],e))}else if("MultiPolygon"===s)for(o=[],u=0;u<a.geometry.length;u++){for(var l=[],c=0;c<a.geometry[u].length;c++)l.push(w(a.geometry[u][c],e));o.push(l)}n.push(i(a.id,s,o,a.tags))}return n}function w(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var r=0;r<t.length;r+=3)n.push(t[r]+e,t[r+1],t[r+2]);return n}function k(t,e){if(t.transformed)return t;var n,r,i,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var u=t.features[n],l=u.geometry,c=u.type;if(u.geometry=[],1===c)for(r=0;r<l.length;r+=2)u.geometry.push(_(l[r],l[r+1],e,o,a,s));else for(r=0;r<l.length;r++){var f=[];for(i=0;i<l[r].length;i+=2)f.push(_(l[r][i],l[r][i+1],e,o,a,s));u.geometry.push(f)}}return t.transformed=!0,t}function _(t,e,n,r,i,o){return[Math.round(n*(t*r-i)),Math.round(n*(e*r-o))]}function S(t,e,n,r,i){for(var o=e===i.maxZoom?0:i.tolerance/((1<<e)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,A(a,t[s],o,i);var u=t[s].minX,l=t[s].minY,c=t[s].maxX,f=t[s].maxY;u<a.minX&&(a.minX=u),l<a.minY&&(a.minY=l),c>a.maxX&&(a.maxX=c),f>a.maxY&&(a.maxY=f)}return a}function A(t,e,n,r){var i=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)T(a,i,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)T(a,i[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var u=0;u<i.length;u++){var l=i[u];for(s=0;s<l.length;s++)T(a,l[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&r.lineMetrics){for(var f in c={},e.tags)c[f]=e.tags[f];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var h={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(h.id=e.id),t.features.push(h)}}function T(t,e,n,r,i,o){var a=r*r;if(r>0&&e.size<(i?a:r))n.numPoints+=e.length/3;else{for(var s=[],u=0;u<e.length;u+=3)(0===r||e[u+2]>a)&&(n.numSimplified++,s.push(e[u]),s.push(e[u+1])),n.numPoints++;i&&function(t,e){for(var n=0,r=0,i=t.length,o=i-2;r<i;o=r,r+=2)n+=(t[r]-t[o])*(t[r+1]+t[o+1]);if(n>0===e)for(r=0,i=t.length;r<i/2;r+=2){var a=t[r],s=t[r+1];t[r]=t[i-2-r],t[r+1]=t[i-1-r],t[i-2-r]=a,t[i-1-r]=s}}(s,o),t.push(s)}}function j(t,e){return new O(t,e)}function O(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var r=0;r<t.features.length;r++)a(n,t.features[r],e,r);else"Feature"===t.type?a(n,t,e):a(n,{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(r=function(t,e){var n=e.buffer/e.extent,r=t,i=h(t,1,-1-n,n,0,-1,2,e),o=h(t,1,1-n,2+n,0,-1,2,e);return(i||o)&&(r=h(t,1,-n,1+n,0,-1,2,e)||[],i&&(r=x(i,1).concat(r)),o&&(r=r.concat(x(o,-1)))),r}(r,e)).length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function z(t,e,n){return 32*((1<<t)*n+e)+t}n.r(e),n.d(e,"default",function(){return j}),O.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},O.prototype.splitTile=function(t,e,n,r,i,o,a){for(var s=[t,e,n,r],u=this.options,l=u.debug;s.length;){r=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,f=z(e,n,r),p=this.tiles[f];if(!p&&(l>1&&console.time("creation"),p=this.tiles[f]=S(t,e,n,r,u),this.tileCoords.push({z:e,x:n,y:r}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,r,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var y="z"+e;this.stats[y]=(this.stats[y]||0)+1,this.total++}if(p.source=t,i){if(e===u.maxZoom||e===i)continue;var d=1<<i-e;if(n!==Math.floor(o/d)||r!==Math.floor(a/d))continue}else if(e===u.indexMaxZoom||p.numPoints<=u.indexMaxPoints)continue;if(p.source=null,0!==t.length){l>1&&console.time("clipping");var v,m,g,b,x,w,k=.5*u.buffer/u.extent,_=.5-k,A=.5+k,T=1+k;v=m=g=b=null,x=h(t,c,n-k,n+A,0,p.minX,p.maxX,u),w=h(t,c,n+_,n+T,0,p.minX,p.maxX,u),t=null,x&&(v=h(x,c,r-k,r+A,1,p.minY,p.maxY,u),m=h(x,c,r+_,r+T,1,p.minY,p.maxY,u),x=null),w&&(g=h(w,c,r-k,r+A,1,p.minY,p.maxY,u),b=h(w,c,r+_,r+T,1,p.minY,p.maxY,u),w=null),l>1&&console.timeEnd("clipping"),s.push(v||[],e+1,2*n,2*r),s.push(m||[],e+1,2*n,2*r+1),s.push(g||[],e+1,2*n+1,2*r),s.push(b||[],e+1,2*n+1,2*r+1)}}},O.prototype.getTile=function(t,e,n){var r=this.options,i=r.extent,o=r.debug;if(t<0||t>24)return null;var a=1<<t,s=z(t,e=(e%a+a)%a,n);if(this.tiles[s])return k(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var u,l=t,c=e,f=n;!u&&l>0;)l--,c=Math.floor(c/2),f=Math.floor(f/2),u=this.tiles[z(l,c,f)];return u&&u.source?(o>1&&console.log("found parent tile z%d-%d-%d",l,c,f),o>1&&console.time("drilling down"),this.splitTile(u.source,l,c,f,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?k(this.tiles[s],i):null):null}}]);\n//# sourceMappingURL=eab846b0e6e207bc59f3.worker.js.map',
												null
											);
										};
									},
									function (e, t, n) {
										var r = window.URL || window.webkitURL;
										e.exports = function (e, t) {
											try {
												try {
													var n;
													try {
														(n =
															new (window.BlobBuilder ||
																window.WebKitBlobBuilder ||
																window.MozBlobBuilder ||
																window.MSBlobBuilder)()).append(
															e
														),
															(n = n.getBlob());
													} catch (t) {
														n = new Blob([e]);
													}
													return new Worker(
														r.createObjectURL(n)
													);
												} catch (t) {
													return new Worker(
														"data:application/javascript," +
															encodeURIComponent(
																e
															)
													);
												}
											} catch (e) {
												if (!t)
													throw Error(
														"Inline worker is not supported"
													);
												return new Worker(t);
											}
										};
									},
									function (e, t, n) {
										var r = n(215);
										function i(e, t) {
											var n = {};
											for (var i in e)
												"ref" !== i && (n[i] = e[i]);
											return (
												r.forEach(function (e) {
													e in t && (n[e] = t[e]);
												}),
												n
											);
										}
										e.exports = function (e) {
											e = e.slice();
											for (
												var t = Object.create(null),
													n = 0;
												n < e.length;
												n++
											)
												t[e[n].id] = e[n];
											for (var r = 0; r < e.length; r++)
												"ref" in e[r] &&
													(e[r] = i(
														e[r],
														t[e[r].ref]
													));
											return e;
										};
									},
									function (e, t) {
										e.exports = [
											"type",
											"source",
											"source-layer",
											"minzoom",
											"maxzoom",
											"filter",
											"layout",
										];
									},
									function (e, t, n) {
										var r = n(74),
											i = {
												setStyle: "setStyle",
												addLayer: "addLayer",
												removeLayer: "removeLayer",
												setPaintProperty:
													"setPaintProperty",
												setLayoutProperty:
													"setLayoutProperty",
												setFilter: "setFilter",
												addSource: "addSource",
												removeSource: "removeSource",
												setGeoJSONSourceData:
													"setGeoJSONSourceData",
												setLayerZoomRange:
													"setLayerZoomRange",
												setLayerProperty:
													"setLayerProperty",
												setCenter: "setCenter",
												setZoom: "setZoom",
												setBearing: "setBearing",
												setPitch: "setPitch",
												setSprite: "setSprite",
												setGlyphs: "setGlyphs",
												setTransition: "setTransition",
												setLight: "setLight",
											};
										function o(e, t, n) {
											n.push({
												command: i.addSource,
												args: [e, t[e]],
											});
										}
										function a(e, t, n) {
											t.push({
												command: i.removeSource,
												args: [e],
											}),
												(n[e] = !0);
										}
										function s(e, t, n, r) {
											a(e, n, r), o(e, t, n);
										}
										function l(e, t, n) {
											var i;
											for (i in e[n])
												if (
													e[n].hasOwnProperty(i) &&
													"data" !== i &&
													!r(e[n][i], t[n][i])
												)
													return !1;
											for (i in t[n])
												if (
													t[n].hasOwnProperty(i) &&
													"data" !== i &&
													!r(e[n][i], t[n][i])
												)
													return !1;
											return !0;
										}
										function u(e, t, n, i, o, a) {
											var s;
											for (s in ((t = t || {}),
											(e = e || {})))
												e.hasOwnProperty(s) &&
													(r(e[s], t[s]) ||
														n.push({
															command: a,
															args: [
																i,
																s,
																t[s],
																o,
															],
														}));
											for (s in t)
												t.hasOwnProperty(s) &&
													!e.hasOwnProperty(s) &&
													(r(e[s], t[s]) ||
														n.push({
															command: a,
															args: [
																i,
																s,
																t[s],
																o,
															],
														}));
										}
										function c(e) {
											return e.id;
										}
										function f(e, t) {
											return (e[t.id] = t), e;
										}
										(e.exports = function (e, t) {
											if (!e)
												return [
													{
														command: i.setStyle,
														args: [t],
													},
												];
											var n = [];
											try {
												if (!r(e.version, t.version))
													return [
														{
															command: i.setStyle,
															args: [t],
														},
													];
												r(e.center, t.center) ||
													n.push({
														command: i.setCenter,
														args: [t.center],
													}),
													r(e.zoom, t.zoom) ||
														n.push({
															command: i.setZoom,
															args: [t.zoom],
														}),
													r(e.bearing, t.bearing) ||
														n.push({
															command:
																i.setBearing,
															args: [t.bearing],
														}),
													r(e.pitch, t.pitch) ||
														n.push({
															command: i.setPitch,
															args: [t.pitch],
														}),
													r(e.sprite, t.sprite) ||
														n.push({
															command:
																i.setSprite,
															args: [t.sprite],
														}),
													r(e.glyphs, t.glyphs) ||
														n.push({
															command:
																i.setGlyphs,
															args: [t.glyphs],
														}),
													r(
														e.transition,
														t.transition
													) ||
														n.push({
															command:
																i.setTransition,
															args: [
																t.transition,
															],
														}),
													r(e.light, t.light) ||
														n.push({
															command: i.setLight,
															args: [t.light],
														});
												var h = {},
													p = [];
												!(function (e, t, n, u) {
													var c;
													for (c in ((t = t || {}),
													(e = e || {})))
														e.hasOwnProperty(c) &&
															(t.hasOwnProperty(
																c
															) ||
																a(c, n, u));
													for (c in t)
														t.hasOwnProperty(c) &&
															(e.hasOwnProperty(c)
																? r(
																		e[c],
																		t[c]
																  ) ||
																  ("geojson" ===
																		e[c]
																			.type &&
																  "geojson" ===
																		t[c]
																			.type &&
																  l(e, t, c)
																		? n.push(
																				{
																					command:
																						i.setGeoJSONSourceData,
																					args: [
																						c,
																						t[
																							c
																						]
																							.data,
																					],
																				}
																		  )
																		: s(
																				c,
																				t,
																				n,
																				u
																		  ))
																: o(c, t, n));
												})(e.sources, t.sources, p, h);
												var d = [];
												e.layers &&
													e.layers.forEach(function (
														e
													) {
														h[e.source]
															? n.push({
																	command:
																		i.removeLayer,
																	args: [
																		e.id,
																	],
															  })
															: d.push(e);
													}),
													(n = n.concat(p)),
													(function (e, t, n) {
														t = t || [];
														var o,
															a,
															s,
															l,
															h,
															p,
															d,
															y = (e =
																e || []).map(c),
															m = t.map(c),
															v = e.reduce(f, {}),
															g = t.reduce(f, {}),
															_ = y.slice(),
															b =
																Object.create(
																	null
																);
														for (
															o = 0, a = 0;
															o < y.length;
															o++
														)
															(s = y[o]),
																g.hasOwnProperty(
																	s
																)
																	? a++
																	: (n.push({
																			command:
																				i.removeLayer,
																			args: [
																				s,
																			],
																	  }),
																	  _.splice(
																			_.indexOf(
																				s,
																				a
																			),
																			1
																	  ));
														for (
															o = 0, a = 0;
															o < m.length;
															o++
														)
															(s =
																m[
																	m.length -
																		1 -
																		o
																]),
																_[
																	_.length -
																		1 -
																		o
																] !== s &&
																	(v.hasOwnProperty(
																		s
																	)
																		? (n.push(
																				{
																					command:
																						i.removeLayer,
																					args: [
																						s,
																					],
																				}
																		  ),
																		  _.splice(
																				_.lastIndexOf(
																					s,
																					_.length -
																						a
																				),
																				1
																		  ))
																		: a++,
																	(p =
																		_[
																			_.length -
																				o
																		]),
																	n.push({
																		command:
																			i.addLayer,
																		args: [
																			g[
																				s
																			],
																			p,
																		],
																	}),
																	_.splice(
																		_.length -
																			o,
																		0,
																		s
																	),
																	(b[s] =
																		!0));
														for (
															o = 0;
															o < m.length;
															o++
														)
															if (
																((l =
																	v[
																		(s =
																			m[
																				o
																			])
																	]),
																(h = g[s]),
																!b[s] &&
																	!r(l, h))
															)
																if (
																	r(
																		l.source,
																		h.source
																	) &&
																	r(
																		l[
																			"source-layer"
																		],
																		h[
																			"source-layer"
																		]
																	) &&
																	r(
																		l.type,
																		h.type
																	)
																) {
																	for (d in (u(
																		l.layout,
																		h.layout,
																		n,
																		s,
																		null,
																		i.setLayoutProperty
																	),
																	u(
																		l.paint,
																		h.paint,
																		n,
																		s,
																		null,
																		i.setPaintProperty
																	),
																	r(
																		l.filter,
																		h.filter
																	) ||
																		n.push({
																			command:
																				i.setFilter,
																			args: [
																				s,
																				h.filter,
																			],
																		}),
																	(r(
																		l.minzoom,
																		h.minzoom
																	) &&
																		r(
																			l.maxzoom,
																			h.maxzoom
																		)) ||
																		n.push({
																			command:
																				i.setLayerZoomRange,
																			args: [
																				s,
																				h.minzoom,
																				h.maxzoom,
																			],
																		}),
																	l))
																		l.hasOwnProperty(
																			d
																		) &&
																			"layout" !==
																				d &&
																			"paint" !==
																				d &&
																			"filter" !==
																				d &&
																			"metadata" !==
																				d &&
																			"minzoom" !==
																				d &&
																			"maxzoom" !==
																				d &&
																			(0 ===
																			d.indexOf(
																				"paint."
																			)
																				? u(
																						l[
																							d
																						],
																						h[
																							d
																						],
																						n,
																						s,
																						d.slice(
																							6
																						),
																						i.setPaintProperty
																				  )
																				: r(
																						l[
																							d
																						],
																						h[
																							d
																						]
																				  ) ||
																				  n.push(
																						{
																							command:
																								i.setLayerProperty,
																							args: [
																								s,
																								d,
																								h[
																									d
																								],
																							],
																						}
																				  ));
																	for (d in h)
																		h.hasOwnProperty(
																			d
																		) &&
																			!l.hasOwnProperty(
																				d
																			) &&
																			"layout" !==
																				d &&
																			"paint" !==
																				d &&
																			"filter" !==
																				d &&
																			"metadata" !==
																				d &&
																			"minzoom" !==
																				d &&
																			"maxzoom" !==
																				d &&
																			(0 ===
																			d.indexOf(
																				"paint."
																			)
																				? u(
																						l[
																							d
																						],
																						h[
																							d
																						],
																						n,
																						s,
																						d.slice(
																							6
																						),
																						i.setPaintProperty
																				  )
																				: r(
																						l[
																							d
																						],
																						h[
																							d
																						]
																				  ) ||
																				  n.push(
																						{
																							command:
																								i.setLayerProperty,
																							args: [
																								s,
																								d,
																								h[
																									d
																								],
																							],
																						}
																				  ));
																} else
																	n.push({
																		command:
																			i.removeLayer,
																		args: [
																			s,
																		],
																	}),
																		(p =
																			_[
																				_.lastIndexOf(
																					s
																				) +
																					1
																			]),
																		n.push({
																			command:
																				i.addLayer,
																			args: [
																				h,
																				p,
																			],
																		});
													})(d, t.layers, n);
											} catch (e) {
												console.warn(
													"Unable to compute style diff:",
													e
												),
													(n = [
														{
															command: i.setStyle,
															args: [t],
														},
													]);
											}
											return n;
										}),
											(e.exports.operations = i);
									},
									function (e, t, n) {
										function r(e, t) {
											if (!(e instanceof t))
												throw new TypeError(
													"Cannot call a class as a function"
												);
										}
										function i(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function o(e, t, n) {
											return (
												t && i(e.prototype, t),
												n && i(e, n),
												e
											);
										}
										var a = n(2),
											s = n(69),
											l = (function () {
												function e() {
													r(this, e),
														(this._currentTileIndex = 0),
														(this._seenCrossTileIDs =
															{});
												}
												return (
													o(e, [
														{
															key: "continuePlacement",
															value: function (
																e,
																t,
																n,
																r,
																i
															) {
																for (
																	;
																	this
																		._currentTileIndex <
																	e.length;

																) {
																	var o =
																		e[
																			this
																				._currentTileIndex
																		];
																	if (
																		(t.placeLayerTile(
																			r,
																			o,
																			n,
																			this
																				._seenCrossTileIDs
																		),
																		this
																			._currentTileIndex++,
																		i())
																	)
																		return !0;
																}
															},
														},
													]),
													e
												);
											})(),
											u = (function () {
												function e(t, n, i, o, a) {
													r(this, e),
														(this.placement = new s(
															t,
															a
														)),
														(this._currentPlacementIndex =
															n.length - 1),
														(this._forceFullPlacement =
															i),
														(this._showCollisionBoxes =
															o),
														(this._done = !1);
												}
												return (
													o(e, [
														{
															key: "isDone",
															value: function () {
																return this
																	._done;
															},
														},
														{
															key: "continuePlacement",
															value: function (
																e,
																t,
																n
															) {
																for (
																	var r =
																			this,
																		i =
																			a.now(),
																		o =
																			function () {
																				var e =
																					a.now() -
																					i;
																				return (
																					!r._forceFullPlacement &&
																					e >
																						2
																				);
																			};
																	this
																		._currentPlacementIndex >=
																	0;

																) {
																	var s =
																			t[
																				e[
																					this
																						._currentPlacementIndex
																				]
																			],
																		u =
																			this
																				.placement
																				.collisionIndex
																				.transform
																				.zoom;
																	if (
																		"symbol" ===
																			s.type &&
																		(!s.minzoom ||
																			s.minzoom <=
																				u) &&
																		(!s.maxzoom ||
																			s.maxzoom >
																				u)
																	) {
																		if (
																			(this
																				._inProgressLayer ||
																				(this._inProgressLayer =
																					new l()),
																			this._inProgressLayer.continuePlacement(
																				n[
																					s
																						.source
																				],
																				this
																					.placement,
																				this
																					._showCollisionBoxes,
																				s,
																				o
																			))
																		)
																			return;
																		delete this
																			._inProgressLayer;
																	}
																	this
																		._currentPlacementIndex--;
																}
																this._done = !0;
															},
														},
													]),
													e
												);
											})();
										e.exports = u;
									},
									function (e, t) {
										e.exports =
											"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n";
									},
									function (e, t) {
										e.exports =
											"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n";
									},
									function (e, t) {
										e.exports =
											"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n";
									},
									function (e, t) {
										e.exports =
											"void main() {\n    gl_FragColor = vec4(1.0);\n}\n";
									},
									function (e, t) {
										e.exports =
											"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n";
									},
									function (e, t) {
										e.exports =
											"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n";
									},
									function (e, t) {
										e.exports =
											"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}";
									},
									function (e, t) {
										e.exports =
											"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n";
									},
									function (e, t) {
										e.exports =
											"\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n";
									},
									function (e, t) {
										e.exports =
											"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n";
									},
									function (e, t) {
										e.exports =
											"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n";
									},
									function (e, t) {
										e.exports =
											"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n";
									},
									function (e, t) {
										e.exports =
											"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n";
									},
									function (e, t) {
										e.exports =
											"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n";
									},
									function (e, t) {
										e.exports =
											"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - 14) * a) where a is an arbitrary value and 14 is the\n    // maxzoom of the tile source. here we use a=0.3 which works out to the\n    // expression below. see nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - 14.0) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n";
									},
									function (e, t) {
										e.exports =
											"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n";
									},
									function (e, t) {
										e.exports =
											"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n";
									},
									function (e, t) {
										e.exports =
											"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n}\n";
									},
									function (e, t) {
										e.exports =
											"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_has_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n\n    highp float gamma_scaled = gamma * u_gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n    if (u_has_halo) {\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        highp float gamma_scaled_halo = gamma * u_gamma_scale;\n        lowp float buff_halo = (6.0 - halo_width / fontScale) / SDF_PX;\n        highp float alpha_halo = smoothstep(buff_halo - gamma_scaled, buff_halo + gamma_scaled, dist);\n        color = mix(halo_color, color, alpha);\n        alpha = alpha_halo;\n    }\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n";
									},
									function (e, t) {
										e.exports =
											"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, 1.0);\n}\n";
									},
									function (e, t, n) {
										function r(e, t, n) {
											return (
												t in e
													? Object.defineProperty(
															e,
															t,
															{
																value: n,
																enumerable: !0,
																configurable:
																	!0,
																writable: !0,
															}
													  )
													: (e[t] = n),
												e
											);
										}
										function i(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var a = n(2),
											s = n(126),
											l = n(1),
											u =
												(n(32).ProgramConfiguration,
												n(40)),
											c =
												(n(67),
												(function () {
													function e(t, n, r, i) {
														!(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, e);
														var o = t.gl;
														this.program =
															o.createProgram();
														var u = r
															.defines()
															.concat(
																"#define DEVICE_PIXEL_RATIO ".concat(
																	a.devicePixelRatio.toFixed(
																		1
																	)
																)
															);
														i &&
															u.push(
																"#define OVERDRAW_INSPECTOR;"
															);
														var c = u
																.concat(
																	s.prelude
																		.fragmentSource,
																	n.fragmentSource
																)
																.join("\n"),
															f = u
																.concat(
																	s.prelude
																		.vertexSource,
																	n.vertexSource
																)
																.join("\n"),
															h = o.createShader(
																o.FRAGMENT_SHADER
															);
														o.shaderSource(h, c),
															o.compileShader(h),
															l(
																o.getShaderParameter(
																	h,
																	o.COMPILE_STATUS
																),
																o.getShaderInfoLog(
																	h
																)
															),
															o.attachShader(
																this.program,
																h
															);
														var p = o.createShader(
															o.VERTEX_SHADER
														);
														o.shaderSource(p, f),
															o.compileShader(p),
															l(
																o.getShaderParameter(
																	p,
																	o.COMPILE_STATUS
																),
																o.getShaderInfoLog(
																	p
																)
															),
															o.attachShader(
																this.program,
																p
															);
														for (
															var d =
																	r.layoutAttributes ||
																	[],
																y = 0;
															y < d.length;
															y++
														)
															o.bindAttribLocation(
																this.program,
																y,
																d[y].name
															);
														o.linkProgram(
															this.program
														),
															l(
																o.getProgramParameter(
																	this
																		.program,
																	o.LINK_STATUS
																),
																o.getProgramInfoLog(
																	this.program
																)
															),
															(this.numAttributes =
																o.getProgramParameter(
																	this
																		.program,
																	o.ACTIVE_ATTRIBUTES
																)),
															(this.attributes =
																{}),
															(this.uniforms =
																{});
														for (
															var m = 0;
															m <
															this.numAttributes;
															m++
														) {
															var v =
																o.getActiveAttrib(
																	this
																		.program,
																	m
																);
															v &&
																(this.attributes[
																	v.name
																] = o.getAttribLocation(
																	this
																		.program,
																	v.name
																));
														}
														for (
															var g =
																	o.getProgramParameter(
																		this
																			.program,
																		o.ACTIVE_UNIFORMS
																	),
																_ = 0;
															_ < g;
															_++
														) {
															var b =
																o.getActiveUniform(
																	this
																		.program,
																	_
																);
															b &&
																(this.uniforms[
																	b.name
																] = o.getUniformLocation(
																	this
																		.program,
																	b.name
																));
														}
													}
													var t, n;
													return (
														(t = e),
														(n = [
															{
																key: "draw",
																value: function (
																	e,
																	t,
																	n,
																	i,
																	a,
																	s,
																	l,
																	c,
																	f
																) {
																	var h,
																		p =
																			e.gl,
																		d =
																			((h =
																				{}),
																			r(
																				h,
																				p.LINES,
																				2
																			),
																			r(
																				h,
																				p.TRIANGLES,
																				3
																			),
																			h)[
																				t
																			],
																		y = !0,
																		m = !1,
																		v =
																			void 0;
																	try {
																		for (
																			var g,
																				_ =
																					(0,
																					o.default)(
																						s.get()
																					);
																			!(y =
																				(g =
																					_.next())
																					.done);
																			y =
																				!0
																		) {
																			var b =
																					g.value,
																				x =
																					b.vaos ||
																					(b.vaos =
																						{});
																			(
																				x[
																					n
																				] ||
																				(x[
																					n
																				] =
																					new u())
																			).bind(
																				e,
																				this,
																				i,
																				l
																					? l.getPaintVertexBuffers()
																					: [],
																				a,
																				b.vertexOffset,
																				c,
																				f
																			),
																				p.drawElements(
																					t,
																					b.primitiveLength *
																						d,
																					p.UNSIGNED_SHORT,
																					b.primitiveOffset *
																						d *
																						2
																				);
																		}
																	} catch (e) {
																		(m =
																			!0),
																			(v =
																				e);
																	} finally {
																		try {
																			y ||
																				null ==
																					_.return ||
																				_.return();
																		} finally {
																			if (
																				m
																			)
																				throw v;
																		}
																	}
																},
															},
														]) && i(t.prototype, n),
														e
													);
												})());
										e.exports = c;
									},
									function (e, t, n) {
										var r = n(27),
											i = r.OverscaledTileID,
											o = r.CanonicalTileID;
										function a(e, t, n, r, i) {
											for (var s = 0; s < n.length; s++) {
												var l = n[s];
												if (r.isLessThan(l.tileID))
													break;
												if (t.key === l.tileID.key)
													return;
												if (l.tileID.isChildOf(t)) {
													for (
														var u = t.children(
																1 / 0
															),
															c = 0;
														c < u.length;
														c++
													)
														a(
															e,
															u[c],
															n.slice(s),
															r,
															i
														);
													return;
												}
											}
											var f =
													t.overscaledZ -
													e.overscaledZ,
												h = new o(
													f,
													t.canonical.x -
														(e.canonical.x << f),
													t.canonical.y -
														(e.canonical.y << f)
												);
											i[h.key] = i[h.key] || h;
										}
										e.exports = function (e, t) {
											for (
												var n = e.sort(function (e, t) {
														return e.tileID.isLessThan(
															t.tileID
														)
															? -1
															: t.tileID.isLessThan(
																	e.tileID
															  )
															? 1
															: 0;
													}),
													r = 0;
												r < n.length;
												r++
											) {
												var o = {},
													s = n[r],
													l = n.slice(r + 1);
												a(
													s.tileID.wrapped(),
													s.tileID,
													l,
													new i(
														0,
														s.tileID.wrap + 1,
														0,
														0,
														0
													),
													o
												),
													s.setMask(o, t);
											}
										};
									},
									function (e, t, n) {
										var r = n(271),
											i = n(28),
											a = n(66),
											s = n(50),
											l = n(22).mat4.identity(
												new Float32Array(16)
											),
											u = n(51).layout,
											c = n(18),
											f = n(15);
										function h(
											e,
											t,
											n,
											r,
											s,
											u,
											c,
											h,
											y,
											m
										) {
											var v,
												g = e.context,
												_ = g.gl,
												b = e.transform,
												x = "map" === h,
												w = "map" === y,
												C =
													x &&
													"line" ===
														n.layout.get(
															"symbol-placement"
														),
												T = x && !w && !C,
												k = w;
											g.setDepthMode(
												k
													? e.depthModeForSublayer(
															0,
															f.ReadOnly
													  )
													: f.disabled
											);
											var P = !0,
												E = !1,
												S = void 0;
											try {
												for (
													var A,
														M = (0, o.default)(r);
													!(P = (A = M.next()).done);
													P = !0
												) {
													var I = A.value,
														L = t.getTile(I),
														D = L.getBucket(n);
													if (D) {
														var O = s
															? D.text
															: D.icon;
														if (
															O &&
															O.segments.get()
																.length
														) {
															var z =
																	O.programConfigurations.get(
																		n.id
																	),
																R =
																	s ||
																	D.sdfIcons,
																B = s
																	? D.textSizeData
																	: D.iconSizeData;
															if (
																(v ||
																	((v =
																		e.useProgram(
																			R
																				? "symbolSDF"
																				: "symbolIcon",
																			z
																		)),
																	z.setUniforms(
																		e.context,
																		v,
																		n.paint,
																		{
																			zoom: e
																				.transform
																				.zoom,
																		}
																	),
																	p(
																		v,
																		e,
																		0,
																		s,
																		T,
																		w,
																		B
																	)),
																g.activeTexture.set(
																	_.TEXTURE0
																),
																_.uniform1i(
																	v.uniforms
																		.u_texture,
																	0
																),
																s)
															)
																L.glyphAtlasTexture.bind(
																	_.LINEAR,
																	_.CLAMP_TO_EDGE
																),
																	_.uniform2fv(
																		v
																			.uniforms
																			.u_texsize,
																		L
																			.glyphAtlasTexture
																			.size
																	);
															else {
																var j =
																		1 !==
																			n.layout
																				.get(
																					"icon-size"
																				)
																				.constantOr(
																					0
																				) ||
																		D.iconsNeedLinear,
																	F =
																		w ||
																		0 !==
																			b.pitch;
																L.iconAtlasTexture.bind(
																	R ||
																		e
																			.options
																			.rotating ||
																		e
																			.options
																			.zooming ||
																		j ||
																		F
																		? _.LINEAR
																		: _.NEAREST,
																	_.CLAMP_TO_EDGE
																),
																	_.uniform2fv(
																		v
																			.uniforms
																			.u_texsize,
																		L
																			.iconAtlasTexture
																			.size
																	);
															}
															_.uniformMatrix4fv(
																v.uniforms
																	.u_matrix,
																!1,
																e.translatePosMatrix(
																	I.posMatrix,
																	L,
																	u,
																	c
																)
															);
															var N = i(
																	L,
																	1,
																	e.transform
																		.zoom
																),
																V =
																	a.getLabelPlaneMatrix(
																		I.posMatrix,
																		w,
																		x,
																		e.transform,
																		N
																	),
																U =
																	a.getGlCoordMatrix(
																		I.posMatrix,
																		w,
																		x,
																		e.transform,
																		N
																	);
															_.uniformMatrix4fv(
																v.uniforms
																	.u_gl_coord_matrix,
																!1,
																e.translatePosMatrix(
																	U,
																	L,
																	u,
																	c,
																	!0
																)
															),
																C
																	? (_.uniformMatrix4fv(
																			v
																				.uniforms
																				.u_label_plane_matrix,
																			!1,
																			l
																	  ),
																	  a.updateLineLabels(
																			D,
																			I.posMatrix,
																			e,
																			s,
																			V,
																			U,
																			w,
																			m
																	  ))
																	: _.uniformMatrix4fv(
																			v
																				.uniforms
																				.u_label_plane_matrix,
																			!1,
																			V
																	  ),
																_.uniform1f(
																	v.uniforms
																		.u_fade_change,
																	e.options
																		.fadeDuration
																		? e.symbolFadeChange
																		: 1
																),
																d(
																	v,
																	0,
																	e,
																	n,
																	0,
																	O,
																	s,
																	R,
																	w
																);
														}
													}
												}
											} catch (e) {
												(E = !0), (S = e);
											} finally {
												try {
													P ||
														null == M.return ||
														M.return();
												} finally {
													if (E) throw S;
												}
											}
										}
										function p(e, t, n, r, i, o, a) {
											var l = t.context.gl,
												c = t.transform;
											l.uniform1i(
												e.uniforms.u_pitch_with_map,
												o ? 1 : 0
											),
												l.uniform1f(
													e.uniforms.u_is_text,
													r ? 1 : 0
												),
												l.uniform1f(
													e.uniforms.u_pitch,
													(c.pitch / 360) *
														2 *
														Math.PI
												);
											var f =
													"constant" ===
														a.functionType ||
													"source" === a.functionType,
												h =
													"constant" ===
														a.functionType ||
													"camera" === a.functionType;
											l.uniform1i(
												e.uniforms
													.u_is_size_zoom_constant,
												f ? 1 : 0
											),
												l.uniform1i(
													e.uniforms
														.u_is_size_feature_constant,
													h ? 1 : 0
												),
												l.uniform1f(
													e.uniforms
														.u_camera_to_center_distance,
													c.cameraToCenterDistance
												);
											var p = s.evaluateSizeForZoom(
												a,
												c.zoom,
												u.properties[
													r
														? "text-size"
														: "icon-size"
												]
											);
											void 0 !== p.uSizeT &&
												l.uniform1f(
													e.uniforms.u_size_t,
													p.uSizeT
												),
												void 0 !== p.uSize &&
													l.uniform1f(
														e.uniforms.u_size,
														p.uSize
													),
												l.uniform1f(
													e.uniforms.u_aspect_ratio,
													c.width / c.height
												),
												l.uniform1i(
													e.uniforms.u_rotate_symbol,
													i ? 1 : 0
												);
										}
										function d(e, t, n, r, i, o, a, s, l) {
											var u = n.context,
												c = u.gl,
												f = n.transform;
											if (s) {
												var h =
														0 !==
														r.paint
															.get(
																a
																	? "text-halo-width"
																	: "icon-halo-width"
															)
															.constantOr(1),
													p = l
														? Math.cos(f._pitch) *
														  f.cameraToCenterDistance
														: 1;
												c.uniform1f(
													e.uniforms.u_gamma_scale,
													p
												),
													c.uniform1f(
														e.uniforms.u_has_halo,
														h ? 1 : 0
													);
											}
											!(function (e, t, n, r) {
												r.draw(
													n,
													n.gl.TRIANGLES,
													t.id,
													e.layoutVertexBuffer,
													e.indexBuffer,
													e.segments,
													e.programConfigurations.get(
														t.id
													),
													e.dynamicLayoutVertexBuffer,
													e.opacityVertexBuffer
												);
											})(o, r, u, e);
										}
										e.exports = function (e, t, n, i) {
											if (
												"translucent" === e.renderPass
											) {
												var o = e.context;
												o.setStencilMode(c.disabled),
													o.setColorMode(
														e.colorModeForRenderPass()
													),
													0 !==
														n.paint
															.get("icon-opacity")
															.constantOr(1) &&
														h(
															e,
															t,
															n,
															i,
															!1,
															n.paint.get(
																"icon-translate"
															),
															n.paint.get(
																"icon-translate-anchor"
															),
															n.layout.get(
																"icon-rotation-alignment"
															),
															n.layout.get(
																"icon-pitch-alignment"
															),
															n.layout.get(
																"icon-keep-upright"
															)
														),
													0 !==
														n.paint
															.get("text-opacity")
															.constantOr(1) &&
														h(
															e,
															t,
															n,
															i,
															!0,
															n.paint.get(
																"text-translate"
															),
															n.paint.get(
																"text-translate-anchor"
															),
															n.layout.get(
																"text-rotation-alignment"
															),
															n.layout.get(
																"text-pitch-alignment"
															),
															n.layout.get(
																"text-keep-upright"
															)
														),
													t.map.showCollisionBoxes &&
														r(e, t, n, i);
											}
										};
									},
									function (e, t, n) {
										var r = n(28),
											i = n(15),
											o = n(18);
										function a(e, t, n, a, s) {
											var l = e.context,
												u = l.gl,
												c = s
													? e.useProgram(
															"collisionCircle"
													  )
													: e.useProgram(
															"collisionBox"
													  );
											l.setDepthMode(i.disabled),
												l.setStencilMode(o.disabled),
												l.setColorMode(
													e.colorModeForRenderPass()
												);
											for (var f = 0; f < a.length; f++) {
												var h = a[f],
													p = t.getTile(h),
													d = p.getBucket(n);
												if (d) {
													var y = s
														? d.collisionCircle
														: d.collisionBox;
													if (y) {
														u.uniformMatrix4fv(
															c.uniforms.u_matrix,
															!1,
															h.posMatrix
														),
															s ||
																l.lineWidth.set(
																	1
																),
															u.uniform1f(
																c.uniforms
																	.u_camera_to_center_distance,
																e.transform
																	.cameraToCenterDistance
															);
														var m = r(
																p,
																1,
																e.transform.zoom
															),
															v = Math.pow(
																2,
																e.transform
																	.zoom -
																	p.tileID
																		.overscaledZ
															);
														u.uniform1f(
															c.uniforms
																.u_pixels_to_tile_units,
															m
														),
															u.uniform2f(
																c.uniforms
																	.u_extrude_scale,
																e.transform
																	.pixelsToGLUnits[0] /
																	(m * v),
																e.transform
																	.pixelsToGLUnits[1] /
																	(m * v)
															),
															c.draw(
																l,
																s
																	? u.TRIANGLES
																	: u.LINES,
																n.id,
																y.layoutVertexBuffer,
																y.indexBuffer,
																y.segments,
																null,
																y.collisionVertexBuffer,
																null
															);
													}
												}
											}
										}
										e.exports = function (e, t, n, r) {
											a(e, t, n, r, !1),
												a(e, t, n, r, !0);
										};
									},
									function (e, t, n) {
										var r = n(28),
											i = n(18),
											o = n(15);
										e.exports = function (e, t, n, a) {
											if (
												"translucent" === e.renderPass
											) {
												var s =
														n.paint.get(
															"circle-opacity"
														),
													l = n.paint.get(
														"circle-stroke-width"
													),
													u = n.paint.get(
														"circle-stroke-opacity"
													);
												if (
													0 !== s.constantOr(1) ||
													(0 !== l.constantOr(1) &&
														0 !== u.constantOr(1))
												) {
													var c = e.context,
														f = c.gl;
													c.setDepthMode(
														e.depthModeForSublayer(
															0,
															o.ReadOnly
														)
													),
														c.setStencilMode(
															i.disabled
														),
														c.setColorMode(
															e.colorModeForRenderPass()
														);
													for (
														var h = !0, p = 0;
														p < a.length;
														p++
													) {
														var d = a[p],
															y = t.getTile(d),
															m = y.getBucket(n);
														if (m) {
															var v =
																	e.context.program.get(),
																g =
																	m.programConfigurations.get(
																		n.id
																	),
																_ =
																	e.useProgram(
																		"circle",
																		g
																	);
															if (
																((h ||
																	_.program !==
																		v) &&
																	(g.setUniforms(
																		c,
																		_,
																		n.paint,
																		{
																			zoom: e
																				.transform
																				.zoom,
																		}
																	),
																	(h = !1)),
																f.uniform1f(
																	_.uniforms
																		.u_camera_to_center_distance,
																	e.transform
																		.cameraToCenterDistance
																),
																f.uniform1i(
																	_.uniforms
																		.u_scale_with_map,
																	"map" ===
																		n.paint.get(
																			"circle-pitch-scale"
																		)
																		? 1
																		: 0
																),
																"map" ===
																	n.paint.get(
																		"circle-pitch-alignment"
																	))
															) {
																f.uniform1i(
																	_.uniforms
																		.u_pitch_with_map,
																	1
																);
																var b = r(
																	y,
																	1,
																	e.transform
																		.zoom
																);
																f.uniform2f(
																	_.uniforms
																		.u_extrude_scale,
																	b,
																	b
																);
															} else
																f.uniform1i(
																	_.uniforms
																		.u_pitch_with_map,
																	0
																),
																	f.uniform2fv(
																		_
																			.uniforms
																			.u_extrude_scale,
																		e
																			.transform
																			.pixelsToGLUnits
																	);
															f.uniformMatrix4fv(
																_.uniforms
																	.u_matrix,
																!1,
																e.translatePosMatrix(
																	d.posMatrix,
																	y,
																	n.paint.get(
																		"circle-translate"
																	),
																	n.paint.get(
																		"circle-translate-anchor"
																	)
																)
															),
																_.draw(
																	c,
																	f.TRIANGLES,
																	n.id,
																	m.layoutVertexBuffer,
																	m.indexBuffer,
																	m.segments,
																	g
																);
														}
													}
												}
											}
										};
									},
									function (e, t, n) {
										var r = n(22).mat4,
											i = n(20),
											o = n(28),
											a = n(12),
											s = n(15),
											l = n(18),
											u = n(68);
										e.exports = function (e, t, n, c) {
											if (
												0 !==
												n.paint.get("heatmap-opacity")
											)
												if (
													"offscreen" === e.renderPass
												) {
													var f = e.context,
														h = f.gl;
													f.setDepthMode(
														e.depthModeForSublayer(
															0,
															s.ReadOnly
														)
													),
														f.setStencilMode(
															l.disabled
														),
														(function (e, t, n) {
															var r = e.gl;
															e.activeTexture.set(
																r.TEXTURE1
															),
																e.viewport.set([
																	0,
																	0,
																	t.width / 4,
																	t.height /
																		4,
																]);
															var i =
																n.heatmapFbo;
															if (i)
																r.bindTexture(
																	r.TEXTURE_2D,
																	i.colorAttachment.get()
																),
																	e.bindFramebuffer.set(
																		i.framebuffer
																	);
															else {
																var o =
																	r.createTexture();
																r.bindTexture(
																	r.TEXTURE_2D,
																	o
																),
																	r.texParameteri(
																		r.TEXTURE_2D,
																		r.TEXTURE_WRAP_S,
																		r.CLAMP_TO_EDGE
																	),
																	r.texParameteri(
																		r.TEXTURE_2D,
																		r.TEXTURE_WRAP_T,
																		r.CLAMP_TO_EDGE
																	),
																	r.texParameteri(
																		r.TEXTURE_2D,
																		r.TEXTURE_MIN_FILTER,
																		r.LINEAR
																	),
																	r.texParameteri(
																		r.TEXTURE_2D,
																		r.TEXTURE_MAG_FILTER,
																		r.LINEAR
																	),
																	(i =
																		n.heatmapFbo =
																			e.createFramebuffer(
																				t.width /
																					4,
																				t.height /
																					4
																			)),
																	(function e(
																		t,
																		n,
																		r,
																		i
																	) {
																		var o =
																			t.gl;
																		o.texImage2D(
																			o.TEXTURE_2D,
																			0,
																			o.RGBA,
																			n.width /
																				4,
																			n.height /
																				4,
																			0,
																			o.RGBA,
																			t.extTextureHalfFloat
																				? t
																						.extTextureHalfFloat
																						.HALF_FLOAT_OES
																				: o.UNSIGNED_BYTE,
																			null
																		),
																			i.colorAttachment.set(
																				r
																			),
																			t.extTextureHalfFloat &&
																				o.checkFramebufferStatus(
																					o.FRAMEBUFFER
																				) !==
																					o.FRAMEBUFFER_COMPLETE &&
																				((t.extTextureHalfFloat =
																					null),
																				i.colorAttachment.setDirty(),
																				e(
																					t,
																					n,
																					r,
																					i
																				));
																	})(
																		e,
																		t,
																		o,
																		i
																	);
															}
														})(f, e, n),
														f.clear({
															color: a.transparent,
														}),
														f.setColorMode(
															new u(
																[h.ONE, h.ONE],
																a.transparent,
																[!0, !0, !0, !0]
															)
														);
													for (
														var p = !0, d = 0;
														d < c.length;
														d++
													) {
														var y = c[d];
														if (
															!t.hasRenderableParent(
																y
															)
														) {
															var m =
																	t.getTile(
																		y
																	),
																v =
																	m.getBucket(
																		n
																	);
															if (v) {
																var g =
																		e.context.program.get(),
																	_ =
																		v.programConfigurations.get(
																			n.id
																		),
																	b =
																		e.useProgram(
																			"heatmap",
																			_
																		),
																	x =
																		e
																			.transform
																			.zoom;
																(p ||
																	b.program !==
																		g) &&
																	(_.setUniforms(
																		e.context,
																		b,
																		n.paint,
																		{
																			zoom: x,
																		}
																	),
																	(p = !1)),
																	h.uniform1f(
																		b
																			.uniforms
																			.u_extrude_scale,
																		o(
																			m,
																			1,
																			x
																		)
																	),
																	h.uniform1f(
																		b
																			.uniforms
																			.u_intensity,
																		n.paint.get(
																			"heatmap-intensity"
																		)
																	),
																	h.uniformMatrix4fv(
																		b
																			.uniforms
																			.u_matrix,
																		!1,
																		y.posMatrix
																	),
																	b.draw(
																		f,
																		h.TRIANGLES,
																		n.id,
																		v.layoutVertexBuffer,
																		v.indexBuffer,
																		v.segments,
																		_
																	);
															}
														}
													}
													f.viewport.set([
														0,
														0,
														e.width,
														e.height,
													]);
												} else
													"translucent" ===
														e.renderPass &&
														(e.context.setColorMode(
															e.colorModeForRenderPass()
														),
														(function (e, t) {
															var n = e.context,
																o = n.gl,
																a =
																	t.heatmapFbo;
															if (a) {
																n.activeTexture.set(
																	o.TEXTURE0
																),
																	o.bindTexture(
																		o.TEXTURE_2D,
																		a.colorAttachment.get()
																	),
																	n.activeTexture.set(
																		o.TEXTURE1
																	);
																var l =
																	t.colorRampTexture;
																l ||
																	(l =
																		t.colorRampTexture =
																			new i(
																				n,
																				t.colorRamp,
																				o.RGBA
																			)),
																	l.bind(
																		o.LINEAR,
																		o.CLAMP_TO_EDGE
																	),
																	n.setDepthMode(
																		s.disabled
																	);
																var u =
																		e.useProgram(
																			"heatmapTexture"
																		),
																	c =
																		t.paint.get(
																			"heatmap-opacity"
																		);
																o.uniform1f(
																	u.uniforms
																		.u_opacity,
																	c
																),
																	o.uniform1i(
																		u
																			.uniforms
																			.u_image,
																		0
																	),
																	o.uniform1i(
																		u
																			.uniforms
																			.u_color_ramp,
																		1
																	);
																var f =
																	r.create();
																r.ortho(
																	f,
																	0,
																	e.width,
																	e.height,
																	0,
																	0,
																	1
																),
																	o.uniformMatrix4fv(
																		u
																			.uniforms
																			.u_matrix,
																		!1,
																		f
																	),
																	o.uniform2f(
																		u
																			.uniforms
																			.u_world,
																		o.drawingBufferWidth,
																		o.drawingBufferHeight
																	),
																	e.viewportVAO.bind(
																		e.context,
																		u,
																		e.viewportBuffer,
																		[]
																	),
																	o.drawArrays(
																		o.TRIANGLE_STRIP,
																		0,
																		4
																	);
															}
														})(e, n));
										};
									},
									function (e, t, n) {
										var r = n(2),
											i = n(28),
											a = n(15);
										function s(e, t, n, o, a, s, l, u, c) {
											var f,
												h,
												p,
												d,
												y = t.context,
												m = y.gl,
												v =
													a.paint.get(
														"line-dasharray"
													),
												g = a.paint.get("line-pattern");
											if (u || c) {
												var _ =
													1 /
													i(
														n,
														1,
														t.transform.tileZoom(n)
													);
												if (v) {
													(f = t.lineAtlas.getDash(
														v.from,
														"round" ===
															a.layout.get(
																"line-cap"
															)
													)),
														(h =
															t.lineAtlas.getDash(
																v.to,
																"round" ===
																	a.layout.get(
																		"line-cap"
																	)
															));
													var b =
															f.width *
															v.fromScale,
														x = h.width * v.toScale;
													m.uniform2f(
														e.uniforms
															.u_patternscale_a,
														_ / b,
														-f.height / 2
													),
														m.uniform2f(
															e.uniforms
																.u_patternscale_b,
															_ / x,
															-h.height / 2
														),
														m.uniform1f(
															e.uniforms
																.u_sdfgamma,
															t.lineAtlas.width /
																(256 *
																	Math.min(
																		b,
																		x
																	) *
																	r.devicePixelRatio) /
																2
														);
												} else if (g) {
													if (
														((p =
															t.imageManager.getPattern(
																g.from
															)),
														(d =
															t.imageManager.getPattern(
																g.to
															)),
														!p || !d)
													)
														return;
													m.uniform2f(
														e.uniforms
															.u_pattern_size_a,
														(p.displaySize[0] *
															g.fromScale) /
															_,
														d.displaySize[1]
													),
														m.uniform2f(
															e.uniforms
																.u_pattern_size_b,
															(d.displaySize[0] *
																g.toScale) /
																_,
															d.displaySize[1]
														);
													var w =
															t.imageManager.getPixelSize(),
														C = w.width,
														T = w.height;
													m.uniform2fv(
														e.uniforms.u_texsize,
														[C, T]
													);
												}
												m.uniform2f(
													e.uniforms
														.u_gl_units_to_pixels,
													1 /
														t.transform
															.pixelsToGLUnits[0],
													1 /
														t.transform
															.pixelsToGLUnits[1]
												);
											}
											u &&
												(v
													? (m.uniform1i(
															e.uniforms.u_image,
															0
													  ),
													  y.activeTexture.set(
															m.TEXTURE0
													  ),
													  t.lineAtlas.bind(y),
													  m.uniform1f(
															e.uniforms
																.u_tex_y_a,
															f.y
													  ),
													  m.uniform1f(
															e.uniforms
																.u_tex_y_b,
															h.y
													  ),
													  m.uniform1f(
															e.uniforms.u_mix,
															v.t
													  ))
													: g &&
													  (m.uniform1i(
															e.uniforms.u_image,
															0
													  ),
													  y.activeTexture.set(
															m.TEXTURE0
													  ),
													  t.imageManager.bind(y),
													  m.uniform2fv(
															e.uniforms
																.u_pattern_tl_a,
															p.tl
													  ),
													  m.uniform2fv(
															e.uniforms
																.u_pattern_br_a,
															p.br
													  ),
													  m.uniform2fv(
															e.uniforms
																.u_pattern_tl_b,
															d.tl
													  ),
													  m.uniform2fv(
															e.uniforms
																.u_pattern_br_b,
															d.br
													  ),
													  m.uniform1f(
															e.uniforms.u_fade,
															g.t
													  ))),
												y.setStencilMode(
													t.stencilModeForClipping(s)
												);
											var k = t.translatePosMatrix(
												s.posMatrix,
												n,
												a.paint.get("line-translate"),
												a.paint.get(
													"line-translate-anchor"
												)
											);
											m.uniformMatrix4fv(
												e.uniforms.u_matrix,
												!1,
												k
											),
												m.uniform1f(
													e.uniforms.u_ratio,
													1 /
														i(
															n,
															1,
															t.transform.zoom
														)
												),
												e.draw(
													y,
													m.TRIANGLES,
													a.id,
													o.layoutVertexBuffer,
													o.indexBuffer,
													o.segments,
													l
												);
										}
										e.exports = function (e, t, n, r) {
											if (
												"translucent" ===
													e.renderPass &&
												0 !==
													n.paint
														.get("line-opacity")
														.constantOr(1)
											) {
												var i = e.context;
												i.setDepthMode(
													e.depthModeForSublayer(
														0,
														a.ReadOnly
													)
												),
													i.setColorMode(
														e.colorModeForRenderPass()
													);
												var l,
													u = n.paint.get(
														"line-dasharray"
													)
														? "lineSDF"
														: n.paint.get(
																"line-pattern"
														  )
														? "linePattern"
														: "line",
													c = !0,
													f = !0,
													h = !1,
													p = void 0;
												try {
													for (
														var d,
															y = (0, o.default)(
																r
															);
														!(f = (d = y.next())
															.done);
														f = !0
													) {
														var m = d.value,
															v = t.getTile(m),
															g = v.getBucket(n);
														if (g) {
															var _ =
																	g.programConfigurations.get(
																		n.id
																	),
																b =
																	e.context.program.get(),
																x =
																	e.useProgram(
																		u,
																		_
																	),
																w =
																	c ||
																	x.program !==
																		b,
																C =
																	l !==
																	v.tileID
																		.overscaledZ;
															w &&
																_.setUniforms(
																	e.context,
																	x,
																	n.paint,
																	{
																		zoom: e
																			.transform
																			.zoom,
																	}
																),
																s(
																	x,
																	e,
																	v,
																	g,
																	n,
																	m,
																	_,
																	w,
																	C
																),
																(l =
																	v.tileID
																		.overscaledZ),
																(c = !1);
														}
													}
												} catch (e) {
													(h = !0), (p = e);
												} finally {
													try {
														f ||
															null == y.return ||
															y.return();
													} finally {
														if (h) throw p;
													}
												}
											}
										};
									},
									function (e, t, n) {
										var r = n(70),
											i = n(12),
											a = n(15);
										function s(e, t, n, i, a) {
											if (
												!r.isPatternMissing(
													n.paint.get("fill-pattern"),
													e
												)
											) {
												var s = !0,
													l = !0,
													u = !1,
													c = void 0;
												try {
													for (
														var f,
															h = (0, o.default)(
																i
															);
														!(l = (f = h.next())
															.done);
														l = !0
													) {
														var p = f.value,
															d = t.getTile(p),
															y = d.getBucket(n);
														y &&
															(e.context.setStencilMode(
																e.stencilModeForClipping(
																	p
																)
															),
															a(
																e,
																t,
																n,
																d,
																p,
																y,
																s
															),
															(s = !1));
													}
												} catch (e) {
													(u = !0), (c = e);
												} finally {
													try {
														l ||
															null == h.return ||
															h.return();
													} finally {
														if (u) throw c;
													}
												}
											}
										}
										function l(e, t, n, r, i, o, a) {
											var s = e.context.gl,
												l = o.programConfigurations.get(
													n.id
												);
											c(
												"fill",
												n.paint.get("fill-pattern"),
												e,
												l,
												n,
												r,
												i,
												a
											).draw(
												e.context,
												s.TRIANGLES,
												n.id,
												o.layoutVertexBuffer,
												o.indexBuffer,
												o.segments,
												l
											);
										}
										function u(e, t, n, r, i, o, a) {
											var s = e.context.gl,
												l = o.programConfigurations.get(
													n.id
												),
												u = c(
													"fillOutline",
													n.getPaintProperty(
														"fill-outline-color"
													)
														? null
														: n.paint.get(
																"fill-pattern"
														  ),
													e,
													l,
													n,
													r,
													i,
													a
												);
											s.uniform2f(
												u.uniforms.u_world,
												s.drawingBufferWidth,
												s.drawingBufferHeight
											),
												u.draw(
													e.context,
													s.LINES,
													n.id,
													o.layoutVertexBuffer,
													o.indexBuffer2,
													o.segments2,
													l
												);
										}
										function c(e, t, n, i, o, a, s, l) {
											var u,
												c = n.context.program.get();
											return (
												t
													? ((u = n.useProgram(
															"".concat(
																e,
																"Pattern"
															),
															i
													  )),
													  (l || u.program !== c) &&
															(i.setUniforms(
																n.context,
																u,
																o.paint,
																{
																	zoom: n
																		.transform
																		.zoom,
																}
															),
															r.prepare(t, n, u)),
													  r.setTile(a, n, u))
													: ((u = n.useProgram(e, i)),
													  (l || u.program !== c) &&
															i.setUniforms(
																n.context,
																u,
																o.paint,
																{
																	zoom: n
																		.transform
																		.zoom,
																}
															)),
												n.context.gl.uniformMatrix4fv(
													u.uniforms.u_matrix,
													!1,
													n.translatePosMatrix(
														s.posMatrix,
														a,
														o.paint.get(
															"fill-translate"
														),
														o.paint.get(
															"fill-translate-anchor"
														)
													)
												),
												u
											);
										}
										e.exports = function (e, t, n, r) {
											var o = n.paint.get("fill-color"),
												c = n.paint.get("fill-opacity");
											if (0 !== c.constantOr(1)) {
												var f = e.context;
												f.setColorMode(
													e.colorModeForRenderPass()
												);
												var h =
													n.paint.get(
														"fill-pattern"
													) ||
													1 !==
														o.constantOr(
															i.transparent
														).a ||
													1 !== c.constantOr(0)
														? "translucent"
														: "opaque";
												e.renderPass === h &&
													(f.setDepthMode(
														e.depthModeForSublayer(
															1,
															"opaque" ===
																e.renderPass
																? a.ReadWrite
																: a.ReadOnly
														)
													),
													s(e, t, n, r, l)),
													"translucent" ===
														e.renderPass &&
														n.paint.get(
															"fill-antialias"
														) &&
														(f.lineWidth.set(2),
														f.setDepthMode(
															e.depthModeForSublayer(
																n.getPaintProperty(
																	"fill-outline-color"
																)
																	? 2
																	: 0,
																a.ReadOnly
															)
														),
														s(e, t, n, r, u));
											}
										};
									},
									function (e, t, n) {
										var r = n(22),
											i = n(70),
											a = n(20),
											s = n(12),
											l = n(15),
											u = r.mat3,
											c = r.mat4,
											f = r.vec3,
											h = n(18);
										function p(e, t, n, r, o, a, s) {
											var l = e.context,
												c = l.gl,
												h = n.paint.get(
													"fill-extrusion-pattern"
												),
												p = e.context.program.get(),
												d = a.programConfigurations.get(
													n.id
												),
												y = e.useProgram(
													h
														? "fillExtrusionPattern"
														: "fillExtrusion",
													d
												);
											if (
												((s || y.program !== p) &&
													d.setUniforms(
														l,
														y,
														n.paint,
														{
															zoom: e.transform
																.zoom,
														}
													),
												h)
											) {
												if (i.isPatternMissing(h, e))
													return;
												i.prepare(h, e, y),
													i.setTile(r, e, y),
													c.uniform1f(
														y.uniforms
															.u_height_factor,
														-Math.pow(
															2,
															o.overscaledZ
														) /
															r.tileSize /
															8
													);
											}
											e.context.gl.uniformMatrix4fv(
												y.uniforms.u_matrix,
												!1,
												e.translatePosMatrix(
													o.posMatrix,
													r,
													n.paint.get(
														"fill-extrusion-translate"
													),
													n.paint.get(
														"fill-extrusion-translate-anchor"
													)
												)
											),
												(function (e, t) {
													var n = t.context.gl,
														r = t.style.light,
														i =
															r.properties.get(
																"position"
															),
														o = [i.x, i.y, i.z],
														a = u.create();
													"viewport" ===
														r.properties.get(
															"anchor"
														) &&
														u.fromRotation(
															a,
															-t.transform.angle
														),
														f.transformMat3(
															o,
															o,
															a
														);
													var s =
														r.properties.get(
															"color"
														);
													n.uniform3fv(
														e.uniforms.u_lightpos,
														o
													),
														n.uniform1f(
															e.uniforms
																.u_lightintensity,
															r.properties.get(
																"intensity"
															)
														),
														n.uniform3f(
															e.uniforms
																.u_lightcolor,
															s.r,
															s.g,
															s.b
														);
												})(y, e),
												y.draw(
													l,
													c.TRIANGLES,
													n.id,
													a.layoutVertexBuffer,
													a.indexBuffer,
													a.segments,
													d
												);
										}
										e.exports = function (e, t, n, r) {
											if (
												0 !==
												n.paint.get(
													"fill-extrusion-opacity"
												)
											)
												if (
													"offscreen" === e.renderPass
												) {
													!(function (e, t) {
														var n = e.context,
															r = n.gl,
															i = t.viewportFrame;
														if (
															(e.depthRboNeedsClear &&
																e.setupOffscreenDepthRenderbuffer(),
															!i)
														) {
															var o = new a(
																n,
																{
																	width: e.width,
																	height: e.height,
																	data: null,
																},
																r.RGBA
															);
															o.bind(
																r.LINEAR,
																r.CLAMP_TO_EDGE
															),
																(i =
																	t.viewportFrame =
																		n.createFramebuffer(
																			e.width,
																			e.height
																		)).colorAttachment.set(
																	o.texture
																);
														}
														n.bindFramebuffer.set(
															i.framebuffer
														),
															i.depthAttachment.set(
																e.depthRbo
															),
															e.depthRboNeedsClear &&
																(n.clear({
																	depth: 1,
																}),
																(e.depthRboNeedsClear =
																	!1)),
															n.clear({
																color: s.transparent,
															}),
															n.setStencilMode(
																h.disabled
															),
															n.setDepthMode(
																new l(
																	r.LEQUAL,
																	l.ReadWrite,
																	[0, 1]
																)
															),
															n.setColorMode(
																e.colorModeForRenderPass()
															);
													})(e, n);
													var i = !0,
														u = !0,
														f = !1,
														d = void 0;
													try {
														for (
															var y,
																m = (0,
																o.default)(r);
															!(u = (y = m.next())
																.done);
															u = !0
														) {
															var v = y.value,
																g =
																	t.getTile(
																		v
																	),
																_ =
																	g.getBucket(
																		n
																	);
															_ &&
																(p(
																	e,
																	0,
																	n,
																	g,
																	v,
																	_,
																	i
																),
																(i = !1));
														}
													} catch (e) {
														(f = !0), (d = e);
													} finally {
														try {
															u ||
																null ==
																	m.return ||
																m.return();
														} finally {
															if (f) throw d;
														}
													}
												} else
													"translucent" ===
														e.renderPass &&
														(function (e, t) {
															var n =
																t.viewportFrame;
															if (n) {
																var r =
																		e.context,
																	i = r.gl,
																	o =
																		e.useProgram(
																			"extrusionTexture"
																		);
																r.setStencilMode(
																	h.disabled
																),
																	r.setDepthMode(
																		l.disabled
																	),
																	r.setColorMode(
																		e.colorModeForRenderPass()
																	),
																	r.activeTexture.set(
																		i.TEXTURE0
																	),
																	i.bindTexture(
																		i.TEXTURE_2D,
																		n.colorAttachment.get()
																	),
																	i.uniform1f(
																		o
																			.uniforms
																			.u_opacity,
																		t.paint.get(
																			"fill-extrusion-opacity"
																		)
																	),
																	i.uniform1i(
																		o
																			.uniforms
																			.u_image,
																		0
																	);
																var a =
																	c.create();
																c.ortho(
																	a,
																	0,
																	e.width,
																	e.height,
																	0,
																	0,
																	1
																),
																	i.uniformMatrix4fv(
																		o
																			.uniforms
																			.u_matrix,
																		!1,
																		a
																	),
																	i.uniform2f(
																		o
																			.uniforms
																			.u_world,
																		i.drawingBufferWidth,
																		i.drawingBufferHeight
																	),
																	e.viewportVAO.bind(
																		r,
																		o,
																		e.viewportBuffer,
																		[]
																	),
																	i.drawArrays(
																		i.TRIANGLE_STRIP,
																		0,
																		4
																	);
															}
														})(e, n);
										};
									},
									function (e, t, n) {
										var r = n(35),
											i = n(20),
											a = n(6),
											s = n(22).mat4,
											l = n(18),
											u = n(15);
										function c(e, t, n) {
											var i = e.context,
												o = i.gl,
												a = t.fbo;
											if (a) {
												var s =
														e.useProgram(
															"hillshade"
														),
													l =
														e.transform.calculatePosMatrix(
															t.tileID.toUnwrapped()
														);
												!(function (e, t, n) {
													var r =
														n.paint.get(
															"hillshade-illumination-direction"
														) *
														(Math.PI / 180);
													"viewport" ===
														n.paint.get(
															"hillshade-illumination-anchor"
														) &&
														(r -=
															t.transform.angle),
														t.context.gl.uniform2f(
															e.uniforms.u_light,
															n.paint.get(
																"hillshade-exaggeration"
															),
															r
														);
												})(s, e, n);
												var u = (function (e, t) {
													var n = t.toCoordinate(),
														i = new r(
															n.column,
															n.row + 1,
															n.zoom
														);
													return [
														e.transform.coordinateLocation(
															n
														).lat,
														e.transform.coordinateLocation(
															i
														).lat,
													];
												})(e, t.tileID);
												i.activeTexture.set(o.TEXTURE0),
													o.bindTexture(
														o.TEXTURE_2D,
														a.colorAttachment.get()
													),
													o.uniformMatrix4fv(
														s.uniforms.u_matrix,
														!1,
														l
													),
													o.uniform2fv(
														s.uniforms.u_latrange,
														u
													),
													o.uniform1i(
														s.uniforms.u_image,
														0
													);
												var c = n.paint.get(
													"hillshade-shadow-color"
												);
												o.uniform4f(
													s.uniforms.u_shadow,
													c.r,
													c.g,
													c.b,
													c.a
												);
												var f = n.paint.get(
													"hillshade-highlight-color"
												);
												o.uniform4f(
													s.uniforms.u_highlight,
													f.r,
													f.g,
													f.b,
													f.a
												);
												var h = n.paint.get(
													"hillshade-accent-color"
												);
												if (
													(o.uniform4f(
														s.uniforms.u_accent,
														h.r,
														h.g,
														h.b,
														h.a
													),
													t.maskedBoundsBuffer &&
														t.maskedIndexBuffer &&
														t.segments)
												)
													s.draw(
														i,
														o.TRIANGLES,
														n.id,
														t.maskedBoundsBuffer,
														t.maskedIndexBuffer,
														t.segments
													);
												else {
													var p =
														e.rasterBoundsBuffer;
													e.rasterBoundsVAO.bind(
														i,
														s,
														p,
														[]
													),
														o.drawArrays(
															o.TRIANGLE_STRIP,
															0,
															p.length
														);
												}
											}
										}
										function f(e, t) {
											var n = e.context,
												r = n.gl;
											if (t.dem && t.dem.level) {
												var o = t.dem.level.dim,
													l = t.dem.getPixels();
												if (
													(n.activeTexture.set(
														r.TEXTURE1
													),
													n.pixelStoreUnpackPremultiplyAlpha.set(
														!1
													),
													(t.demTexture =
														t.demTexture ||
														e.getTileTexture(
															t.tileSize
														)),
													t.demTexture)
												) {
													var u = t.demTexture;
													u.update(l, !1),
														u.bind(
															r.NEAREST,
															r.CLAMP_TO_EDGE
														);
												} else
													(t.demTexture = new i(
														n,
														l,
														r.RGBA,
														!1
													)),
														t.demTexture.bind(
															r.NEAREST,
															r.CLAMP_TO_EDGE
														);
												n.activeTexture.set(r.TEXTURE0);
												var c = t.fbo;
												if (!c) {
													var f = new i(
														n,
														{
															width: o,
															height: o,
															data: null,
														},
														r.RGBA
													);
													f.bind(
														r.LINEAR,
														r.CLAMP_TO_EDGE
													),
														(c = t.fbo =
															n.createFramebuffer(
																o,
																o
															)).colorAttachment.set(
															f.texture
														);
												}
												n.bindFramebuffer.set(
													c.framebuffer
												),
													n.viewport.set([
														0,
														0,
														o,
														o,
													]);
												var h = s.create();
												s.ortho(h, 0, a, -a, 0, 0, 1),
													s.translate(h, h, [
														0,
														-a,
														0,
													]);
												var p =
													e.useProgram(
														"hillshadePrepare"
													);
												r.uniformMatrix4fv(
													p.uniforms.u_matrix,
													!1,
													h
												),
													r.uniform1f(
														p.uniforms.u_zoom,
														t.tileID.overscaledZ
													),
													r.uniform2fv(
														p.uniforms.u_dimension,
														[2 * o, 2 * o]
													),
													r.uniform1i(
														p.uniforms.u_image,
														1
													);
												var d = e.rasterBoundsBuffer;
												e.rasterBoundsVAO.bind(
													n,
													p,
													d,
													[]
												),
													r.drawArrays(
														r.TRIANGLE_STRIP,
														0,
														d.length
													),
													(t.needsHillshadePrepare =
														!1);
											}
										}
										e.exports = function (e, t, n, r) {
											if (
												"offscreen" === e.renderPass ||
												"translucent" === e.renderPass
											) {
												var i = e.context;
												i.setDepthMode(
													e.depthModeForSublayer(
														0,
														u.ReadOnly
													)
												),
													i.setStencilMode(
														l.disabled
													),
													i.setColorMode(
														e.colorModeForRenderPass()
													);
												var a = !0,
													s = !1,
													h = void 0;
												try {
													for (
														var p,
															d = (0, o.default)(
																r
															);
														!(a = (p = d.next())
															.done);
														a = !0
													) {
														var y = p.value,
															m = t.getTile(y);
														m.needsHillshadePrepare &&
														"offscreen" ===
															e.renderPass
															? f(e, m)
															: "translucent" ===
																	e.renderPass &&
															  c(e, m, n);
													}
												} catch (e) {
													(s = !0), (h = e);
												} finally {
													try {
														a ||
															null == d.return ||
															d.return();
													} finally {
														if (s) throw h;
													}
												}
												i.viewport.set([
													0,
													0,
													e.width,
													e.height,
												]);
											}
										};
									},
									function (e, t, n) {
										var r = n(0),
											i = n(52),
											a = n(2),
											s = n(18),
											l = n(15);
										function u(e, t, n, i, o) {
											var s = i.paint.get(
												"raster-fade-duration"
											);
											if (s > 0) {
												var l = a.now(),
													u = (l - e.timeAdded) / s,
													c = t
														? (l - t.timeAdded) / s
														: -1,
													f = n.getSource(),
													h = o.coveringZoomLevel({
														tileSize: f.tileSize,
														roundZoom: f.roundZoom,
													}),
													p =
														!t ||
														Math.abs(
															t.tileID
																.overscaledZ - h
														) >
															Math.abs(
																e.tileID
																	.overscaledZ -
																	h
															),
													d =
														p &&
														e.refreshedUponExpiration
															? 1
															: r.clamp(
																	p
																		? u
																		: 1 - c,
																	0,
																	1
															  );
												return (
													e.refreshedUponExpiration &&
														u >= 1 &&
														(e.refreshedUponExpiration =
															!1),
													t
														? {
																opacity: 1,
																mix: 1 - d,
														  }
														: { opacity: d, mix: 0 }
												);
											}
											return { opacity: 1, mix: 0 };
										}
										e.exports = function (e, t, n, r) {
											if (
												"translucent" ===
													e.renderPass &&
												0 !==
													n.paint.get(
														"raster-opacity"
													)
											) {
												var a,
													c,
													f = e.context,
													h = f.gl,
													p = t.getSource(),
													d = e.useProgram("raster");
												f.setStencilMode(s.disabled),
													f.setColorMode(
														e.colorModeForRenderPass()
													),
													h.uniform1f(
														d.uniforms
															.u_brightness_low,
														n.paint.get(
															"raster-brightness-min"
														)
													),
													h.uniform1f(
														d.uniforms
															.u_brightness_high,
														n.paint.get(
															"raster-brightness-max"
														)
													),
													h.uniform1f(
														d.uniforms
															.u_saturation_factor,
														(c =
															n.paint.get(
																"raster-saturation"
															)) > 0
															? 1 -
																	1 /
																		(1.001 -
																			c)
															: -c
													),
													h.uniform1f(
														d.uniforms
															.u_contrast_factor,
														(a =
															n.paint.get(
																"raster-contrast"
															)) > 0
															? 1 / (1 - a)
															: 1 + a
													),
													h.uniform3fv(
														d.uniforms
															.u_spin_weights,
														(function (e) {
															e *= Math.PI / 180;
															var t = Math.sin(e),
																n = Math.cos(e);
															return [
																(2 * n + 1) / 3,
																(-Math.sqrt(3) *
																	t -
																	n +
																	1) /
																	3,
																(Math.sqrt(3) *
																	t -
																	n +
																	1) /
																	3,
															];
														})(
															n.paint.get(
																"raster-hue-rotate"
															)
														)
													),
													h.uniform1f(
														d.uniforms
															.u_buffer_scale,
														1
													),
													h.uniform1i(
														d.uniforms.u_image0,
														0
													),
													h.uniform1i(
														d.uniforms.u_image1,
														1
													);
												var y =
														r.length &&
														r[0].overscaledZ,
													m = !0,
													v = !1,
													g = void 0;
												try {
													for (
														var _,
															b = (0, o.default)(
																r
															);
														!(m = (_ = b.next())
															.done);
														m = !0
													) {
														var x = _.value;
														f.setDepthMode(
															e.depthModeForSublayer(
																x.overscaledZ -
																	y,
																1 ===
																	n.paint.get(
																		"raster-opacity"
																	)
																	? l.ReadWrite
																	: l.ReadOnly,
																h.LESS
															)
														);
														var w = t.getTile(x),
															C =
																e.transform.calculatePosMatrix(
																	x.toUnwrapped()
																);
														w.registerFadeDuration(
															n.paint.get(
																"raster-fade-duration"
															)
														),
															h.uniformMatrix4fv(
																d.uniforms
																	.u_matrix,
																!1,
																C
															);
														var T =
																t.findLoadedParent(
																	x,
																	0,
																	{}
																),
															k = u(
																w,
																T,
																t,
																n,
																e.transform
															),
															P = void 0,
															E = void 0;
														if (
															(f.activeTexture.set(
																h.TEXTURE0
															),
															w.texture.bind(
																h.LINEAR,
																h.CLAMP_TO_EDGE,
																h.LINEAR_MIPMAP_NEAREST
															),
															f.activeTexture.set(
																h.TEXTURE1
															),
															T
																? (T.texture.bind(
																		h.LINEAR,
																		h.CLAMP_TO_EDGE,
																		h.LINEAR_MIPMAP_NEAREST
																  ),
																  (P = Math.pow(
																		2,
																		T.tileID
																			.overscaledZ -
																			w
																				.tileID
																				.overscaledZ
																  )),
																  (E = [
																		(w
																			.tileID
																			.canonical
																			.x *
																			P) %
																			1,
																		(w
																			.tileID
																			.canonical
																			.y *
																			P) %
																			1,
																  ]))
																: w.texture.bind(
																		h.LINEAR,
																		h.CLAMP_TO_EDGE,
																		h.LINEAR_MIPMAP_NEAREST
																  ),
															h.uniform2fv(
																d.uniforms
																	.u_tl_parent,
																E || [0, 0]
															),
															h.uniform1f(
																d.uniforms
																	.u_scale_parent,
																P || 1
															),
															h.uniform1f(
																d.uniforms
																	.u_fade_t,
																k.mix
															),
															h.uniform1f(
																d.uniforms
																	.u_opacity,
																k.opacity *
																	n.paint.get(
																		"raster-opacity"
																	)
															),
															p instanceof i)
														) {
															var S =
																p.boundsBuffer;
															p.boundsVAO.bind(
																f,
																d,
																S,
																[]
															),
																h.drawArrays(
																	h.TRIANGLE_STRIP,
																	0,
																	S.length
																);
														} else if (
															w.maskedBoundsBuffer &&
															w.maskedIndexBuffer &&
															w.segments
														)
															d.draw(
																f,
																h.TRIANGLES,
																n.id,
																w.maskedBoundsBuffer,
																w.maskedIndexBuffer,
																w.segments
															);
														else {
															var A =
																e.rasterBoundsBuffer;
															e.rasterBoundsVAO.bind(
																f,
																d,
																A,
																[]
															),
																h.drawArrays(
																	h.TRIANGLE_STRIP,
																	0,
																	A.length
																);
														}
													}
												} catch (e) {
													(v = !0), (g = e);
												} finally {
													try {
														m ||
															null == b.return ||
															b.return();
													} finally {
														if (v) throw g;
													}
												}
											}
										};
									},
									function (e, t, n) {
										var r = n(70),
											i = n(18),
											a = n(15);
										e.exports = function (e, t, n) {
											var s =
													n.paint.get(
														"background-color"
													),
												l =
													n.paint.get(
														"background-opacity"
													);
											if (0 !== l) {
												var u,
													c = e.context,
													f = c.gl,
													h = e.transform,
													p = h.tileSize,
													d =
														n.paint.get(
															"background-pattern"
														),
													y =
														d ||
														1 !== s.a ||
														1 !== l
															? "translucent"
															: "opaque";
												if (e.renderPass === y) {
													if (
														(c.setStencilMode(
															i.disabled
														),
														c.setDepthMode(
															e.depthModeForSublayer(
																0,
																"opaque" === y
																	? a.ReadWrite
																	: a.ReadOnly
															)
														),
														c.setColorMode(
															e.colorModeForRenderPass()
														),
														d)
													) {
														if (
															r.isPatternMissing(
																d,
																e
															)
														)
															return;
														(u =
															e.useProgram(
																"backgroundPattern"
															)),
															r.prepare(d, e, u),
															e.tileExtentPatternVAO.bind(
																c,
																u,
																e.tileExtentBuffer,
																[]
															);
													} else
														(u =
															e.useProgram(
																"background"
															)),
															f.uniform4fv(
																u.uniforms
																	.u_color,
																[
																	s.r,
																	s.g,
																	s.b,
																	s.a,
																]
															),
															e.tileExtentVAO.bind(
																c,
																u,
																e.tileExtentBuffer,
																[]
															);
													f.uniform1f(
														u.uniforms.u_opacity,
														l
													);
													var m = h.coveringTiles({
															tileSize: p,
														}),
														v = !0,
														g = !1,
														_ = void 0;
													try {
														for (
															var b,
																x = (0,
																o.default)(m);
															!(v = (b = x.next())
																.done);
															v = !0
														) {
															var w = b.value;
															d &&
																r.setTile(
																	{
																		tileID: w,
																		tileSize:
																			p,
																	},
																	e,
																	u
																),
																f.uniformMatrix4fv(
																	u.uniforms
																		.u_matrix,
																	!1,
																	e.transform.calculatePosMatrix(
																		w.toUnwrapped()
																	)
																),
																f.drawArrays(
																	f.TRIANGLE_STRIP,
																	0,
																	e
																		.tileExtentBuffer
																		.length
																);
														}
													} catch (e) {
														(g = !0), (_ = e);
													} finally {
														try {
															v ||
																null ==
																	x.return ||
																x.return();
														} finally {
															if (g) throw _;
														}
													}
												}
											}
										};
									},
									function (e, t, n) {
										var r = n(2),
											i = n(22).mat4,
											o = n(6),
											a = n(40),
											s = n(14).PosArray,
											l = n(125),
											u = n(15),
											c = n(18);
										function f(e, t, n) {
											var f = e.context,
												p = f.gl;
											f.lineWidth.set(
												1 * r.devicePixelRatio
											);
											var d = n.posMatrix,
												y = e.useProgram("debug");
											f.setDepthMode(u.disabled),
												f.setStencilMode(c.disabled),
												f.setColorMode(
													e.colorModeForRenderPass()
												),
												p.uniformMatrix4fv(
													y.uniforms.u_matrix,
													!1,
													d
												),
												p.uniform4f(
													y.uniforms.u_color,
													1,
													0,
													0,
													1
												),
												e.debugVAO.bind(
													f,
													y,
													e.debugBuffer,
													[]
												),
												p.drawArrays(
													p.LINE_STRIP,
													0,
													e.debugBuffer.length
												);
											for (
												var m = (function (e, t, n, r) {
														r = r || 1;
														var i,
															o,
															a,
															s,
															l,
															u,
															c,
															f,
															p = [];
														for (
															i = 0, o = e.length;
															i < o;
															i++
														)
															if ((l = h[e[i]])) {
																for (
																	f = null,
																		a = 0,
																		s =
																			l[1]
																				.length;
																	a < s;
																	a += 2
																)
																	-1 ===
																		l[1][
																			a
																		] &&
																	-1 ===
																		l[1][
																			a +
																				1
																		]
																		? (f =
																				null)
																		: ((u =
																				t +
																				l[1][
																					a
																				] *
																					r),
																		  (c =
																				200 -
																				l[1][
																					a +
																						1
																				] *
																					r),
																		  f &&
																				p.push(
																					f.x,
																					f.y,
																					u,
																					c
																				),
																		  (f = {
																				x: u,
																				y: c,
																		  }));
																t += l[0] * r;
															}
														return p;
													})(n.toString(), 50, 0, 5),
													v = new s(),
													g = 0;
												g < m.length;
												g += 2
											)
												v.emplaceBack(m[g], m[g + 1]);
											var _ = f.createVertexBuffer(
												v,
												l.members
											);
											new a().bind(f, y, _, []),
												p.uniform4f(
													y.uniforms.u_color,
													1,
													1,
													1,
													1
												);
											for (
												var b = t.getTile(n).tileSize,
													x =
														o /
														(Math.pow(
															2,
															e.transform.zoom -
																n.overscaledZ
														) *
															b),
													w = [
														[-1, -1],
														[-1, 1],
														[1, -1],
														[1, 1],
													],
													C = 0;
												C < w.length;
												C++
											) {
												var T = w[C];
												p.uniformMatrix4fv(
													y.uniforms.u_matrix,
													!1,
													i.translate([], d, [
														x * T[0],
														x * T[1],
														0,
													])
												),
													p.drawArrays(
														p.LINES,
														0,
														_.length
													);
											}
											p.uniform4f(
												y.uniforms.u_color,
												0,
												0,
												0,
												1
											),
												p.uniformMatrix4fv(
													y.uniforms.u_matrix,
													!1,
													d
												),
												p.drawArrays(
													p.LINES,
													0,
													_.length
												);
										}
										e.exports = function (e, t, n) {
											for (var r = 0; r < n.length; r++)
												f(e, t, n[r]);
										};
										var h = {
											" ": [16, []],
											"!": [
												10,
												[
													5, 21, 5, 7, -1, -1, 5, 2,
													4, 1, 5, 0, 6, 1, 5, 2,
												],
											],
											'"': [
												16,
												[
													4, 21, 4, 14, -1, -1, 12,
													21, 12, 14,
												],
											],
											"#": [
												21,
												[
													11, 25, 4, -7, -1, -1, 17,
													25, 10, -7, -1, -1, 4, 12,
													18, 12, -1, -1, 3, 6, 17, 6,
												],
											],
											$: [
												20,
												[
													8, 25, 8, -4, -1, -1, 12,
													25, 12, -4, -1, -1, 17, 18,
													15, 20, 12, 21, 8, 21, 5,
													20, 3, 18, 3, 16, 4, 14, 5,
													13, 7, 12, 13, 10, 15, 9,
													16, 8, 17, 6, 17, 3, 15, 1,
													12, 0, 8, 0, 5, 1, 3, 3,
												],
											],
											"%": [
												24,
												[
													21, 21, 3, 0, -1, -1, 8, 21,
													10, 19, 10, 17, 9, 15, 7,
													14, 5, 14, 3, 16, 3, 18, 4,
													20, 6, 21, 8, 21, 10, 20,
													13, 19, 16, 19, 19, 20, 21,
													21, -1, -1, 17, 7, 15, 6,
													14, 4, 14, 2, 16, 0, 18, 0,
													20, 1, 21, 3, 21, 5, 19, 7,
													17, 7,
												],
											],
											"&": [
												26,
												[
													23, 12, 23, 13, 22, 14, 21,
													14, 20, 13, 19, 11, 17, 6,
													15, 3, 13, 1, 11, 0, 7, 0,
													5, 1, 4, 2, 3, 4, 3, 6, 4,
													8, 5, 9, 12, 13, 13, 14, 14,
													16, 14, 18, 13, 20, 11, 21,
													9, 20, 8, 18, 8, 16, 9, 13,
													11, 10, 16, 3, 18, 1, 20, 0,
													22, 0, 23, 1, 23, 2,
												],
											],
											"'": [
												10,
												[
													5, 19, 4, 20, 5, 21, 6, 20,
													6, 18, 5, 16, 4, 15,
												],
											],
											"(": [
												14,
												[
													11, 25, 9, 23, 7, 20, 5, 16,
													4, 11, 4, 7, 5, 2, 7, -2, 9,
													-5, 11, -7,
												],
											],
											")": [
												14,
												[
													3, 25, 5, 23, 7, 20, 9, 16,
													10, 11, 10, 7, 9, 2, 7, -2,
													5, -5, 3, -7,
												],
											],
											"*": [
												16,
												[
													8, 21, 8, 9, -1, -1, 3, 18,
													13, 12, -1, -1, 13, 18, 3,
													12,
												],
											],
											"+": [
												26,
												[
													13, 18, 13, 0, -1, -1, 4, 9,
													22, 9,
												],
											],
											",": [
												10,
												[
													6, 1, 5, 0, 4, 1, 5, 2, 6,
													1, 6, -1, 5, -3, 4, -4,
												],
											],
											"-": [26, [4, 9, 22, 9]],
											".": [
												10,
												[5, 2, 4, 1, 5, 0, 6, 1, 5, 2],
											],
											"/": [22, [20, 25, 2, -7]],
											0: [
												20,
												[
													9, 21, 6, 20, 4, 17, 3, 12,
													3, 9, 4, 4, 6, 1, 9, 0, 11,
													0, 14, 1, 16, 4, 17, 9, 17,
													12, 16, 17, 14, 20, 11, 21,
													9, 21,
												],
											],
											1: [
												20,
												[6, 17, 8, 18, 11, 21, 11, 0],
											],
											2: [
												20,
												[
													4, 16, 4, 17, 5, 19, 6, 20,
													8, 21, 12, 21, 14, 20, 15,
													19, 16, 17, 16, 15, 15, 13,
													13, 10, 3, 0, 17, 0,
												],
											],
											3: [
												20,
												[
													5, 21, 16, 21, 10, 13, 13,
													13, 15, 12, 16, 11, 17, 8,
													17, 6, 16, 3, 14, 1, 11, 0,
													8, 0, 5, 1, 4, 2, 3, 4,
												],
											],
											4: [
												20,
												[
													13, 21, 3, 7, 18, 7, -1, -1,
													13, 21, 13, 0,
												],
											],
											5: [
												20,
												[
													15, 21, 5, 21, 4, 12, 5, 13,
													8, 14, 11, 14, 14, 13, 16,
													11, 17, 8, 17, 6, 16, 3, 14,
													1, 11, 0, 8, 0, 5, 1, 4, 2,
													3, 4,
												],
											],
											6: [
												20,
												[
													16, 18, 15, 20, 12, 21, 10,
													21, 7, 20, 5, 17, 4, 12, 4,
													7, 5, 3, 7, 1, 10, 0, 11, 0,
													14, 1, 16, 3, 17, 6, 17, 7,
													16, 10, 14, 12, 11, 13, 10,
													13, 7, 12, 5, 10, 4, 7,
												],
											],
											7: [
												20,
												[
													17, 21, 7, 0, -1, -1, 3, 21,
													17, 21,
												],
											],
											8: [
												20,
												[
													8, 21, 5, 20, 4, 18, 4, 16,
													5, 14, 7, 13, 11, 12, 14,
													11, 16, 9, 17, 7, 17, 4, 16,
													2, 15, 1, 12, 0, 8, 0, 5, 1,
													4, 2, 3, 4, 3, 7, 4, 9, 6,
													11, 9, 12, 13, 13, 15, 14,
													16, 16, 16, 18, 15, 20, 12,
													21, 8, 21,
												],
											],
											9: [
												20,
												[
													16, 14, 15, 11, 13, 9, 10,
													8, 9, 8, 6, 9, 4, 11, 3, 14,
													3, 15, 4, 18, 6, 20, 9, 21,
													10, 21, 13, 20, 15, 18, 16,
													14, 16, 9, 15, 4, 13, 1, 10,
													0, 8, 0, 5, 1, 4, 3,
												],
											],
											":": [
												10,
												[
													5, 14, 4, 13, 5, 12, 6, 13,
													5, 14, -1, -1, 5, 2, 4, 1,
													5, 0, 6, 1, 5, 2,
												],
											],
											";": [
												10,
												[
													5, 14, 4, 13, 5, 12, 6, 13,
													5, 14, -1, -1, 6, 1, 5, 0,
													4, 1, 5, 2, 6, 1, 6, -1, 5,
													-3, 4, -4,
												],
											],
											"<": [24, [20, 18, 4, 9, 20, 0]],
											"=": [
												26,
												[
													4, 12, 22, 12, -1, -1, 4, 6,
													22, 6,
												],
											],
											">": [24, [4, 18, 20, 9, 4, 0]],
											"?": [
												18,
												[
													3, 16, 3, 17, 4, 19, 5, 20,
													7, 21, 11, 21, 13, 20, 14,
													19, 15, 17, 15, 15, 14, 13,
													13, 12, 9, 10, 9, 7, -1, -1,
													9, 2, 8, 1, 9, 0, 10, 1, 9,
													2,
												],
											],
											"@": [
												27,
												[
													18, 13, 17, 15, 15, 16, 12,
													16, 10, 15, 9, 14, 8, 11, 8,
													8, 9, 6, 11, 5, 14, 5, 16,
													6, 17, 8, -1, -1, 12, 16,
													10, 14, 9, 11, 9, 8, 10, 6,
													11, 5, -1, -1, 18, 16, 17,
													8, 17, 6, 19, 5, 21, 5, 23,
													7, 24, 10, 24, 12, 23, 15,
													22, 17, 20, 19, 18, 20, 15,
													21, 12, 21, 9, 20, 7, 19, 5,
													17, 4, 15, 3, 12, 3, 9, 4,
													6, 5, 4, 7, 2, 9, 1, 12, 0,
													15, 0, 18, 1, 20, 2, 21, 3,
													-1, -1, 19, 16, 18, 8, 18,
													6, 19, 5,
												],
											],
											A: [
												18,
												[
													9, 21, 1, 0, -1, -1, 9, 21,
													17, 0, -1, -1, 4, 7, 14, 7,
												],
											],
											B: [
												21,
												[
													4, 21, 4, 0, -1, -1, 4, 21,
													13, 21, 16, 20, 17, 19, 18,
													17, 18, 15, 17, 13, 16, 12,
													13, 11, -1, -1, 4, 11, 13,
													11, 16, 10, 17, 9, 18, 7,
													18, 4, 17, 2, 16, 1, 13, 0,
													4, 0,
												],
											],
											C: [
												21,
												[
													18, 16, 17, 18, 15, 20, 13,
													21, 9, 21, 7, 20, 5, 18, 4,
													16, 3, 13, 3, 8, 4, 5, 5, 3,
													7, 1, 9, 0, 13, 0, 15, 1,
													17, 3, 18, 5,
												],
											],
											D: [
												21,
												[
													4, 21, 4, 0, -1, -1, 4, 21,
													11, 21, 14, 20, 16, 18, 17,
													16, 18, 13, 18, 8, 17, 5,
													16, 3, 14, 1, 11, 0, 4, 0,
												],
											],
											E: [
												19,
												[
													4, 21, 4, 0, -1, -1, 4, 21,
													17, 21, -1, -1, 4, 11, 12,
													11, -1, -1, 4, 0, 17, 0,
												],
											],
											F: [
												18,
												[
													4, 21, 4, 0, -1, -1, 4, 21,
													17, 21, -1, -1, 4, 11, 12,
													11,
												],
											],
											G: [
												21,
												[
													18, 16, 17, 18, 15, 20, 13,
													21, 9, 21, 7, 20, 5, 18, 4,
													16, 3, 13, 3, 8, 4, 5, 5, 3,
													7, 1, 9, 0, 13, 0, 15, 1,
													17, 3, 18, 5, 18, 8, -1, -1,
													13, 8, 18, 8,
												],
											],
											H: [
												22,
												[
													4, 21, 4, 0, -1, -1, 18, 21,
													18, 0, -1, -1, 4, 11, 18,
													11,
												],
											],
											I: [8, [4, 21, 4, 0]],
											J: [
												16,
												[
													12, 21, 12, 5, 11, 2, 10, 1,
													8, 0, 6, 0, 4, 1, 3, 2, 2,
													5, 2, 7,
												],
											],
											K: [
												21,
												[
													4, 21, 4, 0, -1, -1, 18, 21,
													4, 7, -1, -1, 9, 12, 18, 0,
												],
											],
											L: [
												17,
												[
													4, 21, 4, 0, -1, -1, 4, 0,
													16, 0,
												],
											],
											M: [
												24,
												[
													4, 21, 4, 0, -1, -1, 4, 21,
													12, 0, -1, -1, 20, 21, 12,
													0, -1, -1, 20, 21, 20, 0,
												],
											],
											N: [
												22,
												[
													4, 21, 4, 0, -1, -1, 4, 21,
													18, 0, -1, -1, 18, 21, 18,
													0,
												],
											],
											O: [
												22,
												[
													9, 21, 7, 20, 5, 18, 4, 16,
													3, 13, 3, 8, 4, 5, 5, 3, 7,
													1, 9, 0, 13, 0, 15, 1, 17,
													3, 18, 5, 19, 8, 19, 13, 18,
													16, 17, 18, 15, 20, 13, 21,
													9, 21,
												],
											],
											P: [
												21,
												[
													4, 21, 4, 0, -1, -1, 4, 21,
													13, 21, 16, 20, 17, 19, 18,
													17, 18, 14, 17, 12, 16, 11,
													13, 10, 4, 10,
												],
											],
											Q: [
												22,
												[
													9, 21, 7, 20, 5, 18, 4, 16,
													3, 13, 3, 8, 4, 5, 5, 3, 7,
													1, 9, 0, 13, 0, 15, 1, 17,
													3, 18, 5, 19, 8, 19, 13, 18,
													16, 17, 18, 15, 20, 13, 21,
													9, 21, -1, -1, 12, 4, 18,
													-2,
												],
											],
											R: [
												21,
												[
													4, 21, 4, 0, -1, -1, 4, 21,
													13, 21, 16, 20, 17, 19, 18,
													17, 18, 15, 17, 13, 16, 12,
													13, 11, 4, 11, -1, -1, 11,
													11, 18, 0,
												],
											],
											S: [
												20,
												[
													17, 18, 15, 20, 12, 21, 8,
													21, 5, 20, 3, 18, 3, 16, 4,
													14, 5, 13, 7, 12, 13, 10,
													15, 9, 16, 8, 17, 6, 17, 3,
													15, 1, 12, 0, 8, 0, 5, 1, 3,
													3,
												],
											],
											T: [
												16,
												[
													8, 21, 8, 0, -1, -1, 1, 21,
													15, 21,
												],
											],
											U: [
												22,
												[
													4, 21, 4, 6, 5, 3, 7, 1, 10,
													0, 12, 0, 15, 1, 17, 3, 18,
													6, 18, 21,
												],
											],
											V: [
												18,
												[
													1, 21, 9, 0, -1, -1, 17, 21,
													9, 0,
												],
											],
											W: [
												24,
												[
													2, 21, 7, 0, -1, -1, 12, 21,
													7, 0, -1, -1, 12, 21, 17, 0,
													-1, -1, 22, 21, 17, 0,
												],
											],
											X: [
												20,
												[
													3, 21, 17, 0, -1, -1, 17,
													21, 3, 0,
												],
											],
											Y: [
												18,
												[
													1, 21, 9, 11, 9, 0, -1, -1,
													17, 21, 9, 11,
												],
											],
											Z: [
												20,
												[
													17, 21, 3, 0, -1, -1, 3, 21,
													17, 21, -1, -1, 3, 0, 17, 0,
												],
											],
											"[": [
												14,
												[
													4, 25, 4, -7, -1, -1, 5, 25,
													5, -7, -1, -1, 4, 25, 11,
													25, -1, -1, 4, -7, 11, -7,
												],
											],
											"\\": [14, [0, 21, 14, -3]],
											"]": [
												14,
												[
													9, 25, 9, -7, -1, -1, 10,
													25, 10, -7, -1, -1, 3, 25,
													10, 25, -1, -1, 3, -7, 10,
													-7,
												],
											],
											"^": [
												16,
												[
													6, 15, 8, 18, 10, 15, -1,
													-1, 3, 12, 8, 17, 13, 12,
													-1, -1, 8, 17, 8, 0,
												],
											],
											_: [16, [0, -2, 16, -2]],
											"`": [
												10,
												[
													6, 21, 5, 20, 4, 18, 4, 16,
													5, 15, 6, 16, 5, 17,
												],
											],
											a: [
												19,
												[
													15, 14, 15, 0, -1, -1, 15,
													11, 13, 13, 11, 14, 8, 14,
													6, 13, 4, 11, 3, 8, 3, 6, 4,
													3, 6, 1, 8, 0, 11, 0, 13, 1,
													15, 3,
												],
											],
											b: [
												19,
												[
													4, 21, 4, 0, -1, -1, 4, 11,
													6, 13, 8, 14, 11, 14, 13,
													13, 15, 11, 16, 8, 16, 6,
													15, 3, 13, 1, 11, 0, 8, 0,
													6, 1, 4, 3,
												],
											],
											c: [
												18,
												[
													15, 11, 13, 13, 11, 14, 8,
													14, 6, 13, 4, 11, 3, 8, 3,
													6, 4, 3, 6, 1, 8, 0, 11, 0,
													13, 1, 15, 3,
												],
											],
											d: [
												19,
												[
													15, 21, 15, 0, -1, -1, 15,
													11, 13, 13, 11, 14, 8, 14,
													6, 13, 4, 11, 3, 8, 3, 6, 4,
													3, 6, 1, 8, 0, 11, 0, 13, 1,
													15, 3,
												],
											],
											e: [
												18,
												[
													3, 8, 15, 8, 15, 10, 14, 12,
													13, 13, 11, 14, 8, 14, 6,
													13, 4, 11, 3, 8, 3, 6, 4, 3,
													6, 1, 8, 0, 11, 0, 13, 1,
													15, 3,
												],
											],
											f: [
												12,
												[
													10, 21, 8, 21, 6, 20, 5, 17,
													5, 0, -1, -1, 2, 14, 9, 14,
												],
											],
											g: [
												19,
												[
													15, 14, 15, -2, 14, -5, 13,
													-6, 11, -7, 8, -7, 6, -6,
													-1, -1, 15, 11, 13, 13, 11,
													14, 8, 14, 6, 13, 4, 11, 3,
													8, 3, 6, 4, 3, 6, 1, 8, 0,
													11, 0, 13, 1, 15, 3,
												],
											],
											h: [
												19,
												[
													4, 21, 4, 0, -1, -1, 4, 10,
													7, 13, 9, 14, 12, 14, 14,
													13, 15, 10, 15, 0,
												],
											],
											i: [
												8,
												[
													3, 21, 4, 20, 5, 21, 4, 22,
													3, 21, -1, -1, 4, 14, 4, 0,
												],
											],
											j: [
												10,
												[
													5, 21, 6, 20, 7, 21, 6, 22,
													5, 21, -1, -1, 6, 14, 6, -3,
													5, -6, 3, -7, 1, -7,
												],
											],
											k: [
												17,
												[
													4, 21, 4, 0, -1, -1, 14, 14,
													4, 4, -1, -1, 8, 8, 15, 0,
												],
											],
											l: [8, [4, 21, 4, 0]],
											m: [
												30,
												[
													4, 14, 4, 0, -1, -1, 4, 10,
													7, 13, 9, 14, 12, 14, 14,
													13, 15, 10, 15, 0, -1, -1,
													15, 10, 18, 13, 20, 14, 23,
													14, 25, 13, 26, 10, 26, 0,
												],
											],
											n: [
												19,
												[
													4, 14, 4, 0, -1, -1, 4, 10,
													7, 13, 9, 14, 12, 14, 14,
													13, 15, 10, 15, 0,
												],
											],
											o: [
												19,
												[
													8, 14, 6, 13, 4, 11, 3, 8,
													3, 6, 4, 3, 6, 1, 8, 0, 11,
													0, 13, 1, 15, 3, 16, 6, 16,
													8, 15, 11, 13, 13, 11, 14,
													8, 14,
												],
											],
											p: [
												19,
												[
													4, 14, 4, -7, -1, -1, 4, 11,
													6, 13, 8, 14, 11, 14, 13,
													13, 15, 11, 16, 8, 16, 6,
													15, 3, 13, 1, 11, 0, 8, 0,
													6, 1, 4, 3,
												],
											],
											q: [
												19,
												[
													15, 14, 15, -7, -1, -1, 15,
													11, 13, 13, 11, 14, 8, 14,
													6, 13, 4, 11, 3, 8, 3, 6, 4,
													3, 6, 1, 8, 0, 11, 0, 13, 1,
													15, 3,
												],
											],
											r: [
												13,
												[
													4, 14, 4, 0, -1, -1, 4, 8,
													5, 11, 7, 13, 9, 14, 12, 14,
												],
											],
											s: [
												17,
												[
													14, 11, 13, 13, 10, 14, 7,
													14, 4, 13, 3, 11, 4, 9, 6,
													8, 11, 7, 13, 6, 14, 4, 14,
													3, 13, 1, 10, 0, 7, 0, 4, 1,
													3, 3,
												],
											],
											t: [
												12,
												[
													5, 21, 5, 4, 6, 1, 8, 0, 10,
													0, -1, -1, 2, 14, 9, 14,
												],
											],
											u: [
												19,
												[
													4, 14, 4, 4, 5, 1, 7, 0, 10,
													0, 12, 1, 15, 4, -1, -1, 15,
													14, 15, 0,
												],
											],
											v: [
												16,
												[
													2, 14, 8, 0, -1, -1, 14, 14,
													8, 0,
												],
											],
											w: [
												22,
												[
													3, 14, 7, 0, -1, -1, 11, 14,
													7, 0, -1, -1, 11, 14, 15, 0,
													-1, -1, 19, 14, 15, 0,
												],
											],
											x: [
												17,
												[
													3, 14, 14, 0, -1, -1, 14,
													14, 3, 0,
												],
											],
											y: [
												16,
												[
													2, 14, 8, 0, -1, -1, 14, 14,
													8, 0, 6, -4, 4, -6, 2, -7,
													1, -7,
												],
											],
											z: [
												17,
												[
													14, 14, 3, 0, -1, -1, 3, 14,
													14, 14, -1, -1, 3, 0, 14, 0,
												],
											],
											"{": [
												14,
												[
													9, 25, 7, 24, 6, 23, 5, 21,
													5, 19, 6, 17, 7, 16, 8, 14,
													8, 12, 6, 10, -1, -1, 7, 24,
													6, 22, 6, 20, 7, 18, 8, 17,
													9, 15, 9, 13, 8, 11, 4, 9,
													8, 7, 9, 5, 9, 3, 8, 1, 7,
													0, 6, -2, 6, -4, 7, -6, -1,
													-1, 6, 8, 8, 6, 8, 4, 7, 2,
													6, 1, 5, -1, 5, -3, 6, -5,
													7, -6, 9, -7,
												],
											],
											"|": [8, [4, 25, 4, -7]],
											"}": [
												14,
												[
													5, 25, 7, 24, 8, 23, 9, 21,
													9, 19, 8, 17, 7, 16, 6, 14,
													6, 12, 8, 10, -1, -1, 7, 24,
													8, 22, 8, 20, 7, 18, 6, 17,
													5, 15, 5, 13, 6, 11, 10, 9,
													6, 7, 5, 5, 5, 3, 6, 1, 7,
													0, 8, -2, 8, -4, 7, -6, -1,
													-1, 8, 8, 6, 6, 6, 4, 7, 2,
													8, 1, 9, -1, 9, -3, 8, -5,
													7, -6, 5, -7,
												],
											],
											"~": [
												24,
												[
													3, 6, 3, 8, 4, 11, 6, 12, 8,
													12, 10, 11, 14, 8, 16, 7,
													18, 7, 20, 8, 21, 10, -1,
													-1, 3, 8, 4, 10, 6, 11, 8,
													11, 10, 10, 14, 7, 16, 6,
													18, 6, 20, 7, 21, 10, 21,
													12,
												],
											],
										};
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(21),
											o = n(3),
											a = n(35),
											s = n(0),
											l = n(26).number,
											u = n(282),
											c = n(27),
											f =
												(c.CanonicalTileID,
												c.UnwrappedTileID),
											h = n(6),
											p = n(22),
											d = p.vec4,
											y = p.mat4,
											m = p.mat2,
											v = (function () {
												function e(t, n, r) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.tileSize = 512),
														(this._renderWorldCopies =
															void 0 === r || r),
														(this._minZoom =
															t || 0),
														(this._maxZoom =
															n || 22),
														(this.latRange = [
															-85.05113, 85.05113,
														]),
														(this.width = 0),
														(this.height = 0),
														(this._center = new i(
															0,
															0
														)),
														(this.zoom = 0),
														(this.angle = 0),
														(this._fov = 0.6435011087932844),
														(this._pitch = 0),
														(this._unmodified = !0),
														(this._posMatrixCache =
															{});
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "clone",
															value: function () {
																var t = new e(
																	this._minZoom,
																	this._maxZoom,
																	this._renderWorldCopies
																);
																return (
																	(t.tileSize =
																		this.tileSize),
																	(t.latRange =
																		this.latRange),
																	(t.width =
																		this.width),
																	(t.height =
																		this.height),
																	(t._center =
																		this._center),
																	(t.zoom =
																		this.zoom),
																	(t.angle =
																		this.angle),
																	(t._fov =
																		this._fov),
																	(t._pitch =
																		this._pitch),
																	(t._unmodified =
																		this._unmodified),
																	t._calcMatrices(),
																	t
																);
															},
														},
														{
															key: "coveringZoomLevel",
															value: function (
																e
															) {
																return (
																	e.roundZoom
																		? Math.round
																		: Math.floor
																)(
																	this.zoom +
																		this.scaleZoom(
																			this
																				.tileSize /
																				e.tileSize
																		)
																);
															},
														},
														{
															key: "getVisibleUnwrappedCoordinates",
															value: function (
																e
															) {
																var t =
																		this.pointCoordinate(
																			new o(
																				0,
																				0
																			),
																			0
																		),
																	n =
																		this.pointCoordinate(
																			new o(
																				this.width,
																				0
																			),
																			0
																		),
																	r =
																		Math.floor(
																			t.column
																		),
																	i =
																		Math.floor(
																			n.column
																		),
																	a = [
																		new f(
																			0,
																			e
																		),
																	];
																if (
																	this
																		._renderWorldCopies
																)
																	for (
																		var s =
																			r;
																		s <= i;
																		s++
																	)
																		0 !==
																			s &&
																			a.push(
																				new f(
																					s,
																					e
																				)
																			);
																return a;
															},
														},
														{
															key: "coveringTiles",
															value: function (
																e
															) {
																var t =
																		this.coveringZoomLevel(
																			e
																		),
																	n = t;
																if (
																	void 0 !==
																		e.minzoom &&
																	t <
																		e.minzoom
																)
																	return [];
																void 0 !==
																	e.maxzoom &&
																	t >
																		e.maxzoom &&
																	(t =
																		e.maxzoom);
																var r =
																		this.pointCoordinate(
																			this
																				.centerPoint,
																			t
																		),
																	i = new o(
																		r.column -
																			0.5,
																		r.row -
																			0.5
																	),
																	a = [
																		this.pointCoordinate(
																			new o(
																				0,
																				0
																			),
																			t
																		),
																		this.pointCoordinate(
																			new o(
																				this.width,
																				0
																			),
																			t
																		),
																		this.pointCoordinate(
																			new o(
																				this.width,
																				this.height
																			),
																			t
																		),
																		this.pointCoordinate(
																			new o(
																				0,
																				this.height
																			),
																			t
																		),
																	];
																return u(
																	t,
																	a,
																	e.reparseOverscaled
																		? n
																		: t,
																	this
																		._renderWorldCopies
																).sort(
																	function (
																		e,
																		t
																	) {
																		return (
																			i.dist(
																				e.canonical
																			) -
																			i.dist(
																				t.canonical
																			)
																		);
																	}
																);
															},
														},
														{
															key: "resize",
															value: function (
																e,
																t
															) {
																(this.width =
																	e),
																	(this.height =
																		t),
																	(this.pixelsToGLUnits =
																		[
																			2 /
																				e,
																			-2 /
																				t,
																		]),
																	this._constrain(),
																	this._calcMatrices();
															},
														},
														{
															key: "zoomScale",
															value: function (
																e
															) {
																return Math.pow(
																	2,
																	e
																);
															},
														},
														{
															key: "scaleZoom",
															value: function (
																e
															) {
																return (
																	Math.log(
																		e
																	) / Math.LN2
																);
															},
														},
														{
															key: "project",
															value: function (
																e
															) {
																return new o(
																	this.lngX(
																		e.lng
																	),
																	this.latY(
																		e.lat
																	)
																);
															},
														},
														{
															key: "unproject",
															value: function (
																e
															) {
																return new i(
																	this.xLng(
																		e.x
																	),
																	this.yLat(
																		e.y
																	)
																);
															},
														},
														{
															key: "lngX",
															value: function (
																e
															) {
																return (
																	((180 + e) *
																		this
																			.worldSize) /
																	360
																);
															},
														},
														{
															key: "latY",
															value: function (
																e
															) {
																return (
																	((180 -
																		(180 /
																			Math.PI) *
																			Math.log(
																				Math.tan(
																					Math.PI /
																						4 +
																						(e *
																							Math.PI) /
																							360
																				)
																			)) *
																		this
																			.worldSize) /
																	360
																);
															},
														},
														{
															key: "xLng",
															value: function (
																e
															) {
																return (
																	(360 * e) /
																		this
																			.worldSize -
																	180
																);
															},
														},
														{
															key: "yLat",
															value: function (
																e
															) {
																var t =
																	180 -
																	(360 * e) /
																		this
																			.worldSize;
																return (
																	(360 /
																		Math.PI) *
																		Math.atan(
																			Math.exp(
																				(t *
																					Math.PI) /
																					180
																			)
																		) -
																	90
																);
															},
														},
														{
															key: "setLocationAtPoint",
															value: function (
																e,
																t
															) {
																var n =
																	this.pointCoordinate(
																		t
																	)._sub(
																		this.pointCoordinate(
																			this
																				.centerPoint
																		)
																	);
																(this.center =
																	this.coordinateLocation(
																		this.locationCoordinate(
																			e
																		)._sub(
																			n
																		)
																	)),
																	this
																		._renderWorldCopies &&
																		(this.center =
																			this.center.wrap());
															},
														},
														{
															key: "locationPoint",
															value: function (
																e
															) {
																return this.coordinatePoint(
																	this.locationCoordinate(
																		e
																	)
																);
															},
														},
														{
															key: "pointLocation",
															value: function (
																e
															) {
																return this.coordinateLocation(
																	this.pointCoordinate(
																		e
																	)
																);
															},
														},
														{
															key: "locationCoordinate",
															value: function (
																e
															) {
																return new a(
																	this.lngX(
																		e.lng
																	) /
																		this
																			.tileSize,
																	this.latY(
																		e.lat
																	) /
																		this
																			.tileSize,
																	this.zoom
																).zoomTo(
																	this
																		.tileZoom
																);
															},
														},
														{
															key: "coordinateLocation",
															value: function (
																e
															) {
																var t =
																	e.zoomTo(
																		this
																			.zoom
																	);
																return new i(
																	this.xLng(
																		t.column *
																			this
																				.tileSize
																	),
																	this.yLat(
																		t.row *
																			this
																				.tileSize
																	)
																);
															},
														},
														{
															key: "pointCoordinate",
															value: function (
																e,
																t
															) {
																void 0 === t &&
																	(t =
																		this
																			.tileZoom);
																var n = [
																		e.x,
																		e.y,
																		0,
																		1,
																	],
																	r = [
																		e.x,
																		e.y,
																		1,
																		1,
																	];
																d.transformMat4(
																	n,
																	n,
																	this
																		.pixelMatrixInverse
																),
																	d.transformMat4(
																		r,
																		r,
																		this
																			.pixelMatrixInverse
																	);
																var i = n[3],
																	o = r[3],
																	s =
																		n[1] /
																		i,
																	u =
																		r[1] /
																		o,
																	c =
																		n[2] /
																		i,
																	f =
																		r[2] /
																		o,
																	h =
																		c === f
																			? 0
																			: (0 -
																					c) /
																			  (f -
																					c);
																return new a(
																	l(
																		n[0] /
																			i,
																		r[0] /
																			o,
																		h
																	) /
																		this
																			.tileSize,
																	l(s, u, h) /
																		this
																			.tileSize,
																	this.zoom
																)._zoomTo(t);
															},
														},
														{
															key: "coordinatePoint",
															value: function (
																e
															) {
																var t =
																		e.zoomTo(
																			this
																				.zoom
																		),
																	n = [
																		t.column *
																			this
																				.tileSize,
																		t.row *
																			this
																				.tileSize,
																		0,
																		1,
																	];
																return (
																	d.transformMat4(
																		n,
																		n,
																		this
																			.pixelMatrix
																	),
																	new o(
																		n[0] /
																			n[3],
																		n[1] /
																			n[3]
																	)
																);
															},
														},
														{
															key: "calculatePosMatrix",
															value: function (
																e
															) {
																var t = e.key;
																if (
																	this
																		._posMatrixCache[
																		t
																	]
																)
																	return this
																		._posMatrixCache[
																		t
																	];
																var n =
																		e.canonical,
																	r =
																		this
																			.worldSize /
																		this.zoomScale(
																			n.z
																		),
																	i =
																		n.x +
																		Math.pow(
																			2,
																			n.z
																		) *
																			e.wrap,
																	o =
																		y.identity(
																			new Float64Array(
																				16
																			)
																		);
																return (
																	y.translate(
																		o,
																		o,
																		[
																			i *
																				r,
																			n.y *
																				r,
																			0,
																		]
																	),
																	y.scale(
																		o,
																		o,
																		[
																			r /
																				h,
																			r /
																				h,
																			1,
																		]
																	),
																	y.multiply(
																		o,
																		this
																			.projMatrix,
																		o
																	),
																	(this._posMatrixCache[
																		t
																	] = new Float32Array(
																		o
																	)),
																	this
																		._posMatrixCache[
																		t
																	]
																);
															},
														},
														{
															key: "_constrain",
															value: function () {
																if (
																	this
																		.center &&
																	this
																		.width &&
																	this
																		.height &&
																	!this
																		._constraining
																) {
																	this._constraining =
																		!0;
																	var e,
																		t,
																		n,
																		r,
																		i = -90,
																		a = 90,
																		s =
																			-180,
																		l = 180,
																		u =
																			this
																				.size,
																		c =
																			this
																				._unmodified;
																	if (
																		this
																			.latRange
																	) {
																		var f =
																			this
																				.latRange;
																		(i =
																			this.latY(
																				f[1]
																			)),
																			(e =
																				(a =
																					this.latY(
																						f[0]
																					)) -
																					i <
																				u.y
																					? u.y /
																					  (a -
																							i)
																					: 0);
																	}
																	if (
																		this
																			.lngRange
																	) {
																		var h =
																			this
																				.lngRange;
																		(s =
																			this.lngX(
																				h[0]
																			)),
																			(t =
																				(l =
																					this.lngX(
																						h[1]
																					)) -
																					s <
																				u.x
																					? u.x /
																					  (l -
																							s)
																					: 0);
																	}
																	var p =
																		Math.max(
																			t ||
																				0,
																			e ||
																				0
																		);
																	if (p)
																		return (
																			(this.center =
																				this.unproject(
																					new o(
																						t
																							? (l +
																									s) /
																							  2
																							: this
																									.x,
																						e
																							? (a +
																									i) /
																							  2
																							: this
																									.y
																					)
																				)),
																			(this.zoom +=
																				this.scaleZoom(
																					p
																				)),
																			(this._unmodified =
																				c),
																			void (this._constraining =
																				!1)
																		);
																	if (
																		this
																			.latRange
																	) {
																		var d =
																				this
																					.y,
																			y =
																				u.y /
																				2;
																		d - y <
																			i &&
																			(r =
																				i +
																				y),
																			d +
																				y >
																				a &&
																				(r =
																					a -
																					y);
																	}
																	if (
																		this
																			.lngRange
																	) {
																		var m =
																				this
																					.x,
																			v =
																				u.x /
																				2;
																		m - v <
																			s &&
																			(n =
																				s +
																				v),
																			m +
																				v >
																				l &&
																				(n =
																					l -
																					v);
																	}
																	(void 0 ===
																		n &&
																		void 0 ===
																			r) ||
																		(this.center =
																			this.unproject(
																				new o(
																					void 0 !==
																					n
																						? n
																						: this
																								.x,
																					void 0 !==
																					r
																						? r
																						: this
																								.y
																				)
																			)),
																		(this._unmodified =
																			c),
																		(this._constraining =
																			!1);
																}
															},
														},
														{
															key: "_calcMatrices",
															value: function () {
																if (
																	this.height
																) {
																	this.cameraToCenterDistance =
																		(0.5 /
																			Math.tan(
																				this
																					._fov /
																					2
																			)) *
																		this
																			.height;
																	var e =
																			this
																				._fov /
																			2,
																		t =
																			Math.PI /
																				2 +
																			this
																				._pitch,
																		n =
																			(Math.sin(
																				e
																			) *
																				this
																					.cameraToCenterDistance) /
																			Math.sin(
																				Math.PI -
																					t -
																					e
																			),
																		r =
																			1.01 *
																			(Math.cos(
																				Math.PI /
																					2 -
																					this
																						._pitch
																			) *
																				n +
																				this
																					.cameraToCenterDistance),
																		i =
																			new Float64Array(
																				16
																			);
																	y.perspective(
																		i,
																		this
																			._fov,
																		this
																			.width /
																			this
																				.height,
																		1,
																		r
																	),
																		y.scale(
																			i,
																			i,
																			[
																				1,
																				-1,
																				1,
																			]
																		),
																		y.translate(
																			i,
																			i,
																			[
																				0,
																				0,
																				-this
																					.cameraToCenterDistance,
																			]
																		),
																		y.rotateX(
																			i,
																			i,
																			this
																				._pitch
																		),
																		y.rotateZ(
																			i,
																			i,
																			this
																				.angle
																		),
																		y.translate(
																			i,
																			i,
																			[
																				-this
																					.x,
																				-this
																					.y,
																				0,
																			]
																		);
																	var o =
																		this
																			.worldSize /
																		(2 *
																			Math.PI *
																			6378137 *
																			Math.abs(
																				Math.cos(
																					this
																						.center
																						.lat *
																						(Math.PI /
																							180)
																				)
																			));
																	if (
																		(y.scale(
																			i,
																			i,
																			[
																				1,
																				1,
																				o,
																				1,
																			]
																		),
																		(this.projMatrix =
																			i),
																		(i =
																			y.create()),
																		y.scale(
																			i,
																			i,
																			[
																				this
																					.width /
																					2,
																				-this
																					.height /
																					2,
																				1,
																			]
																		),
																		y.translate(
																			i,
																			i,
																			[
																				1,
																				-1,
																				0,
																			]
																		),
																		(this.pixelMatrix =
																			y.multiply(
																				new Float64Array(
																					16
																				),
																				i,
																				this
																					.projMatrix
																			)),
																		!(i =
																			y.invert(
																				new Float64Array(
																					16
																				),
																				this
																					.pixelMatrix
																			)))
																	)
																		throw new Error(
																			"failed to invert matrix"
																		);
																	(this.pixelMatrixInverse =
																		i),
																		(this._posMatrixCache =
																			{});
																}
															},
														},
														{
															key: "minZoom",
															get: function () {
																return this
																	._minZoom;
															},
															set: function (e) {
																this
																	._minZoom !==
																	e &&
																	((this._minZoom =
																		e),
																	(this.zoom =
																		Math.max(
																			this
																				.zoom,
																			e
																		)));
															},
														},
														{
															key: "maxZoom",
															get: function () {
																return this
																	._maxZoom;
															},
															set: function (e) {
																this
																	._maxZoom !==
																	e &&
																	((this._maxZoom =
																		e),
																	(this.zoom =
																		Math.min(
																			this
																				.zoom,
																			e
																		)));
															},
														},
														{
															key: "renderWorldCopies",
															get: function () {
																return this
																	._renderWorldCopies;
															},
														},
														{
															key: "worldSize",
															get: function () {
																return (
																	this
																		.tileSize *
																	this.scale
																);
															},
														},
														{
															key: "centerPoint",
															get: function () {
																return this.size._div(
																	2
																);
															},
														},
														{
															key: "size",
															get: function () {
																return new o(
																	this.width,
																	this.height
																);
															},
														},
														{
															key: "bearing",
															get: function () {
																return (
																	(-this
																		.angle /
																		Math.PI) *
																	180
																);
															},
															set: function (e) {
																var t =
																	(-s.wrap(
																		e,
																		-180,
																		180
																	) *
																		Math.PI) /
																	180;
																this.angle !==
																	t &&
																	((this._unmodified =
																		!1),
																	(this.angle =
																		t),
																	this._calcMatrices(),
																	(this.rotationMatrix =
																		m.create()),
																	m.rotate(
																		this
																			.rotationMatrix,
																		this
																			.rotationMatrix,
																		this
																			.angle
																	));
															},
														},
														{
															key: "pitch",
															get: function () {
																return (
																	(this
																		._pitch /
																		Math.PI) *
																	180
																);
															},
															set: function (e) {
																var t =
																	(s.clamp(
																		e,
																		0,
																		60
																	) /
																		180) *
																	Math.PI;
																this._pitch !==
																	t &&
																	((this._unmodified =
																		!1),
																	(this._pitch =
																		t),
																	this._calcMatrices());
															},
														},
														{
															key: "fov",
															get: function () {
																return (
																	(this._fov /
																		Math.PI) *
																	180
																);
															},
															set: function (e) {
																(e = Math.max(
																	0.01,
																	Math.min(
																		60,
																		e
																	)
																)),
																	this
																		._fov !==
																		e &&
																		((this._unmodified =
																			!1),
																		(this._fov =
																			(e /
																				180) *
																			Math.PI),
																		this._calcMatrices());
															},
														},
														{
															key: "zoom",
															get: function () {
																return this
																	._zoom;
															},
															set: function (e) {
																var t =
																	Math.min(
																		Math.max(
																			e,
																			this
																				.minZoom
																		),
																		this
																			.maxZoom
																	);
																this._zoom !==
																	t &&
																	((this._unmodified =
																		!1),
																	(this._zoom =
																		t),
																	(this.scale =
																		this.zoomScale(
																			t
																		)),
																	(this.tileZoom =
																		Math.floor(
																			t
																		)),
																	(this.zoomFraction =
																		t -
																		this
																			.tileZoom),
																	this._constrain(),
																	this._calcMatrices());
															},
														},
														{
															key: "center",
															get: function () {
																return this
																	._center;
															},
															set: function (e) {
																(e.lat ===
																	this._center
																		.lat &&
																	e.lng ===
																		this
																			._center
																			.lng) ||
																	((this._unmodified =
																		!1),
																	(this._center =
																		e),
																	this._constrain(),
																	this._calcMatrices());
															},
														},
														{
															key: "unmodified",
															get: function () {
																return this
																	._unmodified;
															},
														},
														{
															key: "x",
															get: function () {
																return this.lngX(
																	this.center
																		.lng
																);
															},
														},
														{
															key: "y",
															get: function () {
																return this.latY(
																	this.center
																		.lat
																);
															},
														},
														{
															key: "point",
															get: function () {
																return new o(
																	this.x,
																	this.y
																);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = v;
									},
									function (e, t, n) {
										n(35);
										var r = n(27).OverscaledTileID;
										function i(e, t) {
											if (e.row > t.row) {
												var n = e;
												(e = t), (t = n);
											}
											return {
												x0: e.column,
												y0: e.row,
												x1: t.column,
												y1: t.row,
												dx: t.column - e.column,
												dy: t.row - e.row,
											};
										}
										function o(e, t, n, r, i) {
											var o = Math.max(
													n,
													Math.floor(t.y0)
												),
												a = Math.min(
													r,
													Math.ceil(t.y1)
												);
											if (
												e.x0 === t.x0 && e.y0 === t.y0
													? e.x0 +
															(t.dy / e.dy) *
																e.dx <
													  t.x1
													: e.x1 -
															(t.dy / e.dy) *
																e.dx <
													  t.x0
											) {
												var s = e;
												(e = t), (t = s);
											}
											for (
												var l = e.dx / e.dy,
													u = t.dx / t.dy,
													c = e.dx > 0,
													f = t.dx < 0,
													h = o;
												h < a;
												h++
											) {
												var p =
														l *
															Math.max(
																0,
																Math.min(
																	e.dy,
																	h + c - e.y0
																)
															) +
														e.x0,
													d =
														u *
															Math.max(
																0,
																Math.min(
																	t.dy,
																	h + f - t.y0
																)
															) +
														t.x0;
												i(
													Math.floor(d),
													Math.ceil(p),
													h
												);
											}
										}
										function a(e, t, n, r, a, s) {
											var l,
												u = i(e, t),
												c = i(t, n),
												f = i(n, e);
											u.dy > c.dy &&
												((l = u), (u = c), (c = l)),
												u.dy > f.dy &&
													((l = u), (u = f), (f = l)),
												c.dy > f.dy &&
													((l = c), (c = f), (f = l)),
												u.dy && o(f, u, r, a, s),
												c.dy && o(f, c, r, a, s);
										}
										e.exports = function (e, t, n, i) {
											void 0 === i && (i = !0);
											var o = 1 << e,
												s = {};
											function l(t, a, l) {
												var u, c, f;
												if (l >= 0 && l <= o)
													for (u = t; u < a; u++)
														(0 !==
															(c = Math.floor(
																u / o
															)) &&
															!0 !== i) ||
															((f = new r(
																n,
																c,
																e,
																((u % o) + o) %
																	o,
																l
															)),
															(s[f.key] = f));
											}
											return (
												a(t[0], t[1], t[2], 0, o, l),
												a(t[2], t[3], t[0], 0, o, l),
												(0, u.default)(s).map(function (
													e
												) {
													return s[e];
												})
											);
										};
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(0),
											o = n(5),
											a = n(284),
											s = (function () {
												function e() {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														i.bindAll(
															[
																"_onHashChange",
																"_updateHash",
															],
															this
														),
														(this._updateHash = a(
															this._updateHashUnthrottled.bind(
																this
															),
															300
														));
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "addTo",
															value: function (
																e
															) {
																return (
																	(this._map =
																		e),
																	o.addEventListener(
																		"hashchange",
																		this
																			._onHashChange,
																		!1
																	),
																	this._map.on(
																		"moveend",
																		this
																			._updateHash
																	),
																	this
																);
															},
														},
														{
															key: "remove",
															value: function () {
																return (
																	o.removeEventListener(
																		"hashchange",
																		this
																			._onHashChange,
																		!1
																	),
																	this._map.off(
																		"moveend",
																		this
																			._updateHash
																	),
																	delete this
																		._map,
																	this
																);
															},
														},
														{
															key: "getHashString",
															value: function (
																e
															) {
																var t =
																		this._map.getCenter(),
																	n =
																		Math.round(
																			100 *
																				this._map.getZoom()
																		) / 100,
																	r =
																		Math.ceil(
																			(n *
																				Math.LN2 +
																				Math.log(
																					512 /
																						360 /
																						0.5
																				)) /
																				Math.LN10
																		),
																	i =
																		Math.pow(
																			10,
																			r
																		),
																	o =
																		Math.round(
																			t.lng *
																				i
																		) / i,
																	a =
																		Math.round(
																			t.lat *
																				i
																		) / i,
																	s =
																		this._map.getBearing(),
																	l =
																		this._map.getPitch(),
																	u = "";
																return (
																	(u += e
																		? "#/"
																				.concat(
																					o,
																					"/"
																				)
																				.concat(
																					a,
																					"/"
																				)
																				.concat(
																					n
																				)
																		: "#"
																				.concat(
																					n,
																					"/"
																				)
																				.concat(
																					a,
																					"/"
																				)
																				.concat(
																					o
																				)),
																	(s || l) &&
																		(u +=
																			"/".concat(
																				Math.round(
																					10 *
																						s
																				) /
																					10
																			)),
																	l &&
																		(u +=
																			"/".concat(
																				Math.round(
																					l
																				)
																			)),
																	u
																);
															},
														},
														{
															key: "_onHashChange",
															value: function () {
																var e =
																	o.location.hash
																		.replace(
																			"#",
																			""
																		)
																		.split(
																			"/"
																		);
																return (
																	e.length >=
																		3 &&
																	(this._map.jumpTo(
																		{
																			center: [
																				+e[2],
																				+e[1],
																			],
																			zoom: +e[0],
																			bearing:
																				+(
																					e[3] ||
																					0
																				),
																			pitch: +(
																				e[4] ||
																				0
																			),
																		}
																	),
																	!0)
																);
															},
														},
														{
															key: "_updateHashUnthrottled",
															value: function () {
																var e =
																	this.getHashString();
																o.history.replaceState(
																	"",
																	"",
																	e
																);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = s;
									},
									function (e, t) {
										e.exports = function (e, t) {
											var n = !1,
												r = 0;
											return function () {
												return (
													(n = !0),
													r ||
														(function i() {
															(r = 0),
																n &&
																	(e(),
																	(r =
																		setTimeout(
																			i,
																			t
																		)),
																	(n = !1));
														})(),
													r
												);
											};
										};
									},
									function (e, t, n) {
										var r = n(9),
											i = n(3),
											o = {
												scrollZoom: n(286),
												boxZoom: n(287),
												dragRotate: n(127),
												dragPan: n(288),
												keyboard: n(289),
												doubleClickZoom: n(290),
												touchZoomRotate: n(291),
											};
										e.exports = function (e, t) {
											var n = e.getCanvasContainer(),
												a = null,
												s = !1,
												l = null,
												u = null;
											for (var c in o)
												(e[c] = new o[c](e, t)),
													t.interactive &&
														t[c] &&
														e[c].enable(t[c]);
											function f() {
												u = null;
											}
											function h(t, i) {
												var o = r.mousePos(n, i);
												return e.fire(t, {
													lngLat: e.unproject(o),
													point: o,
													originalEvent: i,
												});
											}
											function p(t, o) {
												var a = r.touchPos(n, o),
													s = a.reduce(function (
														e,
														t,
														n,
														r
													) {
														return e.add(
															t.div(r.length)
														);
													},
													new i(0, 0));
												return e.fire(t, {
													lngLat: e.unproject(s),
													point: s,
													lngLats: a.map(function (
														t
													) {
														return e.unproject(t);
													},
													this),
													points: a,
													originalEvent: o,
												});
											}
											n.addEventListener(
												"mouseout",
												function (e) {
													h("mouseout", e);
												},
												!1
											),
												n.addEventListener(
													"mousedown",
													function (t) {
														e.doubleClickZoom.isActive() ||
															e.stop(),
															(l = r.mousePos(
																n,
																t
															)),
															h("mousedown", t),
															(s = !0);
													},
													!1
												),
												n.addEventListener(
													"mouseup",
													function (t) {
														var n =
															e.dragRotate &&
															e.dragRotate.isActive();
														a &&
															!n &&
															h("contextmenu", a),
															(a = null),
															(s = !1),
															h("mouseup", t);
													},
													!1
												),
												n.addEventListener(
													"mousemove",
													function (t) {
														if (
															!(
																(e.dragPan &&
																	e.dragPan.isActive()) ||
																(e.dragRotate &&
																	e.dragRotate.isActive())
															)
														) {
															for (
																var r =
																	t.toElement ||
																	t.target;
																r && r !== n;

															)
																r =
																	r.parentNode;
															r === n &&
																h(
																	"mousemove",
																	t
																);
														}
													},
													!1
												),
												n.addEventListener(
													"touchstart",
													function (t) {
														e.stop(),
															p("touchstart", t),
															!t.touches ||
																t.touches
																	.length >
																	1 ||
																(u
																	? (clearTimeout(
																			u
																	  ),
																	  (u =
																			null),
																	  h(
																			"dblclick",
																			t
																	  ))
																	: (u =
																			setTimeout(
																				f,
																				300
																			)));
													},
													!1
												),
												n.addEventListener(
													"touchend",
													function (e) {
														p("touchend", e);
													},
													!1
												),
												n.addEventListener(
													"touchmove",
													function (e) {
														p("touchmove", e);
													},
													!1
												),
												n.addEventListener(
													"touchcancel",
													function (e) {
														p("touchcancel", e);
													},
													!1
												),
												n.addEventListener(
													"click",
													function (e) {
														r
															.mousePos(n, e)
															.equals(l) &&
															h("click", e);
													},
													!1
												),
												n.addEventListener(
													"dblclick",
													function (e) {
														h("dblclick", e),
															e.preventDefault();
													},
													!1
												),
												n.addEventListener(
													"contextmenu",
													function (t) {
														var n =
															e.dragRotate &&
															e.dragRotate.isActive();
														s || n
															? s && (a = t)
															: h(
																	"contextmenu",
																	t
															  ),
															t.preventDefault();
													},
													!1
												);
										};
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(9),
											o = n(0),
											a = n(2),
											s = n(5),
											l =
												s.navigator.userAgent.toLowerCase(),
											u = -1 !== l.indexOf("firefox"),
											c =
												-1 !== l.indexOf("safari") &&
												-1 === l.indexOf("chrom"),
											f = (function () {
												function e(t) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this._map = t),
														(this._el =
															t.getCanvasContainer()),
														o.bindAll(
															[
																"_onWheel",
																"_onTimeout",
															],
															this
														);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "isEnabled",
															value: function () {
																return !!this
																	._enabled;
															},
														},
														{
															key: "enable",
															value: function (
																e
															) {
																this.isEnabled() ||
																	(this._el.addEventListener(
																		"wheel",
																		this
																			._onWheel,
																		!1
																	),
																	this._el.addEventListener(
																		"mousewheel",
																		this
																			._onWheel,
																		!1
																	),
																	(this._enabled =
																		!0),
																	(this._aroundCenter =
																		e &&
																		"center" ===
																			e.around));
															},
														},
														{
															key: "disable",
															value: function () {
																this.isEnabled() &&
																	(this._el.removeEventListener(
																		"wheel",
																		this
																			._onWheel
																	),
																	this._el.removeEventListener(
																		"mousewheel",
																		this
																			._onWheel
																	),
																	(this._enabled =
																		!1));
															},
														},
														{
															key: "_onWheel",
															value: function (
																e
															) {
																var t = 0;
																"wheel" ===
																e.type
																	? ((t =
																			e.deltaY),
																	  u &&
																			e.deltaMode ===
																				s
																					.WheelEvent
																					.DOM_DELTA_PIXEL &&
																			(t /=
																				a.devicePixelRatio),
																	  e.deltaMode ===
																			s
																				.WheelEvent
																				.DOM_DELTA_LINE &&
																			(t *= 40))
																	: "mousewheel" ===
																			e.type &&
																	  ((t =
																			-e.wheelDeltaY),
																	  c &&
																			(t /= 3));
																var n = a.now(),
																	r =
																		n -
																		(this
																			._time ||
																			0);
																(this._pos =
																	i.mousePos(
																		this
																			._el,
																		e
																	)),
																	(this._time =
																		n),
																	0 !== t &&
																	t %
																		4.000244140625 ==
																		0
																		? (this._type =
																				"wheel")
																		: 0 !==
																				t &&
																		  Math.abs(
																				t
																		  ) < 4
																		? (this._type =
																				"trackpad")
																		: r >
																		  400
																		? ((this._type =
																				null),
																		  (this._lastValue =
																				t),
																		  (this._timeout =
																				setTimeout(
																					this
																						._onTimeout,
																					40
																				)))
																		: this
																				._type ||
																		  ((this._type =
																				Math.abs(
																					r *
																						t
																				) <
																				200
																					? "trackpad"
																					: "wheel"),
																		  this
																				._timeout &&
																				(clearTimeout(
																					this
																						._timeout
																				),
																				(this._timeout =
																					null),
																				(t +=
																					this
																						._lastValue))),
																	e.shiftKey &&
																		t &&
																		(t /= 4),
																	this
																		._type &&
																		this._zoom(
																			-t,
																			e
																		),
																	e.preventDefault();
															},
														},
														{
															key: "_onTimeout",
															value: function () {
																(this._type =
																	"wheel"),
																	this._zoom(
																		-this
																			._lastValue
																	);
															},
														},
														{
															key: "_zoom",
															value: function (
																e,
																t
															) {
																if (0 !== e) {
																	var n =
																			this
																				._map,
																		r =
																			2 /
																			(1 +
																				Math.exp(
																					-Math.abs(
																						e /
																							100
																					)
																				));
																	e < 0 &&
																		0 !==
																			r &&
																		(r =
																			1 /
																			r);
																	var i =
																			n.ease
																				? n
																						.ease
																						.to
																				: n
																						.transform
																						.scale,
																		o =
																			n.transform.scaleZoom(
																				i *
																					r
																			);
																	n.zoomTo(
																		o,
																		{
																			duration:
																				"wheel" ===
																				this
																					._type
																					? 200
																					: 0,
																			around: this
																				._aroundCenter
																				? n.getCenter()
																				: n.unproject(
																						this
																							._pos
																				  ),
																			delayEndEvents: 200,
																			smoothEasing:
																				!0,
																		},
																		{
																			originalEvent:
																				t,
																		}
																	);
																}
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = f;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(9),
											o = n(39),
											a = n(0),
											s = n(5),
											l = (function () {
												function e(t) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this._map = t),
														(this._el =
															t.getCanvasContainer()),
														(this._container =
															t.getContainer()),
														a.bindAll(
															[
																"_onMouseDown",
																"_onMouseMove",
																"_onMouseUp",
																"_onKeyDown",
															],
															this
														);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "isEnabled",
															value: function () {
																return !!this
																	._enabled;
															},
														},
														{
															key: "isActive",
															value: function () {
																return !!this
																	._active;
															},
														},
														{
															key: "enable",
															value: function () {
																this.isEnabled() ||
																	(this._map
																		.dragPan &&
																		this._map.dragPan.disable(),
																	this._el.addEventListener(
																		"mousedown",
																		this
																			._onMouseDown,
																		!1
																	),
																	this._map
																		.dragPan &&
																		this._map.dragPan.enable(),
																	(this._enabled =
																		!0));
															},
														},
														{
															key: "disable",
															value: function () {
																this.isEnabled() &&
																	(this._el.removeEventListener(
																		"mousedown",
																		this
																			._onMouseDown
																	),
																	(this._enabled =
																		!1));
															},
														},
														{
															key: "_onMouseDown",
															value: function (
																e
															) {
																e.shiftKey &&
																	0 ===
																		e.button &&
																	(s.document.addEventListener(
																		"mousemove",
																		this
																			._onMouseMove,
																		!1
																	),
																	s.document.addEventListener(
																		"keydown",
																		this
																			._onKeyDown,
																		!1
																	),
																	s.document.addEventListener(
																		"mouseup",
																		this
																			._onMouseUp,
																		!1
																	),
																	i.disableDrag(),
																	(this._startPos =
																		i.mousePos(
																			this
																				._el,
																			e
																		)),
																	(this._active =
																		!0));
															},
														},
														{
															key: "_onMouseMove",
															value: function (
																e
															) {
																var t =
																		this
																			._startPos,
																	n =
																		i.mousePos(
																			this
																				._el,
																			e
																		);
																this._box ||
																	((this._box =
																		i.create(
																			"div",
																			"mapboxgl-boxzoom",
																			this
																				._container
																		)),
																	this._container.classList.add(
																		"mapboxgl-crosshair"
																	),
																	this._fireEvent(
																		"boxzoomstart",
																		e
																	));
																var r =
																		Math.min(
																			t.x,
																			n.x
																		),
																	o =
																		Math.max(
																			t.x,
																			n.x
																		),
																	a =
																		Math.min(
																			t.y,
																			n.y
																		),
																	s =
																		Math.max(
																			t.y,
																			n.y
																		);
																i.setTransform(
																	this._box,
																	"translate("
																		.concat(
																			r,
																			"px,"
																		)
																		.concat(
																			a,
																			"px)"
																		)
																),
																	(this._box.style.width =
																		"".concat(
																			o -
																				r,
																			"px"
																		)),
																	(this._box.style.height =
																		"".concat(
																			s -
																				a,
																			"px"
																		));
															},
														},
														{
															key: "_onMouseUp",
															value: function (
																e
															) {
																if (
																	0 ===
																	e.button
																) {
																	var t =
																			this
																				._startPos,
																		n =
																			i.mousePos(
																				this
																					._el,
																				e
																			),
																		r =
																			new o()
																				.extend(
																					this._map.unproject(
																						t
																					)
																				)
																				.extend(
																					this._map.unproject(
																						n
																					)
																				);
																	this._finish(),
																		t.x ===
																			n.x &&
																		t.y ===
																			n.y
																			? this._fireEvent(
																					"boxzoomcancel",
																					e
																			  )
																			: this._map
																					.fitBounds(
																						r,
																						{
																							linear: !0,
																						}
																					)
																					.fire(
																						"boxzoomend",
																						{
																							originalEvent:
																								e,
																							boxZoomBounds:
																								r,
																						}
																					);
																}
															},
														},
														{
															key: "_onKeyDown",
															value: function (
																e
															) {
																27 ===
																	e.keyCode &&
																	(this._finish(),
																	this._fireEvent(
																		"boxzoomcancel",
																		e
																	));
															},
														},
														{
															key: "_finish",
															value: function () {
																(this._active =
																	!1),
																	s.document.removeEventListener(
																		"mousemove",
																		this
																			._onMouseMove,
																		!1
																	),
																	s.document.removeEventListener(
																		"keydown",
																		this
																			._onKeyDown,
																		!1
																	),
																	s.document.removeEventListener(
																		"mouseup",
																		this
																			._onMouseUp,
																		!1
																	),
																	this._container.classList.remove(
																		"mapboxgl-crosshair"
																	),
																	this._box &&
																		(i.remove(
																			this
																				._box
																		),
																		(this._box =
																			null)),
																	i.enableDrag();
															},
														},
														{
															key: "_fireEvent",
															value: function (
																e,
																t
															) {
																return this._map.fire(
																	e,
																	{
																		originalEvent:
																			t,
																	}
																);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = l;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(9),
											o = n(0),
											a = n(5),
											s = n(2),
											l = o.bezier(0, 0, 0.3, 1),
											u = (function () {
												function e(t) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this._map = t),
														(this._el =
															t.getCanvasContainer()),
														o.bindAll(
															[
																"_onDown",
																"_onMove",
																"_onUp",
																"_onTouchEnd",
																"_onMouseUp",
															],
															this
														);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "isEnabled",
															value: function () {
																return !!this
																	._enabled;
															},
														},
														{
															key: "isActive",
															value: function () {
																return !!this
																	._active;
															},
														},
														{
															key: "enable",
															value: function () {
																this.isEnabled() ||
																	(this._el.classList.add(
																		"mapboxgl-touch-drag-pan"
																	),
																	this._el.addEventListener(
																		"mousedown",
																		this
																			._onDown
																	),
																	this._el.addEventListener(
																		"touchstart",
																		this
																			._onDown
																	),
																	(this._enabled =
																		!0));
															},
														},
														{
															key: "disable",
															value: function () {
																this.isEnabled() &&
																	(this._el.classList.remove(
																		"mapboxgl-touch-drag-pan"
																	),
																	this._el.removeEventListener(
																		"mousedown",
																		this
																			._onDown
																	),
																	this._el.removeEventListener(
																		"touchstart",
																		this
																			._onDown
																	),
																	(this._enabled =
																		!1));
															},
														},
														{
															key: "_onDown",
															value: function (
																e
															) {
																this._ignoreEvent(
																	e
																) ||
																	this.isActive() ||
																	(e.touches
																		? (a.document.addEventListener(
																				"touchmove",
																				this
																					._onMove
																		  ),
																		  a.document.addEventListener(
																				"touchend",
																				this
																					._onTouchEnd
																		  ))
																		: (a.document.addEventListener(
																				"mousemove",
																				this
																					._onMove
																		  ),
																		  a.document.addEventListener(
																				"mouseup",
																				this
																					._onMouseUp
																		  )),
																	a.addEventListener(
																		"blur",
																		this
																			._onMouseUp
																	),
																	(this._active =
																		!1),
																	(this._startPos =
																		this._pos =
																			i.mousePos(
																				this
																					._el,
																				e
																			)),
																	(this._inertia =
																		[
																			[
																				s.now(),
																				this
																					._pos,
																			],
																		]));
															},
														},
														{
															key: "_onMove",
															value: function (
																e
															) {
																if (
																	!this._ignoreEvent(
																		e
																	)
																) {
																	this.isActive() ||
																		((this._active =
																			!0),
																		(this._map.moving =
																			!0),
																		this._fireEvent(
																			"dragstart",
																			e
																		),
																		this._fireEvent(
																			"movestart",
																			e
																		));
																	var t =
																			i.mousePos(
																				this
																					._el,
																				e
																			),
																		n =
																			this
																				._map;
																	n.stop(),
																		this._drainInertiaBuffer(),
																		this._inertia.push(
																			[
																				s.now(),
																				t,
																			]
																		),
																		n.transform.setLocationAtPoint(
																			n.transform.pointLocation(
																				this
																					._pos
																			),
																			t
																		),
																		this._fireEvent(
																			"drag",
																			e
																		),
																		this._fireEvent(
																			"move",
																			e
																		),
																		(this._pos =
																			t),
																		e.preventDefault();
																}
															},
														},
														{
															key: "_onUp",
															value: function (
																e
															) {
																var t = this;
																if (
																	this.isActive()
																) {
																	(this._active =
																		!1),
																		this._fireEvent(
																			"dragend",
																			e
																		),
																		this._drainInertiaBuffer();
																	var n =
																			function () {
																				(t._map.moving =
																					!1),
																					t._fireEvent(
																						"moveend",
																						e
																					);
																			},
																		r =
																			this
																				._inertia;
																	if (
																		r.length <
																		2
																	)
																		n();
																	else {
																		var i =
																				r[
																					r.length -
																						1
																				],
																			o =
																				r[0],
																			a =
																				i[1].sub(
																					o[1]
																				),
																			s =
																				(i[0] -
																					o[0]) /
																				1e3;
																		if (
																			0 ===
																				s ||
																			i[1].equals(
																				o[1]
																			)
																		)
																			n();
																		else {
																			var u =
																					a.mult(
																						0.3 /
																							s
																					),
																				c =
																					u.mag();
																			c >
																				1400 &&
																				((c = 1400),
																				u
																					._unit()
																					._mult(
																						c
																					));
																			var f =
																					c /
																					750,
																				h =
																					u.mult(
																						-f /
																							2
																					);
																			this._map.panBy(
																				h,
																				{
																					duration:
																						1e3 *
																						f,
																					easing: l,
																					noMoveStart:
																						!0,
																				},
																				{
																					originalEvent:
																						e,
																				}
																			);
																		}
																	}
																}
															},
														},
														{
															key: "_onMouseUp",
															value: function (
																e
															) {
																this._ignoreEvent(
																	e
																) ||
																	(this._onUp(
																		e
																	),
																	a.document.removeEventListener(
																		"mousemove",
																		this
																			._onMove
																	),
																	a.document.removeEventListener(
																		"mouseup",
																		this
																			._onMouseUp
																	),
																	a.removeEventListener(
																		"blur",
																		this
																			._onMouseUp
																	));
															},
														},
														{
															key: "_onTouchEnd",
															value: function (
																e
															) {
																this._ignoreEvent(
																	e
																) ||
																	(this._onUp(
																		e
																	),
																	a.document.removeEventListener(
																		"touchmove",
																		this
																			._onMove
																	),
																	a.document.removeEventListener(
																		"touchend",
																		this
																			._onTouchEnd
																	));
															},
														},
														{
															key: "_fireEvent",
															value: function (
																e,
																t
															) {
																return this._map.fire(
																	e,
																	{
																		originalEvent:
																			t,
																	}
																);
															},
														},
														{
															key: "_ignoreEvent",
															value: function (
																e
															) {
																var t =
																	this._map;
																return (
																	!(
																		!t.boxZoom ||
																		!t.boxZoom.isActive()
																	) ||
																	!(
																		!t.dragRotate ||
																		!t.dragRotate.isActive()
																	) ||
																	(e.touches
																		? e
																				.touches
																				.length >
																		  1
																		: !!e.ctrlKey ||
																		  ("mousemove" !==
																				e.type &&
																				e.button &&
																				0 !==
																					e.button))
																);
															},
														},
														{
															key: "_drainInertiaBuffer",
															value: function () {
																for (
																	var e =
																			this
																				._inertia,
																		t =
																			s.now();
																	e.length >
																		0 &&
																	t -
																		e[0][0] >
																		160;

																)
																	e.shift();
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = u;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(0),
											o = (function () {
												function e(t) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this._map = t),
														(this._el =
															t.getCanvasContainer()),
														i.bindAll(
															["_onKeyDown"],
															this
														);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "isEnabled",
															value: function () {
																return !!this
																	._enabled;
															},
														},
														{
															key: "enable",
															value: function () {
																this.isEnabled() ||
																	(this._el.addEventListener(
																		"keydown",
																		this
																			._onKeyDown,
																		!1
																	),
																	(this._enabled =
																		!0));
															},
														},
														{
															key: "disable",
															value: function () {
																this.isEnabled() &&
																	(this._el.removeEventListener(
																		"keydown",
																		this
																			._onKeyDown
																	),
																	(this._enabled =
																		!1));
															},
														},
														{
															key: "_onKeyDown",
															value: function (
																e
															) {
																if (
																	!(
																		e.altKey ||
																		e.ctrlKey ||
																		e.metaKey
																	)
																) {
																	var t = 0,
																		n = 0,
																		r = 0,
																		i = 0,
																		o = 0;
																	switch (
																		e.keyCode
																	) {
																		case 61:
																		case 107:
																		case 171:
																		case 187:
																			t = 1;
																			break;
																		case 189:
																		case 109:
																		case 173:
																			t =
																				-1;
																			break;
																		case 37:
																			e.shiftKey
																				? (n =
																						-1)
																				: (e.preventDefault(),
																				  (i =
																						-1));
																			break;
																		case 39:
																			e.shiftKey
																				? (n = 1)
																				: (e.preventDefault(),
																				  (i = 1));
																			break;
																		case 38:
																			e.shiftKey
																				? (r = 1)
																				: (e.preventDefault(),
																				  (o =
																						-1));
																			break;
																		case 40:
																			e.shiftKey
																				? (r =
																						-1)
																				: ((o = 1),
																				  e.preventDefault());
																			break;
																		default:
																			return;
																	}
																	var s =
																			this
																				._map,
																		l =
																			s.getZoom(),
																		u = {
																			duration: 300,
																			delayEndEvents: 500,
																			easing: a,
																			zoom: t
																				? Math.round(
																						l
																				  ) +
																				  t *
																						(e.shiftKey
																							? 2
																							: 1)
																				: l,
																			bearing:
																				s.getBearing() +
																				15 *
																					n,
																			pitch:
																				s.getPitch() +
																				10 *
																					r,
																			offset: [
																				100 *
																					-i,
																				100 *
																					-o,
																			],
																			center: s.getCenter(),
																		};
																	s.easeTo(
																		u,
																		{
																			originalEvent:
																				e,
																		}
																	);
																}
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										function a(e) {
											return e * (2 - e);
										}
										e.exports = o;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(0),
											o = (function () {
												function e(t) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this._map = t),
														i.bindAll(
															[
																"_onDblClick",
																"_onZoomEnd",
															],
															this
														);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "isEnabled",
															value: function () {
																return !!this
																	._enabled;
															},
														},
														{
															key: "isActive",
															value: function () {
																return !!this
																	._active;
															},
														},
														{
															key: "enable",
															value: function () {
																this.isEnabled() ||
																	(this._map.on(
																		"dblclick",
																		this
																			._onDblClick
																	),
																	(this._enabled =
																		!0));
															},
														},
														{
															key: "disable",
															value: function () {
																this.isEnabled() &&
																	(this._map.off(
																		"dblclick",
																		this
																			._onDblClick
																	),
																	(this._enabled =
																		!1));
															},
														},
														{
															key: "_onDblClick",
															value: function (
																e
															) {
																(this._active =
																	!0),
																	this._map.on(
																		"zoomend",
																		this
																			._onZoomEnd
																	),
																	this._map.zoomTo(
																		this._map.getZoom() +
																			(e
																				.originalEvent
																				.shiftKey
																				? -1
																				: 1),
																		{
																			around: e.lngLat,
																		},
																		e
																	);
															},
														},
														{
															key: "_onZoomEnd",
															value: function () {
																(this._active =
																	!1),
																	this._map.off(
																		"zoomend",
																		this
																			._onZoomEnd
																	);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = o;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(9),
											o = n(0),
											a = n(5),
											s = n(2),
											l = o.bezier(0, 0, 0.15, 1),
											u = (function () {
												function e(t) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this._map = t),
														(this._el =
															t.getCanvasContainer()),
														o.bindAll(
															[
																"_onStart",
																"_onMove",
																"_onEnd",
															],
															this
														);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "isEnabled",
															value: function () {
																return !!this
																	._enabled;
															},
														},
														{
															key: "enable",
															value: function (
																e
															) {
																this.isEnabled() ||
																	(this._el.classList.add(
																		"mapboxgl-touch-zoom-rotate"
																	),
																	this._el.addEventListener(
																		"touchstart",
																		this
																			._onStart,
																		!1
																	),
																	(this._enabled =
																		!0),
																	(this._aroundCenter =
																		e &&
																		"center" ===
																			e.around));
															},
														},
														{
															key: "disable",
															value: function () {
																this.isEnabled() &&
																	(this._el.classList.remove(
																		"mapboxgl-touch-zoom-rotate"
																	),
																	this._el.removeEventListener(
																		"touchstart",
																		this
																			._onStart
																	),
																	(this._enabled =
																		!1));
															},
														},
														{
															key: "disableRotation",
															value: function () {
																this._rotationDisabled =
																	!0;
															},
														},
														{
															key: "enableRotation",
															value: function () {
																this._rotationDisabled =
																	!1;
															},
														},
														{
															key: "_onStart",
															value: function (
																e
															) {
																if (
																	2 ===
																	e.touches
																		.length
																) {
																	var t =
																			i.mousePos(
																				this
																					._el,
																				e
																					.touches[0]
																			),
																		n =
																			i.mousePos(
																				this
																					._el,
																				e
																					.touches[1]
																			);
																	(this._startVec =
																		t.sub(
																			n
																		)),
																		(this._startScale =
																			this._map.transform.scale),
																		(this._startBearing =
																			this._map.transform.bearing),
																		(this._gestureIntent =
																			void 0),
																		(this._inertia =
																			[]),
																		a.document.addEventListener(
																			"touchmove",
																			this
																				._onMove,
																			!1
																		),
																		a.document.addEventListener(
																			"touchend",
																			this
																				._onEnd,
																			!1
																		);
																}
															},
														},
														{
															key: "_onMove",
															value: function (
																e
															) {
																if (
																	2 ===
																	e.touches
																		.length
																) {
																	var t =
																			i.mousePos(
																				this
																					._el,
																				e
																					.touches[0]
																			),
																		n =
																			i.mousePos(
																				this
																					._el,
																				e
																					.touches[1]
																			),
																		r = t
																			.add(
																				n
																			)
																			.div(
																				2
																			),
																		o =
																			t.sub(
																				n
																			),
																		a =
																			o.mag() /
																			this._startVec.mag(),
																		l = this
																			._rotationDisabled
																			? 0
																			: (180 *
																					o.angleWith(
																						this
																							._startVec
																					)) /
																			  Math.PI,
																		u =
																			this
																				._map;
																	if (
																		this
																			._gestureIntent
																	) {
																		var c =
																			{
																				duration: 0,
																				around: u.unproject(
																					r
																				),
																			};
																		"rotate" ===
																			this
																				._gestureIntent &&
																			(c.bearing =
																				this
																					._startBearing +
																				l),
																			("zoom" !==
																				this
																					._gestureIntent &&
																				"rotate" !==
																					this
																						._gestureIntent) ||
																				(c.zoom =
																					u.transform.scaleZoom(
																						this
																							._startScale *
																							a
																					)),
																			u.stop(),
																			this._drainInertiaBuffer(),
																			this._inertia.push(
																				[
																					s.now(),
																					a,
																					r,
																				]
																			),
																			u.easeTo(
																				c,
																				{
																					originalEvent:
																						e,
																				}
																			);
																	} else {
																		var f =
																			Math.abs(
																				1 -
																					a
																			) >
																			0.15;
																		Math.abs(
																			l
																		) > 10
																			? (this._gestureIntent =
																					"rotate")
																			: f &&
																			  (this._gestureIntent =
																					"zoom"),
																			this
																				._gestureIntent &&
																				((this._startVec =
																					o),
																				(this._startScale =
																					u.transform.scale),
																				(this._startBearing =
																					u.transform.bearing));
																	}
																	e.preventDefault();
																}
															},
														},
														{
															key: "_onEnd",
															value: function (
																e
															) {
																a.document.removeEventListener(
																	"touchmove",
																	this._onMove
																),
																	a.document.removeEventListener(
																		"touchend",
																		this
																			._onEnd
																	),
																	this._drainInertiaBuffer();
																var t =
																		this
																			._inertia,
																	n =
																		this
																			._map;
																if (
																	t.length < 2
																)
																	n.snapToNorth(
																		{},
																		{
																			originalEvent:
																				e,
																		}
																	);
																else {
																	var r =
																			t[
																				t.length -
																					1
																			],
																		i =
																			t[0],
																		o =
																			n.transform.scaleZoom(
																				this
																					._startScale *
																					r[1]
																			),
																		s =
																			n.transform.scaleZoom(
																				this
																					._startScale *
																					i[1]
																			),
																		u =
																			o -
																			s,
																		c =
																			(r[0] -
																				i[0]) /
																			1e3,
																		f =
																			r[2];
																	if (
																		0 !==
																			c &&
																		o !== s
																	) {
																		var h =
																			(0.15 *
																				u) /
																			c;
																		Math.abs(
																			h
																		) >
																			2.5 &&
																			(h =
																				h >
																				0
																					? 2.5
																					: -2.5);
																		var p =
																				1e3 *
																				Math.abs(
																					h /
																						(12 *
																							0.15)
																				),
																			d =
																				o +
																				(h *
																					p) /
																					2e3;
																		d < 0 &&
																			(d = 0),
																			n.easeTo(
																				{
																					zoom: d,
																					duration:
																						p,
																					easing: l,
																					around: this
																						._aroundCenter
																						? n.getCenter()
																						: n.unproject(
																								f
																						  ),
																				},
																				{
																					originalEvent:
																						e,
																				}
																			);
																	} else
																		n.snapToNorth(
																			{},
																			{
																				originalEvent:
																					e,
																			}
																		);
																}
															},
														},
														{
															key: "_drainInertiaBuffer",
															value: function () {
																for (
																	var e =
																			this
																				._inertia,
																		t =
																			s.now();
																	e.length >
																		2 &&
																	t -
																		e[0][0] >
																		160;

																)
																	e.shift();
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = u;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function f(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function h(e) {
											return (h = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function p(e, t) {
											return (p =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var d = i(0),
											y = i(26).number,
											m = i(2),
											v = i(21),
											g = i(39),
											_ = i(3),
											b = i(10),
											x = (function (e) {
												function t(e, n) {
													var r;
													return (
														(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((r = f(
															this,
															h(t).call(this)
														)).moving = !1),
														(r.transform = e),
														(r._bearingSnap =
															n.bearingSnap),
														r
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && p(e, t);
													})(t, b),
													(n = t),
													(r = [
														{
															key: "getCenter",
															value: function () {
																return this
																	.transform
																	.center;
															},
														},
														{
															key: "setCenter",
															value: function (
																e,
																t
															) {
																return this.jumpTo(
																	{
																		center: e,
																	},
																	t
																);
															},
														},
														{
															key: "panBy",
															value: function (
																e,
																t,
																n
															) {
																return (
																	(e =
																		_.convert(
																			e
																		).mult(
																			-1
																		)),
																	this.panTo(
																		this
																			.transform
																			.center,
																		d.extend(
																			{
																				offset: e,
																			},
																			t
																		),
																		n
																	)
																);
															},
														},
														{
															key: "panTo",
															value: function (
																e,
																t,
																n
															) {
																return this.easeTo(
																	d.extend(
																		{
																			center: e,
																		},
																		t
																	),
																	n
																);
															},
														},
														{
															key: "getZoom",
															value: function () {
																return this
																	.transform
																	.zoom;
															},
														},
														{
															key: "setZoom",
															value: function (
																e,
																t
															) {
																return (
																	this.jumpTo(
																		{
																			zoom: e,
																		},
																		t
																	),
																	this
																);
															},
														},
														{
															key: "zoomTo",
															value: function (
																e,
																t,
																n
															) {
																return this.easeTo(
																	d.extend(
																		{
																			zoom: e,
																		},
																		t
																	),
																	n
																);
															},
														},
														{
															key: "zoomIn",
															value: function (
																e,
																t
															) {
																return (
																	this.zoomTo(
																		this.getZoom() +
																			1,
																		e,
																		t
																	),
																	this
																);
															},
														},
														{
															key: "zoomOut",
															value: function (
																e,
																t
															) {
																return (
																	this.zoomTo(
																		this.getZoom() -
																			1,
																		e,
																		t
																	),
																	this
																);
															},
														},
														{
															key: "getBearing",
															value: function () {
																return this
																	.transform
																	.bearing;
															},
														},
														{
															key: "setBearing",
															value: function (
																e,
																t
															) {
																return (
																	this.jumpTo(
																		{
																			bearing:
																				e,
																		},
																		t
																	),
																	this
																);
															},
														},
														{
															key: "rotateTo",
															value: function (
																e,
																t,
																n
															) {
																return this.easeTo(
																	d.extend(
																		{
																			bearing:
																				e,
																		},
																		t
																	),
																	n
																);
															},
														},
														{
															key: "resetNorth",
															value: function (
																e,
																t
															) {
																return (
																	this.rotateTo(
																		0,
																		d.extend(
																			{
																				duration: 1e3,
																			},
																			e
																		),
																		t
																	),
																	this
																);
															},
														},
														{
															key: "snapToNorth",
															value: function (
																e,
																t
															) {
																return Math.abs(
																	this.getBearing()
																) <
																	this
																		._bearingSnap
																	? this.resetNorth(
																			e,
																			t
																	  )
																	: this;
															},
														},
														{
															key: "getPitch",
															value: function () {
																return this
																	.transform
																	.pitch;
															},
														},
														{
															key: "setPitch",
															value: function (
																e,
																t
															) {
																return (
																	this.jumpTo(
																		{
																			pitch: e,
																		},
																		t
																	),
																	this
																);
															},
														},
														{
															key: "fitBounds",
															value: function (
																e,
																t,
																n
															) {
																if (
																	"number" ==
																	typeof (t =
																		d.extend(
																			{
																				padding:
																					{
																						top: 0,
																						bottom: 0,
																						right: 0,
																						left: 0,
																					},
																				offset: [
																					0,
																					0,
																				],
																				maxZoom:
																					this
																						.transform
																						.maxZoom,
																			},
																			t
																		))
																		.padding
																) {
																	var r =
																		t.padding;
																	t.padding =
																		{
																			top: r,
																			bottom: r,
																			right: r,
																			left: r,
																		};
																}
																if (
																	!d.deepEqual(
																		(0,
																		u.default)(
																			t.padding
																		).sort(
																			function (
																				e,
																				t
																			) {
																				return e <
																					t
																					? -1
																					: e >
																					  t
																					? 1
																					: 0;
																			}
																		),
																		[
																			"bottom",
																			"left",
																			"right",
																			"top",
																		]
																	)
																)
																	return (
																		d.warnOnce(
																			"options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"
																		),
																		this
																	);
																e =
																	g.convert(
																		e
																	);
																var i = [
																		(t
																			.padding
																			.left -
																			t
																				.padding
																				.right) /
																			2,
																		(t
																			.padding
																			.top -
																			t
																				.padding
																				.bottom) /
																			2,
																	],
																	o =
																		Math.min(
																			t
																				.padding
																				.right,
																			t
																				.padding
																				.left
																		),
																	a =
																		Math.min(
																			t
																				.padding
																				.top,
																			t
																				.padding
																				.bottom
																		);
																t.offset = [
																	t
																		.offset[0] +
																		i[0],
																	t
																		.offset[1] +
																		i[1],
																];
																var s =
																		_.convert(
																			t.offset
																		),
																	l =
																		this
																			.transform,
																	c =
																		l.project(
																			e.getNorthWest()
																		),
																	f =
																		l.project(
																			e.getSouthEast()
																		),
																	h =
																		f.sub(
																			c
																		),
																	p =
																		(l.width -
																			2 *
																				o -
																			2 *
																				Math.abs(
																					s.x
																				)) /
																		h.x,
																	y =
																		(l.height -
																			2 *
																				a -
																			2 *
																				Math.abs(
																					s.y
																				)) /
																		h.y;
																return y < 0 ||
																	p < 0
																	? (d.warnOnce(
																			"Map cannot fit within canvas with the given bounds, padding, and/or offset."
																	  ),
																	  this)
																	: ((t.center =
																			l.unproject(
																				c
																					.add(
																						f
																					)
																					.div(
																						2
																					)
																			)),
																	  (t.zoom =
																			Math.min(
																				l.scaleZoom(
																					l.scale *
																						Math.min(
																							p,
																							y
																						)
																				),
																				t.maxZoom
																			)),
																	  (t.bearing = 0),
																	  t.linear
																			? this.easeTo(
																					t,
																					n
																			  )
																			: this.flyTo(
																					t,
																					n
																			  ));
															},
														},
														{
															key: "jumpTo",
															value: function (
																e,
																t
															) {
																this.stop();
																var n =
																		this
																			.transform,
																	r = !1,
																	i = !1,
																	o = !1;
																return (
																	"zoom" in
																		e &&
																		n.zoom !==
																			+e.zoom &&
																		((r =
																			!0),
																		(n.zoom =
																			+e.zoom)),
																	void 0 !==
																		e.center &&
																		(n.center =
																			v.convert(
																				e.center
																			)),
																	"bearing" in
																		e &&
																		n.bearing !==
																			+e.bearing &&
																		((i =
																			!0),
																		(n.bearing =
																			+e.bearing)),
																	"pitch" in
																		e &&
																		n.pitch !==
																			+e.pitch &&
																		((o =
																			!0),
																		(n.pitch =
																			+e.pitch)),
																	this.fire(
																		"movestart",
																		t
																	).fire(
																		"move",
																		t
																	),
																	r &&
																		this.fire(
																			"zoomstart",
																			t
																		)
																			.fire(
																				"zoom",
																				t
																			)
																			.fire(
																				"zoomend",
																				t
																			),
																	i &&
																		this.fire(
																			"rotate",
																			t
																		),
																	o &&
																		this.fire(
																			"pitchstart",
																			t
																		)
																			.fire(
																				"pitch",
																				t
																			)
																			.fire(
																				"pitchend",
																				t
																			),
																	this.fire(
																		"moveend",
																		t
																	)
																);
															},
														},
														{
															key: "easeTo",
															value: function (
																e,
																t
															) {
																var n = this;
																this.stop(),
																	!1 ===
																		(e =
																			d.extend(
																				{
																					offset: [
																						0,
																						0,
																					],
																					duration: 500,
																					easing: d.ease,
																				},
																				e
																			))
																			.animate &&
																		(e.duration = 0),
																	e.smoothEasing &&
																		0 !==
																			e.duration &&
																		(e.easing =
																			this._smoothOutEasing(
																				e.duration
																			));
																var r =
																		this
																			.transform,
																	i =
																		this.getZoom(),
																	o =
																		this.getBearing(),
																	a =
																		this.getPitch(),
																	s =
																		"zoom" in
																		e
																			? +e.zoom
																			: i,
																	l =
																		"bearing" in
																		e
																			? this._normalizeBearing(
																					e.bearing,
																					o
																			  )
																			: o,
																	u =
																		"pitch" in
																		e
																			? +e.pitch
																			: a,
																	c =
																		r.centerPoint.add(
																			_.convert(
																				e.offset
																			)
																		),
																	f =
																		r.pointLocation(
																			c
																		),
																	h =
																		v.convert(
																			e.center ||
																				f
																		);
																this._normalizeCenter(
																	h
																);
																var p,
																	m,
																	g =
																		r.project(
																			f
																		),
																	b = r
																		.project(
																			h
																		)
																		.sub(g),
																	x =
																		r.zoomScale(
																			s -
																				i
																		);
																return (
																	e.around &&
																		((p =
																			v.convert(
																				e.around
																			)),
																		(m =
																			r.locationPoint(
																				p
																			))),
																	(this.zooming =
																		s !==
																		i),
																	(this.rotating =
																		o !==
																		l),
																	(this.pitching =
																		u !==
																		a),
																	this._prepareEase(
																		t,
																		e.noMoveStart
																	),
																	clearTimeout(
																		this
																			._onEaseEnd
																	),
																	this._ease(
																		function (
																			e
																		) {
																			if (
																				(n.zooming &&
																					(r.zoom =
																						y(
																							i,
																							s,
																							e
																						)),
																				n.rotating &&
																					(r.bearing =
																						y(
																							o,
																							l,
																							e
																						)),
																				n.pitching &&
																					(r.pitch =
																						y(
																							a,
																							u,
																							e
																						)),
																				p)
																			)
																				r.setLocationAtPoint(
																					p,
																					m
																				);
																			else {
																				var f =
																						r.zoomScale(
																							r.zoom -
																								i
																						),
																					h =
																						s >
																						i
																							? Math.min(
																									2,
																									x
																							  )
																							: Math.max(
																									0.5,
																									x
																							  ),
																					d =
																						Math.pow(
																							h,
																							1 -
																								e
																						),
																					v =
																						r.unproject(
																							g
																								.add(
																									b.mult(
																										e *
																											d
																									)
																								)
																								.mult(
																									f
																								)
																						);
																				r.setLocationAtPoint(
																					r.renderWorldCopies
																						? v.wrap()
																						: v,
																					c
																				);
																			}
																			n._fireMoveEvents(
																				t
																			);
																		},
																		function () {
																			e.delayEndEvents
																				? (n._onEaseEnd =
																						setTimeout(
																							function () {
																								return n._easeToEnd(
																									t
																								);
																							},
																							e.delayEndEvents
																						))
																				: n._easeToEnd(
																						t
																				  );
																		},
																		e
																	),
																	this
																);
															},
														},
														{
															key: "_prepareEase",
															value: function (
																e,
																t
															) {
																(this.moving =
																	!0),
																	t ||
																		this.fire(
																			"movestart",
																			e
																		),
																	this
																		.zooming &&
																		this.fire(
																			"zoomstart",
																			e
																		),
																	this
																		.pitching &&
																		this.fire(
																			"pitchstart",
																			e
																		);
															},
														},
														{
															key: "_fireMoveEvents",
															value: function (
																e
															) {
																this.fire(
																	"move",
																	e
																),
																	this
																		.zooming &&
																		this.fire(
																			"zoom",
																			e
																		),
																	this
																		.rotating &&
																		this.fire(
																			"rotate",
																			e
																		),
																	this
																		.pitching &&
																		this.fire(
																			"pitch",
																			e
																		);
															},
														},
														{
															key: "_easeToEnd",
															value: function (
																e
															) {
																var t =
																		this
																			.zooming,
																	n =
																		this
																			.pitching;
																(this.moving =
																	!1),
																	(this.zooming =
																		!1),
																	(this.rotating =
																		!1),
																	(this.pitching =
																		!1),
																	t &&
																		this.fire(
																			"zoomend",
																			e
																		),
																	n &&
																		this.fire(
																			"pitchend",
																			e
																		),
																	this.fire(
																		"moveend",
																		e
																	);
															},
														},
														{
															key: "flyTo",
															value: function (
																e,
																t
															) {
																var n = this;
																this.stop(),
																	(e =
																		d.extend(
																			{
																				offset: [
																					0,
																					0,
																				],
																				speed: 1.2,
																				curve: 1.42,
																				easing: d.ease,
																			},
																			e
																		));
																var r =
																		this
																			.transform,
																	i =
																		this.getZoom(),
																	o =
																		this.getBearing(),
																	a =
																		this.getPitch(),
																	s =
																		"zoom" in
																		e
																			? d.clamp(
																					+e.zoom,
																					r.minZoom,
																					r.maxZoom
																			  )
																			: i,
																	l =
																		"bearing" in
																		e
																			? this._normalizeBearing(
																					e.bearing,
																					o
																			  )
																			: o,
																	u =
																		"pitch" in
																		e
																			? +e.pitch
																			: a,
																	c =
																		r.zoomScale(
																			s -
																				i
																		),
																	f =
																		r.centerPoint.add(
																			_.convert(
																				e.offset
																			)
																		),
																	h =
																		r.pointLocation(
																			f
																		),
																	p =
																		v.convert(
																			e.center ||
																				h
																		);
																this._normalizeCenter(
																	p
																);
																var m =
																		r.project(
																			h
																		),
																	g = r
																		.project(
																			p
																		)
																		.sub(m),
																	b = e.curve,
																	x =
																		Math.max(
																			r.width,
																			r.height
																		),
																	w = x / c,
																	C = g.mag();
																if (
																	"minZoom" in
																	e
																) {
																	var T =
																			d.clamp(
																				Math.min(
																					e.minZoom,
																					i,
																					s
																				),
																				r.minZoom,
																				r.maxZoom
																			),
																		k =
																			x /
																			r.zoomScale(
																				T -
																					i
																			);
																	b =
																		Math.sqrt(
																			(k /
																				C) *
																				2
																		);
																}
																var P = b * b;
																function E(e) {
																	var t =
																		(w * w -
																			x *
																				x +
																			(e
																				? -1
																				: 1) *
																				P *
																				P *
																				C *
																				C) /
																		(2 *
																			(e
																				? w
																				: x) *
																			P *
																			C);
																	return Math.log(
																		Math.sqrt(
																			t *
																				t +
																				1
																		) - t
																	);
																}
																function S(e) {
																	return (
																		(Math.exp(
																			e
																		) -
																			Math.exp(
																				-e
																			)) /
																		2
																	);
																}
																function A(e) {
																	return (
																		(Math.exp(
																			e
																		) +
																			Math.exp(
																				-e
																			)) /
																		2
																	);
																}
																var M = E(0),
																	I =
																		function (
																			e
																		) {
																			return (
																				A(
																					M
																				) /
																				A(
																					M +
																						b *
																							e
																				)
																			);
																		},
																	L =
																		function (
																			e
																		) {
																			return (
																				(x *
																					((A(
																						M
																					) *
																						(S(
																							(t =
																								M +
																								b *
																									e)
																						) /
																							A(
																								t
																							)) -
																						S(
																							M
																						)) /
																						P)) /
																				C
																			);
																			var t;
																		},
																	D =
																		(E(1) -
																			M) /
																		b;
																if (
																	Math.abs(
																		C
																	) < 1e-6 ||
																	!isFinite(D)
																) {
																	if (
																		Math.abs(
																			x -
																				w
																		) < 1e-6
																	)
																		return this.easeTo(
																			e,
																			t
																		);
																	var O =
																		w < x
																			? -1
																			: 1;
																	(D =
																		Math.abs(
																			Math.log(
																				w /
																					x
																			)
																		) / b),
																		(L =
																			function () {
																				return 0;
																			}),
																		(I =
																			function (
																				e
																			) {
																				return Math.exp(
																					O *
																						b *
																						e
																				);
																			});
																}
																if (
																	"duration" in
																	e
																)
																	e.duration =
																		+e.duration;
																else {
																	var z =
																		"screenSpeed" in
																		e
																			? +e.screenSpeed /
																			  b
																			: +e.speed;
																	e.duration =
																		(1e3 *
																			D) /
																		z;
																}
																return (
																	e.maxDuration &&
																		e.duration >
																			e.maxDuration &&
																		(e.duration = 0),
																	(this.zooming =
																		!0),
																	(this.rotating =
																		o !==
																		l),
																	(this.pitching =
																		u !==
																		a),
																	this._prepareEase(
																		t,
																		!1
																	),
																	this._ease(
																		function (
																			e
																		) {
																			var s =
																					e *
																					D,
																				c =
																					1 /
																					I(
																						s
																					);
																			(r.zoom =
																				i +
																				r.scaleZoom(
																					c
																				)),
																				n.rotating &&
																					(r.bearing =
																						y(
																							o,
																							l,
																							e
																						)),
																				n.pitching &&
																					(r.pitch =
																						y(
																							a,
																							u,
																							e
																						));
																			var h =
																				r.unproject(
																					m
																						.add(
																							g.mult(
																								L(
																									s
																								)
																							)
																						)
																						.mult(
																							c
																						)
																				);
																			r.setLocationAtPoint(
																				r.renderWorldCopies
																					? h.wrap()
																					: h,
																				f
																			),
																				n._fireMoveEvents(
																					t
																				);
																		},
																		function () {
																			return n._easeToEnd(
																				t
																			);
																		},
																		e
																	),
																	this
																);
															},
														},
														{
															key: "isEasing",
															value: function () {
																return !!this
																	._easeFn;
															},
														},
														{
															key: "isMoving",
															value: function () {
																return this
																	.moving;
															},
														},
														{
															key: "stop",
															value: function () {
																return (
																	this
																		._easeFn &&
																		this._finishEase(),
																	this
																);
															},
														},
														{
															key: "_ease",
															value: function (
																e,
																t,
																n
															) {
																!1 ===
																	n.animate ||
																0 === n.duration
																	? (e(1),
																	  t())
																	: ((this._easeStart =
																			m.now()),
																	  (this._easeFn =
																			e),
																	  (this._finishFn =
																			t),
																	  (this._easeOptions =
																			n),
																	  this._update());
															},
														},
														{
															key: "_updateEase",
															value: function () {
																var e =
																	Math.min(
																		(m.now() -
																			this
																				._easeStart) /
																			this
																				._easeOptions
																				.duration,
																		1
																	);
																this._easeFn(
																	this._easeOptions.easing(
																		e
																	)
																),
																	1 === e &&
																		this._finishEase();
															},
														},
														{
															key: "_finishEase",
															value: function () {
																delete this
																	._easeFn;
																var e =
																	this
																		._finishFn;
																delete this
																	._finishFn,
																	e.call(
																		this
																	);
															},
														},
														{
															key: "_normalizeBearing",
															value: function (
																e,
																t
															) {
																e = d.wrap(
																	e,
																	-180,
																	180
																);
																var n =
																	Math.abs(
																		e - t
																	);
																return (
																	Math.abs(
																		e -
																			360 -
																			t
																	) < n &&
																		(e -= 360),
																	Math.abs(
																		e +
																			360 -
																			t
																	) < n &&
																		(e += 360),
																	e
																);
															},
														},
														{
															key: "_normalizeCenter",
															value: function (
																e
															) {
																var t =
																	this
																		.transform;
																if (
																	t.renderWorldCopies &&
																	!t.lngRange
																) {
																	var n =
																		e.lng -
																		t.center
																			.lng;
																	e.lng +=
																		n > 180
																			? -360
																			: n <
																			  -180
																			? 360
																			: 0;
																}
															},
														},
														{
															key: "_smoothOutEasing",
															value: function (
																e
															) {
																var t = d.ease;
																if (
																	this
																		._prevEase
																) {
																	var n =
																			this
																				._prevEase,
																		r =
																			(m.now() -
																				n.start) /
																			n.duration,
																		i =
																			n.easing(
																				r +
																					0.01
																			) -
																			n.easing(
																				r
																			),
																		o =
																			(0.27 /
																				Math.sqrt(
																					i *
																						i +
																						1e-4
																				)) *
																			0.01,
																		a =
																			Math.sqrt(
																				0.0729 -
																					o *
																						o
																			);
																	t =
																		d.bezier(
																			o,
																			a,
																			0.25,
																			1
																		);
																}
																return (
																	(this._prevEase =
																		{
																			start: m.now(),
																			duration:
																				e,
																			easing: t,
																		}),
																	t
																);
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										e.exports = x;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(9),
											o = n(0),
											a = (function () {
												function e() {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														o.bindAll(
															["_updateLogo"],
															this
														);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "onAdd",
															value: function (
																e
															) {
																(this._map = e),
																	(this._container =
																		i.create(
																			"div",
																			"mapboxgl-ctrl"
																		));
																var t =
																	i.create(
																		"a",
																		"mapboxgl-ctrl-logo"
																	);
																return (
																	(t.target =
																		"_blank"),
																	(t.href =
																		"https://www.mapbox.com/"),
																	t.setAttribute(
																		"aria-label",
																		"Mapbox logo"
																	),
																	this._container.appendChild(
																		t
																	),
																	(this._container.style.display =
																		"none"),
																	this._map.on(
																		"sourcedata",
																		this
																			._updateLogo
																	),
																	this._updateLogo(),
																	this
																		._container
																);
															},
														},
														{
															key: "onRemove",
															value: function () {
																i.remove(
																	this
																		._container
																),
																	this._map.off(
																		"sourcedata",
																		this
																			._updateLogo
																	);
															},
														},
														{
															key: "getDefaultPosition",
															value: function () {
																return "bottom-left";
															},
														},
														{
															key: "_updateLogo",
															value: function (
																e
															) {
																(e &&
																	"metadata" !==
																		e.sourceDataType) ||
																	(this._container.style.display =
																		this._logoRequired()
																			? "block"
																			: "none");
															},
														},
														{
															key: "_logoRequired",
															value: function () {
																if (
																	this._map
																		.style
																) {
																	var e =
																		this
																			._map
																			.style
																			.sourceCaches;
																	for (var t in e)
																		if (
																			e[
																				t
																			].getSource()
																				.mapbox_logo
																		)
																			return !0;
																	return !1;
																}
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = a;
									},
									function (e, t) {},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(9),
											o = n(0),
											a = n(127),
											s = {
												showCompass: !0,
												showZoom: !0,
											},
											l = (function () {
												function e(t) {
													var n = this;
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.options =
															o.extend({}, s, t)),
														(this._container =
															i.create(
																"div",
																"mapboxgl-ctrl mapboxgl-ctrl-group"
															)),
														this._container.addEventListener(
															"contextmenu",
															function (e) {
																return e.preventDefault();
															}
														),
														this.options.showZoom &&
															((this._zoomInButton =
																this._createButton(
																	"mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in",
																	"Zoom In",
																	function () {
																		return n._map.zoomIn();
																	}
																)),
															(this._zoomOutButton =
																this._createButton(
																	"mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out",
																	"Zoom Out",
																	function () {
																		return n._map.zoomOut();
																	}
																))),
														this.options
															.showCompass &&
															(o.bindAll(
																[
																	"_rotateCompassArrow",
																],
																this
															),
															(this._compass =
																this._createButton(
																	"mapboxgl-ctrl-icon mapboxgl-ctrl-compass",
																	"Reset North",
																	function () {
																		return n._map.resetNorth();
																	}
																)),
															(this._compassArrow =
																i.create(
																	"span",
																	"mapboxgl-ctrl-compass-arrow",
																	this
																		._compass
																)));
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "_rotateCompassArrow",
															value: function () {
																var e =
																	"rotate(".concat(
																		this
																			._map
																			.transform
																			.angle *
																			(180 /
																				Math.PI),
																		"deg)"
																	);
																this._compassArrow.style.transform =
																	e;
															},
														},
														{
															key: "onAdd",
															value: function (
																e
															) {
																return (
																	(this._map =
																		e),
																	this.options
																		.showCompass &&
																		(this._map.on(
																			"rotate",
																			this
																				._rotateCompassArrow
																		),
																		this._rotateCompassArrow(),
																		(this._handler =
																			new a(
																				e,
																				{
																					button: "left",
																					element:
																						this
																							._compass,
																				}
																			)),
																		this._handler.enable()),
																	this
																		._container
																);
															},
														},
														{
															key: "onRemove",
															value: function () {
																i.remove(
																	this
																		._container
																),
																	this.options
																		.showCompass &&
																		(this._map.off(
																			"rotate",
																			this
																				._rotateCompassArrow
																		),
																		this._handler.disable(),
																		delete this
																			._handler),
																	delete this
																		._map;
															},
														},
														{
															key: "_createButton",
															value: function (
																e,
																t,
																n
															) {
																var r =
																	i.create(
																		"button",
																		e,
																		this
																			._container
																	);
																return (
																	(r.type =
																		"button"),
																	r.setAttribute(
																		"aria-label",
																		t
																	),
																	r.addEventListener(
																		"click",
																		n
																	),
																	r
																);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = l;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function u(e) {
											return (u = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function f(e) {
											if (void 0 === e)
												throw new ReferenceError(
													"this hasn't been initialised - super() hasn't been called"
												);
											return e;
										}
										function h(e, t) {
											return (h =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var p,
											d = i(10),
											y = i(9),
											m = i(5),
											v = i(0),
											g = i(1),
											_ = i(21),
											b = i(129),
											x = {
												positionOptions: {
													enableHighAccuracy: !1,
													timeout: 6e3,
												},
												fitBoundsOptions: {
													maxZoom: 15,
												},
												trackUserLocation: !1,
												showUserLocation: !0,
											},
											w = (function (e) {
												function t(e) {
													var n;
													return (
														(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((n = (function (e, t) {
															return !t ||
																("object" !==
																	o(t) &&
																	"function" !=
																		typeof t)
																? f(e)
																: t;
														})(
															this,
															u(t).call(this)
														)).options = v.extend(
															{},
															x,
															e
														)),
														v.bindAll(
															[
																"_onSuccess",
																"_onError",
																"_finish",
																"_setupUI",
																"_updateCamera",
																"_updateMarker",
																"_onClickGeolocate",
															],
															f(n)
														),
														n
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && h(e, t);
													})(t, d),
													(n = t),
													(r = [
														{
															key: "onAdd",
															value: function (
																e
															) {
																var t;
																return (
																	(this._map =
																		e),
																	(this._container =
																		y.create(
																			"div",
																			""
																				.concat(
																					"mapboxgl-ctrl",
																					" "
																				)
																				.concat(
																					"mapboxgl-ctrl",
																					"-group"
																				)
																		)),
																	(t =
																		this
																			._setupUI),
																	void 0 !== p
																		? t(p)
																		: void 0 !==
																		  m
																				.navigator
																				.permissions
																		? m.navigator.permissions
																				.query(
																					{
																						name: "geolocation",
																					}
																				)
																				.then(
																					function (
																						e
																					) {
																						(p =
																							"denied" !==
																							e.state),
																							t(
																								p
																							);
																					}
																				)
																		: ((p =
																				!!m
																					.navigator
																					.geolocation),
																		  t(p)),
																	this
																		._container
																);
															},
														},
														{
															key: "onRemove",
															value: function () {
																void 0 !==
																	this
																		._geolocationWatchID &&
																	(m.navigator.geolocation.clearWatch(
																		this
																			._geolocationWatchID
																	),
																	(this._geolocationWatchID =
																		void 0)),
																	this.options
																		.showUserLocation &&
																		this._userLocationDotMarker.remove(),
																	y.remove(
																		this
																			._container
																	),
																	(this._map =
																		void 0);
															},
														},
														{
															key: "_onSuccess",
															value: function (
																e
															) {
																if (
																	this.options
																		.trackUserLocation
																)
																	switch (
																		((this._lastKnownPosition =
																			e),
																		this
																			._watchState)
																	) {
																		case "WAITING_ACTIVE":
																		case "ACTIVE_LOCK":
																		case "ACTIVE_ERROR":
																			(this._watchState =
																				"ACTIVE_LOCK"),
																				this._geolocateButton.classList.remove(
																					"mapboxgl-ctrl-geolocate-waiting"
																				),
																				this._geolocateButton.classList.remove(
																					"mapboxgl-ctrl-geolocate-active-error"
																				),
																				this._geolocateButton.classList.add(
																					"mapboxgl-ctrl-geolocate-active"
																				);
																			break;
																		case "BACKGROUND":
																		case "BACKGROUND_ERROR":
																			(this._watchState =
																				"BACKGROUND"),
																				this._geolocateButton.classList.remove(
																					"mapboxgl-ctrl-geolocate-waiting"
																				),
																				this._geolocateButton.classList.remove(
																					"mapboxgl-ctrl-geolocate-background-error"
																				),
																				this._geolocateButton.classList.add(
																					"mapboxgl-ctrl-geolocate-background"
																				);
																			break;
																		default:
																			g(
																				!1,
																				"Unexpected watchState ".concat(
																					this
																						._watchState
																				)
																			);
																	}
																this.options
																	.showUserLocation &&
																	"OFF" !==
																		this
																			._watchState &&
																	this._updateMarker(
																		e
																	),
																	(this
																		.options
																		.trackUserLocation &&
																		"ACTIVE_LOCK" !==
																			this
																				._watchState) ||
																		this._updateCamera(
																			e
																		),
																	this.options
																		.showUserLocation &&
																		this._dotElement.classList.remove(
																			"mapboxgl-user-location-dot-stale"
																		),
																	this.fire(
																		"geolocate",
																		e
																	),
																	this._finish();
															},
														},
														{
															key: "_updateCamera",
															value: function (
																e
															) {
																var t = new _(
																		e.coords.longitude,
																		e.coords.latitude
																	),
																	n =
																		e.coords
																			.accuracy;
																this._map.fitBounds(
																	t.toBounds(
																		n
																	),
																	this.options
																		.fitBoundsOptions,
																	{
																		geolocateSource:
																			!0,
																	}
																);
															},
														},
														{
															key: "_updateMarker",
															value: function (
																e
															) {
																e
																	? this._userLocationDotMarker
																			.setLngLat(
																				[
																					e
																						.coords
																						.longitude,
																					e
																						.coords
																						.latitude,
																				]
																			)
																			.addTo(
																				this
																					._map
																			)
																	: this._userLocationDotMarker.remove();
															},
														},
														{
															key: "_onError",
															value: function (
																e
															) {
																if (
																	this.options
																		.trackUserLocation
																)
																	if (
																		1 ===
																		e.code
																	)
																		(this._watchState =
																			"OFF"),
																			this._geolocateButton.classList.remove(
																				"mapboxgl-ctrl-geolocate-waiting"
																			),
																			this._geolocateButton.classList.remove(
																				"mapboxgl-ctrl-geolocate-active"
																			),
																			this._geolocateButton.classList.remove(
																				"mapboxgl-ctrl-geolocate-active-error"
																			),
																			this._geolocateButton.classList.remove(
																				"mapboxgl-ctrl-geolocate-background"
																			),
																			this._geolocateButton.classList.remove(
																				"mapboxgl-ctrl-geolocate-background-error"
																			),
																			void 0 !==
																				this
																					._geolocationWatchID &&
																				this._clearWatch();
																	else
																		switch (
																			this
																				._watchState
																		) {
																			case "WAITING_ACTIVE":
																				(this._watchState =
																					"ACTIVE_ERROR"),
																					this._geolocateButton.classList.remove(
																						"mapboxgl-ctrl-geolocate-active"
																					),
																					this._geolocateButton.classList.add(
																						"mapboxgl-ctrl-geolocate-active-error"
																					);
																				break;
																			case "ACTIVE_LOCK":
																				(this._watchState =
																					"ACTIVE_ERROR"),
																					this._geolocateButton.classList.remove(
																						"mapboxgl-ctrl-geolocate-active"
																					),
																					this._geolocateButton.classList.add(
																						"mapboxgl-ctrl-geolocate-active-error"
																					),
																					this._geolocateButton.classList.add(
																						"mapboxgl-ctrl-geolocate-waiting"
																					);
																				break;
																			case "BACKGROUND":
																				(this._watchState =
																					"BACKGROUND_ERROR"),
																					this._geolocateButton.classList.remove(
																						"mapboxgl-ctrl-geolocate-background"
																					),
																					this._geolocateButton.classList.add(
																						"mapboxgl-ctrl-geolocate-background-error"
																					),
																					this._geolocateButton.classList.add(
																						"mapboxgl-ctrl-geolocate-waiting"
																					);
																				break;
																			case "ACTIVE_ERROR":
																				break;
																			default:
																				g(
																					!1,
																					"Unexpected watchState ".concat(
																						this
																							._watchState
																					)
																				);
																		}
																"OFF" !==
																	this
																		._watchState &&
																	this.options
																		.showUserLocation &&
																	this._dotElement.classList.add(
																		"mapboxgl-user-location-dot-stale"
																	),
																	this.fire(
																		"error",
																		e
																	),
																	this._finish();
															},
														},
														{
															key: "_finish",
															value: function () {
																this
																	._timeoutId &&
																	clearTimeout(
																		this
																			._timeoutId
																	),
																	(this._timeoutId =
																		void 0);
															},
														},
														{
															key: "_setupUI",
															value: function (
																e
															) {
																var t = this;
																!1 !== e &&
																	(this._container.addEventListener(
																		"contextmenu",
																		function (
																			e
																		) {
																			return e.preventDefault();
																		}
																	),
																	(this._geolocateButton =
																		y.create(
																			"button",
																			""
																				.concat(
																					"mapboxgl-ctrl",
																					"-icon "
																				)
																				.concat(
																					"mapboxgl-ctrl",
																					"-geolocate"
																				),
																			this
																				._container
																		)),
																	(this._geolocateButton.type =
																		"button"),
																	this._geolocateButton.setAttribute(
																		"aria-label",
																		"Geolocate"
																	),
																	this.options
																		.trackUserLocation &&
																		(this._geolocateButton.setAttribute(
																			"aria-pressed",
																			"false"
																		),
																		(this._watchState =
																			"OFF")),
																	this.options
																		.showUserLocation &&
																		((this._dotElement =
																			y.create(
																				"div",
																				"mapboxgl-user-location-dot"
																			)),
																		(this._userLocationDotMarker =
																			new b(
																				this._dotElement
																			)),
																		this
																			.options
																			.trackUserLocation &&
																			(this._watchState =
																				"OFF")),
																	this._geolocateButton.addEventListener(
																		"click",
																		this._onClickGeolocate.bind(
																			this
																		)
																	),
																	this.options
																		.trackUserLocation &&
																		this._map.on(
																			"movestart",
																			function (
																				e
																			) {
																				e.geolocateSource ||
																					"ACTIVE_LOCK" !==
																						t._watchState ||
																					((t._watchState =
																						"BACKGROUND"),
																					t._geolocateButton.classList.add(
																						"mapboxgl-ctrl-geolocate-background"
																					),
																					t._geolocateButton.classList.remove(
																						"mapboxgl-ctrl-geolocate-active"
																					),
																					t.fire(
																						"trackuserlocationend"
																					));
																			}
																		));
															},
														},
														{
															key: "_onClickGeolocate",
															value: function () {
																if (
																	this.options
																		.trackUserLocation
																) {
																	switch (
																		this
																			._watchState
																	) {
																		case "OFF":
																			(this._watchState =
																				"WAITING_ACTIVE"),
																				this.fire(
																					"trackuserlocationstart"
																				);
																			break;
																		case "WAITING_ACTIVE":
																		case "ACTIVE_LOCK":
																		case "ACTIVE_ERROR":
																		case "BACKGROUND_ERROR":
																			(this._watchState =
																				"OFF"),
																				this._geolocateButton.classList.remove(
																					"mapboxgl-ctrl-geolocate-waiting"
																				),
																				this._geolocateButton.classList.remove(
																					"mapboxgl-ctrl-geolocate-active"
																				),
																				this._geolocateButton.classList.remove(
																					"mapboxgl-ctrl-geolocate-active-error"
																				),
																				this._geolocateButton.classList.remove(
																					"mapboxgl-ctrl-geolocate-background"
																				),
																				this._geolocateButton.classList.remove(
																					"mapboxgl-ctrl-geolocate-background-error"
																				),
																				this.fire(
																					"trackuserlocationend"
																				);
																			break;
																		case "BACKGROUND":
																			(this._watchState =
																				"ACTIVE_LOCK"),
																				this._geolocateButton.classList.remove(
																					"mapboxgl-ctrl-geolocate-background"
																				),
																				this
																					._lastKnownPosition &&
																					this._updateCamera(
																						this
																							._lastKnownPosition
																					),
																				this.fire(
																					"trackuserlocationstart"
																				);
																			break;
																		default:
																			g(
																				!1,
																				"Unexpected watchState ".concat(
																					this
																						._watchState
																				)
																			);
																	}
																	switch (
																		this
																			._watchState
																	) {
																		case "WAITING_ACTIVE":
																			this._geolocateButton.classList.add(
																				"mapboxgl-ctrl-geolocate-waiting"
																			),
																				this._geolocateButton.classList.add(
																					"mapboxgl-ctrl-geolocate-active"
																				);
																			break;
																		case "ACTIVE_LOCK":
																			this._geolocateButton.classList.add(
																				"mapboxgl-ctrl-geolocate-active"
																			);
																			break;
																		case "ACTIVE_ERROR":
																			this._geolocateButton.classList.add(
																				"mapboxgl-ctrl-geolocate-waiting"
																			),
																				this._geolocateButton.classList.add(
																					"mapboxgl-ctrl-geolocate-active-error"
																				);
																			break;
																		case "BACKGROUND":
																			this._geolocateButton.classList.add(
																				"mapboxgl-ctrl-geolocate-background"
																			);
																			break;
																		case "BACKGROUND_ERROR":
																			this._geolocateButton.classList.add(
																				"mapboxgl-ctrl-geolocate-waiting"
																			),
																				this._geolocateButton.classList.add(
																					"mapboxgl-ctrl-geolocate-background-error"
																				);
																			break;
																		case "OFF":
																			break;
																		default:
																			g(
																				!1,
																				"Unexpected watchState ".concat(
																					this
																						._watchState
																				)
																			);
																	}
																	"OFF" ===
																		this
																			._watchState &&
																	void 0 !==
																		this
																			._geolocationWatchID
																		? this._clearWatch()
																		: void 0 ===
																				this
																					._geolocationWatchID &&
																		  (this._geolocateButton.classList.add(
																				"mapboxgl-ctrl-geolocate-waiting"
																		  ),
																		  this._geolocateButton.setAttribute(
																				"aria-pressed",
																				"true"
																		  ),
																		  (this._geolocationWatchID =
																				m.navigator.geolocation.watchPosition(
																					this
																						._onSuccess,
																					this
																						._onError,
																					this
																						.options
																						.positionOptions
																				)));
																} else
																	m.navigator.geolocation.getCurrentPosition(
																		this
																			._onSuccess,
																		this
																			._onError,
																		this
																			.options
																			.positionOptions
																	),
																		(this._timeoutId =
																			setTimeout(
																				this
																					._finish,
																				1e4
																			));
															},
														},
														{
															key: "_clearWatch",
															value: function () {
																m.navigator.geolocation.clearWatch(
																	this
																		._geolocationWatchID
																),
																	(this._geolocationWatchID =
																		void 0),
																	this._geolocateButton.classList.remove(
																		"mapboxgl-ctrl-geolocate-waiting"
																	),
																	this._geolocateButton.setAttribute(
																		"aria-pressed",
																		"false"
																	),
																	this.options
																		.showUserLocation &&
																		this._updateMarker(
																			null
																		);
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										e.exports = w;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(9),
											o = n(0),
											a = (function () {
												function e(t) {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this.options = t),
														o.bindAll(
															["_onMove"],
															this
														);
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "getDefaultPosition",
															value: function () {
																return "bottom-left";
															},
														},
														{
															key: "_onMove",
															value: function () {
																!(function (
																	e,
																	t,
																	n
																) {
																	var r,
																		i,
																		o,
																		a,
																		l,
																		u,
																		c =
																			(n &&
																				n.maxWidth) ||
																			100,
																		f =
																			e
																				._container
																				.clientHeight /
																			2,
																		h =
																			((r =
																				e.unproject(
																					[
																						0,
																						f,
																					]
																				)),
																			(i =
																				e.unproject(
																					[
																						c,
																						f,
																					]
																				)),
																			(o =
																				Math.PI /
																				180),
																			(a =
																				r.lat *
																				o),
																			(l =
																				i.lat *
																				o),
																			(u =
																				Math.sin(
																					a
																				) *
																					Math.sin(
																						l
																					) +
																				Math.cos(
																					a
																				) *
																					Math.cos(
																						l
																					) *
																					Math.cos(
																						(i.lng -
																							r.lng) *
																							o
																					)),
																			6371e3 *
																				Math.acos(
																					Math.min(
																						u,
																						1
																					)
																				));
																	if (
																		n &&
																		"imperial" ===
																			n.unit
																	) {
																		var p =
																			3.2808 *
																			h;
																		p > 5280
																			? s(
																					t,
																					c,
																					p /
																						5280,
																					"mi"
																			  )
																			: s(
																					t,
																					c,
																					p,
																					"ft"
																			  );
																	} else
																		n &&
																		"nautical" ===
																			n.unit
																			? s(
																					t,
																					c,
																					h /
																						1852,
																					"nm"
																			  )
																			: s(
																					t,
																					c,
																					h,
																					"m"
																			  );
																})(
																	this._map,
																	this
																		._container,
																	this.options
																);
															},
														},
														{
															key: "onAdd",
															value: function (
																e
															) {
																return (
																	(this._map =
																		e),
																	(this._container =
																		i.create(
																			"div",
																			"mapboxgl-ctrl mapboxgl-ctrl-scale",
																			e.getContainer()
																		)),
																	this._map.on(
																		"move",
																		this
																			._onMove
																	),
																	this._onMove(),
																	this
																		._container
																);
															},
														},
														{
															key: "onRemove",
															value: function () {
																i.remove(
																	this
																		._container
																),
																	this._map.off(
																		"move",
																		this
																			._onMove
																	),
																	(this._map =
																		void 0);
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										function s(e, t, n, r) {
											var i,
												o,
												a,
												s =
													((i = n),
													(o = Math.pow(
														10,
														"".concat(Math.floor(i))
															.length - 1
													)) *
														(a =
															(a = i / o) >= 10
																? 10
																: a >= 5
																? 5
																: a >= 3
																? 3
																: a >= 2
																? 2
																: 1)),
												l = s / n;
											"m" === r &&
												s >= 1e3 &&
												((s /= 1e3), (r = "km")),
												(e.style.width = "".concat(
													t * l,
													"px"
												)),
												(e.innerHTML = s + r);
										}
										e.exports = a;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										var i = n(9),
											o = n(0),
											a = n(5),
											s = (function () {
												function e() {
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														(this._fullscreen = !1),
														o.bindAll(
															[
																"_onClickFullscreen",
																"_changeIcon",
															],
															this
														),
														"onfullscreenchange" in
														a.document
															? (this._fullscreenchange =
																	"fullscreenchange")
															: "onmozfullscreenchange" in
															  a.document
															? (this._fullscreenchange =
																	"mozfullscreenchange")
															: "onwebkitfullscreenchange" in
															  a.document
															? (this._fullscreenchange =
																	"webkitfullscreenchange")
															: "onmsfullscreenchange" in
																	a.document &&
															  (this._fullscreenchange =
																	"MSFullscreenChange"),
														(this._className =
															"mapboxgl-ctrl");
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "onAdd",
															value: function (
																e
															) {
																return (
																	(this._map =
																		e),
																	(this._mapContainer =
																		this._map.getContainer()),
																	(this._container =
																		i.create(
																			"div",
																			"".concat(
																				this
																					._className,
																				" mapboxgl-ctrl-group"
																			)
																		)),
																	this._checkFullscreenSupport()
																		? this._setupUI()
																		: ((this._container.style.display =
																				"none"),
																		  o.warnOnce(
																				"This device does not support fullscreen mode."
																		  )),
																	this
																		._container
																);
															},
														},
														{
															key: "onRemove",
															value: function () {
																i.remove(
																	this
																		._container
																),
																	(this._map =
																		null),
																	a.document.removeEventListener(
																		this
																			._fullscreenchange,
																		this
																			._changeIcon
																	);
															},
														},
														{
															key: "_checkFullscreenSupport",
															value: function () {
																return !!(
																	a.document
																		.fullscreenEnabled ||
																	a.document
																		.mozFullScreenEnabled ||
																	a.document
																		.msFullscreenEnabled ||
																	a.document
																		.webkitFullscreenEnabled
																);
															},
														},
														{
															key: "_setupUI",
															value: function () {
																var e =
																	(this._fullscreenButton =
																		i.create(
																			"button",
																			""
																				.concat(
																					this
																						._className,
																					"-icon "
																				)
																				.concat(
																					this
																						._className,
																					"-fullscreen"
																				),
																			this
																				._container
																		));
																e.setAttribute(
																	"aria-label",
																	"Toggle fullscreen"
																),
																	(e.type =
																		"button"),
																	this._fullscreenButton.addEventListener(
																		"click",
																		this
																			._onClickFullscreen
																	),
																	a.document.addEventListener(
																		this
																			._fullscreenchange,
																		this
																			._changeIcon
																	);
															},
														},
														{
															key: "_isFullscreen",
															value: function () {
																return this
																	._fullscreen;
															},
														},
														{
															key: "_changeIcon",
															value: function () {
																((a.document
																	.fullscreenElement ||
																	a.document
																		.mozFullScreenElement ||
																	a.document
																		.webkitFullscreenElement ||
																	a.document
																		.msFullscreenElement) ===
																	this
																		._mapContainer) !==
																	this
																		._fullscreen &&
																	((this._fullscreen =
																		!this
																			._fullscreen),
																	this._fullscreenButton.classList.toggle(
																		"".concat(
																			this
																				._className,
																			"-shrink"
																		)
																	),
																	this._fullscreenButton.classList.toggle(
																		"".concat(
																			this
																				._className,
																			"-fullscreen"
																		)
																	));
															},
														},
														{
															key: "_onClickFullscreen",
															value: function () {
																this._isFullscreen()
																	? a.document
																			.exitFullscreen
																		? a.document.exitFullscreen()
																		: a
																				.document
																				.mozCancelFullScreen
																		? a.document.mozCancelFullScreen()
																		: a
																				.document
																				.msExitFullscreen
																		? a.document.msExitFullscreen()
																		: a
																				.document
																				.webkitCancelFullScreen &&
																		  a.document.webkitCancelFullScreen()
																	: this
																			._mapContainer
																			.requestFullscreen
																	? this._mapContainer.requestFullscreen()
																	: this
																			._mapContainer
																			.mozRequestFullScreen
																	? this._mapContainer.mozRequestFullScreen()
																	: this
																			._mapContainer
																			.msRequestFullscreen
																	? this._mapContainer.msRequestFullscreen()
																	: this
																			._mapContainer
																			.webkitRequestFullscreen &&
																	  this._mapContainer.webkitRequestFullscreen();
															},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = s;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function u(e) {
											return (u = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function f(e) {
											if (void 0 === e)
												throw new ReferenceError(
													"this hasn't been initialised - super() hasn't been called"
												);
											return e;
										}
										function h(e, t) {
											return (h =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var p = i(0),
											d = i(10),
											y = i(9),
											m = i(21),
											v = i(3),
											g = i(5),
											_ = i(130),
											b = {
												closeButton: !0,
												closeOnClick: !0,
											},
											x = (function (e) {
												function t(e) {
													var n;
													return (
														(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((n = (function (e, t) {
															return !t ||
																("object" !==
																	o(t) &&
																	"function" !=
																		typeof t)
																? f(e)
																: t;
														})(
															this,
															u(t).call(this)
														)).options = p.extend(
															Object.create(b),
															e
														)),
														p.bindAll(
															[
																"_update",
																"_onClickClose",
															],
															f(n)
														),
														n
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && h(e, t);
													})(t, d),
													(n = t),
													(r = [
														{
															key: "addTo",
															value: function (
																e
															) {
																return (
																	(this._map =
																		e),
																	this._map.on(
																		"move",
																		this
																			._update
																	),
																	this.options
																		.closeOnClick &&
																		this._map.on(
																			"click",
																			this
																				._onClickClose
																		),
																	this._update(),
																	this
																);
															},
														},
														{
															key: "isOpen",
															value: function () {
																return !!this
																	._map;
															},
														},
														{
															key: "remove",
															value: function () {
																return (
																	this
																		._content &&
																		y.remove(
																			this
																				._content
																		),
																	this
																		._container &&
																		(y.remove(
																			this
																				._container
																		),
																		delete this
																			._container),
																	this._map &&
																		(this._map.off(
																			"move",
																			this
																				._update
																		),
																		this._map.off(
																			"click",
																			this
																				._onClickClose
																		),
																		delete this
																			._map),
																	this.fire(
																		"close"
																	),
																	this
																);
															},
														},
														{
															key: "getLngLat",
															value: function () {
																return this
																	._lngLat;
															},
														},
														{
															key: "setLngLat",
															value: function (
																e
															) {
																return (
																	(this._lngLat =
																		m.convert(
																			e
																		)),
																	(this._pos =
																		null),
																	this._update(),
																	this
																);
															},
														},
														{
															key: "setText",
															value: function (
																e
															) {
																return this.setDOMContent(
																	g.document.createTextNode(
																		e
																	)
																);
															},
														},
														{
															key: "setHTML",
															value: function (
																e
															) {
																var t,
																	n =
																		g.document.createDocumentFragment(),
																	r =
																		g.document.createElement(
																			"body"
																		);
																for (
																	r.innerHTML =
																		e;
																	(t =
																		r.firstChild);

																)
																	n.appendChild(
																		t
																	);
																return this.setDOMContent(
																	n
																);
															},
														},
														{
															key: "setDOMContent",
															value: function (
																e
															) {
																return (
																	this._createContent(),
																	this._content.appendChild(
																		e
																	),
																	this._update(),
																	this
																);
															},
														},
														{
															key: "_createContent",
															value: function () {
																this._content &&
																	y.remove(
																		this
																			._content
																	),
																	(this._content =
																		y.create(
																			"div",
																			"mapboxgl-popup-content",
																			this
																				._container
																		)),
																	this.options
																		.closeButton &&
																		((this._closeButton =
																			y.create(
																				"button",
																				"mapboxgl-popup-close-button",
																				this
																					._content
																			)),
																		(this._closeButton.type =
																			"button"),
																		this._closeButton.setAttribute(
																			"aria-label",
																			"Close popup"
																		),
																		(this._closeButton.innerHTML =
																			"&#215;"),
																		this._closeButton.addEventListener(
																			"click",
																			this
																				._onClickClose
																		));
															},
														},
														{
															key: "_update",
															value: function () {
																if (
																	this._map &&
																	this
																		._lngLat &&
																	this
																		._content
																) {
																	this
																		._container ||
																		((this._container =
																			y.create(
																				"div",
																				"mapboxgl-popup",
																				this._map.getContainer()
																			)),
																		(this._tip =
																			y.create(
																				"div",
																				"mapboxgl-popup-tip",
																				this
																					._container
																			)),
																		this._container.appendChild(
																			this
																				._content
																		)),
																		this
																			._map
																			.transform
																			.renderWorldCopies &&
																			(this._lngLat =
																				_(
																					this
																						._lngLat,
																					this
																						._pos,
																					this
																						._map
																						.transform
																				));
																	var e =
																			(this._pos =
																				this._map.project(
																					this
																						._lngLat
																				)),
																		t =
																			this
																				.options
																				.anchor,
																		n =
																			(function e(
																				t
																			) {
																				if (
																					t
																				) {
																					if (
																						"number" ==
																						typeof t
																					) {
																						var n =
																							Math.round(
																								Math.sqrt(
																									0.5 *
																										Math.pow(
																											t,
																											2
																										)
																								)
																							);
																						return {
																							top: new v(
																								0,
																								t
																							),
																							"top-left":
																								new v(
																									n,
																									n
																								),
																							"top-right":
																								new v(
																									-n,
																									n
																								),
																							bottom: new v(
																								0,
																								-t
																							),
																							"bottom-left":
																								new v(
																									n,
																									-n
																								),
																							"bottom-right":
																								new v(
																									-n,
																									-n
																								),
																							left: new v(
																								t,
																								0
																							),
																							right: new v(
																								-t,
																								0
																							),
																						};
																					}
																					if (
																						t instanceof
																							v ||
																						Array.isArray(
																							t
																						)
																					) {
																						var r =
																							v.convert(
																								t
																							);
																						return {
																							top: r,
																							"top-left":
																								r,
																							"top-right":
																								r,
																							bottom: r,
																							"bottom-left":
																								r,
																							"bottom-right":
																								r,
																							left: r,
																							right: r,
																						};
																					}
																					return {
																						top: v.convert(
																							t.top || [
																								0,
																								0,
																							]
																						),
																						"top-left":
																							v.convert(
																								t[
																									"top-left"
																								] || [
																									0,
																									0,
																								]
																							),
																						"top-right":
																							v.convert(
																								t[
																									"top-right"
																								] || [
																									0,
																									0,
																								]
																							),
																						bottom: v.convert(
																							t.bottom || [
																								0,
																								0,
																							]
																						),
																						"bottom-left":
																							v.convert(
																								t[
																									"bottom-left"
																								] || [
																									0,
																									0,
																								]
																							),
																						"bottom-right":
																							v.convert(
																								t[
																									"bottom-right"
																								] || [
																									0,
																									0,
																								]
																							),
																						left: v.convert(
																							t.left || [
																								0,
																								0,
																							]
																						),
																						right: v.convert(
																							t.right || [
																								0,
																								0,
																							]
																						),
																					};
																				}
																				return e(
																					new v(
																						0,
																						0
																					)
																				);
																			})(
																				this
																					.options
																					.offset
																			);
																	if (!t) {
																		var r =
																				this
																					._container
																					.offsetWidth,
																			i =
																				this
																					._container
																					.offsetHeight;
																		(t =
																			e.y +
																				n
																					.bottom
																					.y <
																			i
																				? [
																						"top",
																				  ]
																				: e.y >
																				  this
																						._map
																						.transform
																						.height -
																						i
																				? [
																						"bottom",
																				  ]
																				: []),
																			e.x <
																			r /
																				2
																				? t.push(
																						"left"
																				  )
																				: e.x >
																						this
																							._map
																							.transform
																							.width -
																							r /
																								2 &&
																				  t.push(
																						"right"
																				  ),
																			(t =
																				0 ===
																				t.length
																					? "bottom"
																					: t.join(
																							"-"
																					  ));
																	}
																	var o = e
																			.add(
																				n[
																					t
																				]
																			)
																			.round(),
																		a = {
																			top: "translate(-50%,0)",
																			"top-left":
																				"translate(0,0)",
																			"top-right":
																				"translate(-100%,0)",
																			bottom: "translate(-50%,-100%)",
																			"bottom-left":
																				"translate(0,-100%)",
																			"bottom-right":
																				"translate(-100%,-100%)",
																			left: "translate(0,-50%)",
																			right: "translate(-100%,-50%)",
																		},
																		s =
																			this
																				._container
																				.classList;
																	for (var l in a)
																		s.remove(
																			"mapboxgl-popup-anchor-".concat(
																				l
																			)
																		);
																	s.add(
																		"mapboxgl-popup-anchor-".concat(
																			t
																		)
																	),
																		y.setTransform(
																			this
																				._container,
																			""
																				.concat(
																					a[
																						t
																					],
																					" translate("
																				)
																				.concat(
																					o.x,
																					"px,"
																				)
																				.concat(
																					o.y,
																					"px)"
																				)
																		);
																}
															},
														},
														{
															key: "_onClickClose",
															value: function () {
																this.remove();
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										e.exports = x;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function h(e) {
											return (h = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function p(e) {
											if (void 0 === e)
												throw new ReferenceError(
													"this hasn't been initialised - super() hasn't been called"
												);
											return e;
										}
										function d(e, t) {
											return (d =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var y = i(301),
											m = i(302),
											v = i(6),
											g = i(10),
											_ = i(27).OverscaledTileID,
											b = i(22).mat4,
											x = (i(45), i(116)),
											w = i(61),
											C = (i(69), i(1)),
											T = 1024,
											k = (function (e) {
												function t(e) {
													var n;
													return (
														(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((n = (function (e, t) {
															return !t ||
																("object" !==
																	o(t) &&
																	"function" !=
																		typeof t)
																? p(e)
																: t;
														})(
															this,
															h(t).call(this)
														))._canvas =
															document.createElement(
																"canvas"
															)),
														(n._canvas.style.imageRendering =
															"pixelated"),
														n._canvas.addEventListener(
															"webglcontextlost",
															function () {
																return console.log(
																	"webglcontextlost"
																);
															},
															!1
														),
														n._canvas.addEventListener(
															"webglcontextrestored",
															function () {
																return n._createGlContext();
															},
															!1
														),
														(n._canvas.width = T),
														(n._canvas.height = T),
														(n.transform = {
															zoom: 0,
															angle: 0,
															pitch: 0,
															_pitch: 0,
															scaleZoom:
																function () {
																	return 0;
																},
															cameraToCenterDistance: 1,
															cameraToTileDistance:
																function () {
																	return 1;
																},
															clone: function () {
																return n.transform;
															},
															width: T,
															height: T,
															pixelsToGLUnits: [
																2 / T,
																-2 / T,
															],
															tileZoom: function (
																e
															) {
																return e.tileID
																	.canonical
																	.z;
															},
															calculatePosMatrix:
																function (e) {
																	return e.posMatrix;
																},
														}),
														(n._initStyle =
															e.style),
														(n._style = new m(
															(0, E.default)(
																{},
																e.style,
																{
																	transition:
																		{
																			duration: 0,
																		},
																}
															),
															p(n)
														)),
														n._style.setEventedParent(
															p(n),
															{ style: n._style }
														),
														n._style.on(
															"data",
															function (e) {
																return (
																	"style" ===
																		e.dataType &&
																	n._onReady()
																);
															}
														),
														n._createGlContext(),
														n.painter.resize(T, T),
														(n._pendingRenders =
															new f.default()),
														(n._nextRenderId = 0),
														(n._configId = 0),
														(n._queuedConfigChanges =
															[]),
														n
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && d(e, t);
													})(t, g),
													(n = t),
													(r = [
														{
															key: "_onReady",
															value: function () {
																this._style.update(
																	new w(16)
																);
															},
														},
														{
															key: "_transformRequest",
															value: function (
																e,
																t
															) {
																return {
																	url: e,
																	headers: {},
																	credentials:
																		"",
																};
															},
														},
														{
															key: "_calculatePosMatrix",
															value: function (
																e,
																t,
																n
															) {
																var r = this;
																(this._tmpMat4f64 =
																	this
																		._tmpMat4f64 ||
																	new Float64Array(
																		16
																	)),
																	(this._tmpMat4f32 =
																		new Float32Array(
																			16
																		)),
																	b.identity(
																		this
																			._tmpMat4f64
																	);
																var i,
																	o,
																	a = n / T;
																return (
																	(i =
																		this
																			._tmpMat4f64),
																	(o = [
																		(2 /
																			v) *
																			a,
																		(-2 /
																			v) *
																			a,
																		1,
																	]),
																	(r._tmpMat4f64b =
																		r._tmpMat4f64b ||
																		new Float32Array(
																			16
																		)),
																	b.identity(
																		r._tmpMat4f64b
																	),
																	b.scale(
																		r._tmpMat4f64b,
																		r._tmpMat4f64b,
																		o
																	),
																	b.multiply(
																		i,
																		r._tmpMat4f64b,
																		i
																	),
																	(function (
																		e,
																		t
																	) {
																		(r._tmpMat4f64b =
																			r._tmpMat4f64b ||
																			new Float32Array(
																				16
																			)),
																			b.identity(
																				r._tmpMat4f64b
																			),
																			b.translate(
																				r._tmpMat4f64b,
																				r._tmpMat4f64b,
																				t
																			),
																			b.multiply(
																				e,
																				r._tmpMat4f64b,
																				e
																			);
																	})(
																		this
																			._tmpMat4f64,
																		[
																			(2 *
																				e) /
																				T -
																				1,
																			1 -
																				(2 *
																					t) /
																					T,
																			0,
																		]
																	),
																	this._tmpMat4f32.set(
																		this
																			._tmpMat4f64
																	),
																	this
																		._tmpMat4f32
																);
															},
														},
														{
															key: "_createGlContext",
															value: function () {
																var e = (0,
																E.default)(
																	{
																		failIfMajorPerformanceCaveat:
																			!1,
																		preserveDrawingBuffer:
																			!1,
																	},
																	i(306)
																		.webGLContextAttributes
																);
																if (
																	((this._gl =
																		this._canvas.getContext(
																			"webgl",
																			e
																		) ||
																		this._canvas.getContext(
																			"experimental-webgl",
																			e
																		)),
																	!this._gl)
																)
																	throw new Error(
																		"Failed to initialize WebGL"
																	);
																(this.painter =
																	new y(
																		this._gl,
																		this.transform
																	)),
																	(this.painter.style =
																		this._style);
															},
														},
														{
															key: "setPaintProperty",
															value: function (
																e,
																t,
																n
															) {
																var r = this,
																	i =
																		!(
																			arguments.length >
																				3 &&
																			void 0 !==
																				arguments[3]
																		) ||
																		arguments[3];
																return (
																	this._queuedConfigChanges.push(
																		function () {
																			return r._style.setPaintProperty(
																				e,
																				t,
																				n
																			);
																		}
																	),
																	i
																		? this._processConfigQueue(
																				++this
																					._configId
																		  )
																		: function () {
																				return r._processConfigQueue(
																					++r._configId
																				);
																		  }
																);
															},
														},
														{
															key: "setLayoutProperty",
															value: function (
																e,
																t,
																n
															) {
																var r = this,
																	i =
																		!(
																			arguments.length >
																				3 &&
																			void 0 !==
																				arguments[3]
																		) ||
																		arguments[3];
																return (
																	this._queuedConfigChanges.push(
																		function () {
																			return r._style.setLayoutProperty(
																				e,
																				t,
																				n
																			);
																		}
																	),
																	i
																		? this._processConfigQueue(
																				++this
																					._configId
																		  )
																		: function () {
																				return r._processConfigQueue(
																					++r._configId
																				);
																		  }
																);
															},
														},
														{
															key: "setFilter",
															value: function (
																e,
																t
															) {
																var n = this,
																	r =
																		!(
																			arguments.length >
																				2 &&
																			void 0 !==
																				arguments[2]
																		) ||
																		arguments[2];
																return (
																	this._queuedConfigChanges.push(
																		function () {
																			return n._style.setFilter(
																				e,
																				t
																			);
																		}
																	),
																	r
																		? this._processConfigQueue(
																				++this
																					._configId
																		  )
																		: function () {
																				return n._processConfigQueue(
																					++n._configId
																				);
																		  }
																);
															},
														},
														{
															key: "_processConfigQueue",
															value: function (
																e
															) {
																var t = this;
																return this._style.loadedPromise.then(
																	function () {
																		if (
																			t._configId !==
																			e
																		)
																			return !1;
																		for (
																			t._cancelAllPendingRenders();
																			t
																				._queuedConfigChanges
																				.length;

																		)
																			t._queuedConfigChanges.shift()();
																		return (
																			t._style.update(
																				new w(
																					16
																				)
																			),
																			t.fire(
																				"configChanged"
																			),
																			!0
																		);
																	}
																);
															},
														},
														{
															key: "getLayersVisible",
															value: function (
																e,
																t
															) {
																var n = this;
																return (0,
																u.default)(
																	this._style
																		._layers
																)
																	.filter(
																		function (
																			e
																		) {
																			return (
																				"visible" ===
																				n._style.getLayoutProperty(
																					e,
																					"visibility"
																				)
																			);
																		}
																	)
																	.filter(
																		function (
																			r
																		) {
																			var i,
																				o =
																					(i =
																						n
																							._style
																							._layers[
																							r
																						]) &&
																					i._eventedParent.stylesheet.layers.find(
																						function (
																							e
																						) {
																							return (
																								e.id ===
																								i.id
																							);
																						}
																					);
																			return (
																				(!e ||
																					(o &&
																						(void 0 ===
																							o.minzoom_ ||
																							e >=
																								o.minzoom_) &&
																						(void 0 ===
																							o.maxzoom_ ||
																							e <=
																								o.maxzoom_))) &&
																				(!t ||
																					(o &&
																						o.source ===
																							t))
																			);
																		}
																	);
															},
														},
														{
															key: "getLayerOriginalFilter",
															value: function (
																e
															) {
																var t =
																	this._initStyle.layers.find(
																		function (
																			t
																		) {
																			return (
																				t.id ===
																				e
																			);
																		}
																	);
																return (
																	t &&
																	t.filter
																);
															},
														},
														{
															key: "getLayerOriginalPaint",
															value: function (
																e
															) {
																var t =
																	this._initStyle.layers.find(
																		function (
																			t
																		) {
																			return (
																				t.id ===
																				e
																			);
																		}
																	);
																return (
																	t && t.paint
																);
															},
														},
														{
															key: "getLayerOriginalLayout",
															value: function (
																e
															) {
																var t =
																	this._initStyle.layers.find(
																		function (
																			t
																		) {
																			return (
																				t.id ===
																				e
																			);
																		}
																	);
																return (
																	t &&
																	t.layout
																);
															},
														},
														{
															key: "getVisibleSources",
															value: function (
																e
															) {
																var t = this,
																	n = e;
																return (0,
																u.default)(
																	this._style
																		.sourceCaches
																).filter(
																	function (
																		e
																	) {
																		return (
																			t.getLayersVisible(
																				n,
																				e
																			)
																				.length >
																			0
																		);
																	}
																);
															},
														},
														{
															key: "filterForZoom",
															value: function (
																e
															) {
																e !==
																	this.painter
																		._filterForZoom &&
																	((this.painter._filterForZoom =
																		e),
																	this._cancelAllPendingRenders());
															},
														},
														{
															key: "_cancelAllPendingRenders",
															value: function () {
																var e = this;
																this._pendingRenders.forEach(
																	function (
																		t
																	) {
																		return e._finishRender(
																			t.tileSetID,
																			t.renderId,
																			"canceled"
																		);
																	}
																),
																	this._pendingRenders.clear(),
																	(0,
																	I.default)(
																		this
																			._style
																			.sourceCaches
																	).forEach(
																		function (
																			e
																		) {
																			return e.invalidateAllLoadedTiles();
																		}
																	);
															},
														},
														{
															key: "_finishRender",
															value: function (
																e,
																t,
																n
															) {
																var r =
																	this._pendingRenders.get(
																		e
																	);
																if (
																	r &&
																	r.renderId ===
																		t
																) {
																	for (
																		;
																		r
																			.consumers
																			.length;

																	)
																		r.consumers
																			.shift()
																			.next(
																				n
																			);
																	this._pendingRenders.delete(
																		e
																	);
																}
															},
														},
														{
															key: "_canonicalizeSpec",
															value: function (
																e,
																t
															) {
																var n = e
																		.map(
																			function (
																				e
																			) {
																				return e.left;
																			}
																		)
																		.reduce(
																			function (
																				e,
																				t
																			) {
																				return Math.min(
																					e,
																					t
																				);
																			},
																			1 /
																				0
																		),
																	r = e
																		.map(
																			function (
																				e
																			) {
																				return e.top;
																			}
																		)
																		.reduce(
																			function (
																				e,
																				t
																			) {
																				return Math.min(
																					e,
																					t
																				);
																			},
																			1 /
																				0
																		);
																return {
																	tilesSpec:
																		e.map(
																			function (
																				e
																			) {
																				return {
																					source: e.source,
																					z: e.z,
																					x: e.x,
																					y: e.y,
																					top:
																						e.top -
																						r,
																					left:
																						e.left -
																						n,
																					size: e.size,
																				};
																			}
																		),
																	drawSpec: {
																		srcLeft:
																			t.srcLeft -
																			n,
																		srcTop:
																			t.srcTop -
																			r,
																		width: t.width,
																		height: t.height,
																		destLeft:
																			t.destLeft,
																		destTop:
																			t.destTop,
																	},
																};
															},
														},
														{
															key: "_tileSpecToString",
															value: function (
																e
															) {
																return e
																	.map(
																		function (
																			e
																		) {
																			return ""
																				.concat(
																					e.source,
																					" "
																				)
																				.concat(
																					e.z,
																					" "
																				)
																				.concat(
																					e.x,
																					" "
																				)
																				.concat(
																					e.y,
																					" "
																				)
																				.concat(
																					e.left,
																					" "
																				)
																				.concat(
																					e.top,
																					" "
																				)
																				.concat(
																					e.size
																				);
																		}
																	)
																	.sort()
																	.join(" ");
															},
														},
														{
															key: "releaseRender",
															value: function (
																e
															) {
																var t =
																	this._pendingRenders.get(
																		e.tileSetID
																	);
																if (
																	(e.tiles.forEach(
																		function (
																			e
																		) {
																			return e.cache.releaseTile(
																				e
																			);
																		}
																	),
																	t &&
																		t.renderId ===
																			e.renderId)
																) {
																	e.consumer.next(
																		"canceled"
																	);
																	var n =
																		t.consumers.indexOf(
																			e.consumer
																		);
																	-1 !== n &&
																		t.consumers.splice(
																			n,
																			1
																		),
																		0 ===
																			t
																				.consumers
																				.length &&
																			this._finishRender(
																				t.tileSetID,
																				e.renderId,
																				"fully-canceled"
																			);
																}
															},
														},
														{
															key: "renderTiles",
															value: function (
																e,
																t,
																n,
																r
															) {
																var i = this,
																	o =
																		this._canonicalizeSpec(
																			n,
																			t
																		);
																(t =
																	o.drawSpec),
																	(n =
																		o.tilesSpec);
																var a =
																		this._tileSpecToString(
																			n
																		),
																	s = {
																		ctx: e,
																		drawSpec:
																			t,
																		tilesSpec:
																			n,
																		next: r,
																	},
																	l =
																		this._pendingRenders.get(
																			a
																		);
																if (l)
																	return (
																		l.tiles.forEach(
																			function (
																				e
																			) {
																				return e.uses++;
																			}
																		),
																		l.consumers.push(
																			s
																		),
																		{
																			renderId:
																				l.renderId,
																			consumer:
																				s,
																			tiles: l.tiles,
																			tileSetID:
																				a,
																		}
																	);
																var u = ++this
																	._nextRenderId;
																(l = {
																	tileSetID:
																		a,
																	renderId: u,
																	tiles: n.map(
																		function (
																			e
																		) {
																			var t =
																				new _(
																					e.z,
																					0,
																					e.z,
																					e.x,
																					e.y,
																					0
																				);
																			return i._style.sourceCaches[
																				e
																					.source
																			].acquireTile(
																				t,
																				e.size
																			);
																		}
																	),
																	consumers: [
																		s,
																	],
																}),
																	this._pendingRenders.set(
																		a,
																		l
																	);
																var c = [];
																return (
																	A.default
																		.all(
																			l.tiles.map(
																				function (
																					e,
																					t
																				) {
																					return e.loadedPromise.catch(
																						function (
																							e
																						) {
																							return c.push(
																								t
																							);
																						}
																					);
																				}
																			)
																		)
																		.catch(
																			function (
																				e
																			) {
																				return i._finishRender(
																					a,
																					u,
																					e
																				);
																			}
																		)
																		.then(
																			function () {
																				if (
																					(l =
																						i._pendingRenders.get(
																							a
																						)) &&
																					l.renderId ===
																						u
																				) {
																					var e =
																						c.length
																							? ""
																									.concat(
																										c.length,
																										" of "
																									)
																									.concat(
																										n.length,
																										" tiles not available"
																									)
																							: null;
																					if (
																						n.length -
																							c.length ==
																						0
																					)
																						return (
																							l.consumers.forEach(
																								function (
																									e
																								) {
																									return e.ctx.clearRect(
																										t.destLeft,
																										t.destTop,
																										t.width,
																										t.height
																									);
																								}
																							),
																							void i._finishRender(
																								a,
																								u,
																								e
																							)
																						);
																					(0,
																					I.default)(
																						i
																							._style
																							.sourceCaches
																					).forEach(
																						function (
																							e
																						) {
																							return (e.currentlyRenderingTiles =
																								[]);
																						}
																					),
																						n.forEach(
																							function (
																								e,
																								t
																							) {
																								if (
																									!c.includes(
																										t
																									)
																								) {
																									var n =
																										l
																											.tiles[
																											t
																										];
																									(n.tileSize =
																										e.size),
																										(n.left =
																											e.left),
																										(n.top =
																											e.top),
																										i._style.sourceCaches[
																											e
																												.source
																										].currentlyRenderingTiles.push(
																											n
																										);
																								}
																							}
																						);
																					for (
																						var r =
																								l.consumers
																									.map(
																										function (
																											e
																										) {
																											return e
																												.drawSpec
																												.srcLeft;
																										}
																									)
																									.reduce(
																										function (
																											e,
																											t
																										) {
																											return Math.min(
																												e,
																												t
																											);
																										},
																										1 /
																											0
																									),
																							o =
																								l.consumers
																									.map(
																										function (
																											e
																										) {
																											return e
																												.drawSpec
																												.srcTop;
																										}
																									)
																									.reduce(
																										function (
																											e,
																											t
																										) {
																											return Math.min(
																												e,
																												t
																											);
																										},
																										1 /
																											0
																									),
																							s =
																								l.consumers
																									.map(
																										function (
																											e
																										) {
																											return (
																												e
																													.drawSpec
																													.srcLeft +
																												e
																													.drawSpec
																													.width
																											);
																										}
																									)
																									.reduce(
																										function (
																											e,
																											t
																										) {
																											return Math.max(
																												e,
																												t
																											);
																										},
																										-1 /
																											0
																									),
																							f =
																								l.consumers
																									.map(
																										function (
																											e
																										) {
																											return (
																												e
																													.drawSpec
																													.srcTop +
																												e
																													.drawSpec
																													.height
																											);
																										}
																									)
																									.reduce(
																										function (
																											e,
																											t
																										) {
																											return Math.max(
																												e,
																												t
																											);
																										},
																										-1 /
																											0
																									),
																							h =
																								function (
																									e
																								) {
																									for (
																										var t =
																												function (
																													t
																												) {
																													var n =
																														l.consumers.filter(
																															function (
																																n
																															) {
																																return (
																																	n
																																		.drawSpec
																																		.srcLeft +
																																		n
																																			.drawSpec
																																			.width >
																																		e &&
																																	n
																																		.drawSpec
																																		.srcLeft <
																																		e +
																																			T &&
																																	n
																																		.drawSpec
																																		.srcTop +
																																		n
																																			.drawSpec
																																			.height >
																																		t &&
																																	n
																																		.drawSpec
																																		.srcTop <
																																		t +
																																			T
																																);
																															}
																														);
																													if (
																														0 ===
																														n.length
																													)
																														return "continue";
																													l.tiles.forEach(
																														function (
																															n
																														) {
																															return (n.tileID.posMatrix =
																																i._calculatePosMatrix(
																																	n.left -
																																		e,
																																	n.top -
																																		t,
																																	n.tileSize
																																));
																														}
																													),
																														i.painter.render(
																															i._style,
																															{
																																showTileBoundaries:
																																	!1,
																																showOverdrawInspector:
																																	!1,
																															}
																														),
																														n.forEach(
																															function (
																																n
																															) {
																																var r =
																																		0 |
																																		Math.max(
																																			0,
																																			n
																																				.drawSpec
																																				.srcLeft -
																																				e
																																		),
																																	o =
																																		0 |
																																		Math.min(
																																			T,
																																			n
																																				.drawSpec
																																				.srcLeft +
																																				n
																																					.drawSpec
																																					.width -
																																				e
																																		),
																																	a =
																																		0 |
																																		Math.max(
																																			0,
																																			n
																																				.drawSpec
																																				.srcTop -
																																				t
																																		),
																																	s =
																																		0 |
																																		Math.min(
																																			T,
																																			n
																																				.drawSpec
																																				.srcTop +
																																				n
																																					.drawSpec
																																					.height -
																																				t
																																		),
																																	l =
																																		n
																																			.drawSpec
																																			.destLeft +
																																		(n
																																			.drawSpec
																																			.srcLeft <
																																		e
																																			? e -
																																			  n
																																					.drawSpec
																																					.srcLeft
																																			: 0),
																																	u =
																																		n
																																			.drawSpec
																																			.destTop +
																																		(n
																																			.drawSpec
																																			.srcTop <
																																		t
																																			? t -
																																			  n
																																					.drawSpec
																																					.srcTop
																																			: 0),
																																	c =
																																		o -
																																		r,
																																	f =
																																		s -
																																		a;
																																n.ctx.drawImage(
																																	i._canvas,
																																	r,
																																	a,
																																	c,
																																	f,
																																	l,
																																	u,
																																	c,
																																	f
																																);
																															}
																														);
																												},
																											n =
																												o;
																										n <
																										f;
																										n +=
																											T
																									)
																										t(
																											n
																										);
																								},
																							p =
																								r;
																						p <
																						s;
																						p +=
																							T
																					)
																						h(
																							p
																						);
																					for (
																						;
																						l
																							.consumers
																							.length;

																					)
																						l.consumers
																							.shift()
																							.next(
																								e
																							);
																					i._pendingRenders.delete(
																						a
																					),
																						(0,
																						I.default)(
																							i
																								._style
																								.sourceCaches
																						).forEach(
																							function (
																								e
																							) {
																								return (e.currentlyRenderingTiles =
																									[]);
																							}
																						);
																				}
																			}
																		),
																	{
																		renderId:
																			l.renderId,
																		consumer:
																			s,
																		tiles: l.tiles,
																		tileSetID:
																			a,
																	}
																);
															},
														},
														{
															key: "queryRenderedFeatures",
															value: function (
																e
															) {
																var t = this;
																C(e.source);
																var n = {};
																this.getLayersVisible(
																	e.renderedZoom,
																	e.source
																).forEach(
																	function (
																		e
																	) {
																		return (n[
																			e
																		] =
																			t._style._layers[
																				e
																			]);
																	}
																);
																var r =
																		x.rendered(
																			this
																				._style
																				.sourceCaches[
																				e
																					.source
																			],
																			n,
																			e,
																			{},
																			e.tileZ,
																			0
																		),
																	i = {};
																return (
																	(0,
																	u.default)(
																		r
																	).forEach(
																		function (
																			e
																		) {
																			return r[
																				e
																			].map(
																				function (
																					e
																				) {
																					(i[
																						e.layer[
																							"source-layer"
																						]
																					] =
																						i[
																							e
																								.layer[
																								"source-layer"
																							]
																						] ||
																						[]).push(
																						e
																							._vectorTileFeature
																							.properties
																					);
																				}
																			);
																		}
																	),
																	i
																);
															},
														},
														{
															key: "showCanvasForDebug",
															value: function () {
																document.body.appendChild(
																	this._canvas
																),
																	(this._canvas.style.position =
																		"fixed"),
																	(this._canvas.style.bottom =
																		"0px"),
																	(this._canvas.style.right =
																		"0px"),
																	(this._canvas.style.background =
																		"#ccc"),
																	(this._canvas.style.opacity =
																		"0.7"),
																	(this._canvas.style.transform =
																		"scale(0.5) translate(502px,502px)");
															},
														},
														{
															key: "destroyDebugCanvas",
															value: function () {
																renderer._canvas
																	.parentElement &&
																	document.body.removeChild(
																		this
																			._canvas
																	);
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										e.exports = k;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function u(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function f(e, t, n) {
											return (f =
												"undefined" != typeof Reflect &&
												k.default
													? k.default
													: function (e, t, n) {
															var r = (function (
																e,
																t
															) {
																for (
																	;
																	!Object.prototype.hasOwnProperty.call(
																		e,
																		t
																	) &&
																	null !==
																		(e =
																			h(
																				e
																			));

																);
																return e;
															})(e, t);
															if (r) {
																var i = (0,
																x.default)(
																	r,
																	t
																);
																return i.get
																	? i.get.call(
																			n
																	  )
																	: i.value;
															}
													  })(e, t, n || e);
										}
										function h(e) {
											return (h = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function p(e, t) {
											return (p =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var d = i(124),
											y = (function (e) {
												function t(e, n) {
													var r;
													return (
														(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((r = u(
															this,
															h(t).call(
																this,
																e,
																n
															)
														))._filterForZoom = 15),
														r
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && p(e, t);
													})(t, d),
													(n = t),
													(r = [
														{
															key: "resize",
															value: function (
																e,
																t
															) {
																var n =
																	this.context
																		.gl;
																(this.width =
																	e),
																	(this.height =
																		t),
																	n.viewport(
																		0,
																		0,
																		this
																			.width,
																		this
																			.height
																	);
															},
														},
														{
															key: "renderLayer",
															value: function (
																e,
																n,
																r,
																i
															) {
																var o =
																	(function (
																		e
																	) {
																		return (
																			e &&
																			e._eventedParent.stylesheet.layers.find(
																				function (
																					t
																				) {
																					return (
																						t.id ===
																						e.id
																					);
																				}
																			)
																		);
																	})(r);
																(o &&
																	o.minzoom_ &&
																	this
																		._filterForZoom <
																		o.minzoom_) ||
																	(o &&
																		o.maxzoom_ &&
																		this
																			._filterForZoom >=
																			o.maxzoom_) ||
																	f(
																		h(
																			t.prototype
																		),
																		"renderLayer",
																		this
																	).call(
																		this,
																		e,
																		n,
																		r,
																		i
																	);
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										e.exports = y;
									},
									function (e, n, i) {
										function o(e) {
											return (o =
												"function" ==
													typeof r.default &&
												"symbol" ==
													(0, t.default)(a.default)
													? function (e) {
															return (0,
															t.default)(e);
													  }
													: function (e) {
															return e &&
																"function" ==
																	typeof r.default &&
																e.constructor ===
																	r.default &&
																e !==
																	r.default
																		.prototype
																? "symbol"
																: (0,
																  t.default)(e);
													  })(e);
										}
										function s(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function f(e, t) {
											return !t ||
												("object" !== o(t) &&
													"function" != typeof t)
												? (function (e) {
														if (void 0 === e)
															throw new ReferenceError(
																"this hasn't been initialised - super() hasn't been called"
															);
														return e;
												  })(e)
												: t;
										}
										function h(e) {
											return (h = c.default
												? l.default
												: function (e) {
														return (
															e.__proto__ ||
															(0, l.default)(e)
														);
												  })(e);
										}
										function p(e, t) {
											return (p =
												c.default ||
												function (e, t) {
													return (e.__proto__ = t), e;
												})(e, t);
										}
										var d = i(53),
											y = i(45),
											m = i(69),
											v = i(303),
											g = (function (e) {
												function t(e, n, r) {
													var i;
													return (
														(function (e, t) {
															if (
																!(
																	e instanceof
																	t
																)
															)
																throw new TypeError(
																	"Cannot call a class as a function"
																);
														})(this, t),
														((i = f(
															this,
															h(t).call(
																this,
																n,
																r
															)
														)).loadedPromise = new A.default(
															function (e) {
																return i.on(
																	"data",
																	function (
																		t
																	) {
																		return (
																			"style" ===
																				t.dataType &&
																			e()
																		);
																	}
																);
															}
														)),
														i.loadedPromise.then(
															function () {
																return (i.placement =
																	new m(
																		n.transform,
																		0
																	));
															}
														),
														i.loadJSON(e),
														i
													);
												}
												var n, r;
												return (
													(function (e, t) {
														if (
															"function" !=
																typeof t &&
															null !== t
														)
															throw new TypeError(
																"Super expression must either be null or a function"
															);
														(e.prototype =
															Object.create(
																t &&
																	t.prototype,
																{
																	constructor:
																		{
																			value: e,
																			writable:
																				!0,
																			configurable:
																				!0,
																		},
																}
															)),
															t && p(e, t);
													})(t, d),
													(n = t),
													(r = [
														{
															key: "addSource",
															value: function (
																e,
																t,
																n
															) {
																var r =
																	y.create(
																		e,
																		t,
																		this
																			.dispatcher,
																		this
																	);
																r.setEventedParent(
																	this,
																	{
																		source: r,
																	}
																),
																	(r.map =
																		this.map),
																	(r.tiles =
																		t.tiles),
																	(this.sourceCaches[
																		e
																	] = new v(
																		r
																	));
															},
														},
														{
															key: "setLayers",
															value: function (
																e
															) {
																var t = this;
																return (0,
																u.default)(
																	this._layers
																).map(function (
																	n
																) {
																	return t.setLayoutProperty(
																		n,
																		"visibility",
																		e.includes(
																			n
																		)
																			? "visible"
																			: "none"
																	);
																});
															},
														},
													]) && s(n.prototype, r),
													t
												);
											})();
										e.exports = g;
									},
									function (e, t, n) {
										function r(e, t) {
											for (var n = 0; n < t.length; n++) {
												var r = t[n];
												(r.enumerable =
													r.enumerable || !1),
													(r.configurable = !0),
													"value" in r &&
														(r.writable = !0),
													Object.defineProperty(
														e,
														r.key,
														r
													);
											}
										}
										function i(e, t, n) {
											return (
												t in e
													? Object.defineProperty(
															e,
															t,
															{
																value: n,
																enumerable: !0,
																configurable:
																	!0,
																writable: !0,
															}
													  )
													: (e[t] = n),
												e
											);
										}
										var o = n(121),
											a = n(1),
											s = n(118),
											l = n(304),
											u = n(6),
											c = new (n(305))(),
											f = (function () {
												function e(t) {
													var n = this;
													!(function (e, t) {
														if (!(e instanceof t))
															throw new TypeError(
																"Cannot call a class as a function"
															);
													})(this, e),
														i(
															this,
															"_tilesInUse",
															{}
														),
														i(this, "map", {}),
														(this._source = t),
														(this._tileCache =
															new o(
																100,
																function (e) {
																	return n._source.unloadTile(
																		e
																	);
																}
															));
												}
												var t, n;
												return (
													(t = e),
													(n = [
														{
															key: "getSource",
															value: function () {
																return this
																	._source;
															},
														},
														{
															key: "getVisibleCoordinates",
															value: function () {
																return this.currentlyRenderingTiles.map(
																	function (
																		e
																	) {
																		return e.tileID;
																	}
																);
															},
														},
														{
															key: "getRenderableIds",
															value: function () {
																return this.getVisibleCoordinates();
															},
														},
														{
															key: "acquireTile",
															value: function (
																e,
																t
															) {
																var n = this,
																	r =
																		this
																			._tilesInUse[
																			e
																				.key
																		] ||
																		this._tileCache.getAndRemove(
																			e.key
																		) ||
																		new s(
																			e.wrapped(),
																			t,
																			e.canonical.z
																		);
																return (
																	r.uses++,
																	(this._tilesInUse[
																		e.key
																	] = r),
																	(r.cache =
																		this),
																	r.loadedPromise ||
																		(r.loadedPromise =
																			new A.default(
																				function (
																					e,
																					t
																				) {
																					var i =
																						setTimeout(
																							function () {
																								n._source.abortTile(
																									r
																								),
																									(r.loadedPromise =
																										null),
																									t(
																										"timeout"
																									);
																							},
																							6e4
																						);
																					n._source.loadTile(
																						r,
																						function (
																							n
																						) {
																							clearTimeout(
																								i
																							),
																								n
																									? ((r._isDud =
																											!0),
																									  t(
																											n
																									  ))
																									: e();
																						}
																					);
																				}
																			)),
																	r
																);
															},
														},
														{
															key: "getTileByID",
															value: function (
																e
															) {
																return this.getTile(
																	e
																);
															},
														},
														{
															key: "getTile",
															value: function (
																e
															) {
																return this
																	._tilesInUse[
																	e.key
																];
															},
														},
														{
															key: "serialize",
															value: function () {
																return this._source.serialize();
															},
														},
														{
															key: "prepare",
															value: function (
																e
															) {
																this.currentlyRenderingTiles.forEach(
																	function (
																		t
																	) {
																		return t.upload(
																			e
																		);
																	}
																);
															},
														},
														{
															key: "releaseTile",
															value: function (
																e
															) {
																a(e.uses > 0),
																	--e.uses >
																		0 ||
																		(delete this
																			._tilesInUse[
																			e
																				.tileID
																				.key
																		],
																		e.hasData() ||
																		this
																			._isDud
																			? this._tileCache.add(
																					e
																						.tileID
																						.key,
																					e
																			  )
																			: (this._source.abortTile(
																					e
																			  ),
																			  this._source.unloadTile(
																					e
																			  )));
															},
														},
														{
															key: "invalidateAllLoadedTiles",
															value: function () {
																var e = this;
																(0, I.default)(
																	this
																		._tilesInUse
																).forEach(
																	function (
																		e
																	) {
																		return (
																			!e._isDud &&
																			(e.loadedPromise =
																				null)
																		);
																	}
																),
																	this._tileCache
																		.keys()
																		.forEach(
																			function (
																				t
																			) {
																				var n =
																					e._tileCache.get(
																						t
																					);
																				!n._isDud &&
																					(n.loadedPromise =
																						null);
																			}
																		);
															},
														},
														{
															key: "tilesIn",
															value: function (
																e
															) {
																var t = c
																		.px(
																			[
																				e.lng,
																				e.lat,
																			],
																			e.tileZ,
																			!1
																		)
																		.map(
																			function (
																				e
																			) {
																				return (
																					e /
																					256
																				);
																			}
																		),
																	n =
																		0 |
																		t[0],
																	r =
																		0 |
																		t[1],
																	i = t.map(
																		function (
																			e
																		) {
																			return (
																				(e -
																					(0 |
																						e)) *
																				u
																			);
																		}
																	),
																	o = i[0],
																	a = i[1];
																return (0,
																I.default)(
																	this
																		._tilesInUse
																)
																	.filter(
																		function (
																			e
																		) {
																			return e.hasData();
																		}
																	)
																	.map(
																		function (
																			e
																		) {
																			return {
																				tile: e,
																				tileID: e.tileID,
																				queryGeometry:
																					[
																						[
																							l.convert(
																								[
																									o +
																										u *
																											(n -
																												e
																													.tileID
																													.canonical
																													.x),
																									a +
																										u *
																											(r -
																												e
																													.tileID
																													.canonical
																													.y),
																								]
																							),
																						],
																					],
																				scale: 1,
																			};
																		}
																	);
															},
														},
														{
															key: "reload",
															value: function () {},
														},
														{
															key: "pause",
															value: function () {},
														},
														{
															key: "resume",
															value: function () {},
														},
													]) && r(t.prototype, n),
													e
												);
											})();
										e.exports = f;
									},
									function (e, t, n) {
										function r(e, t) {
											(this.x = e), (this.y = t);
										}
										(e.exports = r),
											(r.prototype = {
												clone: function () {
													return new r(
														this.x,
														this.y
													);
												},
												add: function (e) {
													return this.clone()._add(e);
												},
												sub: function (e) {
													return this.clone()._sub(e);
												},
												mult: function (e) {
													return this.clone()._mult(
														e
													);
												},
												div: function (e) {
													return this.clone()._div(e);
												},
												rotate: function (e) {
													return this.clone()._rotate(
														e
													);
												},
												matMult: function (e) {
													return this.clone()._matMult(
														e
													);
												},
												unit: function () {
													return this.clone()._unit();
												},
												perp: function () {
													return this.clone()._perp();
												},
												round: function () {
													return this.clone()._round();
												},
												mag: function () {
													return Math.sqrt(
														this.x * this.x +
															this.y * this.y
													);
												},
												equals: function (e) {
													return (
														this.x === e.x &&
														this.y === e.y
													);
												},
												dist: function (e) {
													return Math.sqrt(
														this.distSqr(e)
													);
												},
												distSqr: function (e) {
													var t = e.x - this.x,
														n = e.y - this.y;
													return t * t + n * n;
												},
												angle: function () {
													return Math.atan2(
														this.y,
														this.x
													);
												},
												angleTo: function (e) {
													return Math.atan2(
														this.y - e.y,
														this.x - e.x
													);
												},
												angleWith: function (e) {
													return this.angleWithSep(
														e.x,
														e.y
													);
												},
												angleWithSep: function (e, t) {
													return Math.atan2(
														this.x * t - this.y * e,
														this.x * e + this.y * t
													);
												},
												_matMult: function (e) {
													var t =
															e[0] * this.x +
															e[1] * this.y,
														n =
															e[2] * this.x +
															e[3] * this.y;
													return (
														(this.x = t),
														(this.y = n),
														this
													);
												},
												_add: function (e) {
													return (
														(this.x += e.x),
														(this.y += e.y),
														this
													);
												},
												_sub: function (e) {
													return (
														(this.x -= e.x),
														(this.y -= e.y),
														this
													);
												},
												_mult: function (e) {
													return (
														(this.x *= e),
														(this.y *= e),
														this
													);
												},
												_div: function (e) {
													return (
														(this.x /= e),
														(this.y /= e),
														this
													);
												},
												_unit: function () {
													return (
														this._div(this.mag()),
														this
													);
												},
												_perp: function () {
													var e = this.y;
													return (
														(this.y = this.x),
														(this.x = -e),
														this
													);
												},
												_rotate: function (e) {
													var t = Math.cos(e),
														n = Math.sin(e),
														r =
															t * this.x -
															n * this.y,
														i =
															n * this.x +
															t * this.y;
													return (
														(this.x = r),
														(this.y = i),
														this
													);
												},
												_round: function () {
													return (
														(this.x = Math.round(
															this.x
														)),
														(this.y = Math.round(
															this.y
														)),
														this
													);
												},
											}),
											(r.convert = function (e) {
												return e instanceof r
													? e
													: Array.isArray(e)
													? new r(e[0], e[1])
													: e;
											});
									},
									function (e, t, n) {
										var r = (function () {
											var e = {},
												t = Math.PI / 180,
												n = 180 / Math.PI,
												r = 6378137,
												i = 20037508.342789244;
											function o(t) {
												if (
													((t = t || {}),
													(this.size = t.size || 256),
													!e[this.size])
												) {
													var n = this.size,
														r = (e[this.size] = {});
													(r.Bc = []),
														(r.Cc = []),
														(r.zc = []),
														(r.Ac = []);
													for (var i = 0; i < 30; i++)
														r.Bc.push(n / 360),
															r.Cc.push(
																n /
																	(2 *
																		Math.PI)
															),
															r.zc.push(n / 2),
															r.Ac.push(n),
															(n *= 2);
												}
												(this.Bc = e[this.size].Bc),
													(this.Cc = e[this.size].Cc),
													(this.zc = e[this.size].zc),
													(this.Ac = e[this.size].Ac);
											}
											return (
												(o.prototype.px = function (
													e,
													n,
													r
												) {
													void 0 === r && (r = !0);
													var i = this.zc[n],
														o = Math.min(
															Math.max(
																Math.sin(
																	t * e[1]
																),
																-0.9999
															),
															0.9999
														),
														a =
															i +
															e[0] * this.Bc[n],
														s =
															i +
															0.5 *
																Math.log(
																	(1 + o) /
																		(1 - o)
																) *
																-this.Cc[n];
													return (
														r &&
															((a =
																Math.round(a)),
															(s =
																Math.round(s))),
														a > this.Ac[n] &&
															(a = this.Ac[n]),
														s > this.Ac[n] &&
															(s = this.Ac[n]),
														[a, s]
													);
												}),
												(o.prototype.ll = function (
													e,
													t
												) {
													var r =
														(e[1] - this.zc[t]) /
														-this.Cc[t];
													return [
														(e[0] - this.zc[t]) /
															this.Bc[t],
														n *
															(2 *
																Math.atan(
																	Math.exp(r)
																) -
																0.5 * Math.PI),
													];
												}),
												(o.prototype.bbox = function (
													e,
													t,
													n,
													r,
													i
												) {
													r &&
														(t =
															Math.pow(2, n) -
															1 -
															t);
													var o = [
															e * this.size,
															(+t + 1) *
																this.size,
														],
														a = [
															(+e + 1) *
																this.size,
															t * this.size,
														],
														s = this.ll(
															o,
															n
														).concat(this.ll(a, n));
													return "900913" === i
														? this.convert(
																s,
																"900913"
														  )
														: s;
												}),
												(o.prototype.xyz = function (
													e,
													t,
													n,
													r
												) {
													"900913" === r &&
														(e = this.convert(
															e,
															"WGS84"
														));
													var i = [e[0], e[1]],
														o = [e[2], e[3]],
														a = this.px(i, t),
														s = this.px(o, t),
														l = [
															Math.floor(
																a[0] / this.size
															),
															Math.floor(
																(s[0] - 1) /
																	this.size
															),
														],
														u = [
															Math.floor(
																s[1] / this.size
															),
															Math.floor(
																(a[1] - 1) /
																	this.size
															),
														],
														c = {
															minX:
																Math.min.apply(
																	Math,
																	l
																) < 0
																	? 0
																	: Math.min.apply(
																			Math,
																			l
																	  ),
															minY:
																Math.min.apply(
																	Math,
																	u
																) < 0
																	? 0
																	: Math.min.apply(
																			Math,
																			u
																	  ),
															maxX: Math.max.apply(
																Math,
																l
															),
															maxY: Math.max.apply(
																Math,
																u
															),
														};
													if (n) {
														var f = {
															minY:
																Math.pow(2, t) -
																1 -
																c.maxY,
															maxY:
																Math.pow(2, t) -
																1 -
																c.minY,
														};
														(c.minY = f.minY),
															(c.maxY = f.maxY);
													}
													return c;
												}),
												(o.prototype.convert =
													function (e, t) {
														return "900913" === t
															? this.forward(
																	e.slice(
																		0,
																		2
																	)
															  ).concat(
																	this.forward(
																		e.slice(
																			2,
																			4
																		)
																	)
															  )
															: this.inverse(
																	e.slice(
																		0,
																		2
																	)
															  ).concat(
																	this.inverse(
																		e.slice(
																			2,
																			4
																		)
																	)
															  );
													}),
												(o.prototype.forward =
													function (e) {
														var n = [
															r * e[0] * t,
															r *
																Math.log(
																	Math.tan(
																		0.25 *
																			Math.PI +
																			0.5 *
																				e[1] *
																				t
																	)
																),
														];
														return (
															n[0] > i &&
																(n[0] = i),
															n[0] < -i &&
																(n[0] = -i),
															n[1] > i &&
																(n[1] = i),
															n[1] < -i &&
																(n[1] = -i),
															n
														);
													}),
												(o.prototype.inverse =
													function (e) {
														return [
															(e[0] * n) / r,
															(0.5 * Math.PI -
																2 *
																	Math.atan(
																		Math.exp(
																			-e[1] /
																				r
																		)
																	)) *
																n,
														];
													}),
												o
											);
										})();
										e.exports = r;
									},
									function (e, t, n) {
										function r(e) {
											return !!(
												"undefined" != typeof window &&
												"undefined" !=
													typeof document &&
												Array.prototype &&
												Array.prototype.every &&
												Array.prototype.filter &&
												Array.prototype.forEach &&
												Array.prototype.indexOf &&
												Array.prototype.lastIndexOf &&
												Array.prototype.map &&
												Array.prototype.some &&
												Array.prototype.reduce &&
												Array.prototype.reduceRight &&
												Array.isArray &&
												Function.prototype &&
												Function.prototype.bind &&
												u.default &&
												Object.create &&
												l.default &&
												v.default &&
												g.default &&
												_.default &&
												b.default &&
												x.default &&
												Object.defineProperty &&
												Object.defineProperties &&
												w.default &&
												p.default &&
												C.default &&
												"JSON" in window &&
												"parse" in JSON &&
												"stringify" in JSON &&
												"Worker" in window &&
												"Uint8ClampedArray" in window &&
												(function (e) {
													return (
														void 0 === i[e] &&
															(i[e] = (function (
																e
															) {
																var t =
																		document.createElement(
																			"canvas"
																		),
																	n =
																		Object.create(
																			r.webGLContextAttributes
																		);
																return (
																	(n.failIfMajorPerformanceCaveat =
																		e),
																	t.probablySupportsContext
																		? t.probablySupportsContext(
																				"webgl",
																				n
																		  ) ||
																		  t.probablySupportsContext(
																				"experimental-webgl",
																				n
																		  )
																		: t.supportsContext
																		? t.supportsContext(
																				"webgl",
																				n
																		  ) ||
																		  t.supportsContext(
																				"experimental-webgl",
																				n
																		  )
																		: t.getContext(
																				"webgl",
																				n
																		  ) ||
																		  t.getContext(
																				"experimental-webgl",
																				n
																		  )
																);
															})(e)),
														i[e]
													);
												})(
													e &&
														e.failIfMajorPerformanceCaveat
												)
											);
										}
										e.exports
											? (e.exports = r)
											: window &&
											  ((window.mapboxgl =
													window.mapboxgl || {}),
											  (window.mapboxgl.supported = r));
										var i = {};
										r.webGLContextAttributes = {
											antialias: !1,
											alpha: !0,
											stencil: !0,
											depth: !0,
										};
									},
								]));
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			e.exports = n(259);
		},
		function (e, t, n) {
			n(34), (e.exports = n(54).f("toStringTag"));
		},
		function (e, t, n) {
			e.exports = n(261);
		},
		function (e, t, n) {
			n(26), n(35), (e.exports = n(262));
		},
		function (e, t, n) {
			var r = n(11),
				i = n(81);
			e.exports = n(1).getIterator = function (e) {
				var t = i(e);
				if ("function" != typeof t)
					throw TypeError(e + " is not iterable!");
				return r(t.call(e));
			};
		},
		function (e, t, n) {
			e.exports = n(264);
		},
		function (e, t, n) {
			n(34),
				n(35),
				n(26),
				n(265),
				n(266),
				n(267),
				n(268),
				(e.exports = n(1).Map);
		},
		function (e, t, n) {
			"use strict";
			var r = n(118),
				i = n(36);
			e.exports = n(61)(
				"Map",
				function (e) {
					return function () {
						return e(
							this,
							arguments.length > 0 ? arguments[0] : void 0
						);
					};
				},
				{
					get: function (e) {
						var t = r.getEntry(i(this, "Map"), e);
						return t && t.v;
					},
					set: function (e, t) {
						return r.def(i(this, "Map"), 0 === e ? 0 : e, t);
					},
				},
				r,
				!0
			);
		},
		function (e, t, n) {
			var r = n(2);
			r(r.P + r.R, "Map", { toJSON: n(119)("Map") });
		},
		function (e, t, n) {
			n(62)("Map");
		},
		function (e, t, n) {
			n(63)("Map");
		},
		function (e, t, n) {
			e.exports = n(270);
		},
		function (e, t, n) {
			n(26), n(35), (e.exports = n(271));
		},
		function (e, t, n) {
			var r = n(60),
				i = n(7)("iterator"),
				o = n(40);
			e.exports = n(1).isIterable = function (e) {
				var t = Object(e);
				return (
					void 0 !== t[i] ||
					"@@iterator" in t ||
					o.hasOwnProperty(r(t))
				);
			};
		},
		function (e, t, n) {
			e.exports = n(273);
		},
		function (e, t, n) {
			n(35), n(274), (e.exports = n(1).Array.from);
		},
		function (e, t, n) {
			"use strict";
			var r = n(21),
				i = n(2),
				o = n(33),
				a = n(104),
				s = n(105),
				l = n(56),
				u = n(115),
				c = n(81);
			i(
				i.S +
					i.F *
						!n(113)(function (e) {
							Array.from(e);
						}),
				"Array",
				{
					from: function (e) {
						var t,
							n,
							i,
							f,
							h = o(e),
							p = "function" == typeof this ? this : Array,
							d = arguments.length,
							y = d > 1 ? arguments[1] : void 0,
							m = void 0 !== y,
							v = 0,
							g = c(h);
						if (
							(m && (y = r(y, d > 2 ? arguments[2] : void 0, 2)),
							null == g || (p == Array && s(g)))
						)
							for (n = new p((t = l(h.length))); t > v; v++)
								u(n, v, m ? y(h[v], v) : h[v]);
						else
							for (
								f = g.call(h), n = new p();
								!(i = f.next()).done;
								v++
							)
								u(
									n,
									v,
									m ? a(f, y, [i.value, v], !0) : i.value
								);
						return (n.length = v), n;
					},
				}
			);
		},
		function (e, t, n) {
			e.exports = n(276);
		},
		function (e, t, n) {
			n(277);
			var r = n(1).Object;
			e.exports = function (e) {
				return r.getOwnPropertyNames(e);
			};
		},
		function (e, t, n) {
			n(17)("getOwnPropertyNames", function () {
				return n(100).f;
			});
		},
		function (e, t, n) {
			e.exports = n(279);
		},
		function (e, t, n) {
			n(280), (e.exports = n(1).Object.isSealed);
		},
		function (e, t, n) {
			var r = n(3);
			n(17)("isSealed", function (e) {
				return function (t) {
					return !r(t) || (!!e && e(t));
				};
			});
		},
		function (e, t, n) {
			e.exports = n(282);
		},
		function (e, t, n) {
			n(283), (e.exports = n(1).Object.isFrozen);
		},
		function (e, t, n) {
			var r = n(3);
			n(17)("isFrozen", function (e) {
				return function (t) {
					return !r(t) || (!!e && e(t));
				};
			});
		},
		function (e, t, n) {
			e.exports = n(285);
		},
		function (e, t, n) {
			n(286), (e.exports = n(1).Object.isExtensible);
		},
		function (e, t, n) {
			var r = n(3);
			n(17)("isExtensible", function (e) {
				return function (t) {
					return !!r(t) && (!e || e(t));
				};
			});
		},
		function (e, t, n) {
			e.exports = n(288);
		},
		function (e, t, n) {
			n(289), (e.exports = n(1).Object.seal);
		},
		function (e, t, n) {
			var r = n(3),
				i = n(25).onFreeze;
			n(17)("seal", function (e) {
				return function (t) {
					return e && r(t) ? e(i(t)) : t;
				};
			});
		},
		function (e, t, n) {
			e.exports = n(291);
		},
		function (e, t, n) {
			n(292), (e.exports = n(1).Object.preventExtensions);
		},
		function (e, t, n) {
			var r = n(3),
				i = n(25).onFreeze;
			n(17)("preventExtensions", function (e) {
				return function (t) {
					return e && r(t) ? e(i(t)) : t;
				};
			});
		},
		function (e, t, n) {
			e.exports = n(294);
		},
		function (e, t, n) {
			n(295), (e.exports = n(1).Reflect.get);
		},
		function (e, t, n) {
			var r = n(50),
				i = n(78),
				o = n(19),
				a = n(2),
				s = n(3),
				l = n(11);
			a(a.S, "Reflect", {
				get: function e(t, n) {
					var a,
						u,
						c = arguments.length < 3 ? t : arguments[2];
					return l(t) === c
						? t[n]
						: (a = r.f(t, n))
						? o(a, "value")
							? a.value
							: void 0 !== a.get
							? a.get.call(c)
							: void 0
						: s((u = i(t)))
						? e(u, n, c)
						: void 0;
				},
			});
		},
		function (e, t, n) {
			n(297), (e.exports = 9007199254740991);
		},
		function (e, t, n) {
			var r = n(2);
			r(r.S, "Number", { MAX_SAFE_INTEGER: 9007199254740991 });
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(126), n(5), n(12)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i) {
							"use strict";
							var o = n(0);
							function a(e) {
								var n;
								if (
									((this._ready = !1),
									(this._readyPromise = (0, i.defer)()),
									(this.mapboxRenderer = e.render),
									!this.mapboxRenderer)
								)
									throw new Error(
										"init MVTProvider render is required"
									);
								(this._layers = e.layers),
									(this._sources = e.sources),
									(this._requestImageList = []),
									(this._maximumCacheLength =
										null !== (n = e.maximumCacheLength) &&
										void 0 !== n
											? n
											: 100),
									(this._tilingScheme =
										new Cesium.WebMercatorTilingScheme()),
									(this._rectangle = Cesium.defaultValue(
										e.rectangle,
										this._tilingScheme.rectangle
									)),
									(this.tileSize =
										this.tileWidth =
										this.tileHeight =
											e.tileSize || 512),
									(this._maximumLevel =
										e.maximumLevel || t.default),
									(this._minimumLevel = e.minimumLevel || 0),
									(this._errorEvent = new Cesium.Event()),
									(this.proxy = new Cesium.DefaultProxy("")),
									(this.hasAlphaChannel =
										void 0 === e.hasAlphaChannel ||
										e.hasAlphaChannel),
									(this.sourceFilter = e.sourceFilter),
									(this._ready = !0),
									this._readyPromise.resolve(!0);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = o(t)),
								(r = o(r)),
								(a.prototype.getTileCredits = function (
									e,
									t,
									n
								) {
									return [];
								}),
								(a.prototype.createTile = function () {
									var e = document.createElement("canvas");
									return (
										(e.width = this.tileSize),
										(e.height = this.tileSize),
										(e.style.imageRendering = "pixelated"),
										(e.getContext(
											"2d"
										).globalCompositeOperation = "copy"),
										e
									);
								}),
								(a.prototype.requestImage = function (e, t, n) {
									var i = this,
										o =
											!(
												arguments.length > 3 &&
												void 0 !== arguments[3]
											) || arguments[3];
									if (
										n > this.maximumLevel ||
										n < this.minimumLevel
									)
										return r.default.reject(void 0);
									var a = n + "_" + e + "_" + t,
										s = this._requestImageList.filter(
											function (e) {
												if (e.id === a) return e;
											}
										);
									if (s.length > 0 && o)
										return s[0].requestImage;
									this._requestImageList.length >=
										this._maximumCacheLength &&
										o &&
										this._requestImageList.splice(0, 1),
										this.mapboxRenderer.filterForZoom(n);
									var l = [];
									this.mapboxRenderer
										.getVisibleSources()
										.filter(function (e) {
											return i._sources.indexOf(e) > -1;
										})
										.forEach(function (r) {
											l.push({
												source: r,
												z: n,
												x: e,
												y: t,
												left: 0,
												top: 0,
												size: i.tileSize,
											});
										});
									var u = new r.default(function (e, t) {
										var n = i.createTile(),
											r = i.mapboxRenderer.renderTiles(
												n.getContext("2d"),
												{
													srcLeft: 0,
													srcTop: 0,
													width: i.tileSize,
													height: i.tileSize,
													destLeft: 0,
													destTop: 0,
												},
												l,
												function (a) {
													if (a)
														switch (a) {
															case "canceled":
															case "fully-canceled":
																t(void 0);
																break;
															default:
																t(void 0);
														}
													else
														o
															? ((r.consumer.ctx =
																	void 0),
															  e(n),
															  i.mapboxRenderer.releaseRender(
																	r
															  ))
															: e(r);
												}
											);
									});
									return (
										o &&
											this._requestImageList.push({
												id: a,
												requestImage: u,
											}),
										u
									);
								}),
								(a.prototype.pickFeatures = function (
									e,
									t,
									n,
									r,
									i
								) {
									var o = this;
									return this.requestImage(e, t, n, !1).then(
										function (e) {
											var t = o.mapboxRenderer
												.getVisibleSources()
												.filter(function (e) {
													return (
														o._sources.indexOf(e) >
														-1
													);
												});
											t = o.sourceFilter
												? o.sourceFilter(t)
												: t;
											var a = [];
											return (
												(r = Cesium.Math.toDegrees(r)),
												(i = Cesium.Math.toDegrees(i)),
												t.forEach(function (e) {
													a.push({
														data: o.mapboxRenderer.queryRenderedFeatures(
															{
																source: e,
																renderedZoom: n,
																lng: r,
																lat: i,
																tileZ: n,
															}
														),
													});
												}),
												(e.consumer.ctx = void 0),
												o.mapboxRenderer.releaseRender(
													e
												),
												a
											);
										}
									);
								}),
								Object.defineProperties(a.prototype, {
									maximumCacheLength: {
										get: function () {
											return this._maximumCacheLength;
										},
									},
									maximumLevel: {
										get: function () {
											return this._maximumLevel;
										},
									},
									minimumLevel: {
										get: function () {
											return this._minimumLevel;
										},
									},
									tilingScheme: {
										get: function () {
											return this._tilingScheme;
										},
									},
									rectangle: {
										get: function () {
											return (
												this._rectangle ||
												this._tilingScheme.rectangle
											);
										},
									},
									tileDiscardPolicy: { get: function () {} },
									readyPromise: {
										get: function () {
											return this._readyPromise.promise;
										},
									},
									ready: {
										get: function () {
											return this._ready;
										},
									},
									credit: { get: function () {} },
									defaultMagnificationFilter: {
										get: function () {
											return Cesium
												.TextureMinificationFilter
												.LINEAR;
										},
									},
									defaultMinificationFilter: {
										get: function () {
											return Cesium
												.TextureMinificationFilter
												.LINEAR;
										},
									},
									errorEvent: {
										get: function () {
											return this.m_errorEvent;
										},
									},
								});
							var s = a;
							e.default = s;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t() {}
							function n(e) {
								if (
									!1 ===
									e.hasOwnProperty("originalModelMatrix")
								)
									throw new Error("未找到模型原始状态");
								var t = [];
								e instanceof Cesium.Model
									? (e.modelMatrix = Cesium.Matrix4.unpack(
											e.originalModelMatrix,
											0,
											t
									  ))
									: e instanceof Cesium.Cesium3DTileset &&
									  (e._root.transform =
											Cesium.Matrix4.unpack(
												e.originalModelMatrix,
												0,
												t
											));
							}
							function r(e, t, n) {
								var r = [];
								if (t instanceof Cesium.Model)
									switch (
										(!1 ===
											t.hasOwnProperty(
												"originalModelMatrix"
											) &&
											(t.originalModelMatrix =
												Cesium.Matrix4.pack(
													t.modelMatrix,
													r,
													0
												)),
										e)
									) {
										case "x":
											i(
												t,
												Cesium.Matrix3.fromRotationX(
													Cesium.Math.toRadians(n)
												)
											);
											break;
										case "y":
											i(
												t,
												Cesium.Matrix3.fromRotationY(
													Cesium.Math.toRadians(n)
												)
											);
											break;
										case "z":
											i(
												t,
												Cesium.Matrix3.fromRotationZ(
													Cesium.Math.toRadians(n)
												)
											);
									}
								else if (t instanceof Cesium.Cesium3DTileset)
									switch (
										(!1 ===
											t.hasOwnProperty(
												"originalModelMatrix"
											) &&
											(t.originalModelMatrix =
												Cesium.Matrix4.pack(
													t._root.transform,
													r,
													0
												)),
										e)
									) {
										case "x":
											o(
												t,
												Cesium.Matrix3.fromRotationX(
													Cesium.Math.toRadians(n)
												)
											);
											break;
										case "y":
											o(
												t,
												Cesium.Matrix3.fromRotationY(
													Cesium.Math.toRadians(n)
												)
											);
											break;
										case "z":
											o(
												t,
												Cesium.Matrix3.fromRotationZ(
													Cesium.Math.toRadians(n)
												)
											);
									}
							}
							function i(e, t) {
								var n = e.modelMatrix;
								Cesium.Matrix4.multiplyByMatrix3(n, t, n),
									(e.modelMatrix = n);
							}
							function o(e, t) {
								var n = e._root.transform;
								Cesium.Matrix4.multiplyByMatrix3(n, t, n),
									(e._root.transform = n);
							}
							function a(e, t, n) {
								var r = [];
								if (t instanceof Cesium.Model)
									switch (
										(!1 ===
											t.hasOwnProperty(
												"originalModelMatrix"
											) &&
											(t.originalModelMatrix =
												Cesium.Matrix4.pack(
													t.modelMatrix,
													r,
													0
												)),
										e)
									) {
										case "x":
											s(
												t,
												new Cesium.Cartesian3(n, 0, 0)
											);
											break;
										case "y":
											s(
												t,
												new Cesium.Cartesian3(0, n, 0)
											);
											break;
										case "z":
											s(
												t,
												new Cesium.Cartesian3(0, 0, n)
											);
									}
								else if (t instanceof Cesium.Cesium3DTileset)
									switch (
										(!1 ===
											t.hasOwnProperty(
												"originalModelMatrix"
											) &&
											(t.originalModelMatrix =
												Cesium.Matrix4.pack(
													t._root.transform,
													r,
													0
												)),
										e)
									) {
										case "x":
											l(
												t,
												new Cesium.Cartesian3(n, 0, 0)
											);
											break;
										case "y":
											l(
												t,
												new Cesium.Cartesian3(0, n, 0)
											);
											break;
										case "z":
											l(
												t,
												new Cesium.Cartesian3(0, 0, n)
											);
									}
							}
							function s(e, t) {
								var n = e.modelMatrix,
									r = new Cesium.Matrix4();
								Cesium.Matrix4.setTranslation(
									Cesium.Matrix4.IDENTITY,
									t,
									r
								),
									Cesium.Matrix4.multiply(n, r, n),
									(e.modelMatrix = n);
							}
							function l(e, t) {
								var n = e._root.transform,
									r = new Cesium.Matrix4();
								Cesium.Matrix4.setTranslation(
									Cesium.Matrix4.IDENTITY,
									t,
									r
								),
									Cesium.Matrix4.multiply(n, r, n),
									(e._root.transform = n);
							}
							function u(e, t) {
								var n = [];
								e instanceof Cesium.Model
									? (!1 ===
											e.hasOwnProperty(
												"originalModelMatrix"
											) &&
											(e.originalModelMatrix =
												Cesium.Matrix4.pack(
													e.modelMatrix,
													n,
													0
												)),
									  (function (e, t) {
											var n = e.modelMatrix,
												r =
													Cesium.Matrix4.fromUniformScale(
														t
													);
											Cesium.Matrix4.multiply(n, r, n),
												(e.modelMatrix = n);
									  })(e, t))
									: e instanceof Cesium.Cesium3DTileset &&
									  (!1 ===
											e.hasOwnProperty(
												"originalModelMatrix"
											) &&
											(e.originalModelMatrix =
												Cesium.Matrix4.pack(
													e._root.transform,
													n,
													0
												)),
									  (function (e, t) {
											var n = e._root.transform,
												r =
													Cesium.Matrix4.fromUniformScale(
														t
													);
											Cesium.Matrix4.multiply(n, r, n),
												(e._root.transform = n);
									  })(e, t));
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t.prototype.Reset = function (e) {
									e instanceof Array
										? e.forEach(function (e) {
												n(e);
										  })
										: n(e);
								}),
								(t.prototype.fromRotationX = function (e, t) {
									e instanceof Array
										? e.forEach(function (e) {
												r("x", e, t);
										  })
										: r("x", e, t);
								}),
								(t.prototype.fromRotationY = function (e, t) {
									e instanceof Array
										? e.forEach(function (e) {
												r("y", e, t);
										  })
										: r("y", e, t);
								}),
								(t.prototype.fromRotationZ = function (e, t) {
									e instanceof Array
										? e.forEach(function (e) {
												r("z", e, t);
										  })
										: r("z", e, t);
								}),
								(t.prototype.fromTranslationX = function (
									e,
									t
								) {
									e instanceof Array
										? e.forEach(function (e) {
												a("x", e, t);
										  })
										: a("x", e, t);
								}),
								(t.prototype.fromTranslationY = function (
									e,
									t
								) {
									e instanceof Array
										? e.forEach(function (e) {
												a("y", e, t);
										  })
										: a("y", e, t);
								}),
								(t.prototype.fromTranslationZ = function (
									e,
									t
								) {
									e instanceof Array
										? e.forEach(function (e) {
												a("z", e, t);
										  })
										: a("z", e, t);
								}),
								(t.prototype.setScale = function (e, t) {
									e instanceof Array
										? e.forEach(function (e) {
												u(e, t);
										  })
										: u(e, t);
								});
							var c = t;
							e.default = c;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color),
									(this.duration = e.duration),
									(this._time = new Date().getTime()),
									(this.runMode = e.runMode);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeDiffusionCircleMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.color
														) &&
														e.Property.isConstant(
															this.runMode
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
											runMode:
												e.createPropertyDescriptor(
													"runMode"
												),
										}),
										(e.Material.GisEyeDiffusionCircleMaterialPropertyType =
											"GisEyeDiffusionCircleMaterialProperty"),
										(e.Material.GisEyeDiffusionCircleMaterialPropertyMaterialSource =
											"\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      material.diffuse = 1.5 * color.rgb;\n      vec2 st = materialInput.st;\n      float dis = distance(st, vec2(0.5, 0.5));\n      float per = fract(time);\n      if(dis > per * 0.5) {\n        material.alpha = 0.0;\n        discard;\n      }else{\n        material.alpha = color.a * dis / per / 1.0;\n      }\n      return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeDiffusionCircleMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeDiffusionCircleMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															1,
															1,
															1,
															1
														),
														time: 0,
													},
													source: e.Material
														.GisEyeDiffusionCircleMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeDiffusionCircleMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												Cesium.Color.WHITE,
												t.color
											)),
										(t.runMode =
											Cesium.Property.getValueOrUndefined(
												this.runMode,
												e
											)),
										1 === this.runMode.getValue()
											? (t.time = Math.abs(
													Math.sin(
														(new Date().getTime() -
															this._time) /
															this.duration
													)
											  ))
											: (t.time =
													((new Date().getTime() -
														this._time) %
														this.duration) /
													this.duration),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											) &&
											Cesium.Property.equals(
												this.runMode,
												e.runMode
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.image = e.image),
									(this.rate = e.rate),
									(this.repeatNum = e.repeatNum),
									(this.alpha = e.alpha),
									(this.isTranslucent = e.isTranslucent);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeFlowingImageMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.image
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.repeatNum
														) &&
														e.Property.isConstant(
															this.alpha
														) &&
														e.Property.isConstant(
															this.isTranslucent
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											image: e.createPropertyDescriptor(
												"image"
											),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
											isTranslucent:
												e.createPropertyDescriptor(
													"isTranslucent"
												),
										}),
										(e.Material.GisEyeFlowingImageMaterialPropertyType =
											"GisEyeFlowingImageMaterialProperty"),
										(e.Material.GisEyeFlowingImageMaterialPropertyMaterialSource =
											"\n    float iTime= czm_frameNumber/ 100.0;\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        vec2 str = materialInput.st;\n        str.s=str.s*repeatNum.x;\n        str.t=str.t*repeatNum.y;\n        vec4 colorImage = texture2D(image, vec2(fract(str.s - rate.x*iTime), fract(str.t - rate.y*iTime)));\n        material.diffuse =colorImage.rgb;\n        material.alpha = alpha;\n        return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeFlowingImageMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeFlowingImageMaterialPropertyType,
													uniforms: {
														image: e.Material
															.DefaultImageId,
														rate: { x: 1, y: 1 },
														repeatNum: {
															x: 1,
															y: 1,
														},
														alpha: 1,
														isTranslucent: !0,
													},
													source: e.Material
														.GisEyeFlowingImageMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return e.uniforms
														.isTranslucent;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeFlowingImageMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.image =
											Cesium.Property.getValueOrUndefined(
												this.image,
												e
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												{ x: 1, y: 1 },
												t.rate
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												{ x: 1, y: 1 },
												t.repeatNum
											)),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										(t.isTranslucent =
											Cesium.Property.getValueOrDefault(
												this.isTranslucent,
												e,
												!0,
												t.isTranslucent
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.image,
												e.image
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											) &&
											Cesium.Property.equals(
												this.isTranslucent,
												e.isTranslucent
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.image = e.image),
									(this.rate = e.rate),
									(this.imgLength = e.imgLength),
									(this.alpha = e.alpha),
									(this.isTranslucent = e.isTranslucent);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeFlowingImagePolylineMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.image
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.imgLength
														) &&
														e.Property.isConstant(
															this.alpha
														) &&
														e.Property.isConstant(
															this.isTranslucent
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											image: e.createPropertyDescriptor(
												"image"
											),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											imgLength:
												e.createPropertyDescriptor(
													"imgLength"
												),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
											isTranslucent:
												e.createPropertyDescriptor(
													"isTranslucent"
												),
										}),
										(e.Material.GisEyeFlowingImagePolylineMaterialPropertyType =
											"GisEyeFlowingImagePolylineMaterialProperty"),
										(e.Material.GisEyeFlowingImagePolylineMaterialPropertyMaterialSource =
											"\n    varying float v_polylineAngle;\n    float iTime= czm_frameNumber/ 100.0;\n    const float maskLength = 16.0;\n    mat2 rotate(float rad) {\n        float c = cos(rad);\n        float s = sin(rad);\n        return mat2(\n            c, s,\n            -s, c\n        );\n    }\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        vec4 position = czm_windowToEyeCoordinates(czm_view3D *gl_FragCoord);\n        float pixelWidth = czm_metersPerPixel(position);\n        vec2 pos = rotate(v_polylineAngle) * gl_FragCoord.xy;\n        // Get the relative position within the dash from 0 to 1\n        float dashPosition = fract(pos.x / (imgLength * czm_pixelRatio));\n        vec2 str = materialInput.st;\n        // 通过masktest去用texture2D吸图片材质\n        vec4 colorImage = texture2D(image, vec2(fract(dashPosition- rate*iTime), fract(str.t)));\n        colorImage=czm_gammaCorrect(colorImage);\n        material.diffuse =colorImage.rgb;\n        material.alpha = colorImage.a*alpha;\n        return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeFlowingImagePolylineMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeFlowingImagePolylineMaterialPropertyType,
													uniforms: {
														image: e.Material
															.DefaultImageId,
														rate: 1,
														imgLength: 16,
														alpha: 1,
														isTranslucent: !0,
													},
													source: e.Material
														.GisEyeFlowingImagePolylineMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return e.uniforms
														.isTranslucent;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeFlowingImagePolylineMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.image =
											Cesium.Property.getValueOrUndefined(
												this.image,
												e
											)),
										(t.rate =
											Cesium.Property.getValueOrClonedDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.imgLength =
											Cesium.Property.getValueOrClonedDefault(
												this.imgLength,
												e,
												16,
												t.imgLength
											)),
										(t.alpha =
											Cesium.Property.getValueOrClonedDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										(t.isTranslucent =
											Cesium.Property.getValueOrClonedDefault(
												this.isTranslucent,
												e,
												!0,
												t.isTranslucent
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.image,
												e.image
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.imgLength,
												e.imgLength
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											) &&
											Cesium.Property.equals(
												this.isTranslucent,
												e.isTranslucent
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color1 = e.color1),
									(this.color2 = e.color2),
									(this.orientation = e.orientation),
									(this.repeatNum = e.repeatNum),
									(this.alpha = e.alpha),
									(this.isTranslucent = e.isTranslucent);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeGradientColorMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.color1
														) &&
														e.Property.isConstant(
															this.color2
														) &&
														e.Property.isConstant(
															this.orientation
														) &&
														e.Property.isConstant(
															this.repeatNum
														) &&
														e.Property.isConstant(
															this.alpha
														) &&
														e.Property.isConstant(
															this.isTranslucent
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color1: e.createPropertyDescriptor(
												"color1"
											),
											color2: e.createPropertyDescriptor(
												"color2"
											),
											orientation:
												e.createPropertyDescriptor(
													"orientation"
												),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
											isTranslucent:
												e.createPropertyDescriptor(
													"isTranslucent"
												),
										}),
										(e.Material.GisEyeGradientColorMaterialPropertyType =
											"GisEyeGradientColorMaterialProperty"),
										(e.Material.GisEyeGradientColorMaterialPropertyMaterialSource =
											"\n    float iTime= czm_frameNumber/ 100.0;\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st;\n      str.s=str.s*repeatNum.x;\n      str.t=str.t*repeatNum.y;\n      if(orientation==1.0){\n        material.diffuse.rgb=color1.rgb*fract(str.s)+color2.rgb*(1.0-fract(str.s));\n      }else if(orientation==2.0){\n        material.diffuse.rgb=color1.rgb*fract(str.t)+color2.rgb*(1.0-fract(str.t));\n      }else if(orientation==3.0){\n        material.diffuse.rgb=color1.rgb*fract(str.s)+color2.rgb*(1.0-fract(str.t));\n      }else if(orientation==4.0){\n        str.t=1.0-str.t;\n        material.diffuse.rgb=color1.rgb*fract(str.s)+color2.rgb*(1.0-fract(str.t));\n      }\n      else{\n        material.diffuse.rgb=color1.rgb*fract(str.t)+color2.rgb*(1.0-fract(str.t));\n      }\n      material.alpha = alpha;\n      return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeGradientColorMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeGradientColorMaterialPropertyType,
													uniforms: {
														color1: new e.Color(
															1,
															1,
															1,
															1
														),
														color2: new e.Color(
															0,
															0,
															0,
															1
														),
														orientation: 1,
														repeatNum: {
															x: 1,
															y: 1,
														},
														alpha: 1,
														isTranslucent: !0,
													},
													source: e.Material
														.GisEyeGradientColorMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return e.uniforms
														.isTranslucent;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeGradientColorMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color1 =
											Cesium.Property.getValueOrDefault(
												this.color1,
												e,
												Cesium.Color.WHITE,
												t.color1
											)),
										(t.color2 =
											Cesium.Property.getValueOrDefault(
												this.color2,
												e,
												Cesium.Color.BLACK,
												t.color2
											)),
										(t.orientation =
											Cesium.Property.getValueOrDefault(
												this.orientation,
												e,
												1,
												t.orientation
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												{ x: 1, y: 1 },
												t.repeatNum
											)),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										(t.isTranslucent =
											Cesium.Property.getValueOrDefault(
												this.isTranslucent,
												e,
												!0,
												t.isTranslucent
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color1,
												e.color1
											) &&
											Cesium.Property.equals(
												this.color2,
												e.color2
											) &&
											Cesium.Property.equals(
												this.orientation,
												e.orientation
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											) &&
											Cesium.Property.equals(
												this.isTranslucent,
												e.isTranslucent
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.bgColor = e.bgColor),
									(this.runColor = e.runColor),
									(this.rate = e.rate),
									(this.ratio = e.ratio),
									(this.lightratio = e.lightratio),
									(this.repeatNum = e.repeatNum);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeFlowingColorLightMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.bgColor
														) &&
														e.Property.isConstant(
															this.runColor
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.ratio
														) &&
														e.Property.isConstant(
															this.lightratio
														) &&
														e.Property.isConstant(
															this.repeatNum
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											bgColor:
												e.createPropertyDescriptor(
													"bgColor"
												),
											runColor:
												e.createPropertyDescriptor(
													"runColor"
												),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											ratio: e.createPropertyDescriptor(
												"ratio"
											),
											lightratio:
												e.createPropertyDescriptor(
													"lightratio"
												),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
										}),
										(e.Material.GisEyeFlowingColorLightMaterialPropertyType =
											"GisEyeFlowingColorLightMaterialProperty"),
										(e.Material.GisEyeFlowingColorLightMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n  czm_material czm_getMaterial(czm_materialInput materialInput)\n  {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st*1.0;\n      str.s=str.s*repeatNum;\n      material.diffuse =bgColor.rgb;\n      material.emission =bgColor.rgb;\n      float tt=fract(str.s-rate*iTime);\n      float ratio=0.2;float lightratio=0.7;\n      if(tt<ratio){\n          material.diffuse =runColor.rgb;\n          material.emission =runColor.rgb;\n      }\n      if(str.t>1.0-lightratio/2.){\n          material.alpha=(1.0-str.t)/lightratio*0.7;\n          material.diffuse =bgColor.rgb;\n          material.emission =bgColor.rgb;\n      }\n      if(str.t<lightratio/2.){\n          material.alpha=(str.t)/lightratio*0.7;\n          material.diffuse =bgColor.rgb;\n          material.emission =bgColor.rgb;\n      }\n      return material;\n  }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeFlowingColorLightMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeFlowingColorLightMaterialPropertyType,
													uniforms: {
														bgColor: new e.Color(
															1,
															0,
															0,
															1
														),
														runColor: new e.Color(
															1,
															1,
															0,
															1
														),
														rate: 1,
														ratio: 0.2,
														lightratio: 0.7,
														repeatNum: 1,
													},
													source: e.Material
														.GisEyeFlowingColorLightMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeFlowingColorLightMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.bgColor =
											Cesium.Property.getValueOrDefault(
												this.bgColor,
												e,
												Cesium.Color.RED,
												t.bgColor
											)),
										(t.runColor =
											Cesium.Property.getValueOrDefault(
												this.runColor,
												e,
												Cesium.Color.YELLOW,
												t.runColor
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.ratio =
											Cesium.Property.getValueOrDefault(
												this.ratio,
												e,
												0.2,
												t.ratio
											)),
										(t.lightratio =
											Cesium.Property.getValueOrDefault(
												this.lightratio,
												e,
												0.7,
												t.lightratio
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												1,
												t.repeatNum
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.bgColor,
												e.bgColor
											) &&
											Cesium.Property.equals(
												this.runColor,
												e.runColor
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.ratio,
												e.ratio
											) &&
											Cesium.Property.equals(
												this.lightratio,
												e.lightratio
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeElectroLightMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return e.Property.isConstant(
														this.color
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
										}),
										(e.Material.GisEyeElectroLightMaterialPropertyType =
											"GisEyeElectroLightMaterialProperty"),
										(e.Material.GisEyeElectroLightMaterialPropertyMaterialSource =
											"\n    vec3 random3(vec3 c) {\n      float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));\n      vec3 r;\n      r.z = fract(512.0*j);\n      j *= .125;\n      r.x = fract(512.0*j);\n      j *= .125;\n      r.y = fract(512.0*j);\n      return r-0.5;\n    }\n\n    /* skew constants for 3d simplex functions */\n    const float F3 =  0.3333333;\n    const float G3 =  0.1666667;\n\n    /* 3d simplex noise */\n    float simplex3d(vec3 p) {\n      /* 1. find current tetrahedron T and it's four vertices */\n      /* s, s+i1, s+i2, s+1.0 - absolute skewed (integer) coordinates of T vertices */\n      /* x, x1, x2, x3 - unskewed coordinates of p relative to each of T vertices*/\n\n      /* calculate s and x */\n      vec3 s = floor(p + dot(p, vec3(F3)));\n      vec3 x = p - s + dot(s, vec3(G3));\n\n      /* calculate i1 and i2 */\n      vec3 e = step(vec3(0.0), x - x.yzx);\n      vec3 i1 = e*(1.0 - e.zxy);\n      vec3 i2 = 1.0 - e.zxy*(1.0 - e);\n\n      /* x1, x2, x3 */\n      vec3 x1 = x - i1 + G3;\n      vec3 x2 = x - i2 + 2.0*G3;\n      vec3 x3 = x - 1.0 + 3.0*G3;\n\n      /* 2. find four surflets and store them in d */\n      vec4 w, d;\n\n      /* calculate surflet weights */\n      w.x = dot(x, x);\n      w.y = dot(x1, x1);\n      w.z = dot(x2, x2);\n      w.w = dot(x3, x3);\n\n      /* w fades from 0.6 at the center of the surflet to 0.0 at the margin */\n      w = max(0.6 - w, 0.0);\n\n      /* calculate surflet components */\n      d.x = dot(random3(s), x);\n      d.y = dot(random3(s + i1), x1);\n      d.z = dot(random3(s + i2), x2);\n      d.w = dot(random3(s + 1.0), x3);\n\n      /* multiply d by w^4 */\n      w *= w;\n      w *= w;\n      d *= w;\n\n      /* 3. return the sum of the four surflets */\n      return dot(d, vec4(52.0));\n    }\n\n    float noise(vec3 m) {\n        return   0.5333333*simplex3d(m)\n      +0.2666667*simplex3d(2.0*m)\n      +0.1333333*simplex3d(4.0*m)\n      +0.0666667*simplex3d(8.0*m);\n    }\n    float iTime= czm_frameNumber/ 100.0;\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st*1.0;\n      vec2 uv = str;\n      uv = uv * 2. -1.;\n      vec2 p = str;\n      vec3 p3 = vec3(p, iTime*0.4);\n      float intensity = noise(vec3(p3*12.0+12.0));\n      float t = clamp((uv.x * -uv.x * 0.16) + 0.15, 0., 1.);\n      float y = abs(intensity * -t + uv.y);\n      float g = pow(y, 0.2);\n      // vec3 col = vec3(1.70, 1.48, 1.78);\n      vec3 col = vec3(color.r, color.g, color.b);\n      col = col * -g + col;\n      col = col * col;\n      col = col * col;\n      //   fragColor.rgb = col;\n      //   fragColor.w = 1.;\n      // material.diffuse =vec3(1.0,0.0,0.0);\n      // material.emission =vec3(1.0,0.0,0.0);\n      material.diffuse =col;\n      material.emission =col;\n      // material.alpha=col.r;\n      // material.alpha=col.r*col.g*col.b;\n      if(col.r<0.5&&col.g<0.5&&col.b<0.5){\n          // material.alpha=col.r;\n          material.alpha=col.r*col.g*col.b;\n      }\n      return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeElectroLightMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeElectroLightMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															1.7,
															1.48,
															1.78,
															1
														),
													},
													source: e.Material
														.GisEyeElectroLightMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeElectroLightMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(
													1.7,
													1.48,
													1.78,
													1
												),
												t.color
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.image = e.image),
									(this.rate = e.rate),
									(this.repeatNum = e.repeatNum),
									(this.alpha = e.alpha),
									(this.isTranslucent = e.isTranslucent);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeFlowingStarsLightMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.image
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.repeatNum
														) &&
														e.Property.isConstant(
															this.alpha
														) &&
														e.Property.isConstant(
															this.isTranslucent
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											image: e.createPropertyDescriptor(
												"image"
											),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
											isTranslucent:
												e.createPropertyDescriptor(
													"isTranslucent"
												),
										}),
										(e.Material.GisEyeFlowingStarsLightMaterialPropertyType =
											"GisEyeFlowingStarsLightMaterialProperty"),
										(e.Material.GisEyeFlowingStarsLightMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n  czm_material czm_getMaterial(czm_materialInput materialInput)\n  {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st*1.0;\n      str.s=str.s*repeatNum;\n      float\n      e = iTime*0.03+5.*5.,\n      m = 0.,\n      y;\n      vec2 p = vec2(fract(str.s + rate*0.1*iTime)*1.0, str.t);//materialInput.st*1.0;\n      vec2\n          s = vec2(p.t,1.30-p.s),\n          v = 2.*(2.*p.xy-s)/s.y;\n      for(float i=0.;i<3e2;i++)\n      {\n          y = 6.28*i/3e2;\n          s = v - fract((e+492.87)*sin(i*695.58))*e * vec2(cos(y), sin(y));\n          m += 2e-3/dot(s,s);\n      }\n      material.diffuse =\n          mix(\n              vec4(m),\n              texture2D(image, v/5.),\n              clamp(m, 0., .5)\n          ).rgb;\n      material.alpha = alpha;\n      return material;\n  }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeFlowingStarsLightMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeFlowingStarsLightMaterialPropertyType,
													uniforms: {
														image: e.Material
															.DefaultImageId,
														rate: 1,
														repeatNum: 1,
														alpha: 1,
														isTranslucent: !0,
													},
													source: e.Material
														.GisEyeFlowingStarsLightMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return e.uniforms
														.isTranslucent;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeFlowingStarsLightMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.image =
											Cesium.Property.getValueOrUndefined(
												this.image,
												e
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												1,
												t.repeatNum
											)),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										(t.isTranslucent =
											Cesium.Property.getValueOrDefault(
												this.isTranslucent,
												e,
												!0,
												t.isTranslucent
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.image,
												e.image
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											) &&
											Cesium.Property.equals(
												this.isTranslucent,
												e.isTranslucent
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeLightSourceMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return e.Property.isConstant(
														this.color
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
										}),
										(e.Material.GisEyeLightSourceMaterialPropertyType =
											"GisEyeLightSourceMaterialProperty"),
										(e.Material.GisEyeLightSourceMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n  czm_material czm_getMaterial(czm_materialInput materialInput)\n  {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st*1.0;\n      float Dist = distance(str, vec2 (0.5, 0.5));\n      Dist=min(1.,Dist*3.0);\n      Dist=1.0-Dist;\n      // if(Dist>0.8)Dist+=0.1*Dist;\n      vec4 fragColor = vec4(Dist);\n      material.diffuse = fragColor.rgb* color.rgb;\n      material.alpha = fragColor.a;\n      return material;\n  }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeLightSourceMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeLightSourceMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															1,
															0,
															0,
															1
														),
													},
													source: e.Material
														.GisEyeLightSourceMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeLightSourceMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(1, 0, 0, 1),
												t.color
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color),
									(this.rate = e.rate),
									(this.repeatNum = e.repeatNum);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeBlocksFallMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.color
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.repeatNum
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
										}),
										(e.Material.GisEyeBlocksFallMaterialPropertyType =
											"GisEyeBlocksFallMaterialProperty"),
										(e.Material.GisEyeBlocksFallMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n    float noise( vec3 p )\n    {\n        //  simplex math constants\n        const float SKEWFACTOR = 1.0/3.0;\n        const float UNSKEWFACTOR = 1.0/6.0;\n        const float SIMPLEX_CORNER_POS = 0.5;\n        const float SIMPLEX_TETRAHADRON_HEIGHT = 0.70710678118654752440084436210485;    // sqrt( 0.5 )\n\n        //  establish our grid cell.\n        p *= SIMPLEX_TETRAHADRON_HEIGHT;    // scale space so we can have an approx feature size of 1.0\n        vec3 Pi = floor( p + dot( p, vec3( SKEWFACTOR) ) );\n\n        //  Find the vectors to the corners of our simplex tetrahedron\n        vec3 x0 = p - Pi + dot(Pi, vec3( UNSKEWFACTOR ) );\n        vec3 g = step(x0.yzx, x0.xyz);\n        vec3 l = 1.0 - g;\n        vec3 Pi_1 = min( g.xyz, l.zxy );\n        vec3 Pi_2 = max( g.xyz, l.zxy );\n        vec3 x1 = x0 - Pi_1 + UNSKEWFACTOR;\n        vec3 x2 = x0 - Pi_2 + SKEWFACTOR;\n        vec3 x3 = x0 - SIMPLEX_CORNER_POS;\n\n        //  pack them into a parallel-friendly arrangement\n        vec4 v1234_x = vec4( x0.x, x1.x, x2.x, x3.x );\n        vec4 v1234_y = vec4( x0.y, x1.y, x2.y, x3.y );\n        vec4 v1234_z = vec4( x0.z, x1.z, x2.z, x3.z );\n\n        // clamp the domain of our grid cell\n        Pi.xyz = Pi.xyz - floor(Pi.xyz * ( 1.0 / 69.0 )) * 69.0;\n        vec3 Pi_inc1 = step( Pi, vec3( 69.0 - 1.5 ) ) * ( Pi + 1.0 );\n\n        //  generate the random vectors\n        vec4 Pt = vec4( Pi.xy, Pi_inc1.xy ) + vec2( 50.0, 161.0 ).xyxy;\n        Pt *= Pt;\n        vec4 V1xy_V2xy = mix( Pt.xyxy, Pt.zwzw, vec4( Pi_1.xy, Pi_2.xy ) );\n        Pt = vec4( Pt.x, V1xy_V2xy.xz, Pt.z ) * vec4( Pt.y, V1xy_V2xy.yw, Pt.w );\n        const vec3 SOMELARGEFLOATS = vec3( 635.298681, 682.357502, 668.926525 );\n        const vec3 ZINC = vec3( 48.500388, 65.294118, 63.934599 );\n        vec3 lowz_mods = vec3( 1.0 / ( SOMELARGEFLOATS.xyz + Pi.zzz * ZINC.xyz ) );\n        vec3 highz_mods = vec3( 1.0 / ( SOMELARGEFLOATS.xyz + Pi_inc1.zzz * ZINC.xyz ) );\n        Pi_1 = ( Pi_1.z < 0.5 ) ? lowz_mods : highz_mods;\n        Pi_2 = ( Pi_2.z < 0.5 ) ? lowz_mods : highz_mods;\n        vec4 hash_0 = fract( Pt * vec4( lowz_mods.x, Pi_1.x, Pi_2.x, highz_mods.x ) ) - 0.49999;\n        vec4 hash_1 = fract( Pt * vec4( lowz_mods.y, Pi_1.y, Pi_2.y, highz_mods.y ) ) - 0.49999;\n        vec4 hash_2 = fract( Pt * vec4( lowz_mods.z, Pi_1.z, Pi_2.z, highz_mods.z ) ) - 0.49999;\n\n        //  evaluate gradients\n        vec4 grad_results = inversesqrt( hash_0 * hash_0 + hash_1 * hash_1 + hash_2 * hash_2 ) * ( hash_0 * v1234_x + hash_1 * v1234_y + hash_2 * v1234_z );\n\n        //  Normalization factor to scale the final result to a strict 1.0->-1.0 range\n        const float FINAL_NORMALIZATION = 37.837227241611314102871574478976;\n\n        //  evaulate the kernel weights ( use (0.5-x*x)^3 instead of (0.6-x*x)^4 to fix discontinuities )\n        vec4 kernel_weights = v1234_x * v1234_x + v1234_y * v1234_y + v1234_z * v1234_z;\n        kernel_weights = max(0.5 - kernel_weights, 0.0);\n        kernel_weights = kernel_weights*kernel_weights*kernel_weights;\n\n        //  sum with the kernel and return\n        return dot( kernel_weights, grad_results ) * FINAL_NORMALIZATION;\n    }\n    float billowedNoise( vec3 p )\n    {\n        return abs( noise( p ) );\n    }\n    //----------------------------------------------------------\n    vec3 pal( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d )\n    {\n        return a + b*cos( 6.28318*(c*t+d) );\n    }\n    //----------------------------------------------------------\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        vec2 str = materialInput.st*1.0;\n        //----------------------------------------------------------\n        vec2 uv = str;\n        uv.x = -str.y;\n        uv.y = str.x;\n        // float uIter = 32.;\n        float uIter = repeatNum;\n        float st = fract(uv.y*uIter);\n        float off = floor(uv.y*uIter);\n        float N = billowedNoise(vec3(off,iTime*.2,floor(uv.y)));\n        float pos = fract(uv.x - iTime*rate +N ) *st;\n        vec4 fragColor = vec4(pos);\n\n        vec3 col = vec3(0);\n        //----------------------------------------------------------\n        // float bands = 11.0;\n        // float curr = bands;\n        // vec2 p = str;\n        // p.x = -str.y;\n        // p.y = fract(str.x);\n        // if( p.y>((curr -= 1.0)/bands) ) { // Rainbow (orig)\n        //     col=pal(p.x,vec3(0.5,0.5,0.5),vec3(0.5,0.5,0.5),vec3(0.8,0.8,0.8),vec3(0.0,0.33,0.67)+0.21);\n        // } else if( p.y > ((curr -= 1.0)/bands) ) { // Rainbow (more yellow, narrower green, deeper red)\n        //     col=pal(p.x,vec3(0.55,0.4,0.3),vec3(0.50,0.51,0.35)+0.1,vec3(0.8,0.75,0.8),vec3(0.075,0.33,0.67)+0.21);\n        // } else if( p.y > ((curr -= 1.0)/bands) ) { // Black -> Blue -> White (cooler)\n        //     col=pal(p.x,vec3(0.55),vec3(0.8),vec3(0.29),vec3(0.00,0.05,0.15) + 0.54 );\n        // } else if( p.y > ((curr -= 1.0)/bands) ) { // Black -> Blue -> White (warmer)\n        //     col=pal(p.x,vec3(0.5),vec3(0.55),vec3(0.45),vec3(0.00,0.10,0.20) + 0.47 );\n        // } else if( p.y > ((curr -= 1.0)/bands) ) {\n        //     col=pal(p.x,vec3(0.5),vec3(0.5),vec3(0.9),vec3(0.3,0.20,0.20) + 0.31 );\n        // } else if( p.y > ((curr -= 1.0)/bands) ) {\n        //     col=pal(p.x,vec3(0.5),vec3(0.5),vec3(0.9),vec3(0.0,0.10,0.20) + 0.47 );\n        // } else if( p.y > ((curr -= 1.0)/bands) ) {\n        //     col=pal(p.x,vec3(0.5),vec3(0.5),vec3(1.0,1.0,0.5),vec3(0.8,0.90,0.30) );\n        // } else if( p.y > ((curr -= 1.0)/bands) ) {\n        //     col=pal(p.x,vec3(0.5),vec3(0.5),vec3(1.0,0.7,0.4),vec3(0.0,0.15,0.20) );\n        // } else if( p.y > ((curr -= 1.0)/bands) ) {\n        //     col=pal(p.x,vec3(0.5),vec3(0.5),vec3(2.0,1.0,0.0),vec3(0.5,0.20,0.25) );\n        // } else if( p.y > ((curr -= 1.0)/bands) ) {\n        //     col=pal(p.x,vec3(0.5),vec3(0.5),vec3(1),vec3(0.0,0.33,0.67));\n        // } else if( p.y > ((curr -= 1.0)/bands) ) {\n        //     col=pal(p.x,vec3(0.8,0.5,0.4),vec3(0.2,0.4,0.2),vec3(2.0,1.0,1.0),vec3(0.0,0.25,0.25) );\n        // }\n        // // band\n        // float f = fract(p.y*bands);\n        // // borders\n        // col *= smoothstep( 0.49, 0.47, abs(f-0.5) );\n        // // shadowing\n        // col *= 0.5 + 0.5*sqrt(4.0*f*(1.0-f));\n        //----------------------------------------------------------\n        // col= vec3(0.93, 0.97, 1) -  vec3(0.7, 0.3, 0.1);//颜色2\n        col= color.rgb;//颜色2\n        material.diffuse = fragColor.rgb*col;\n        //----------------------------------------------------------\n        material.emission =col;\n        material.alpha = fragColor.a;\n        return material;\n  }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeBlocksFallMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeBlocksFallMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															0.23,
															0.67,
															0.9,
															1
														),
														rate: 1,
														repeatNum: 32,
													},
													source: e.Material
														.GisEyeBlocksFallMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeBlocksFallMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(
													0.23,
													0.67,
													0.9,
													1
												),
												t.color
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												32,
												t.repeatNum
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color),
									(this.rate = e.rate),
									(this.repeatNum = e.repeatNum);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeBlocksFallLineMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.color
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.repeatNum
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
										}),
										(e.Material.GisEyeBlocksFallLineMaterialPropertyType =
											"GisEyeBlocksFallLineMaterialProperty"),
										(e.Material.GisEyeBlocksFallLineMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n    float noise( vec3 p )\n    {\n        //  simplex math constants\n        const float SKEWFACTOR = 1.0/3.0;\n        const float UNSKEWFACTOR = 1.0/6.0;\n        const float SIMPLEX_CORNER_POS = 0.5;\n        const float SIMPLEX_TETRAHADRON_HEIGHT = 0.70710678118654752440084436210485;    // sqrt( 0.5 )\n\n        //  establish our grid cell.\n        p *= SIMPLEX_TETRAHADRON_HEIGHT;    // scale space so we can have an approx feature size of 1.0\n        vec3 Pi = floor( p + dot( p, vec3( SKEWFACTOR) ) );\n\n        //  Find the vectors to the corners of our simplex tetrahedron\n        vec3 x0 = p - Pi + dot(Pi, vec3( UNSKEWFACTOR ) );\n        vec3 g = step(x0.yzx, x0.xyz);\n        vec3 l = 1.0 - g;\n        vec3 Pi_1 = min( g.xyz, l.zxy );\n        vec3 Pi_2 = max( g.xyz, l.zxy );\n        vec3 x1 = x0 - Pi_1 + UNSKEWFACTOR;\n        vec3 x2 = x0 - Pi_2 + SKEWFACTOR;\n        vec3 x3 = x0 - SIMPLEX_CORNER_POS;\n\n        //  pack them into a parallel-friendly arrangement\n        vec4 v1234_x = vec4( x0.x, x1.x, x2.x, x3.x );\n        vec4 v1234_y = vec4( x0.y, x1.y, x2.y, x3.y );\n        vec4 v1234_z = vec4( x0.z, x1.z, x2.z, x3.z );\n\n        // clamp the domain of our grid cell\n        Pi.xyz = Pi.xyz - floor(Pi.xyz * ( 1.0 / 69.0 )) * 69.0;\n        vec3 Pi_inc1 = step( Pi, vec3( 69.0 - 1.5 ) ) * ( Pi + 1.0 );\n\n        //  generate the random vectors\n        vec4 Pt = vec4( Pi.xy, Pi_inc1.xy ) + vec2( 50.0, 161.0 ).xyxy;\n        Pt *= Pt;\n        vec4 V1xy_V2xy = mix( Pt.xyxy, Pt.zwzw, vec4( Pi_1.xy, Pi_2.xy ) );\n        Pt = vec4( Pt.x, V1xy_V2xy.xz, Pt.z ) * vec4( Pt.y, V1xy_V2xy.yw, Pt.w );\n        const vec3 SOMELARGEFLOATS = vec3( 635.298681, 682.357502, 668.926525 );\n        const vec3 ZINC = vec3( 48.500388, 65.294118, 63.934599 );\n        vec3 lowz_mods = vec3( 1.0 / ( SOMELARGEFLOATS.xyz + Pi.zzz * ZINC.xyz ) );\n        vec3 highz_mods = vec3( 1.0 / ( SOMELARGEFLOATS.xyz + Pi_inc1.zzz * ZINC.xyz ) );\n        Pi_1 = ( Pi_1.z < 0.5 ) ? lowz_mods : highz_mods;\n        Pi_2 = ( Pi_2.z < 0.5 ) ? lowz_mods : highz_mods;\n        vec4 hash_0 = fract( Pt * vec4( lowz_mods.x, Pi_1.x, Pi_2.x, highz_mods.x ) ) - 0.49999;\n        vec4 hash_1 = fract( Pt * vec4( lowz_mods.y, Pi_1.y, Pi_2.y, highz_mods.y ) ) - 0.49999;\n        vec4 hash_2 = fract( Pt * vec4( lowz_mods.z, Pi_1.z, Pi_2.z, highz_mods.z ) ) - 0.49999;\n\n        //  evaluate gradients\n        vec4 grad_results = inversesqrt( hash_0 * hash_0 + hash_1 * hash_1 + hash_2 * hash_2 ) * ( hash_0 * v1234_x + hash_1 * v1234_y + hash_2 * v1234_z );\n\n        //  Normalization factor to scale the final result to a strict 1.0->-1.0 range\n        const float FINAL_NORMALIZATION = 37.837227241611314102871574478976;\n\n        //  evaulate the kernel weights ( use (0.5-x*x)^3 instead of (0.6-x*x)^4 to fix discontinuities )\n        vec4 kernel_weights = v1234_x * v1234_x + v1234_y * v1234_y + v1234_z * v1234_z;\n        kernel_weights = max(0.5 - kernel_weights, 0.0);\n        kernel_weights = kernel_weights*kernel_weights*kernel_weights;\n\n        //  sum with the kernel and return\n        return dot( kernel_weights, grad_results ) * FINAL_NORMALIZATION;\n    }\n    float billowedNoise( vec3 p )\n    {\n        return abs( noise( p ) );\n    }\n    //----------------------------------------------------------\n    vec3 pal( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d )\n    {\n        return a + b*cos( 6.28318*(c*t+d) );\n    }\n    //----------------------------------------------------------\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        vec2 str = materialInput.st*1.0;\n        //----------------------------------------------------------\n        vec2 uv = str;\n        // uv.x = -str.y;\n        // uv.y = str.x;\n        // float uIter = 32.;\n        float uIter = repeatNum;\n        float st = fract(uv.y*uIter);\n        float off = floor(uv.y*uIter);\n        float N = billowedNoise(vec3(off,iTime*.2,floor(uv.y)));\n        float pos = fract(uv.x - iTime*rate +N ) *st;\n        vec4 fragColor = vec4(pos);\n\n        vec3 col = vec3(0);\n        //----------------------------------------------------------\n        // float bands = 11.0;\n        // float curr = bands;\n        // vec2 p = str;\n        // p.x = -str.y;\n        // p.y = fract(str.x);\n        // if( p.y>((curr -= 1.0)/bands) ) { // Rainbow (orig)\n        //     col=pal(p.x,vec3(0.5,0.5,0.5),vec3(0.5,0.5,0.5),vec3(0.8,0.8,0.8),vec3(0.0,0.33,0.67)+0.21);\n        // } else if( p.y > ((curr -= 1.0)/bands) ) { // Rainbow (more yellow, narrower green, deeper red)\n        //     col=pal(p.x,vec3(0.55,0.4,0.3),vec3(0.50,0.51,0.35)+0.1,vec3(0.8,0.75,0.8),vec3(0.075,0.33,0.67)+0.21);\n        // } else if( p.y > ((curr -= 1.0)/bands) ) { // Black -> Blue -> White (cooler)\n        //     col=pal(p.x,vec3(0.55),vec3(0.8),vec3(0.29),vec3(0.00,0.05,0.15) + 0.54 );\n        // } else if( p.y > ((curr -= 1.0)/bands) ) { // Black -> Blue -> White (warmer)\n        //     col=pal(p.x,vec3(0.5),vec3(0.55),vec3(0.45),vec3(0.00,0.10,0.20) + 0.47 );\n        // } else if( p.y > ((curr -= 1.0)/bands) ) {\n        //     col=pal(p.x,vec3(0.5),vec3(0.5),vec3(0.9),vec3(0.3,0.20,0.20) + 0.31 );\n        // } else if( p.y > ((curr -= 1.0)/bands) ) {\n        //     col=pal(p.x,vec3(0.5),vec3(0.5),vec3(0.9),vec3(0.0,0.10,0.20) + 0.47 );\n        // } else if( p.y > ((curr -= 1.0)/bands) ) {\n        //     col=pal(p.x,vec3(0.5),vec3(0.5),vec3(1.0,1.0,0.5),vec3(0.8,0.90,0.30) );\n        // } else if( p.y > ((curr -= 1.0)/bands) ) {\n        //     col=pal(p.x,vec3(0.5),vec3(0.5),vec3(1.0,0.7,0.4),vec3(0.0,0.15,0.20) );\n        // } else if( p.y > ((curr -= 1.0)/bands) ) {\n        //     col=pal(p.x,vec3(0.5),vec3(0.5),vec3(2.0,1.0,0.0),vec3(0.5,0.20,0.25) );\n        // } else if( p.y > ((curr -= 1.0)/bands) ) {\n        //     col=pal(p.x,vec3(0.5),vec3(0.5),vec3(1),vec3(0.0,0.33,0.67));\n        // } else if( p.y > ((curr -= 1.0)/bands) ) {\n        //     col=pal(p.x,vec3(0.8,0.5,0.4),vec3(0.2,0.4,0.2),vec3(2.0,1.0,1.0),vec3(0.0,0.25,0.25) );\n        // }\n        // // band\n        // float f = fract(p.y*bands);\n        // // borders\n        // col *= smoothstep( 0.49, 0.47, abs(f-0.5) );\n        // // shadowing\n        // col *= 0.5 + 0.5*sqrt(4.0*f*(1.0-f));\n        //----------------------------------------------------------\n        // col= vec3(0.93, 0.97, 1) -  vec3(0.7, 0.3, 0.1);//颜色2\n        col= color.rgb;//颜色2\n        material.diffuse = fragColor.rgb*col;\n        //----------------------------------------------------------\n        material.emission =col;\n        material.alpha = fragColor.a;\n        return material;\n  }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeBlocksFallLineMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeBlocksFallLineMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															0.23,
															0.67,
															0.9,
															1
														),
														rate: 1,
														repeatNum: 32,
													},
													source: e.Material
														.GisEyeBlocksFallLineMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeBlocksFallLineMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(
													0.23,
													0.67,
													0.9,
													1
												),
												t.color
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												32,
												t.repeatNum
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.runColor = e.runColor),
									(this.rate = e.rate),
									(this.ratio = e.ratio),
									(this.isLight = e.isLight),
									(this.lightRatio = e.lightRatio),
									(this.repeatNum = e.repeatNum);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyePolylineTrailMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.runColor
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.ratio
														) &&
														e.Property.isConstant(
															this.isLight
														) &&
														e.Property.isConstant(
															this.lightRatio
														) &&
														e.Property.isConstant(
															this.repeatNum
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											runColor:
												e.createPropertyDescriptor(
													"runColor"
												),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											ratio: e.createPropertyDescriptor(
												"ratio"
											),
											isLight:
												e.createPropertyDescriptor(
													"isLight"
												),
											lightRatio:
												e.createPropertyDescriptor(
													"lightRatio"
												),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
										}),
										(e.Material.GisEyePolylineTrailMaterialPropertyType =
											"GisEyePolylineTrailMaterialProperty"),
										(e.Material.GisEyePolylineTrailMaterialPropertyMaterialSource =
											"\n    float iTime= czm_frameNumber/ 100.0;\n      czm_material czm_getMaterial(czm_materialInput materialInput)\n      {\n          czm_material material = czm_getDefaultMaterial(materialInput);\n          vec2 str = materialInput.st*1.0;\n          str.s=str.s*repeatNum;\n          material.alpha =1.;\n          float tt=fract(str.s-rate*iTime);\n          if(isLight){\n            if(str.t<0.5-lightRatio/2.0){\n              material.alpha =pow(str.t,0.5);\n            }\n            else if(str.t>1.0-lightRatio/2.0){\n              material.alpha =pow(1.0-str.t,0.5);\n            }\n          }\n          if(tt<ratio){\n              material.diffuse =runColor.rgb;\n              if(isLight){\n                material.emission =runColor.rgb;\n              }\n              // material.alpha =tt/ratio;\n              if(tt<ratio*(1.-.05)){\n                material.alpha *=pow (tt/ratio,1.5);\n              }\n          }\n          else{\n            material.alpha =0.0;\n          }\n          return material;\n      }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyePolylineTrailMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyePolylineTrailMaterialPropertyType,
													uniforms: {
														runColor: new e.Color(
															1,
															1,
															0,
															1
														),
														rate: 1,
														ratio: 0.1,
														repeatNum: 1,
														isLight: !1,
														lightRatio: 0.5,
													},
													source: e.Material
														.GisEyePolylineTrailMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyePolylineTrailMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.runColor =
											Cesium.Property.getValueOrDefault(
												this.runColor,
												e,
												Cesium.Color.YELLOW,
												t.runColor
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.ratio =
											Cesium.Property.getValueOrDefault(
												this.ratio,
												e,
												0.1,
												t.ratio
											)),
										(t.isLight =
											Cesium.Property.getValueOrDefault(
												this.isLight,
												e,
												!1,
												t.isLight
											)),
										(t.lightRatio =
											Cesium.Property.getValueOrDefault(
												this.lightRatio,
												e,
												0.5,
												t.lightRatio
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												1,
												t.repeatNum
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.runColor,
												e.runColor
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.ratio,
												e.ratio
											) &&
											Cesium.Property.equals(
												this.isLight,
												e.isLight
											) &&
											Cesium.Property.equals(
												this.lightRatio,
												e.lightRatio
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color),
									(this.rate = e.rate),
									(this.repeatNum = e.repeatNum);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeLightBandMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.color
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.repeatNum
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
										}),
										(e.Material.GisEyeLightBandMaterialPropertyType =
											"GisEyeLightBandMaterialProperty"),
										(e.Material.GisEyeLightBandMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        vec2 str = materialInput.st*1.0;\n        vec2 uv = str;\n        str.y=fract(str.y-0.2*iTime*rate);\n        float a=str.y;\n        vec3 col = vec3(0);\n        // col= vec3(0.93, 0.97, 1) -  vec3(0.7, 0.3, 0.1);//颜色2\n        col= color.rgb;//颜色2\n\n        uv.y=fract(repeatNum * str.y);\n        if (uv.y < 0.8){\n            col=vec3(0., 0., 0.);\n            a=0.;\n        }\n        material.diffuse = col;\n        material.emission =col;\n        material.alpha =a;\n        return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeLightBandMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeLightBandMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															0.23,
															0.67,
															0.9,
															1
														),
														rate: 1,
														repeatNum: 32,
													},
													source: e.Material
														.GisEyeLightBandMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeLightBandMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(
													0.23,
													0.67,
													0.9,
													1
												),
												t.color
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												32,
												t.repeatNum
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color),
									(this.rate = e.rate),
									(this.repeatNum = e.repeatNum);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeScanBandMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.color
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.repeatNum
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
										}),
										(e.Material.GisEyeScanBandMaterialPropertyType =
											"GisEyeScanBandMaterialProperty"),
										(e.Material.GisEyeScanBandMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n    const float PI = 3.1415926535897932384626433832795;\n    const float TWOPI = 6.283185307179586476925286766559;\n    float RadarSweep(in float time2, in vec2 c, in vec2 center, in float radius, in float speed, in bool dir_cw, in float tailLength){\n        time2 *= speed; // adjust speed by multiplying the time\n        c -= center; //adjust pixel by asuming we are in the center at 0,0 !polar coordinate system!\n        if(!dir_cw) c.xy = c.yx; // simple hack i still don't understand it myself\n        // x,y - polar coords see header\n        float x = length(c); // x = length of 0,0 to current pixel\n        // y is the angle of our coord system. i mod it to TWO PI to reduce doubler effects\n        float y = mod(atan(c.y, c.x) + time2, TWOPI);// see header or build in function\n\n        y /= tailLength;// 1.0 - angle ... so we divide instead of multiplying\n        float result = 0.0;\n        if(x < radius)\n        result += 1.0 - y;// if pixel is in radius x\n        return result;\n    }\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        vec2 str = materialInput.st*1.0;\n        // str.s=str.s*repeatNum;\n        // str.s=fract(str.s - direction*time)*1.0;\n\n        // vec4 colorImage = texture2D(image, vec2(fract(str.s - 1.0*time)*1.0, str.t));\n        // material.diffuse =colorImage.rgb;\n        // material.alpha = 0.7;\n\n        //-------------------------- 效果一 配合 rotation 、stRotation、 getRotationValue --------------------------------\n        // vec2 uv = str;\n        // vec2 center=vec2(0.5, 0.5);\n        // // uv.x = -str.y;\n        // // uv.y = str.x;\n        // // str.y=fract(str.y-2.*time);\n        // // float a=str.y;\n        // float a=1.0;\n        // vec3 col= vec3(1.0, 0., 0.);//颜色2\n        // material.diffuse = col;\n        // float dis = length(center - fract(1. * str));\n        // if (fract(dis*50.) < 0.7){\n        //     col=vec3(0., 0., 0.);\n        //     a=0.;\n        // }\n        // if (fract(str.x)<0.5&&fract(str.y)<0.5){\n        //     col=vec3(0., 0., 0.);\n        //     a=0.;\n        // }\n        // if (fract(str.x)>0.5||fract(str.y)<0.5){\n        //     a*=str.x*str.y;\n        // }\n        // material.emission =col;\n        // material.alpha =a;\n        //--------------------------- 效果二 -------------------------------\n        vec2 uv = str;\n        vec2 center = vec2(0.5, 0.5);\n        vec2 coords = str;\n        //settings\n        float radius = PI / 4.0;\n        float speed = 1.5;\n        float tailLength = 2.* PI / 1.0;\n        bool dir_cw = true;\n        // iTime/=10000.;\n        float f = RadarSweep(iTime*rate, coords, center, radius, speed, !dir_cw, tailLength);\n        vec3 fragColor = vec3(color.rgb *  f );\n        material.emission = fragColor;\n        float alpha = f;\n        float nums=repeatNum*2.;\n        float dis = length(center - fract(1. * str));\n        if (fract(dis*nums) > 0.3&&(fract(dis*nums) < 0.6||fract(dis*nums) > 0.7)){\n            alpha *=(1.- (abs(fract(dis*nums)-0.65)-0.1)*100./25.);\n            // alpha/=3.0;\n        }\n        if (fract(dis*nums) <= 0.3||alpha<0.0){\n            alpha = 0.;\n        }\n        material.alpha = alpha;\n        return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeScanBandMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeScanBandMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															0.23,
															0.67,
															0.9,
															1
														),
														rate: 1,
														repeatNum: 32,
													},
													source: e.Material
														.GisEyeScanBandMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeScanBandMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(1, 0, 0, 1),
												t.color
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												32,
												t.repeatNum
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.rate = e.rate),
									(this.repeatNum = e.repeatNum),
									(this.alpha = e.alpha),
									(this.isTranslucent = e.isTranslucent);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeSquareGlowDanceMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.repeatNum
														) &&
														e.Property.isConstant(
															this.alpha
														) &&
														e.Property.isConstant(
															this.isTranslucent
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											rate: e.createPropertyDescriptor(
												"rate"
											),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
											isTranslucent:
												e.createPropertyDescriptor(
													"isTranslucent"
												),
										}),
										(e.Material.GisEyeSquareGlowDanceMaterialPropertyType =
											"GisEyeSquareGlowDanceMaterialProperty"),
										(e.Material.GisEyeSquareGlowDanceMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n    const float PI = 3.1415926535897932384626433832795;\n    #define hash21(p) fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453)\n    #define hash31(p) fract(sin(dot(p, vec3(17, 1527, 113))) * 43758.5453123)\n    #define blend(dest, source) dest = mix(dest, vec4(source.rgb, 1.0), source.a);\n    #define add(dest, source) dest += source * source.a;\n\n    const float glow_level = 0.7;\n    const float glow_attenuation = 6.0;\n    const float zoom = 2.5;\n    const float tile_radius = 0.45;\n    const float frame_level = 0.005;\n    const float lit_tile_threshold = 0.75;\n    const float unlit_tile_level = 0.15;\n\n    vec3 hsv2rgb(in vec3 c)\n    {\n        vec3 rgb = clamp(abs(mod(c.x * 6.0 + vec3(0.0, 4.0, 2.0), 6.0) - 3.0) - 1.0, 0.0, 1.0);\n        return c.z * mix(vec3(1.0), rgb, c.y);\n    }\n\n    float sdBox(in vec2 p, in vec2 b)\n    {\n        vec2 d = abs(p) - b;\n        return length(max(d, vec2(0.0))) + min(max(d.x, d.y), 0.0);\n    }\n\n    void get_tile_colour(in vec2 tile_id, out vec3 tile_hsv)\n    {\n        // hue\n        tile_hsv.x = hash21(tile_id);\n        // saturation\n        tile_hsv.y = 1.0;\n        // value\n        float modTime = mod(iTime*rate, 100.0);\n        float time = floor(modTime * 2.0);\n        float level = step(lit_tile_threshold, hash31(vec3(tile_id, time)));\n        float lastLevel = step(lit_tile_threshold, hash31(vec3(tile_id, time - 1.0)));\n        level = max(level, lastLevel * (1.0 - fract(modTime * 2.0) * 1.5));\n        tile_hsv.z = level;\n    }\n\n    #define ADD_GLOW(tile)     get_tile_colour(tile_id + tile, tile_hsv);     // add(fragColor, \n    //     vec4(hsv2rgb(tile_hsv), \n    //     pow(1.0 - sdBox(tile - tile_coord, vec2(tile_radius)), \n    //     glow_attenuation) * glow_level * tile_hsv.z));\n\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        vec2 str = materialInput.st*1.0;\n        // normalise the coordinates\n        vec2 R = str.xy;\n        // R.y=1.0-R.y;\n        R.x=1.0-R.x;\n        vec2 U = ((2. * str.xy) - R) / min(R.x, R.y) * zoom;\n        // U=20. * str;\n        U.s=str.s*repeatNum.x;\n        U.t=str.t*repeatNum.y;\n        vec2 FU = fract(U);\n\n        // unique ID for the tile\n        vec2 tile_id = floor(U);\n        // local tile coords [-0.5, 0.5]\n        vec2 tile_coord = FU - 0.5;\n        // distance from edge of light\n        float tile_dist = sdBox(tile_coord, vec2(tile_radius));\n\n        // render the frame\n        vec4 fragColor = vec4(vec3(frame_level), 1.0);\n\n        // get tile's colour\n        vec3 tile_hsv;\n        get_tile_colour(tile_id, tile_hsv);\n\n        vec2 vignette_coord = FU * (1.0 - FU.yx);\n        float vignette = sqrt(vignette_coord.x * vignette_coord.y * 5.0);\n\n        // render the tile\n        vec3 light_colour = hsv2rgb(vec3(tile_hsv.x, 1.0 - (tile_hsv.z * vignette), max(tile_hsv.z, unlit_tile_level)));\n        blend(fragColor, vec4(light_colour, step(tile_dist, 0.0)));\n        // render the tile's own glow on the frame\n        add(fragColor, vec4(hsv2rgb(tile_hsv), pow(1.0 - max(tile_dist, 0.0), glow_attenuation) * glow_level * tile_hsv.z));\n\n        // get vector to the three nearest neighbours\n        vec2 neighbours = vec2((tile_coord.x < 0.0) ? -1.0 : 1.0, (tile_coord.y < 0.0) ? -1.0 : 1.0);\n        // render the neighbours' glows\n        ADD_GLOW(neighbours)\n        ADD_GLOW(vec2(neighbours.x, 0.0))\n        ADD_GLOW(vec2(0.0, neighbours.y))\n        material.diffuse =fragColor.rgb*vec3(0.7, 1.6, 2.8);\n        material.alpha = alpha;\n        return material;\n  }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeSquareGlowDanceMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeSquareGlowDanceMaterialPropertyType,
													uniforms: {
														rate: 1,
														repeatNum: {
															x: 10,
															y: 10,
														},
														alpha: 1,
														isTranslucent: !0,
													},
													source: e.Material
														.GisEyeSquareGlowDanceMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return e.uniforms
														.isTranslucent;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeSquareGlowDanceMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												{ x: 10, y: 10 },
												t.repeatNum
											)),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										(t.isTranslucent =
											Cesium.Property.getValueOrDefault(
												this.isTranslucent,
												e,
												!0,
												t.isTranslucent
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											) &&
											Cesium.Property.equals(
												this.isTranslucent,
												e.isTranslucent
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color),
									(this.rate = e.rate),
									(this.repeatNum = e.repeatNum),
									(this.alpha = e.alpha),
									(this.isTranslucent = e.isTranslucent);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeLightRingMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.color
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.repeatNum
														) &&
														e.Property.isConstant(
															this.alpha
														) &&
														e.Property.isConstant(
															this.isTranslucent
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
											isTranslucent:
												e.createPropertyDescriptor(
													"isTranslucent"
												),
										}),
										(e.Material.GisEyeLightRingMaterialPropertyType =
											"GisEyeLightRingMaterialProperty"),
										(e.Material.GisEyeLightRingMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n    float pointy (float f) {\n      // return 0.2/(abs(f)+0.2);\n      return 0.1/(abs(f)+0.02);\n    }\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st*1.0;\n      str.y*=repeatNum;\n      vec2 uv = str.xy;\n      vec3 col001 = vec3(0.0);\n      // float f001 =fract( abs(uv.y - fract(iTime*rate)));\n      float f001 =fract( (uv.y - fract(iTime*rate)));\n      col001 = vec3(pointy(f001));\n      material.diffuse =col001*color.rgb;//vec3(100.0/255.0,149.0/255.0,237.0/255.0);\n      material.emission =col001*color.rgb;vec3(100.0/255.0,149.0/255.0,237.0/255.0);\n      material.alpha=alpha;\n      return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeLightRingMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeLightRingMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															100 / 255,
															149 / 255,
															237 / 255,
															1
														),
														rate: 1,
														repeatNum: 5,
														alpha: 1,
														isTranslucent: !0,
													},
													source: e.Material
														.GisEyeLightRingMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return e.uniforms
														.isTranslucent;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeLightRingMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(
													100 / 255,
													149 / 255,
													237 / 255,
													1
												),
												t.color
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												5,
												t.repeatNum
											)),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										(t.isTranslucent =
											Cesium.Property.getValueOrDefault(
												this.isTranslucent,
												e,
												!0,
												t.isTranslucent
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											) &&
											Cesium.Property.equals(
												this.isTranslucent,
												e.isTranslucent
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.image = e.image),
									(this.color = e.color),
									(this.rate = e.rate),
									(this.repeatNum = e.repeatNum),
									(this.repeatNumImg = e.repeatNumImg),
									(this.alpha = e.alpha),
									(this.isTranslucent = e.isTranslucent);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeImageLightRingMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.image
														) &&
														e.Property.isConstant(
															this.color
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.repeatNum
														) &&
														e.Property.isConstant(
															this.repeatNumImg
														) &&
														e.Property.isConstant(
															this.alpha
														) &&
														e.Property.isConstant(
															this.isTranslucent
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											image: e.createPropertyDescriptor(
												"image"
											),
											color: e.createPropertyDescriptor(
												"color"
											),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
											repeatNumImg:
												e.createPropertyDescriptor(
													"repeatNumImg"
												),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
											isTranslucent:
												e.createPropertyDescriptor(
													"isTranslucent"
												),
										}),
										(e.Material.GisEyeImageLightRingMaterialPropertyType =
											"GisEyeImageLightRingMaterialProperty"),
										(e.Material.GisEyeImageLightRingMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n    float pointy (float f) {\n        // return 0.2/(abs(f)+0.2);\n        return 0.1/(abs(f)+0.02);\n    }\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st*1.0;\n      vec4 colorImage = texture2D(image, vec2(fract(str.s*repeatNumImg.x), fract(str.t*repeatNumImg.y)));\n      str.y*=repeatNum;\n      vec2 uv = str.xy;\n      vec3 col001 = vec3(0.0);\n      // float f001 =fract( abs(uv.y - fract(iTime*rate)));\n      float f001 =fract( (uv.y - fract(iTime*rate)));\n      col001 = vec3(pointy(f001));\n      material.diffuse =colorImage.rgb+col001*color.rgb;//vec3(100.0/255.0,149.0/255.0,237.0/255.0);\n      // material.emission =colorImage.rgb+col001*color.rgb;//vec3(100.0/255.0,149.0/255.0,237.0/255.0);\n      material.emission =col001*color.rgb;//vec3(100.0/255.0,149.0/255.0,237.0/255.0);\n      material.alpha=alpha;\n      return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeImageLightRingMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeImageLightRingMaterialPropertyType,
													uniforms: {
														image: e.Material
															.DefaultImageId,
														color: new e.Color(
															100 / 255,
															149 / 255,
															237 / 255,
															1
														),
														rate: 1,
														repeatNum: 5,
														repeatNumImg: {
															x: 1,
															y: 1,
														},
														alpha: 1,
														isTranslucent: !0,
													},
													source: e.Material
														.GisEyeImageLightRingMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return e.uniforms
														.isTranslucent;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeImageLightRingMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.image =
											Cesium.Property.getValueOrUndefined(
												this.image,
												e
											)),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(
													100 / 255,
													149 / 255,
													237 / 255,
													1
												),
												t.color
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												5,
												t.repeatNum
											)),
										(t.repeatNumImg =
											Cesium.Property.getValueOrDefault(
												this.repeatNumImg,
												e,
												{ x: 1, y: 1 },
												t.repeatNumImg
											)),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										(t.isTranslucent =
											Cesium.Property.getValueOrDefault(
												this.isTranslucent,
												e,
												!0,
												t.isTranslucent
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.image,
												e.image
											) &&
											Cesium.Property.equals(
												this.color,
												e.color
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											) &&
											Cesium.Property.equals(
												this.repeatNumImg,
												e.repeatNumImg
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											) &&
											Cesium.Property.equals(
												this.isTranslucent,
												e.isTranslucent
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color),
									(this.rate = e.rate),
									(this.alpha = e.alpha),
									(this.isTranslucent = e.isTranslucent);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeLightSpotMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.color
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.alpha
														) &&
														e.Property.isConstant(
															this.isTranslucent
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
											isTranslucent:
												e.createPropertyDescriptor(
													"isTranslucent"
												),
										}),
										(e.Material.GisEyeLightSpotMaterialPropertyType =
											"GisEyeLightSpotMaterialProperty"),
										(e.Material.GisEyeLightSpotMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st*1.0;\n      vec2 C=str;\n      C.y=1.0-C.y;\n      // vec4 O=vec4(40.0/255.0,86.0/255.0,138.0/255.0, 1.0);\n      vec4 O=color;\n      // O-=O;\n      O+=.05;\n      for(float j=0.;j<1.;j++)\n      {for(float i=0.;i<150.;i++)\n        {O+=abs(cos(vec4(6.,3.,5.,0.)+i*5.)+.2-.3)*\n        exp(-40.*length(cross((abs(fract(fract(37.*sin((vec3(6.,5.,9.)+i*.3)))+\n        (rate*0.1*iTime+j*.07)*.1)*2.-1.)*2.-1.)*3.,\n        vec3(C.xy/str.y,1.))));}}\n        material.diffuse =O.rgb;\n      material.alpha=alpha;\n      return material;\n  }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeLightSpotMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeLightSpotMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															40 / 255,
															80 / 255,
															138 / 255,
															1
														),
														rate: 1,
														alpha: 1,
														isTranslucent: !0,
													},
													source: e.Material
														.GisEyeLightSpotMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return e.uniforms
														.isTranslucent;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeLightSpotMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(
													40 / 255,
													80 / 255,
													138 / 255,
													1
												),
												t.color
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										(t.isTranslucent =
											Cesium.Property.getValueOrDefault(
												this.isTranslucent,
												e,
												!0,
												t.isTranslucent
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											) &&
											Cesium.Property.equals(
												this.isTranslucent,
												e.isTranslucent
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.offsetStartTime = e.offsetStartTime),
									(this.frequency = e.frequency);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeStarsBackgroundMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.offsetStartTime
														) &&
														e.Property.isConstant(
															this.frequency
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											offsetStartTime:
												e.createPropertyDescriptor(
													"offsetStartTime"
												),
											frequency:
												e.createPropertyDescriptor(
													"frequency"
												),
										}),
										(e.Material.GisEyeStarsBackgroundMaterialPropertyType =
											"GisEyeStarsBackgroundMaterialProperty"),
										(e.Material.GisEyeStarsBackgroundMaterialPropertyMaterialSource =
											"\n    float iTime= czm_frameNumber/ 100.0;\n    #define STEPS 16\n    struct ray {\n        vec2 t;\n        vec2 p;\n        vec2 d;\n    };\n    ray newRay (in vec2 origin, in vec2 target) {\n        ray r;\n        r.t = target;\n        r.p = origin;\n        r.d = (target - origin) / float (STEPS);\n        return r;\n    }\n    vec3 light (in ray r, in vec3 color) {\n        return color / (dot (r.p, r.p) + color);\n    }\n    float rand(vec2 co){\n        return fract(sin(dot(co.xy, vec2(12.9898,78.233))) * 43758.5453);\n    }\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st*1.0;\n      //----------------------------------------------------------\n      // float Dist = distance(str, vec2 (0.5, 0.5));\n      // Dist=min(1.,Dist*3.0);\n      // Dist=1.0-Dist;\n      // if(Dist>0.8)Dist+=0.1*Dist;\n      // vec4 fragColor = vec4(Dist);\n      // material.diffuse = fragColor.rgb* vec3(1.0,0.,0.);\n      // material.alpha =abs( fract(rand(vec2(position.x,position.y))+iTime/5.));\n      // // material.alpha =abs( fract(iTime));\n      // // material.alpha = 1.0;\n      // material.emission =fragColor.rgb* vec3(1.0,0.,0.);\n      // // material.diffuse = fragColor3.rgb;\n      // // material.diffuse = fragColor.rgb+fragColor3.rgb;\n      //----------------------------------------------------------\n      // vec2 uv = -1.0+2.0*str;\n      // // uv.x *= str.x/str.y;\n      // float r = length( uv );\n      // // float w = fract(iTime*0.2);\n      // float w = fract(fract(rand(vec2(position.x,position.y)))+iTime*0.2);\n      // float t = 3.0*sqrt(abs(w-0.5));\n      // float f = 0.0;\n      // if( r<t ) f = (1.0-r/t);\n      // vec3 col = pow( vec3(f), vec3(1.0,0.,0.) );\n      // material.diffuse =  col;\n      // material.emission =  col;\n      // material.alpha = f;\n      //----------------------------------------------------------\n      vec2 uv = -1.0+2.0*str;\n      vec2 pos =uv.xy;\n      // float t2 =fract(rand(vec2(position.x,position.y)))+ iTime*0.8;\n      float t2 =offsetStartTime+ iTime*frequency;\n      vec2 center = vec2(0.,0.);\n      float minBright = 0.0001;\n      float maxBright = 0.1;\n      float magnitude = (minBright + abs(sin(t2) * (maxBright - minBright)));\n      vec2 dist = abs(center - pos);\n      float longDist = max(dist.x, dist.y);\n      dist += longDist / 5.0;\n      vec2 uv2 = magnitude / dist;\n      float brightness = (uv2.x + uv2.y) / 2.0;\n      vec3 rgb = vec3(brightness);\n      material.diffuse =  rgb;\n      material.emission =  rgb;\n      material.alpha = brightness;\n      if(brightness<0.3){\n          material.alpha=0.;\n      }\n      return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeStarsBackgroundMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeStarsBackgroundMaterialPropertyType,
													uniforms: {
														offsetStartTime: 0,
														frequency: 1,
													},
													source: e.Material
														.GisEyeStarsBackgroundMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeStarsBackgroundMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.offsetStartTime =
											Cesium.Property.getValueOrDefault(
												this.offsetStartTime,
												e,
												0,
												t.offsetStartTime
											)),
										(t.frequency =
											Cesium.Property.getValueOrDefault(
												this.frequency,
												e,
												1,
												t.frequency
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.offsetStartTime,
												e.offsetStartTime
											) &&
											Cesium.Property.equals(
												this.frequency,
												e.frequency
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color),
									(this.rate = e.rate),
									(this.repeatNum = e.repeatNum);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeMoveFlowLightMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.color
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.repeatNum
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
										}),
										(e.Material.GisEyeMoveFlowLightMaterialPropertyType =
											"GisEyeMoveFlowLightMaterialProperty"),
										(e.Material.GisEyeMoveFlowLightMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n  #define CENTER(w, h) vec2((cos(iTime * w) + 1.) * 0.5, (sin(iTime * h) + 1.)*0.5)\n  #define F_TIME(a, b) a * fract(iTime * b)\n  #define F_TIME_RE(a, b) a - F_TIME(a, b)\n  #define C_TIME(a, b) (cos(iTime * a) + 1.) * b\n  #define S_TIME(a, b) (sin(iTime * a) + 1.) * b\n\n  vec4 sum(vec4 a, vec4 b){\n      return  vec4(min(1., a.r + b.r), min(1., a.g + b.g), min(1., a.b + b.b), min(1., a.a + b.a));\n  }\n  vec4 getSpotLightOne(vec2 uv, vec2 center, float intensity, vec3 color){\n      float ratio = uv.x/uv.y;\n      uv.x *= ratio;\n      center.x *= ratio;\n      // float dist = intensity/sqrt(distance(uv, center));\n      float dist = 0.2/sqrt(distance(uv, center));\n      return vec4(color * dist, dist);\n  }\n  czm_material czm_getMaterial(czm_materialInput materialInput)\n  {\n    czm_material material = czm_getDefaultMaterial(materialInput);\n    vec2 str = materialInput.st*1.0;\n    vec2 uv = str;\n    uv.x=str.s*repeatNum;\n    uv.x=fract(uv.x+rate*0.5*iTime);\n    //----------------------------------------------------------\n    vec4 light1 = getSpotLightOne(uv, CENTER(0.5, 3.), F_TIME(0.6, 1.0), color.rgb);\n    // vec4 light1 = getSpotLightOne(uv, CENTER(0.5, 3.), F_TIME(0.6, 1.0), vec3(0.,1.,0.));\n    // vec4 light2 = getSpotLightOne(uv, CENTER(2., 0.5), F_TIME_RE(0.15, .5), vec3(1.,1.,0.));\n    // vec4 light3 = getSpotLightOne(uv, CENTER(1.5, 0.3), S_TIME(3., .1), vec3(1.,0.,0.));\n    // vec4 light4 = getSpotLightOne(uv, CENTER(1., 1.3), C_TIME(3., .1), vec3(0.,1.,1.));\n    // vec4 light5 = getSpotLightOne(uv, CENTER(0.5, 0.5), F_TIME(.6, 1.1), vec3(0.5,0.5,.5));\n    // vec4 light = sum(light1, light2);\n    vec4 light = light1;\n    // light = sum(light, light3);\n    // light = sum(light, light4);\n    // light = sum(light, light5);\n    // light =light5;\n    vec4 fragColor = mix(vec4(0.), light, light.a);\n    material.diffuse =  fragColor.rgb;\n    material.emission = fragColor.rgb;\n    // material.alpha = fragColor.a;\n    return material;\n  }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeMoveFlowLightMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeMoveFlowLightMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															0,
															1,
															0,
															1
														),
														rate: 1,
														repeatNum: 1,
													},
													source: e.Material
														.GisEyeMoveFlowLightMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeMoveFlowLightMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(0, 1, 0, 1),
												t.color
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												1,
												t.repeatNum
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color),
									(this.rate = e.rate),
									(this.repeatNum = e.repeatNum);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeGradualLightRingMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.color
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.repeatNum
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
										}),
										(e.Material.GisEyeGradualLightRingMaterialPropertyType =
											"GisEyeGradualLightRingMaterialProperty"),
										(e.Material.GisEyeGradualLightRingMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n  float pointy (float f) {\n      // return 0.2/(abs(f)+0.2);\n      return 0.01/(abs(f)+0.02);\n  }\n  czm_material czm_getMaterial(czm_materialInput materialInput)\n  {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st*1.0;\n      //----------------------------------------------------------\n      vec2 uv = str;\n      uv.y=fract(uv.y*repeatNum);\n      vec3 col001 = vec3(0.0);\n      float f001 =fract( abs(uv.y - (iTime*0.5*rate)));\n      col001 = vec3(pointy(f001));\n\n      // vec3 col= vec3(0.93, 0.97, 1) -  vec3(0.7, 0.3, 0.1);//颜色2\n      vec3 col= color.rgb;//颜色2\n      material.diffuse =  col*(1.0-str.y)*(1.0-str.y)*(1.0-str.y)*(1.0-str.y)+col001;\n      material.emission =  col+col001;\n      material.alpha = (1.0-str.y);\n      return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeGradualLightRingMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeGradualLightRingMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															0.23,
															0.67,
															0.9,
															1
														),
														rate: 1,
														repeatNum: 5,
													},
													source: e.Material
														.GisEyeGradualLightRingMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeGradualLightRingMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(
													0.23,
													0.67,
													0.9,
													1
												),
												t.color
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												5,
												t.repeatNum
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.rate = e.rate),
									(this.alpha = e.alpha),
									(this.isTranslucent = e.isTranslucent);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeSeawaterMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.alpha
														) &&
														e.Property.isConstant(
															this.isTranslucent
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											rate: e.createPropertyDescriptor(
												"rate"
											),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
											isTranslucent:
												e.createPropertyDescriptor(
													"isTranslucent"
												),
										}),
										(e.Material.GisEyeSeawaterMaterialPropertyType =
											"GisEyeSeawaterMaterialProperty"),
										(e.Material.GisEyeSeawaterMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n    const float PI = 3.14159265358;\n    const float EPSILON = 1e-3;\n    vec2 iResolution;\n    #define EPSILON_NRM (0.5 / iResolution.x)\n    const int NUM_STEPS = 6;\n    const int ITER_GEOMETRY = 2;\n    const int ITER_FRAGMENT =5;\n    const float SEA_HEIGHT = 0.5;\n    const float SEA_CHOPPY = 3.0;\n    // const float SEA_SPEED = 1.9;\n    const float SEA_FREQ = 0.24;\n    const vec3 SEA_BASE = vec3(0.11,0.19,0.22);\n    const vec3 SEA_WATER_COLOR = vec3(0.55,0.9,0.7);\n    // #define SEA_TIME (iTime * SEA_SPEED)\n    #define SEA_TIME (iTime * rate)\n    mat2 octave_m = mat2(1.7,1.2,-1.2,1.4);\n    const float KEY_SP    = 32.5/256.0;\n    vec3 rgb2hsv(vec3 c)\n    {\n        vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n        vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n        vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n        float d = q.x - min(q.w, q.y);\n        float e = 1.0e-10;\n        return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n    }\n    vec3 hsv2rgb(vec3 c)\n    {\n        vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n        vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n        return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n    }\n    mat3 fromEuler(vec3 ang) {\n        vec2 a1 = vec2(sin(ang.x),cos(ang.x));\n        vec2 a2 = vec2(sin(ang.y),cos(ang.y));\n        vec2 a3 = vec2(sin(ang.z),cos(ang.z));\n        mat3 m;\n        m[0] = vec3(a1.y*a3.y+a1.x*a2.x*a3.x,a1.y*a2.x*a3.x+a3.y*a1.x,-a2.y*a3.x);\n        m[1] = vec3(-a2.y*a1.x,a1.y*a2.y,a2.x);\n        m[2] = vec3(a3.y*a1.x*a2.x+a1.y*a3.x,a1.x*a3.x-a1.y*a3.y*a2.x,a2.y*a3.y);\n        return m;\n    }\n    float hash( vec2 p ) {\n        float h = dot(p,vec2(127.1,311.7));\n        return fract(sin(h)*83758.5453123);\n    }\n    float noise( in vec2 p ) {\n        vec2 i = floor( p );\n        vec2 f = fract( p );\n        vec2 u = f*f*(3.0-2.0*f);\n        return -1.0+2.0*mix(\n                    mix( hash( i + vec2(0.0,0.0) ),\n                        hash( i + vec2(1.0,0.0) ),\n                            u.x),\n                    mix( hash( i + vec2(0.0,1.0) ),\n                        hash( i + vec2(1.0,1.0) ),\n                            u.x),\n                    u.y);\n    }\n    float diffuse(vec3 n,vec3 l,float p) {\n        return pow(dot(n,l) * 0.4 + 0.6,p);\n    }\n    float specular(vec3 n,vec3 l,vec3 e,float s) {\n        float nrm = (s + 8.0) / (3.1415 * 8.0);\n        return pow(max(dot(reflect(e,n),l),0.0),s) * nrm;\n    }\n    vec3 getSkyColor(vec3 e) {\n        e.y = max(e.y,0.0);\n        vec3 ret;\n        ret.x = pow(1.0-e.y,2.0);\n        ret.y = 1.0-e.y;\n        ret.z = 0.6+(1.0-e.y)*0.4;\n        return ret;\n    }\n    float sea_octave(vec2 uv, float choppy) {\n        uv += noise(uv);\n        vec2 wv = 1.0-abs(sin(uv));\n        vec2 swv = abs(cos(uv));\n        wv = mix(wv,swv,wv);\n        return pow(1.0-pow(wv.x * wv.y,0.65),choppy);\n    }\n    float map(vec3 p) {\n        float freq = SEA_FREQ;\n        float amp = SEA_HEIGHT;\n        float choppy = SEA_CHOPPY;\n        vec2 uv = p.xz; uv.x *= 0.75;\n        float d, h = 0.0;\n        for(int i = 0; i < ITER_GEOMETRY; i++) {\n            d = sea_octave((uv+SEA_TIME)*freq,choppy);\n            h += d * amp;\n            uv *=  octave_m;\n            freq *= 1.9;\n            amp *= 0.22;\n            choppy = mix(choppy,1.0,0.2);    }\n        return p.y - h;\n    }\n    float map_detailed(vec3 p) {\n        float freq = SEA_FREQ;\n        float amp = SEA_HEIGHT;\n        float choppy = SEA_CHOPPY;\n        vec2 uv = p.xz; uv.x *= 0.75;\n        float d, h = 0.0;\n        for(int i = 0; i < ITER_FRAGMENT; i++) {\n            d = sea_octave((uv+SEA_TIME)*freq,choppy);\n            d += sea_octave((uv-SEA_TIME)*freq,choppy);\n            h += d * amp;\n            uv *= octave_m/1.2;\n            freq *= 1.9;\n            amp *= 0.22;\n            choppy = mix(choppy,1.0,0.2);\n        }\n        return p.y - h;\n    }\n    vec3 getSeaColor(vec3 p, vec3 n, vec3 l, vec3 eye, vec3 dist) {\n        float fresnel = 1.0 - max(dot(n,-eye),0.0);\n        fresnel = pow(fresnel,3.0) * 0.45;\n        vec3 reflected = getSkyColor(reflect(eye,n))*0.99;\n        vec3 refracted = SEA_BASE + diffuse(n,l,80.0) * SEA_WATER_COLOR * 0.27;\n        vec3 color = mix(refracted,reflected,fresnel);\n        float atten = max(1.0 - dot(dist,dist) * 0.001, 0.0);\n        color += SEA_WATER_COLOR * (p.y - SEA_HEIGHT) * 0.15 * atten;\n        color += vec3(specular(n,l,eye,90.0))*0.5;\n        return color;\n    }\n    vec3 getNormal(vec3 p, float eps) {\n        vec3 n;\n        n.y = map_detailed(p);\n        n.x = map_detailed(vec3(p.x+eps,p.y,p.z)) - n.y;\n        n.z = map_detailed(vec3(p.x,p.y,p.z+eps)) - n.y;\n        n.y = eps;\n        return normalize(n);\n    }\n    float heightMapTracing(vec3 ori, vec3 dir, out vec3 p) {\n        float tm = 0.0;\n        float tx = 500.0;\n        float hx = map(ori + dir * tx);\n        if(hx > 0.0) return tx;\n        float hm = map(ori + dir * tm);\n        float tmid = 0.0;\n        for(int i = 0; i < NUM_STEPS; i++) {\n            tmid = mix(tm,tx, hm/(hm-hx));\n            p = ori + dir * tmid;\n            float hmid = map(p);\n            if(hmid < 0.0) {\n                tx = tmid;\n                hx = hmid;\n            } else {\n                tm = tmid;\n                hm = hmid;\n            }\n        }\n        return tmid;\n    }\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        vec2 str =fract(materialInput.st*1.0) ;\n        //----------------------------------------------------------\n        vec2 iMouse=vec2(0.6,0.8);\n        iResolution = gl_FragCoord.xy;\n        // iResolution = vec2(str.x,1.-str.y);\n        vec2 uv = str;\n        uv = uv * 2.0 - 1.0;\n        // uv.x *= iResolution.x / iResolution.y;\n        float time = iTime * .001;\n        float roll = PI + sin(iTime)/14.0 + cos(iTime/2.0)/14.0 ;\n        float pitch = PI*1.021 + (sin(iTime/2.0)+ cos(iTime))/40.0 + (iMouse.y/iResolution.y - .8)*PI/3.0  ;\n        float yaw = iMouse.x/iResolution.x * PI * 4.0;\n        vec3 ang = vec3(roll,pitch,yaw);\n        // vec3 ang = vec3(roll,1.,1.);\n        vec3 ori = vec3(0.0,3.5,time*1.0);\n        vec3 dir = normalize(vec3(uv.xy,-1.6));\n        dir = normalize(dir) * fromEuler(ang);\n        vec3 p;\n        heightMapTracing(ori,dir,p);\n        vec3 dist = p - ori;\n        vec3 n = getNormal(p,\n                dot(dist,dist)\n                    * EPSILON_NRM\n            );\n        vec3 light = normalize(vec3(0.0,1.0,0.8));\n        vec3 skyColor = getSkyColor(dir);\n        vec3 seaColor = getSeaColor(p,n,light,dir,dist);\n        seaColor /= sqrt(sqrt(length(dist))) ;\n        bool night;\n\n            seaColor *= sqrt(sqrt(seaColor)) * 4.0;\n            skyColor *= 1.05;\n            skyColor -= 0.03;\n            night = false;\n\n        skyColor *= skyColor;\n        vec3 seaHsv = rgb2hsv(seaColor);\n        if (seaHsv.z > .75 && length(dist) < 50.0)\n        seaHsv.z -= (0.9 - seaHsv.z) * 1.3;\n        seaColor = hsv2rgb(seaHsv);\n        vec3 color = mix(\n            skyColor,\n            seaColor,\n            pow(smoothstep(0.0,-0.05,dir.y), 0.3)\n        );\n        vec4 fragColor = vec4(pow(color,vec3(0.75)), 1.0);\n        vec3 hsv = rgb2hsv(fragColor.xyz);\n        hsv.y += 0.131;\n        hsv.z *= sqrt(hsv.z) * 1.1;\n        if (night)\n        {\n            hsv.z -= 0.045;\n            hsv*=0.8;\n            hsv.x += 0.12 + hsv.z/100.0;\n            hsv.y *= 2.87;\n        }\n        else\n        {\n            hsv.z *= 0.9;\n            hsv.x -= hsv.z/10.0;\n            hsv.x += 0.02 + hsv.z/50.0;\n            hsv.z *= 1.01;\n            hsv.y += 0.07;\n        }\n        fragColor.xyz = hsv2rgb(hsv);\n\n        // vec3 col= vec3(0.93, 0.97, 1) -  vec3(0.7, 0.3, 0.1);//颜色2\n        material.diffuse =  fragColor.xyz ;\n        material.emission =  fragColor.xyz ;\n        material.alpha=alpha;\n        return material;\n  }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeSeawaterMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeSeawaterMaterialPropertyType,
													uniforms: {
														rate: 1,
														alpha: 1,
														isTranslucent: !0,
													},
													source: e.Material
														.GisEyeSeawaterMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return e.uniforms
														.isTranslucent;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeSeawaterMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										(t.isTranslucent =
											Cesium.Property.getValueOrDefault(
												this.isTranslucent,
												e,
												!0,
												t.isTranslucent
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											) &&
											Cesium.Property.equals(
												this.isTranslucent,
												e.isTranslucent
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.rate = e.rate),
									(this.repeatNum = e.repeatNum),
									(this.alpha = e.alpha),
									(this.isTranslucent = e.isTranslucent);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeWaterCausticMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.repeatNum
														) &&
														e.Property.isConstant(
															this.alpha
														) &&
														e.Property.isConstant(
															this.isTranslucent
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											rate: e.createPropertyDescriptor(
												"rate"
											),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
											isTranslucent:
												e.createPropertyDescriptor(
													"isTranslucent"
												),
										}),
										(e.Material.GisEyeWaterCausticMaterialPropertyType =
											"GisEyeWaterCausticMaterialProperty"),
										(e.Material.GisEyeWaterCausticMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n  #define F length(.5-fract(fragColor.xyw*=mat3(-2,-1,2, 3,-2,1, 1,2,2)*\n  #define C pow(min(min(F .4)),F .3))),F .2))), 7.)*25.\n  #define Q min(min(F .4)),F .3))),F .2)))\n  czm_material czm_getMaterial(czm_materialInput materialInput)\n  {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st*1.0;\n      // vec2 uv = str*1000.;\n      str.s=str.s*repeatNum.x;\n      str.t=str.t*repeatNum.y;\n      vec2 uv = str;\n      vec4 fragColor = vec4(1.0);\n      fragColor.z=iTime* rate;\n      fragColor.w=iTime* rate;\n      fragColor.xy = uv / 20.;\n      vec4 v = vec4(Q, Q, Q, 1);\n      fragColor = C * v +vec4(0,.35,.5,1);\n      material.diffuse =  fragColor.xyz ;\n      material.emission =  fragColor.xyz ;\n      material.alpha = alpha;\n      return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeWaterCausticMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeWaterCausticMaterialPropertyType,
													uniforms: {
														rate: 1,
														repeatNum: {
															x: 1e3,
															y: 1e3,
														},
														alpha: 1,
														isTranslucent: !0,
													},
													source: e.Material
														.GisEyeWaterCausticMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return e.uniforms
														.isTranslucent;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeWaterCausticMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												{ x: 1e3, y: 1e3 },
												t.repeatNum
											)),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										(t.isTranslucent =
											Cesium.Property.getValueOrDefault(
												this.isTranslucent,
												e,
												!0,
												t.isTranslucent
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											) &&
											Cesium.Property.equals(
												this.isTranslucent,
												e.isTranslucent
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.bgColor = e.bgColor),
									(this.lightColor = e.lightColor),
									(this.alpha = e.alpha),
									(this.isTranslucent = e.isTranslucent);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyePureColorLightMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.bgColor
														) &&
														e.Property.isConstant(
															this.lightColor
														) &&
														e.Property.isConstant(
															this.alpha
														) &&
														e.Property.isConstant(
															this.isTranslucent
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											bgColor:
												e.createPropertyDescriptor(
													"bgColor"
												),
											lightColor:
												e.createPropertyDescriptor(
													"lightColor"
												),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
											isTranslucent:
												e.createPropertyDescriptor(
													"isTranslucent"
												),
										}),
										(e.Material.GisEyePureColorLightMaterialPropertyType =
											"GisEyePureColorLightMaterialProperty"),
										(e.Material.GisEyePureColorLightMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        vec2 str = materialInput.st*1.0;\n        material.diffuse =bgColor.rgb;\n        material.emission =lightColor.rgb;\n        material.alpha=alpha;\n        return material;\n  }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyePureColorLightMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyePureColorLightMaterialPropertyType,
													uniforms: {
														bgColor: new e.Color(
															1,
															1,
															0,
															1
														),
														lightColor: new e.Color(
															1,
															1,
															0,
															1
														),
														alpha: 0.2,
														isTranslucent: !0,
													},
													source: e.Material
														.GisEyePureColorLightMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return e.uniforms
														.isTranslucent;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyePureColorLightMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.bgColor =
											Cesium.Property.getValueOrDefault(
												this.bgColor,
												e,
												new Cesium.Color(1, 1, 0, 1),
												t.bgColor
											)),
										(t.lightColor =
											Cesium.Property.getValueOrDefault(
												this.lightColor,
												e,
												new Cesium.Color(1, 1, 0, 1),
												t.lightColor
											)),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												0.2,
												t.alpha
											)),
										(t.isTranslucent =
											Cesium.Property.getValueOrDefault(
												this.isTranslucent,
												e,
												!0,
												t.isTranslucent
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.bgColor,
												e.bgColor
											) &&
											Cesium.Property.equals(
												this.lightColor,
												e.lightColor
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											) &&
											Cesium.Property.equals(
												this.isTranslucent,
												e.isTranslucent
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.orientation = e.orientation),
									(this.rate = e.rate);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeLightSweepMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.orientation
														) &&
														e.Property.isConstant(
															this.rate
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											orientation:
												e.createPropertyDescriptor(
													"orientation"
												),
											rate: e.createPropertyDescriptor(
												"rate"
											),
										}),
										(e.Material.GisEyeLightSweepMaterialPropertyType =
											"GisEyeLightSweepMaterialProperty"),
										(e.Material.GisEyeLightSweepMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n  czm_material czm_getMaterial(czm_materialInput materialInput)\n  {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      // vec2 str = materialInput.st*1.0;\n      vec2 uv = materialInput.st*1.;\n      //----------------------------------------------------------\n      // float colorAdd = pow(1. - pow(abs(uv.x - y), .3), 3.);\n      float colorAdd = 0.;\n      float f = mod(-iTime *rate, 1.9) - 0.4;\n      if(orientation==2.0){\n          float str = -pow((uv.y - f) * 110., 2.) + .8;\n          uv.x -= clamp(str * .01, 0., 1.);\n          colorAdd = pow(1.2 - pow(abs(uv.y - f), .3), 3.);\n      }else {\n          float str = -pow((uv.x - f) * 110., 2.) + .8;\n          uv.y -= clamp(str * .01, 0., 1.);\n          colorAdd = pow(1.2 - pow(abs(uv.x - f), .3), 3.);\n      }\n      vec3 col =  vec3(colorAdd,colorAdd,colorAdd);\n      material.emission =col;\n      material.diffuse =col;\n      material.alpha = colorAdd;\n      //----------------------------------------------------------\n      // float col = sin(uv.y + uv.x*3. -iTime*9.) * 0.9;\n      // col *= col * col * 0.6;\n      // col = clamp(col, 0., 1.);\n      // material.emission =vec3(col);\n      // material.diffuse =vec3(col);\n      // material.alpha = col;\n      //----------------------------------------------------------\n      return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeLightSweepMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeLightSweepMaterialPropertyType,
													uniforms: {
														orientation: 1,
														rate: 1,
													},
													source: e.Material
														.GisEyeLightSweepMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeLightSweepMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.orientation =
											Cesium.Property.getValueOrDefault(
												this.orientation,
												e,
												1,
												t.orientation
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.orientation,
												e.orientation
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.bgColor = e.bgColor),
									(this.rectColor = e.rectColor),
									(this.rate = e.rate),
									(this.rectMinSize = e.rectMinSize),
									(this.rectMaxSize = e.rectMaxSize),
									(this.repeatNum = e.repeatNum),
									(this.alpha = e.alpha),
									(this.isTranslucent = e.isTranslucent);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeSquaresBackgroundMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.bgColor
														) &&
														e.Property.isConstant(
															this.rectColor
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.rectMinSize
														) &&
														e.Property.isConstant(
															this.rectMaxSize
														) &&
														e.Property.isConstant(
															this.repeatNum
														) &&
														e.Property.isConstant(
															this.alpha
														) &&
														e.Property.isConstant(
															this.isTranslucent
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											bgColor:
												e.createPropertyDescriptor(
													"bgColor"
												),
											rectColor:
												e.createPropertyDescriptor(
													"rectColor"
												),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											rectMinSize:
												e.createPropertyDescriptor(
													"rectMinSize"
												),
											rectMaxSize:
												e.createPropertyDescriptor(
													"rectMaxSize"
												),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
											isTranslucent:
												e.createPropertyDescriptor(
													"isTranslucent"
												),
										}),
										(e.Material.GisEyeSquaresBackgroundMaterialPropertyType =
											"GisEyeSquaresBackgroundMaterialProperty"),
										(e.Material.GisEyeSquaresBackgroundMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n    // vec3 bgColor = vec3(0.01, 0.16, 0.42);\n    // vec3 rectColor = vec3(0.01, 0.26, 0.57);\n    //noise background\n    const float noiseIntensity = 2.8;\n    const float noiseDefinition = 0.6;\n    const vec2 glowPos = vec2(-2., 0.);\n    //rectangles\n    // #define total  rectTotal//number of rectangles\n    const float total = 15.*4.;//number of rectangles\n    // const float minSize = 0.03;//rectangle min size\n    // const float maxSize = 0.08-minSize;//rectangle max size\n    const float yDistribution = 0.5;\n    float random(vec2 co){\n        return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n    }\n    float noise( in vec2 p )\n    {\n        p*=noiseIntensity;\n        vec2 i = floor( p );\n        vec2 f = fract( p );\n        vec2 u = f*f*(3.0-2.0*f);\n        return mix( mix( random( i + vec2(0.0,0.0) ),\n                        random( i + vec2(1.0,0.0) ), u.x),\n                    mix( random( i + vec2(0.0,1.0) ),\n                        random( i + vec2(1.0,1.0) ), u.x), u.y);\n    }\n    float fbm( in vec2 uv )\n    {\n        uv *= 5.0;\n        mat2 m = mat2( 1.6,  1.2, -1.2,  1.6 );\n        float f  = 0.5000*noise( uv ); uv = m*uv;\n        f += 0.2500*noise( uv ); uv = m*uv;\n        f += 0.1250*noise( uv ); uv = m*uv;\n        f += 0.0625*noise( uv ); uv = m*uv;\n        f = 0.5 + 0.5*f;\n        return f;\n    }\n    vec3 bg(vec2 uv )\n    {\n        float velocity = iTime/1.6;\n        float intensity = sin(uv.x*3.+velocity*2.)*1.1+1.5;\n        uv.y -= 2.;\n        vec2 bp = uv+glowPos;\n        uv *= noiseDefinition;\n        //ripple\n        float rb = fbm(vec2(uv.x*.5-velocity*.03, uv.y))*.1;\n        //rb = sqrt(rb);\n        uv += rb;\n        //coloring\n        float rz = fbm(uv*.9+vec2(velocity*.35, 0.0));\n        rz *= dot(bp*intensity,bp)+1.2;\n        //bazooca line\n        //rz *= sin(uv.x*.5+velocity*.8);\n        vec3 col = bgColor.rgb/(.1-rz);\n        return sqrt(abs(col));\n    }\n    float rectangle(vec2 uv, vec2 pos, float width, float height, float blur) {\n        pos = (vec2(width, height) + .01)/2. - abs(uv - pos);\n        pos = smoothstep(0., blur , pos);\n        return pos.x * pos.y;\n    }\n    mat2 rotate2d(float _angle){\n        return mat2(cos(_angle),-sin(_angle),\n                    sin(_angle),cos(_angle));\n    }\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        // vec2 str = materialInput.st*1.0;\n        vec2 st = materialInput.st*1.;\n        // float total = 60.*rectTotal;//rectTotal;//number of rectangles\n        float minSize = rectMinSize;//rectangle min size\n        float maxSize =rectMaxSize;//rectangle max size\n        //bg\n        vec2 uv =st;\n        uv.y=uv.y*2.-1.0;\n        vec3 color00 = bg(uv)*(2.-abs(uv.y*2.));\n        uv.x=fract(uv.x*repeatNum);\n        // uv.x=fract(uv.x+0.5*iTime);\n        //rectangles\n        float velX = -iTime*rate.x/88.;\n        float velY = iTime*rate.y/10.;\n        for(float i=0.; i<total; i++){\n            float index = i/total;\n            float rnd = random(vec2(index));\n            vec3 pos = vec3(0, 0., 0.);\n            pos.x = fract(velX*rnd+index)*4.-2.0;\n            pos.y = sin(index*rnd*1000.+velY) * yDistribution;\n            pos.z = maxSize*rnd+minSize;\n            vec2 uvRot = uv - pos.xy + pos.z/2.;\n            uvRot = rotate2d( i+iTime*rate.z/2. ) * uvRot;\n            uvRot += pos.xy+pos.z/2.;\n            float rect = rectangle(uvRot, pos.xy, pos.z, pos.z, (maxSize+minSize-pos.z)/2.);\n            color00 += rectColor.rgb * rect * pos.z/maxSize;\n        }\n        material.diffuse = color00;\n        material.emission =color00;\n        material.alpha=alpha;\n        return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeSquaresBackgroundMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeSquaresBackgroundMaterialPropertyType,
													uniforms: {
														bgColor: new e.Color(
															0.01,
															0.16,
															0.42,
															1
														),
														rectColor: new e.Color(
															0.01,
															0.26,
															0.57,
															1
														),
														rate: {
															x: 5,
															y: 1,
															z: 1,
														},
														rectMinSize: 0.03,
														rectMaxSize: 0.05,
														repeatNum: 1,
														alpha: 1,
														isTranslucent: !0,
													},
													source: e.Material
														.GisEyeSquaresBackgroundMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return e.uniforms
														.isTranslucent;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeSquaresBackgroundMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.bgColor =
											Cesium.Property.getValueOrDefault(
												this.bgColor,
												e,
												new Cesium.Color(
													0.01,
													0.16,
													0.42,
													1
												),
												t.bgColor
											)),
										(t.rectColor =
											Cesium.Property.getValueOrDefault(
												this.rectColor,
												e,
												new Cesium.Color(
													0.01,
													0.26,
													0.57,
													1
												),
												t.rectColor
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												{ x: 5, y: 1, z: 1 },
												t.rate
											)),
										(t.rectMinSize =
											Cesium.Property.getValueOrDefault(
												this.rectMinSize,
												e,
												0.03,
												t.rectMinSize
											)),
										(t.rectMaxSize =
											Cesium.Property.getValueOrDefault(
												this.rectMaxSize,
												e,
												0.05,
												t.rectMaxSize
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												1,
												t.repeatNum
											)),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										(t.isTranslucent =
											Cesium.Property.getValueOrDefault(
												this.isTranslucent,
												e,
												!0,
												t.isTranslucent
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.bgColor,
												e.bgColor
											) &&
											Cesium.Property.equals(
												this.rectColor,
												e.rectColor
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.rectMinSize,
												e.rectMinSize
											) &&
											Cesium.Property.equals(
												this.rectMaxSize,
												e.rectMaxSize
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											) &&
											Cesium.Property.equals(
												this.isTranslucent,
												e.isTranslucent
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color),
									(this.rate = e.rate);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyePulseCircleMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.color
														) &&
														e.Property.isConstant(
															this.rate
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
											rate: e.createPropertyDescriptor(
												"rate"
											),
										}),
										(e.Material.GisEyePulseCircleMaterialPropertyType =
											"GisEyePulseCircleMaterialProperty"),
										(e.Material.GisEyePulseCircleMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n    vec3 hsb2rgb(in vec3 c)\n    {\n        vec3 rgb = clamp(abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),\n        // vec3 rgb = clamp(abs(mod(c.x*6.0+vec3(0.0,1.0,2.0),\n                                6.0)-3.0)-1.0,\n                        0.0,\n                        1.0 );\n        rgb = rgb*rgb*(3.0-2.0*rgb);\n        return c.z * mix( vec3(1.0), rgb, c.y);\n    }\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        vec2 st = materialInput.st;\n        // vec2 p = (2.0*fragCoord.xy-iResolution.xy)/iResolution.y;\n        vec2 p =4.0*(st-0.5);//gl_FragCoord\n        float r = length(p) * 0.9;\n        // vec3 color = hsb2rgb(vec3(0.24, 0.7, 0.4));\n        // vec3 color = hsb2rgb(color.rgb);\n        // vec3 color = hsb2rgb(vec3(0., 1., 1.));\n        vec3 color22 = color.rgb;\n\n        float a = pow(r, 2.0);\n        float b = sin(r * 0.8 - 1.6);\n        float c = sin(r - 0.010);\n        float s = sin(a - iTime * 2.0*rate + b) * c;\n        float m=abs(1.0 / (s * 10.8)) - 0.01;\n        color22 *= m;\n        material.diffuse = color22;\n        // material.alpha = color22.r;\n        // material.alpha = r;\n        float dis = distance(st, vec2(0.5, 0.5));\n        material.alpha = color.a *m*(0.50-fract( dis));\n        return material;\n  }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyePulseCircleMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyePulseCircleMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															1,
															1,
															0,
															1
														),
														rate: 1,
													},
													source: e.Material
														.GisEyePulseCircleMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyePulseCircleMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(
													0.24,
													0.7,
													0.4,
													1
												),
												t.color
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.bgColor = e.bgColor),
									(this.runColor = e.runColor),
									(this.rate = e.rate),
									(this.ratio = e.ratio),
									(this.repeatNum = e.repeatNum);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeFlowingColorMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.bgColor
														) &&
														e.Property.isConstant(
															this.runColor
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.ratio
														) &&
														e.Property.isConstant(
															this.repeatNum
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											bgColor:
												e.createPropertyDescriptor(
													"bgColor"
												),
											runColor:
												e.createPropertyDescriptor(
													"runColor"
												),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											ratio: e.createPropertyDescriptor(
												"ratio"
											),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
										}),
										(e.Material.GisEyeFlowingColorMaterialPropertyType =
											"GisEyeFlowingColorMaterialProperty"),
										(e.Material.GisEyeFlowingColorMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        vec2 str = materialInput.st*1.0;\n        str.s=str.s*repeatNum;\n        material.diffuse =bgColor.rgb;//vec3(1.0,0.0,0.0);\n        // material.emission =bgColor.rgb;//vec3(1.0,0.0,0.0);\n        float tt=fract(str.s-rate*iTime);\n        if(tt<ratio){\n            material.diffuse =runColor.rgb;//vec3(1.0,0.0,0.0);\n            // material.emission =runColor.rgb;//vec3(1.0,0.0,0.0);\n        }\n        return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeFlowingColorMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeFlowingColorMaterialPropertyType,
													uniforms: {
														bgColor: new e.Color(
															1,
															0,
															0,
															1
														),
														runColor: new e.Color(
															1,
															1,
															0,
															1
														),
														rate: 1,
														ratio: 0.1,
														repeatNum: 1,
													},
													source: e.Material
														.GisEyeFlowingColorMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeFlowingColorMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.bgColor =
											Cesium.Property.getValueOrDefault(
												this.bgColor,
												e,
												Cesium.Color.RED,
												t.bgColor
											)),
										(t.runColor =
											Cesium.Property.getValueOrDefault(
												this.runColor,
												e,
												Cesium.Color.YELLOW,
												t.runColor
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.ratio =
											Cesium.Property.getValueOrDefault(
												this.ratio,
												e,
												0.1,
												t.ratio
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												1,
												t.repeatNum
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.bgColor,
												e.bgColor
											) &&
											Cesium.Property.equals(
												this.runColor,
												e.runColor
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.ratio,
												e.ratio
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeElectroLight2MaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return e.Property.isConstant(
														this.color
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
										}),
										(e.Material.GisEyeElectroLight2MaterialPropertyType =
											"GisEyeElectroLight2MaterialProperty"),
										(e.Material.GisEyeElectroLight2MaterialPropertyMaterialSource =
											"\n    vec3 random3(vec3 c) {\n      float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));\n      vec3 r;\n      r.z = fract(512.0*j);\n      j *= .125;\n      r.x = fract(512.0*j);\n      j *= .125;\n      r.y = fract(512.0*j);\n      return r-0.5;\n    }\n\n    /* skew constants for 3d simplex functions */\n    const float F3 =  0.3333333;\n    const float G3 =  0.1666667;\n\n    /* 3d simplex noise */\n    float simplex3d(vec3 p) {\n      /* 1. find current tetrahedron T and it's four vertices */\n      /* s, s+i1, s+i2, s+1.0 - absolute skewed (integer) coordinates of T vertices */\n      /* x, x1, x2, x3 - unskewed coordinates of p relative to each of T vertices*/\n\n      /* calculate s and x */\n      vec3 s = floor(p + dot(p, vec3(F3)));\n      vec3 x = p - s + dot(s, vec3(G3));\n\n      /* calculate i1 and i2 */\n      vec3 e = step(vec3(0.0), x - x.yzx);\n      vec3 i1 = e*(1.0 - e.zxy);\n      vec3 i2 = 1.0 - e.zxy*(1.0 - e);\n\n      /* x1, x2, x3 */\n      vec3 x1 = x - i1 + G3;\n      vec3 x2 = x - i2 + 2.0*G3;\n      vec3 x3 = x - 1.0 + 3.0*G3;\n\n      /* 2. find four surflets and store them in d */\n      vec4 w, d;\n\n      /* calculate surflet weights */\n      w.x = dot(x, x);\n      w.y = dot(x1, x1);\n      w.z = dot(x2, x2);\n      w.w = dot(x3, x3);\n\n      /* w fades from 0.6 at the center of the surflet to 0.0 at the margin */\n      w = max(0.6 - w, 0.0);\n\n      /* calculate surflet components */\n      d.x = dot(random3(s), x);\n      d.y = dot(random3(s + i1), x1);\n      d.z = dot(random3(s + i2), x2);\n      d.w = dot(random3(s + 1.0), x3);\n\n      /* multiply d by w^4 */\n      w *= w;\n      w *= w;\n      d *= w;\n\n      /* 3. return the sum of the four surflets */\n      return dot(d, vec4(52.0));\n    }\n\n    float noise(vec3 m) {\n        return   0.5333333*simplex3d(m)\n      +0.2666667*simplex3d(2.0*m)\n      +0.1333333*simplex3d(4.0*m)\n      +0.0666667*simplex3d(8.0*m);\n    }\n    float iTime= czm_frameNumber/ 100.0;\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st*1.0;\n      vec2 uv = str;\n      uv = uv * 2. -1.;\n      vec2 p = str;\n      vec3 p3 = vec3(p, iTime*0.4);\n      float intensity = noise(vec3(p3*12.0+12.0));\n      float t = clamp((uv.x * -uv.x * 0.16) + 0.15, 0., 1.);\n      float y = abs(intensity * -t + uv.y);\n      float g = pow(y, 0.2);\n      // vec3 col = vec3(1.70, 1.48, 1.78);\n      vec3 col = vec3(color.r, color.g, color.b);\n      col = col * -g + col;\n      col = col * col;\n      col = col * col;\n      //   fragColor.rgb = col;\n      //   fragColor.w = 1.;\n      // material.diffuse =vec3(1.0,0.0,0.0);\n      // material.emission =vec3(1.0,0.0,0.0);\n      material.diffuse =col;\n      material.emission =col;\n      material.alpha=col.r;\n      // material.alpha=col.r*col.g*col.b;\n      // if(col.r<0.5&&col.g<0.5&&col.b<0.5){\n      //     // material.alpha=col.r;\n      //     material.alpha=col.r*col.g*col.b;\n      // }\n      float tt=fract(str.s-1.0*iTime);\n        if(tt<0.7){\n            material.diffuse =vec3(1.0,0.0,0.0);\n            material.emission =vec3(1.0,0.0,0.0);\n            material.alpha=0.0;\n        }\n      return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeElectroLight2MaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeElectroLight2MaterialPropertyType,
													uniforms: {
														color: new e.Color(
															1.7,
															1.48,
															1.78,
															1
														),
													},
													source: e.Material
														.GisEyeElectroLight2MaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeElectroLight2MaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(
													1.7,
													1.48,
													1.78,
													1
												),
												t.color
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeLightiningMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return e.Property.isConstant(
														this.color
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
										}),
										(e.Material.GisEyeLightiningMaterialPropertyType =
											"GisEyeLightiningMaterialProperty"),
										(e.Material.GisEyeLightiningMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n  float rand(vec2 n) {\n      return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\n  }\n\n  float noise(vec2 n) {\n      const vec2 d = vec2(0.0, 1.0);\n      vec2 b = floor(n), f = smoothstep(vec2(0.0), vec2(1.0), fract(n));\n      return mix(mix(rand(b), rand(b + d.yx), f.x), mix(rand(b + d.xy), rand(b + d.yy), f.x), f.y);\n  }\n\n  float fbm(vec2 n) {\n      float total = 0.0, amplitude = 1.0;\n      for (int i = 0; i < 7; i++) {\n          total += noise(n) * amplitude;\n          n += n;\n          amplitude *= 0.5;\n      }\n      return total;\n  }\n  czm_material czm_getMaterial(czm_materialInput materialInput)\n  {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st*1.0;\n      vec2 uv = str;\n      // uv = uv * 2. -1.;\n\n      // vec4 col = vec4(0,0,0,1);\n      // vec2 uv = fragCoord.xy * 1.0 / iResolution.xy;\n\n      // draw a line, left side is fixed\n      vec2 t = uv * vec2(2.0,1.0) - iTime*3.0;\n      vec2 t2 = (vec2(1,-1) + uv) * vec2(2.0,1.0) - iTime*3.0; // a second strand\n\n      // draw the lines,\n      //  this make the left side fixed, can be useful\n      //  float ycenter = mix( 0.5, 0.25 + 0.25*fbm( t ), uv.x*4.0);\n      //    float ycenter2 = mix( 0.5, 0.25 + 0.25*fbm( t2 ), uv.x*4.0);\n      float ycenter = fbm(t)*0.5;\n      float ycenter2= fbm(t2)*0.5;\n\n      // falloff\n      float diff = abs(uv.y - ycenter);\n      float c1 = 1.0 - mix(0.0,1.0,diff*20.0);\n\n      float diff2 = abs(uv.y - ycenter2);\n      float c2 = 1.0 - mix(0.0,1.0,diff2*20.0);\n      //  vec3 color=vec3(255., 165., 0.)/255.;\n      float c = max(c1,c2);\n      vec3  col = vec3(c1*color.r,c1*color.g,c1*color.b); // purple color\n      // fragColor = col;\n      // col*=vec3(1.70, 1.48, 1.78);\n      material.diffuse= col;\n      if(col.r<0.5&&col.g<0.5&&col.b<0.5){\n              // material.alpha=col.r;\n              material.alpha=0.;\n          }\n          // material.alpha=col.r*col.g*col.b;\n      return material;\n  }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeLightiningMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeLightiningMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															1.7,
															1.48,
															1.78,
															1
														),
													},
													source: e.Material
														.GisEyeLightiningMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeLightiningMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(1, 1, 0, 1),
												t.color
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.alpha = e.alpha),
									(this.isTranslucent = e.isTranslucent);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeWindyMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.alpha
														) &&
														e.Property.isConstant(
															this.isTranslucent
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
											isTranslucent:
												e.createPropertyDescriptor(
													"isTranslucent"
												),
										}),
										(e.Material.GisEyeWindyMaterialPropertyType =
											"GisEyeWindyMaterialProperty"),
										(e.Material.GisEyeWindyMaterialPropertyMaterialSource =
											"\n    float iTime= czm_frameNumber/ 100.0;\n\n    #define OCTAVES  8.0\n\n    #define LIVE_SMOKE 1\n\n    float rand(vec2 co){\n      return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n    }\n\n    float rand2(vec2 co){\n      return fract(cos(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n    }\n\n    // Rough Value noise implementation\n    float valueNoiseSimple(vec2 vl) {\n      float minStep = 1.0 ;\n\n      vec2 grid = floor(vl);\n      vec2 gridPnt1 = grid;\n      vec2 gridPnt2 = vec2(grid.x, grid.y + minStep);\n      vec2 gridPnt3 = vec2(grid.x + minStep, grid.y);\n      vec2 gridPnt4 = vec2(gridPnt3.x, gridPnt2.y);\n\n      float s = rand2(grid);\n      float t = rand2(gridPnt3);\n      float u = rand2(gridPnt2);\n      float v = rand2(gridPnt4);\n\n      float x1 = smoothstep(0., 1., fract(vl.x));\n      float interpX1 = mix(s, t, x1);\n      float interpX2 = mix(u, v, x1);\n\n      float y = smoothstep(0., 1., fract(vl.y));\n      float interpY = mix(interpX1, interpX2, y);\n\n      return interpY;\n    }\n\n    float getLowFreqs()\n    {\n      const int NUM_FREQS = 32;\n      /* Close to the spectrum of the voice frequencies for this song. */\n      const float lowStart = 0.65;\n      const float lowEnd = 0.75;\n      float result = 0.0;\n\n      // for (int i = 0; i < NUM_FREQS; i++)\n      // {\n      //     result += texture(iChannel0,\n      //                         vec2(lowStart + (lowEnd - lowStart)*float(i)/float(NUM_FREQS - 1),\n      //                              0.25)).x;\n      // }\n\n      return smoothstep(0.0, 1.0, (result / float(NUM_FREQS)) * 2.);\n    }\n\n    float fractalNoise(vec2 vl) {\n        float persistance = 2.0;\n        float amplitude = 0.5;\n        float rez = 0.0;\n        vec2 p = vl;\n\n        for (float i = 0.0; i < OCTAVES; i++) {\n            rez += amplitude * valueNoiseSimple(p);\n            amplitude /= persistance;\n            p *= persistance;\n        }\n        return rez;\n    }\n\n    float complexFBM(vec2 p) {\n        float sound = getLowFreqs();\n        float slow = iTime / 2.5;\n        float fast = iTime / .5;\n        vec2 offset1 = vec2(slow  , 0.); // Main front\n        vec2 offset2 = vec2(sin(fast )* 0.1, 0.); // sub fronts\n\n        return \n    #if LIVE_SMOKE\n            (1. + sound) * \n    #endif\n            fractalNoise( p + offset1 + fractalNoise(\n                  p + fractalNoise(\n                      p + 2. * fractalNoise(p - offset2)\n                  )\n              )\n            );\n    }\n\n    czm_material czm_getMaterial(czm_materialInput materialInput)\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        // vec2 str = materialInput.st*1.0;\n        vec2 uv = materialInput.st*1.;\n\n        //----------------------------------------------------------\n        // float col = sin(uv.y + uv.x*3. -iTime*9.) * 0.9;\n        // col *= col * col * 0.6;\n        // col = clamp(col, 0., 1.);\n        // material.emission =vec3(col);\n        // material.diffuse =vec3(col);\n        // material.alpha = col;\n        //----------------------------------------------------------\n\n        // vec2 uv = fragCoord.xy / iResolution.xy;\n\n        vec3 blueColor = vec3(0.25, 0.25, 0.25);\n        vec3 orangeColor2 = vec3(0.009803922, 0.00203921569, 0.005686275);\n\n        vec3 rez = mix(orangeColor2, blueColor, complexFBM(uv));\n\n        material.diffuse  = rez*5.;\n        material.alpha = complexFBM(uv)*alpha;\n        // if(rez.r<0.1&&rez.g<0.1&&rez.b<0.1)material.alpha =material.alpha *0.1;\n        // material.alpha = complexFBM(uv)*2.;\n        return material;\n    }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeWindyMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeWindyMaterialPropertyType,
													uniforms: {
														alpha: 1,
														isTranslucent: !0,
													},
													source: e.Material
														.GisEyeWindyMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return e.uniforms
														.isTranslucent;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeWindyMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										(t.isTranslucent =
											Cesium.Property.getValueOrDefault(
												this.isTranslucent,
												e,
												!0,
												t.isTranslucent
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											) &&
											Cesium.Property.equals(
												this.isTranslucent,
												e.isTranslucent
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.circleColor = e.circleColor),
									(this.triangleColor = e.triangleColor),
									(this.rate = e.rate),
									(this.alpha = e.alpha);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeMapGISSymbolMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.circleColor
														) &&
														e.Property.isConstant(
															this.triangleColor
														) &&
														e.Property.isConstant(
															this.rate
														) &&
														e.Property.isConstant(
															this.alpha
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											circleColor:
												e.createPropertyDescriptor(
													"circleColor"
												),
											triangleColor:
												e.createPropertyDescriptor(
													"triangleColor"
												),
											rate: e.createPropertyDescriptor(
												"rate"
											),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
										}),
										(e.Material.GisEyeMapGISSymbolMaterialPropertyType =
											"GisEyeMapGISSymbolMaterialProperty"),
										(e.Material.GisEyeMapGISSymbolMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n\n  // float circle (vec2 uv, float blur, float r){\n  //   float d = length(uv);\n  //     float c = smoothstep(r, r-blur,d);\n  //     return c;\n  // }\n\n  // float Band (float t, float start, float end, float blur){\n  //   float step1 = smoothstep(start-blur, start+blur, t);\n  //     float step2 = smoothstep(end+blur, end-blur, t);\n  //     float stepFinal = step1 * step2;\n  //     return stepFinal;\n  // }\n\n  // float rectangle (vec2 uv, float blur, float left, float right, float bottom, float top) {\n  //     float r;\n  //     r = Band (uv.x, left, right, blur);\n  //     r *= Band (uv.y, bottom, top, blur);\n  //     return r;\n  // }\n\n  // float square (vec2 uv, float blur, float point) {\n  //   return rectangle (uv, blur, -point, point, -point, point);\n  // }\n\n  // float triangle (vec2 uv, float blur, float point) {\n  //     float t = uv.y;\n  //     return rectangle (uv, blur, -point+t, point-t, -point-t, point+t);\n  // }\n\n  // float line (vec2 uv, vec2 p, float len, float thick, float m) {\n  //     float c, x, y;\n  //     uv = uv - p;\n  //     x=uv.x;\n  //     y=uv.y;\n  //     y+=m*x;\n  //     c+= rectangle (vec2(x,y), 0.001, -len, len, -thick, thick);\n  //     return c;\n  // }\n\n  // float rectangle_line (vec2 uv, float len, float thick) {\n  //     float c=0.0;\n  //     c=c+line(uv, vec2(0.0,0.1), len, thick, 0.0); // atas\n  //     c=c+line(uv, vec2(0.0,-0.1), len, thick, 0.0); // bawah\n  //     c=c+line(uv, vec2(-0.1,0.0), thick, len, 0.0); // kiri\n  //     c=c+line(uv, vec2(0.1,0.0), thick, len, 0.0); // kanan\n\n  //     return c;\n  // }\n\n  // float triangle_line (vec2 uv, float len, float thick) {\n  //     float c=0.0;\n  //     c=c+line(uv, vec2(0.7,0.0), len, thick, 1.0);// garis kanan\n  //     c=c+line(uv, vec2(.5,0.0), len, thick, -1.0); // garis kiri\n  //     c=c+line(uv, vec2(0.6,-0.1), len*2.0, thick, 0.0); // garis bawah\n\n  //     return c;\n  // }\n\n  // float circle_lineDot (vec2 uv, float r, int num_segments){\n\n  //     float x = uv.x;\n  //     float y = uv.y;\n  //     float c = 0.;\n  //     float len = 0.1;\n  //     float thick = 0.001;\n\n  //     r = r/float(num_segments);\n  //     for (int i=0; i<=num_segments;i++){\n  //       float z = 2.0 * 3.1415926 * float(i)/float(num_segments);\n  //          x = x + r * cos(z);\n  //         y = y + r * sin(z);\n  //         c += circle (vec2(x,y-.1),.001, .005);\n  //     }\n  //     return c;\n  // }\n  float circle(float r, in vec2 uv, in vec2 pos){\n      uv = uv-pos;\n      return 1.0-step(r,length(uv));\n  }\n\n  float rect(in vec2 uv, float a, float b, float c, float d, in vec2 pos){\n      uv = (uv+vec2(0.5,0.5))-pos;\n      float xy = step(a,uv.x);\n      xy *= step(b,uv.y);\n      xy *= step(c,1.-uv.x);\n      xy *= step(d,1.-uv.y);\n      return xy;\n  }\n\n  float tri(in vec2 uv, float n, float tam, in vec2 pos ){\n      uv = uv-pos;\n      float a = atan(uv.x, uv.y) - 3.14;\n      float r = 6.28/n;\n      float d = cos(floor(0.5+a/r)*r-a)*length(uv);\n      d = 1.0-step(tam,d); \n      return d;\n  }\n  // attribute vec4 colorTT;\n  // uniform vec4 colorTT;\n  bool hex(vec2 p) {\n      p.x *= 0.57735*2.0;\n      p.y += mod(floor(p.x), 2.0)*0.5;\n      p = abs((mod(p, 1.0) - 0.5));\n      return abs(max(p.x*1.5 + p.y, p.y*2.0) - 1.0) > 0.05;\n  }\n\n\n  vec3 palette(float i) {\n      return vec3(1.0, 1.0, 1.0);\n  }\n  czm_material czm_getMaterial(czm_materialInput materialInput)\n  {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st*1.0;\n      vec2 uv = str.st;\n      vec2 center = vec2(0.5,0.5) ;\n      float dis = distance(str, center);\n      float radius = 0.45;\n\n      // vec3 cols = vec3 (0.0);\n      // float x = uv.r;\n      // float y = uv.t;\n      // float c;\n      // float triangle_blocks = triangle(vec2(x+(-.5),y+(-.6)),0.01, .3);\n      // cols += vec3(1.0, 1.0, 0.0)*triangle_blocks;\n      // material.diffuse+=cols;\n      // // material.alpha=triangle_blocks;\n      // // if(dis > 0.5||dis < radius) {\n      // //   // material.alpha = 0.0;\n      // //   // discard;\n      // // }else{\n      // if(dis > 0.5||dis < radius) {\n      //   material.alpha = triangle_blocks;\n      //   // discard;\n      // }else{\n      //     material.diffuse += vec3(1.0,0.0,0.0);\n      // }\n\n      // float angle = iTime*2.0;\n      // float s = sin(angle);\n      // float c = cos(angle);\n      // mat2 rotationMatrix = mat2( c, s,-s,  c);\n      // vec2 pivot = vec2( 0.5, 0.5);\n      // uv = rotationMatrix * (uv - pivot) + pivot;\n\n      vec2 p=uv;\n      vec3 col = vec3 (0.0);\n      float x0 = tri(p, 3.0, 0.225, vec2(.50,0.50));\n      float c1 = circle(0.5, p, vec2(.50,0.50));\n      float c2 = circle(0.45, p, vec2(.50,0.50));\n      col += vec3(x0)*circleColor.rgb;\n      // col += vec3(x0)*colorTT.rgb;\n      col += vec3(c1)*triangleColor.rgb;\n      col += vec3(c2)*vec3(-1,-1,-1);\n      if(dis > 0.5||dis < radius) {\n        material.alpha = x0;\n      }\n      material.diffuse+=col;\n      material.alpha*=alpha;\n\n      // bool h = hex(uv*5.0);\n      // col=vec3(h,h,h);\n      // material.diffuse = col;\n      // material.alpha =1.- col.r*col.g*col.b;\n\n      return material;\n  }\n  "),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeMapGISSymbolMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeMapGISSymbolMaterialPropertyType,
													uniforms: {
														circleColor:
															new e.Color(
																1,
																0,
																0,
																1
															),
														triangleColor:
															new e.Color(
																1,
																1,
																0,
																1
															),
														rate: 1,
														alpha: 1,
													},
													source: e.Material
														.GisEyeMapGISSymbolMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeMapGISSymbolMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.circleColor =
											Cesium.Property.getValueOrDefault(
												this.circleColor,
												e,
												Cesium.Color.RED,
												t.circleColor
											)),
										(t.triangleColor =
											Cesium.Property.getValueOrDefault(
												this.triangleColor,
												e,
												Cesium.Color.YELLOW,
												t.triangleColor
											)),
										(t.rate =
											Cesium.Property.getValueOrDefault(
												this.rate,
												e,
												1,
												t.rate
											)),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.circleColor,
												e.circleColor
											) &&
											Cesium.Property.equals(
												this.triangleColor,
												e.triangleColor
											) &&
											Cesium.Property.equals(
												this.rate,
												e.rate
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.lineColor = e.lineColor),
									(this.fillColor = e.fillColor),
									(this.repeatNum = e.repeatNum),
									(this.alpha = e.alpha);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeMapGISSymbolFillMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.lineColor
														) &&
														e.Property.isConstant(
															this.fillColor
														) &&
														e.Property.isConstant(
															this.repeatNum
														) &&
														e.Property.isConstant(
															this.alpha
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											lineColor:
												e.createPropertyDescriptor(
													"lineColor"
												),
											fillColor:
												e.createPropertyDescriptor(
													"fillColor"
												),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
										}),
										(e.Material.GisEyeMapGISSymbolFillMaterialPropertyType =
											"GisEyeMapGISSymbolFillMaterialProperty"),
										(e.Material.GisEyeMapGISSymbolFillMaterialPropertyMaterialSource =
											"\n    float iTime= czm_frameNumber/ 100.0;\n    // attribute vec4 colorTT;\n    // bool hex(vec2 p,float f) {\n    //     p.x *= 0.57735*2.0;\n    //     p.y += mod(floor(p.x), 2.0)*0.5;\n    //     p = abs((mod(p, 1.0) - 0.5));\n    //     return abs(max(p.x*1.5 + p.y, p.y*2.0) - 1.0) > f;\n    // }\n\n    // vec3 palette(float i) {\n    //     return vec3(1.0, 1.0, 1.0);\n    // }\n\n    czm_material czm_getMaterial( czm_materialInput materialInput )\n    {\n        czm_material material = czm_getDefaultMaterial(materialInput);\n        vec2 str = materialInput.st*1.0;\n        vec2 uv = str.st;\n        // vec4 colorTT2=fsInput.attributes.colorTT;\n        // float width = czm_viewport.z;\n        // float height = czm_viewport.w;\n        // float pixelWidth;\n        // float pixelHeight;\n        // float top = czm_frustumPlanes.x;\n        // float bottom = czm_frustumPlanes.y;\n        // float left = czm_frustumPlanes.z;\n        // float right = czm_frustumPlanes.w;\n        // float frustumWidth = right - left;\n        // float frustumHeight = top - bottom;\n        // pixelWidth = frustumWidth / width;\n        // pixelHeight = frustumHeight / height;\n        // uv= uv*vec2(pixelHeight, pixelWidth);\n\n        // uv=gl_FragCoord.xy / czm_viewport.zw;\n\n\n        // uv=uv.xy / czm_viewport.z*2000.;\n        // vec2 BRICK_SIZE = vec2(repeatNum.x, repeatNum.y);\n        // uv = uv * BRICK_SIZE; // scale for replication\n        // vec3 col = lineColor.rgb;\n        // if(mod(uv.y, 2.0) < 1.0){\n        //   uv.x = uv.x + 0.5;\n        // }\n        // uv = uv - floor(uv);\n        // if(uv.x > 0.95 || uv.y < 0.05) {\n        //     col = fillColor.rgb;\n        // }\n        // // fragColor = vec4(col, 1.0);\n        // material.diffuse=col;\n        // material.alpha=alpha;\n\n        uv =2.0*uv-1.0;\n        uv*=1.1;\n        const float PI = 3.1415926535897932384626433832795;\n        float rsq = uv.x * uv.x + uv.y * uv.y;\n    float r = sqrt(rsq);\n    //float theta = atan(-uv.y, uv.x) + PI;\n    // Rotate\n    float theta = atan(-uv.x, -uv.y) + PI;\n\n    // float Angle = mod(iTime, 360.0) * (PI / 18.0);\n    float Angle = PI/2.;\n\n    const float rsq1 = 0.11;\n    const float rsq2 = 0.16;\n    vec3 graycol = vec3(0.196, 0.196, 0.266);  // #323244\n    vec3 greencol = vec3(0.286, 0.8078, 0.545);  // #49CE8B\n    float aa_angle_edge = smoothstep(Angle - 0.02, Angle, theta);\n    vec3 col = mix(greencol, graycol, 1.0 - aa_angle_edge);\n\n    col *= vec3(smoothstep(rsq1 - 0.005, rsq1, rsq));\n    col *= vec3(1.0 - smoothstep(rsq2 - 0.005, rsq2, rsq));\n        material.diffuse=col;\n        // material.diffuse=czm_phong(normalize(materialInput.positionToEyeEC), material, czm_lightDirectionEC).rgb;\n\n        return material;\n    }\n    "),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeMapGISSymbolFillMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeMapGISSymbolFillMaterialPropertyType,
													uniforms: {
														lineColor: new e.Color(
															1,
															0,
															0,
															1
														),
														fillColor: new e.Color(
															1,
															1,
															0,
															1
														),
														repeatNum: {
															x: 1,
															y: 1,
														},
														alpha: 1,
													},
													source: e.Material
														.GisEyeMapGISSymbolFillMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeMapGISSymbolFillMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.lineColor =
											Cesium.Property.getValueOrDefault(
												this.lineColor,
												e,
												Cesium.Color.RED,
												t.lineColor
											)),
										(t.fillColor =
											Cesium.Property.getValueOrDefault(
												this.fillColor,
												e,
												Cesium.Color.YELLOW,
												t.fillColor
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												{ x: 1, y: 1 },
												t.repeatNum
											)),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.lineColor,
												e.lineColor
											) &&
											Cesium.Property.equals(
												this.fillColor,
												e.fillColor
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color),
									(this.outlineColor = e.outlineColor),
									(this.repeatNum = e.repeatNum),
									(this.yxRatio = e.yxRatio),
									(this.alpha = e.alpha);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeMapGISSymbolBasicDrawMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return (
														e.Property.isConstant(
															this.color
														) &&
														e.Property.isConstant(
															this.outlineColor
														) &&
														e.Property.isConstant(
															this.repeatNum
														) &&
														e.Property.isConstant(
															this.yxRatio
														) &&
														e.Property.isConstant(
															this.alpha
														)
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
											outlineColor:
												e.createPropertyDescriptor(
													"outlineColor"
												),
											repeatNum:
												e.createPropertyDescriptor(
													"repeatNum"
												),
											yxRatio:
												e.createPropertyDescriptor(
													"yxRatio"
												),
											alpha: e.createPropertyDescriptor(
												"alpha"
											),
										}),
										(e.Material.GisEyeMapGISSymbolBasicDrawMaterialPropertyType =
											"GisEyeMapGISSymbolBasicDrawMaterialProperty"),
										(e.Material.GisEyeMapGISSymbolBasicDrawMaterialPropertyMaterialSource =
											"\n  float iTime= czm_frameNumber/ 100.0;\n  const int arrPolylineSize=2;\n  const int arrPolygonSize=4;\n\n  // attribute vec4 colorTT;\n  // uniform vec4 colorTT;\n\n  // 获取填充圆参数\n  float circle(float r, in vec2 uv, in vec2 pos){\n    uv.y=uv.y*yxRatio;\n    pos.y=pos.y*yxRatio;\n    uv = uv-pos;\n    return 1.0-step(r,length(uv));\n  }\n  // 绘制点\n  void drawPoint(out czm_material material ,vec2 uv, vec2 center,float pixelSize,vec3 color,float outlineWidth,vec3 outLineColor){\n      vec3 col = vec3 (0.0);\n      pixelSize=pixelSize*yxRatio;\n      outlineWidth=outlineWidth*yxRatio;\n      float dis = distance(uv, center);\n      dis=dis*yxRatio;\n      float x0 = circle(pixelSize,uv,  center);\n      float x2 = circle(pixelSize-outlineWidth,uv,center);\n      col += vec3(x0)*outLineColor.rgb;\n      col += vec3(x2)*outLineColor.rgb*vec3(-1.0);\n      col += vec3(x2)*color.rgb;\n      // if(dis > pixelSize) {\n      //   material.alpha += -1.;\n      // }\n      // else{\n      //   material.alpha += x0;\n      // }\n      material.diffuse+=col;\n      // return col;\n  }\n  // 获取线参数\n  float drawLine(vec2 uv, vec2 p1, vec2 p2, float r)\n  {\n    uv.y=uv.y*yxRatio;\n    p1.y=p1.y*yxRatio;\n    p2.y=p2.y*yxRatio;\n    r=r*yxRatio;\n    r=r/2.;\n      vec2 l = p2 - p1;\n      float L = length(l);\n      float L2 = L*L;\n      float d1 = length(uv - p1);\n      float d2 = length(uv - p2);\n      float d  = min(d1, d2);\n      float ds = dot(uv - p1, l);\n      if (ds >= 0.0 && ds <= L2)\n      {\n          vec2 n = vec2(-l.y, l.x) / L;\n          d = min(d, abs(dot(uv - p1, n)));\n      }\n      // blurry\n      //return 1.0 - smoothstep(0.0, 0.5, d - r);\n      // antialiased\n      return 1.0 - smoothstep(0.0, 0.0001, d - r);\n  }\n  // 绘制填充圆\n  float drawFillCircle(vec2 uv,vec2 center, float radius)\n  {\n      // uv.x=fract(uv.x*repeatNum.x);\n      uv.y=uv.y*yxRatio;\n      // center.x=fract(center.x*repeatNum.x);\n      center.y=center.y*yxRatio;\n      vec2 uv2=(uv - center);\n      radius=radius*yxRatio;\n      return (length( uv2) <= radius) ? 1. : 0.;\n\n      // return (distance(center, uv) <= radius) ? 1. : 0.;\n  }\n  // 绘制圆形\n  float drawCircle(vec2 uv,vec2 center, float radius,float width)\n  {\n    // float Ratio=repeatNum.x/repeatNum.y*yxRatio;\n    uv.y=uv.y*yxRatio;\n    center.y=center.y*yxRatio;\n    radius=radius*yxRatio;\n    width=width*yxRatio;\n      return (distance(center, uv) <= radius&&distance(center, uv) >= radius-width) ? 1. : 0.;\n      // return (distance(center, uv) <= radius&&distance(center, uv) >= radius-width) ? 1. : 0.;\n  }\n  // 绘制圆弧\n  float drawArc(vec2 uv,vec2 center, float radius,float width,float startAngle,float endAngle)\n  {\n    uv.y=uv.y*yxRatio;\n    center.y=center.y*yxRatio;\n    radius=radius*yxRatio;\n    width=width*yxRatio;\n    vec2 _uv=uv-center;\n    float _sqrt=sqrt(_uv.s*_uv.s + _uv.t*_uv.t);\n    float sin0 = _uv.t/_sqrt;\n    float cos0 = _uv.s/_sqrt;\n    float asin0=asin(sin0);\n    float _angle=0.;\n\n    if (sin0>=0. && cos0>=0.)\n        {_angle= asin0;}\n    else if (sin0>=0. && cos0<0.)\n        {_angle=czm_pi- asin0;}\n    else if (sin0<0. && cos0<0.)\n        {_angle=czm_pi-asin0;}\n    else if (sin0<0. && cos0>=0.)\n        {_angle= 2.*czm_pi+asin0;}\n    float dis=distance(center, uv);\n    if(startAngle>endAngle){\n      return (\n        dis <= radius &&\n        dis >= radius-width &&\n        (_angle>=startAngle || _angle<=endAngle)\n        ) ? 1. : 0.;\n      }\n    else\n    {return (\n      dis <= radius &&\n      dis >= radius-width &&\n        _angle>=startAngle &&\n        _angle<=endAngle\n        ) ? 1. : 0.;}\n  }\n  // 绘制圆头线\n  float drawPolyline(out czm_material material ,vec2 uv,vec2 pArr[arrPolylineSize], int size,vec3 color, float width){\n    // const int size=4;//pArr.length\n    // vec2 pArr[size];\n    // pArr[0]=vec2(0.25 , 0.75 );\n    // pArr[1]=vec2(0.45 , 0.45 );\n    // pArr[2]=vec2(0.65 , 0.95 );\n    // pArr[3]=vec2(0.85 , 0.25 );\n    vec3 col = vec3 (0.0);\n    float lines;\n    for(int i=0;i<arrPolylineSize;i++){\n      lines+=drawLine( uv,pArr[i], pArr[i+1], width);\n      if(i>=size-2){\n        break;\n      }\n    }\n    col += vec3(lines)*color.rgb;\n    // material.alpha += lines;\n    material.diffuse+=col;\n    return lines;\n  }\n  // 绘制面\n  bool pointInPolygon(vec2 p, vec2 points[arrPolygonSize]){\n      bool inside = false;\n      for(int i =0; i<arrPolygonSize;i++){\n          float xi = points[i].x;\n          float yi = points[i].y;\n          float xj,yj;\n          if(i == 0){\n              xj = points[arrPolygonSize - 1].x;\n              yj = points[arrPolygonSize - 1].y;\n          }else{\n              xj = points[i - 1].x;\n              yj = points[i - 1].y;\n          }\n          bool intersect = ((yi > p.y)!=(yj > p.y)) && (p.x < (xj - xi)*(p.y - yi)/(yj - yi) + xi);\n          if(intersect){\n              inside = !inside;\n          }\n      }\n      return inside;\n  }\n\n  float UDFatLineSegment (in vec2 coords, in vec2 A, in vec2 B, in float height)\n  {\n      coords.y=coords.y*yxRatio;\n      A.y=A.y*yxRatio;\n      B.y=B.y*yxRatio;\n      height=height*yxRatio;\n\n      // float angle = 0.0;\n      // vec2 mouseuv = A - B;\n      // mouseuv.x *= yxRatio;\n      // angle = mod(atan(mouseuv.y, mouseuv.x)+czm_pi, czm_pi/2.0);\n      // height=height *(1.0+angle/(czm_pi/2.0))*yxRatio;\n\n      // calculate x and y axis of box\n      vec2 xAxis = normalize(B-A);\n      vec2 yAxis = vec2(xAxis.y, -xAxis.x);\n      float width = length(B-A);\n\n      // make coords relative to A\n      coords -= A;\n\n      vec2 relCoords;\n      relCoords.x = dot(coords, xAxis);\n      relCoords.y = dot(coords, yAxis);\n\n      // calculate closest point\n      vec2 closestPoint;\n      closestPoint.x = clamp(relCoords.x, 0.0, width);\n      closestPoint.y = clamp(relCoords.y, -height * 0.5, height * 0.5);\n\n      return length(relCoords - closestPoint);\n  }\n  vec2 CosSin(float x) {\n    vec2 si = fract(vec2(0.5,1.0) - x*2.0)*2.0 - 1.0;\n    vec2 so = sign(0.5-fract(vec2(0.25,0.5) - x));\n    return (20.0 / (si*si + 4.0) - 4.0) * so;\n  }\n  //绘制方头线\n  float drawDLine(out czm_material material ,vec2 uv,vec2 pArr[arrPolylineSize], int size,vec3 color, float width){\n    float AA_AMOUNT=0.0001;\n    float c_gamma = 2.2;\n    vec3 pixelColor = vec3(0.0);\n    float dist=0.0;\n    float lines = 0.0;\n    for(int i=0;i<arrPolylineSize;i++){\n      dist = UDFatLineSegment(uv, pArr[i], pArr[i+1], width);\n      lines += 1.0 - smoothstep(0.0, AA_AMOUNT, dist);\n      if(i>=size-2){\n        break;\n      }\n    }\n    pixelColor += vec3(lines)*color.rgb;\n    pixelColor = pow(pixelColor, vec3(1.0/c_gamma));\n    // material.alpha += lines;\n    material.diffuse+=pixelColor;\n    return lines;\n  }\n  czm_material czm_getMaterial(czm_materialInput materialInput)\n  {\n      czm_material material = czm_getDefaultMaterial(materialInput);\n      vec2 str = materialInput.st*1.0;\n      vec2 uv = str.st;\n      uv=fract(uv*repeatNum);\n      float symboleLineWidth=0.05;\n      // float symboleLineWidth=0.01;\n      float minRadius=0.1;\n      //绘制圆已完成\n      vec3 col = vec3 (0.0);\n      float c1 = drawFillCircle(uv,vec2(.655,0.8), minRadius);// 绘制填充圆\n      col += vec3(c1)*outlineColor.rgb;\n      float c2 = drawCircle(uv,vec2(.6585+0.025,0.2), minRadius,symboleLineWidth);// 绘制圆形\n      col += vec3(c2)*outlineColor.rgb;\n\n      float c4 = drawCircle(uv,vec2(0.5,0.5), 0.5,symboleLineWidth);// 绘制大圆形\n      col += vec3(c4)*outlineColor.rgb;\n      material.diffuse += col;\n      //绘制圆已完成\n\n      //绘制点已完成\n      drawPoint(material,uv,vec2(0.5,0.5),minRadius,color.rgb,minRadius/5.0,outlineColor.rgb);\n      //绘制点已完成\n\n      //绘制线已完成\n      float lines=0.;\n      int len=2;\n      vec2 pArr[arrPolylineSize];\n      pArr[0]=vec2(0.35 , 0.2 );\n      pArr[1]=vec2(0.35 , 0.8 );\n      lines+=drawPolyline(material,uv,pArr,len,color.rgb,symboleLineWidth);//圆头线\n      pArr[0]=vec2(0.35 , 0.2 );\n      pArr[1]=vec2(0.35 , 0.8 );\n      lines+=drawDLine(material,uv,pArr,len,outlineColor.rgb,symboleLineWidth);//方头线\n      pArr[0]=vec2(0.3 , 0.2 );\n      pArr[1]=vec2(0.3 , 0.8 );\n      lines+=drawDLine(material,uv,pArr,len,color.rgb,symboleLineWidth);//方头线\n      pArr[0]=vec2(0.35 , 0.95 );\n      pArr[1]=vec2(0.65 , 0.95 );\n      lines+=drawPolyline(material,uv,pArr,len,color.rgb,symboleLineWidth);//圆头线\n      pArr[0]=vec2(0.35 , 0.95 );\n      pArr[1]=vec2(0.65 , 0.95 );\n      lines+=drawDLine(material,uv,pArr,len,outlineColor.rgb,symboleLineWidth);//方头线\n\n      pArr[0]=vec2(0.6585 , 0.2 );\n      pArr[1]=vec2(0.6585 , 0.8 );\n      lines+=drawDLine(material,uv,pArr,len,color.rgb,symboleLineWidth);//方头线\n      pArr[0]=vec2(0.35 , 0.05 );\n      pArr[1]=vec2(0.65 , 0.05 );\n      lines+=drawDLine(material,uv,pArr,len,color.rgb,symboleLineWidth);//方头线\n\n\n      pArr[0]=vec2(.7,0.42 );\n      pArr[1]=vec2(0.9,0.72 );\n      lines+=drawPolyline(material,uv,pArr,len,color.rgb,symboleLineWidth);//斜圆头线\n      pArr[0]=vec2(.7,0.42 );\n      pArr[1]=vec2(0.9,0.72 );\n      lines+=drawDLine(material,uv,pArr,len,outlineColor.rgb,symboleLineWidth);//斜方头线\n      pArr[0]=vec2(.7,0.42-0.1 );\n      pArr[1]=vec2(0.9,0.72-0.1 );\n      lines+=drawDLine(material,uv,pArr,len,outlineColor.rgb,symboleLineWidth);//斜方头线\n      pArr[0]=vec2(.7,0.42+0.1 );\n      pArr[1]=vec2(0.9,0.72+0.1 );\n      lines+=drawDLine(material,uv,pArr,len,outlineColor.rgb,symboleLineWidth);//斜方头线\n      // material.alpha*=alpha*lines;\n      // if(uv.s > 0.5) {\n          // discard;//只绘部分图形\n        // }\n      //绘制线已完成\n\n      //绘制面已完成\n      vec2 Points[arrPolygonSize];\n      Points[0] =vec2(0.1,0.7);\n      Points[1] =vec2(0.15,0.5);\n      Points[2] =vec2(0.2,0.7);\n      Points[3] =vec2(0.15,0.9);\n      bool r = pointInPolygon(uv.xy, Points);\n      if(r){\n        material.diffuse += color.rgb;\n      }else{\n        // material.alpha = .0;\n      }\n      //绘制面已完成\n\n      //绘制圆弧已完成\n      vec2 center = vec2(.6585+0.025,0.2) ;\n      float _startAngle=0.9+iTime;\n      float startAngle=mod(_startAngle,2.0*czm_pi);\n\n      float endAngle=mod(_startAngle+czm_pi/2.*1.0,2.0*czm_pi);\n      float ar=drawArc(uv,center, minRadius, symboleLineWidth, startAngle, endAngle);\n\n      if(ar>0.){\n        material.diffuse += color.rgb;\n      }else{\n        // material.alpha = .0;\n      }\n      //绘制圆弧已完成\n\n      if(material.diffuse.r==.0&&material.diffuse.g==.0&&material.diffuse.b==.0)\n      {\n        material.alpha = .0;//特色颜色黑色控制透明度\n      }\n      // if(uv.s<0.5)material.diffuse =vec3(1.0,0.0,0.0);\n      // if(uv.t<0.5)material.diffuse =vec3(1.0,1.0,0.0);\n      return material;\n  }\n  "),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeMapGISSymbolBasicDrawMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeMapGISSymbolBasicDrawMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															1,
															0,
															0,
															1
														),
														outlineColor:
															new e.Color(
																1,
																1,
																0,
																1
															),
														repeatNum: {
															x: 1,
															y: 1,
														},
														yxRatio: 1,
														alpha: 1,
													},
													source: e.Material
														.GisEyeMapGISSymbolBasicDrawMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeMapGISSymbolBasicDrawMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												Cesium.Color.RED,
												t.color
											)),
										(t.outlineColor =
											Cesium.Property.getValueOrDefault(
												this.outlineColor,
												e,
												Cesium.Color.YELLOW,
												t.outlineColor
											)),
										(t.repeatNum =
											Cesium.Property.getValueOrDefault(
												this.repeatNum,
												e,
												{ x: 1, y: 1 },
												t.repeatNum
											)),
										(t.yxRatio =
											Cesium.Property.getValueOrDefault(
												this.yxRatio,
												e,
												1,
												t.yxRatio
											)),
										(t.alpha =
											Cesium.Property.getValueOrDefault(
												this.alpha,
												e,
												1,
												t.alpha
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											) &&
											Cesium.Property.equals(
												this.outlineColor,
												e.outlineColor
											) &&
											Cesium.Property.equals(
												this.repeatNum,
												e.repeatNum
											) &&
											Cesium.Property.equals(
												this.yxRatio,
												e.yxRatio
											) &&
											Cesium.Property.equals(
												this.alpha,
												e.alpha
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e) {
								(this._definitionChanged = new Cesium.Event()),
									(this.color = e.color);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.install = function (e) {
									e.Material
										.GisEyeDarrowMaterialPropertyType ||
										(Object.defineProperties(t.prototype, {
											isConstant: {
												get: function () {
													return e.Property.isConstant(
														this.color
													);
												},
											},
											definitionChanged: {
												get: function () {
													return this
														._definitionChanged;
												},
											},
											color: e.createPropertyDescriptor(
												"color"
											),
										}),
										(e.Material.GisEyeDarrowMaterialPropertyType =
											"GisEyeDarrowMaterialProperty"),
										(e.Material.GisEyeDarrowMaterialPropertyMaterialSource =
											"\n    float iTime= czm_frameNumber/ 100.0;\n      czm_material czm_getMaterial(czm_materialInput materialInput)\n      {\n          czm_material material = czm_getDefaultMaterial(materialInput);\n          vec2 str = materialInput.st*1.0;\n          float c = sin(str.s*6.0 -1.3) - cos(str.t*6.0);\n          material.diffuse =c*color.rgb;\n          material.alpha = c;\n          if(c<0.01)\n          material.alpha=0.0;\n          return material;\n      }"),
										e.Material._materialCache.addMaterial(
											e.Material
												.GisEyeDarrowMaterialPropertyType,
											{
												fabric: {
													type: e.Material
														.GisEyeDarrowMaterialPropertyType,
													uniforms: {
														color: new e.Color(
															1,
															0,
															0,
															1
														),
													},
													source: e.Material
														.GisEyeDarrowMaterialPropertyMaterialSource,
												},
												translucent: function (e) {
													return !0;
												},
											}
										));
								}),
								(t.prototype.getType = function (e) {
									return "GisEyeDarrowMaterialProperty";
								}),
								(t.prototype.getValue = function (e, t) {
									return (
										Cesium.defined(t) || (t = {}),
										(t.color =
											Cesium.Property.getValueOrDefault(
												this.color,
												e,
												new Cesium.Color(1, 0, 0, 1),
												t.color
											)),
										t
									);
								}),
								(t.prototype.equals = function (e) {
									return (
										this === e ||
										(e instanceof t &&
											Cesium.Property.equals(
												this.color,
												e.color
											))
									);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(5), n(335), n(353), n(354), n(355), n(132), n(12)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a, s, l) {
							"use strict";
							var u = n(0);
							function c(e) {
								(e = Cesium.defaultValue(
									e,
									Cesium.defaultValue.EMPTY_OBJECT
								)),
									Cesium.Check.defined("options.url", e.url),
									Cesium.Check.defined(
										"options.context",
										e.context
									),
									(this.id = Cesium.createGuid()),
									(this.name = e.name),
									(this.context = e.context),
									(this._url = void 0),
									(this._basePath = void 0),
									(this._baseResource = void 0),
									(this.modelMatrix = new Cesium.Matrix4()),
									(this.invModelMatrix =
										new Cesium.Matrix4()),
									(this._visibleDistanceMax =
										Cesium.defaultValue(
											e.maxVisibleDistance,
											Number.MAX_VALUE
										)),
									(this._visibleDistanceMin =
										Cesium.defaultValue(
											e.minVisibleDistance,
											0
										)),
									(this._lodRangeScale = Cesium.defaultValue(
										e.lodRangeScale,
										1
									)),
									(this._selectedColor = Cesium.defaultValue(
										e.selectedColor,
										new Cesium.Color(0.7, 0.7, 1, 1)
									)),
									(this.fileType = void 0),
									(this._position = void 0),
									(this._rectangle = void 0),
									(this._rootTiles = []),
									(this._schuduler = new i.default()),
									(this._selections = []),
									(this._objsOperationList = {}),
									(this._requestTiles = []),
									(this._processTiles = []),
									(this._selectedTiles = []),
									(this._cache = new o.default()),
									(this._maximumMemoryUsage = -1),
									(this._totalMemoryUsageInBytes = 0),
									(this._style3D = Cesium.defaultValue(
										e.style3D,
										new s.default()
									)),
									(this._maximumPriority = {
										foveatedFactor: -Number.MAX_VALUE,
										depth: -Number.MAX_VALUE,
										distance: -Number.MAX_VALUE,
										pixel: -Number.MAX_VALUE,
									}),
									(this._minimumPriority = {
										foveatedFactor: Number.MAX_VALUE,
										depth: Number.MAX_VALUE,
										distance: Number.MAX_VALUE,
										pixel: Number.MAX_VALUE,
									}),
									(this._readyPromise = (0, l.defer)()),
									this.loadConfig(e.url);
							}
							function f(e, t) {
								e.updateObjsOperation(t.ids, t);
							}
							function h(e, t) {
								return e.priority - t.priority;
							}
							function p(e, t) {
								t.free();
							}
							function d(e) {
								e._cache.unloadTiles(e, p);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = u(t)),
								(r = u(r)),
								(i = u(i)),
								(o = u(o)),
								(a = u(a)),
								(s = u(s)),
								Object.defineProperties(c.prototype, {
									ready: {
										get: function () {
											return this._rootTiles.length > 0;
										},
									},
									readyPromise: {
										get: function () {
											return this._readyPromise.promise;
										},
									},
									rectangle: {
										get: function () {
											return this._rectangle;
										},
									},
									visibleDistanceMax: {
										get: function () {
											return this._visibleDistanceMax;
										},
										set: function (e) {
											Cesium.Check.typeOf.number(
												"max visible distance",
												e
											),
												(this._visibleDistanceMax = e);
										},
									},
									visibleDistanceMin: {
										get: function () {
											return this._visibleDistanceMin;
										},
										set: function (e) {
											Cesium.Check.typeOf.number(
												"min visible distance",
												e
											),
												(this._visibleDistanceMin = e);
										},
									},
									lodRangeScale: {
										get: function () {
											return this._lodRangeScale;
										},
										set: function (e) {
											Cesium.Check.typeOf.number(
												"set layer lod range scale",
												e
											),
												(this._lodRangeScale = e);
										},
									},
									totalMemoryUsageInBytes: {
										get: function () {
											return this
												._totalMemoryUsageInBytes;
										},
										set: function (e) {
											this._totalMemoryUsageInBytes = e;
										},
									},
									maximumMemoryUsage: {
										get: function () {
											return this._maximumMemoryUsage;
										},
										set: function (e) {
											this._maximumMemoryUsage = e;
										},
									},
									style3D: {
										get: function () {
											return this._style3D;
										},
										set: function (e) {
											this._style3D = e;
										},
									},
									selectedColor: {
										get: function () {
											return (void 0)._selectedColor;
										},
										set: function (e) {
											(void 0)._selectedColor = e;
										},
									},
								}),
								(Cesium.Scene.prototype.hookPickFunc =
									Cesium.Scene.prototype.pick),
								(Cesium.Scene.prototype.pick = function (
									e,
									t,
									n
								) {
									var r = this.hookPickFunc(e, t, n);
									if (r)
										r.primitive &&
											r.primitive instanceof c &&
											r.primitive.setSelection(r.id);
									else
										for (
											var i = 0,
												o = this.primitives.length;
											i < o;
											i++
										) {
											var a = this.primitives.get(i);
											a instanceof c &&
												a.releaseSelection();
										}
									return r;
								}),
								(c.prototype.loadConfig = function (e) {
									var n = this;
									t.default
										.resolve(e)
										.then(function (e) {
											var t,
												r =
													Cesium.Resource.createIfNeeded(
														e
													);
											return (
												(t = r.getBaseUri(!0)),
												(n._url = r.url),
												(n._basePath = t),
												(n._baseResource = r),
												r.fetchJson()
											);
										})
										.then(function (e) {
											var t = e.extensions;
											n.fileType = t["s3m:FileType"];
											var i = e.position.x,
												o = e.position.y,
												a = e.position.z;
											if (
												((n._position =
													Cesium.Cartesian3.fromDegrees(
														i,
														o,
														a
													)),
												(n.modelMatrix =
													Cesium.Transforms.eastNorthUpToFixedFrame(
														n._position
													)),
												(n.invModelMatrix =
													Cesium.Matrix4.inverse(
														n.modelMatrix,
														n.invModelMatrix
													)),
												(n._rectangle =
													Cesium.Rectangle.fromDegrees(
														e.geoBounds.left,
														e.geoBounds.bottom,
														e.geoBounds.right,
														e.geoBounds.top
													)),
												e.heightRange &&
													((n._minHeight =
														e.heightRange.min),
													(n._maxHeight =
														e.heightRange.max)),
												e.wDescript)
											) {
												var s = e.wDescript.range;
												(n._minWValue = s.min),
													(n._maxWValue = s.max);
											}
											for (
												var l = 0, u = e.tiles.length;
												l < u;
												l++
											) {
												var c = e.tiles[l].url,
													f = {
														box: e.tiles[l]
															.boundingbox,
													},
													h = new r.default(
														n,
														void 0,
														f,
														c
													);
												(h.isRootTile = !0),
													n._cache.add(h),
													n._rootTiles.push(h);
											}
											n._readyPromise.resolve(n);
										})
										.catch(function (e) {
											n._readyPromise.reject(e);
										});
								}),
								(c.prototype._tranverseRenderEntity = function (
									e,
									t
								) {
									for (
										var n = [],
											r = 0,
											i = this._rootTiles.length;
										r < i;
										r++
									) {
										var o = this._rootTiles[r];
										n.push(o);
									}
									for (; n.length; ) {
										for (
											var a = n.pop(),
												s = 0,
												l = a.renderEntities.length;
											s < l;
											s++
										) {
											var u = a.renderEntities[s];
											u.ready && t(u, e);
										}
										for (
											var c = 0, f = a.children.length;
											c < f;
											c++
										)
											n.push(a.children[c]);
									}
								}),
								(c.prototype._updateObjsOperation = function (
									e
								) {
									this._tranverseRenderEntity({ ids: e }, f);
								}),
								(c.prototype._setObjsOperationType = function (
									e,
									t
								) {
									Cesium.Check.defined(
										"set Objs Operation ids",
										e
									),
										Cesium.Check.defined(
											"set Objs Operation operationType",
											t
										),
										Array.isArray(e) || (e = [e]);
									for (
										var n,
											r = new Cesium.AssociativeArray(),
											i = 0,
											o = e.length;
										i < o;
										i++
									)
										if (((n = e[i]), Cesium.defined(n))) {
											var a = Cesium.defaultValue(
												this._objsOperationList[n],
												0
											);
											a !== t &&
												((a |= t),
												(this._objsOperationList[n] =
													a),
												r.set(n, a));
										}
									r.length > 0 &&
										this._updateObjsOperation(r._hash);
								}),
								(c.prototype._removeObjsOperationType =
									function (e, t) {
										Cesium.Check.defined(
											"set Objs Operation ids",
											e
										),
											Array.isArray(e) || (e = [e]);
										for (
											var n,
												r = a.default.ALL ^ t,
												i =
													new Cesium.AssociativeArray(),
												o = 0,
												s = e.length;
											o < s;
											o++
										) {
											n = e[o];
											var l = this._objsOperationList[n];
											Cesium.defined(l) &&
												((l &= r) === a.default.RESET
													? delete this
															._objsOperationList[
															n
													  ]
													: (this._objsOperationList[
															n
													  ] = l),
												i.set(n, l));
										}
										i.length > 0 &&
											this._updateObjsOperation(i._hash);
									}),
								(c.prototype.releaseSelection = function () {
									this._selections.length < 1 ||
										(this._removeObjsOperationType(
											this._selections,
											a.default.SELECTED
										),
										(this._selections.length = 0));
								}),
								(c.prototype.setSelection = function (e) {
									Cesium.Check.defined("setSelection ids", e),
										Array.isArray(e) || (e = [e]),
										this.releaseSelection(),
										(this._selections =
											this._selections.concat(e)),
										this._setObjsOperationType(
											e,
											a.default.SELECTED
										);
								}),
								(c.prototype.prePassesUpdate = function (e) {
									this.ready &&
										e.newFrame &&
										(this._cache.reset(),
										(this._requestTiles.length = 0),
										(this._processTiles.length = 0),
										(this._selectedTiles.length = 0));
								}),
								(c.prototype.postPassesUpdate = function (e) {
									this.ready && d(this);
								}),
								(c.prototype.update = function (e) {
									this.ready &&
										(this._schuduler.schedule(this, e),
										(function (e) {
											var t = e._requestTiles,
												n = t.length;
											t.sort(h);
											for (var r = 0; r < n; ++r)
												t[r].requestContent();
										})(this),
										(function (e, t) {
											for (
												var n = e._processTiles,
													r = n.length,
													i = 0;
												i < r;
												++i
											)
												n[i].update(t, e);
										})(this, e),
										(function (e, t) {
											for (
												var n = e._selectedTiles,
													r = n.length,
													i = 0;
												i < r;
												i++
											)
												n[i].update(t, e);
										})(this, e));
								}),
								(c.prototype.isDestroyed = function () {
									return !1;
								}),
								(c.prototype.destroy = function () {
									return (
										this._cache.reset(),
										d(this),
										(this._rootTiles.length = 0),
										(this._requestTiles.length = 0),
										(this._processTiles.length = 0),
										(this._selectedTiles.length = 0),
										Cesium.destroyObject(this)
									);
								});
							var y = c;
							e.default = y;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			n(15);
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(15), n(127), n(336), n(339), n(131)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a) {
							"use strict";
							var s = n(0);
							function l(e, t, n, i, o, s) {
								(this.layer = e), (this.parent = t);
								var l = i.replace(/\\/g, "/");
								(this.fileExtension =
									Cesium.getExtensionFromUri(i)),
									(this.relativePath = (function (e, t) {
										e = e.replace(/\+/g, "%2B");
										var n = t._basePath;
										if (
											!(
												t._basePath.indexOf(
													"realspace"
												) > -1
											)
										)
											return e;
										var r = n.replace(/(.*realspace)/, "");
										return (
											n
												.replace(
													/\/rest\/realspace/g,
													""
												)
												.replace(r, "") +
											"/rest/realspace" +
											r +
											"data/path/" +
											e
												.replace(/^\.*/, "")
												.replace(/^\//, "")
												.replace(/\/$/, "")
										);
									})(l, e)),
									(this.fileName = i),
									(this.isLeafTile = 0 === o),
									(this.isRootTile = !1),
									(this.boundingVolume =
										this.createBoundingVolume(
											n,
											e.modelMatrix
										));
								var u = Cesium.Resource.createIfNeeded(
									e._baseResource
								);
								if (Cesium.defined(t)) this.baseUri = t.baseUri;
								else {
									var c = new Cesium.Resource(l);
									this.baseUri = c.getBaseUri();
								}
								(this.contentResource = u.getDerivedResource({
									url: this.relativePath,
								})),
									(this.serverKey =
										Cesium.RequestScheduler.getServerKey(
											this.contentResource.getUrlComponent()
										)),
									(this.request = void 0),
									(this.cacheNode = void 0),
									(this.distanceToCamera = 0),
									(this.centerZDepth = 0),
									(this.pixel = 0),
									(this.depth = t ? t.depth + 1 : 0),
									(this.visibilityPlaneMask = 0),
									(this.visible = !1),
									(this.children = []),
									(this.renderEntities = []),
									(this.lodRangeData = Cesium.defaultValue(
										o,
										16
									)),
									(this.lodRangeMode = Cesium.defaultValue(
										s,
										a.default.Pixel
									)),
									(this.contentState = this.isLeafTile
										? r.default.READY
										: r.default.UNLOADED),
									(this.touchedFrame = 0),
									(this.requestedFrame = 0),
									(this.processFrame = 0),
									(this.selectedFrame = 0),
									(this.updatedVisibilityFrame = 0),
									(this.foveatedFactor = 0),
									(this.priority = 0),
									(this.priorityHolder = this),
									(this.wasMinPriorityChild = !1),
									(this.shouldSelect = !1),
									(this.selected = !1),
									(this.finalResolution = !0),
									(this.refines = !1);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = s(t)),
								(r = s(r)),
								(i = s(i)),
								(o = s(o)),
								(a = s(a)),
								Object.defineProperties(l.prototype, {
									renderable: {
										get: function () {
											var e = this.renderEntities,
												t = e.length;
											if (0 === t) return !1;
											for (var n = 0; n < t; n++)
												if (!e[n].ready) return !1;
											return !0;
										},
									},
								});
							var u = new Cesium.Cartesian3();
							function c(e, t) {
								return e.boundingVolume;
							}
							(l.prototype.createBoundingVolume = function (
								e,
								t
							) {
								return Cesium.defined(e.sphere)
									? (function (e, t) {
											var n = Cesium.Cartesian3.clone(
													e.center
												),
												r = e.radius;
											n = Cesium.Matrix4.multiplyByPoint(
												t,
												n,
												n
											);
											var i = Cesium.Matrix4.getScale(
												t,
												u
											);
											return (
												(r *=
													Cesium.Cartesian3.maximumComponent(
														i
													)),
												new Cesium.TileBoundingSphere(
													n,
													r
												)
											);
									  })(e.sphere, t)
									: Cesium.defined(e.box)
									? (function (e, t) {
											var n = new Cesium.Cartesian3(
												e.min.x,
												e.min.y,
												e.min.z
											);
											Cesium.Matrix4.multiplyByPoint(
												t,
												n,
												n
											);
											var r = new Cesium.Cartesian3(
												e.max.x,
												e.max.y,
												e.max.z
											);
											Cesium.Matrix4.multiplyByPoint(
												t,
												r,
												r
											);
											var i =
													Cesium.BoundingSphere.fromCornerPoints(
														n,
														r,
														new Cesium.BoundingSphere()
													),
												o = i.center,
												a = i.radius,
												s = Cesium.Matrix4.getScale(
													t,
													u
												);
											return (
												(a *=
													Cesium.Cartesian3.maximumComponent(
														s
													)),
												new Cesium.TileBoundingSphere(
													o,
													a
												)
											);
									  })(e.box, t)
									: void 0;
							}),
								(l.prototype.canTraverse = function () {
									return (
										0 !== this.children.length &&
										!this.isLeafTile &&
										(!Cesium.defined(this.lodRangeData) ||
											this.pixel > this.lodRangeData)
									);
								}),
								(l.prototype.getPixel = function (e) {
									var t = this.boundingVolume,
										n = t.radius,
										r = t.center,
										i = Cesium.Cartesian3.distance(
											e.camera.positionWC,
											r
										),
										o = e.context.drawingBufferHeight,
										a = 0.5 * e.camera.frustum._fovy;
									return (((0.5 * o) / Math.tan(a)) * n) / i;
								}),
								(l.prototype.distanceToTile = function (e) {
									return c(this).distanceToCamera(e);
								});
							var f = new Cesium.Cartesian3();
							(l.prototype.distanceToTileCenter = function (e) {
								var t = c(this),
									n = Cesium.Cartesian3.subtract(
										t.center,
										e.camera.positionWC,
										f
									);
								return Cesium.Cartesian3.dot(
									e.camera.directionWC,
									n
								);
							}),
								(l.prototype.visibility = function (e, t) {
									var n = c(this);
									return e.cullingVolume.computeVisibilityWithPlaneMask(
										n,
										t
									);
								});
							var h = new Cesium.Cartesian3();
							function p(e, t, n) {
								e._cache.add(t),
									(i.default.s3tc = e.context.s3tc),
									(i.default.pvrtc = e.context.pvrtc),
									(i.default.etc1 = e.context.etc1);
								var s = i.default.parseBuffer(n);
								if (!s)
									return (
										(t.contentState = r.default.FAILED),
										void t.contentReadyPromise.reject()
									);
								!(function (e, t) {
									for (
										var n = e.layer,
											r = t.length,
											i = Number.MAX_VALUE,
											o = 0,
											s = a.default.Pixel,
											u = 0;
										u < r;
										u++
									) {
										var c = t[u],
											f = c.boundingVolume,
											h = c.rangeDataList;
										h = e.baseUri + h;
										var p = c.rangeList,
											d = c.rangeMode,
											y = c.geoMap;
										if (0 !== p) {
											var m = new l(n, e, f, h, p, d);
											e.children.push(m), n._cache.add(m);
										}
										for (var v in y)
											y.hasOwnProperty(v) &&
												e.renderEntities.push(y[v]);
										(i = Math.min(i, p)),
											(o = Math.max(o, p)),
											(s = d);
									}
									e.isRootTile &&
										((e.lodRangeData =
											s === a.default.Pixel
												? i / 2
												: 2 * o),
										(e.lodRangeMode = s));
								})(t, o.default.parse(e, s, t)),
									(t.selectedFrame = 0),
									(t.contentState = r.default.READY),
									t.contentReadyPromise.resolve(s);
							}
							function d(e, t, n) {
								return Math.max(
									Cesium.Math.normalize(e, t, n) -
										Cesium.Math.EPSILON7,
									0
								);
							}
							function y(e, n, r) {
								var i = e * Math.pow(10, n);
								return (0, t.default)(i) * Math.pow(10, r);
							}
							(l.prototype.updateVisibility = function (e, t) {
								var n = this.parent,
									r = Cesium.defined(n)
										? n.visibilityPlaneMask
										: Cesium.CullingVolume
												.MASK_INDETERMINATE;
								(this.distanceToCamera =
									this.distanceToTile(e)),
									(this.centerZDepth =
										this.distanceToTileCenter(e)),
									(this.pixel = this.getPixel(e)),
									(this.visibilityPlaneMask = this.visibility(
										e,
										r
									)),
									(this.visible =
										this.visibilityPlaneMask !==
											Cesium.CullingVolume.MASK_OUTSIDE &&
										this.distanceToCamera >=
											t.visibleDistanceMin &&
										this.distanceToCamera <=
											t.visibleDistanceMax),
									(this.priorityDeferred = (function (e, t) {
										var n = t.camera,
											r = e.boundingVolume,
											i = r.radius,
											o =
												Cesium.Cartesian3.multiplyByScalar(
													n.directionWC,
													e.centerZDepth,
													h
												),
											a = Cesium.Cartesian3.add(
												n.positionWC,
												o,
												h
											),
											s = Cesium.Cartesian3.subtract(
												a,
												r.center,
												h
											);
										if (
											Cesium.Cartesian3.magnitude(s) > i
										) {
											var l = Cesium.Cartesian3.normalize(
													s,
													h
												),
												u =
													Cesium.Cartesian3.multiplyByScalar(
														l,
														i,
														h
													),
												c = Cesium.Cartesian3.add(
													r.center,
													u,
													h
												),
												f = Cesium.Cartesian3.subtract(
													c,
													n.positionWC,
													h
												),
												p = Cesium.Cartesian3.normalize(
													f,
													h
												);
											e.foveatedFactor =
												1 -
												Math.abs(
													Cesium.Cartesian3.dot(
														n.directionWC,
														p
													)
												);
										} else e.foveatedFactor = 0;
									})(this, e));
							}),
								(l.prototype.requestContent = function () {
									var e,
										t = this,
										n = this.layer,
										i = this.contentResource.clone(),
										o = new Cesium.Request({
											throttle: !0,
											throttleByServer: !0,
											type: Cesium.RequestType.TILES3D,
											priorityFunction:
												((e = this),
												function () {
													return e.priority;
												}),
											serverKey: this.serverKey,
										});
									(this.request = o), (i.request = o);
									var a = i.fetchArrayBuffer();
									if (!Cesium.defined(a)) return !1;
									(this.contentState = r.default.LOADING),
										(this.contentReadyPromise =
											Cesium.when.defer());
									var s = (function (e) {
										return function (t) {
											(e.contentState = r.default.FAILED),
												e.contentReadyPromise.reject(t);
										};
									})(this);
									return (
										a
											.then(function (e) {
												t.isDestroyed()
													? s()
													: p(n, t, e);
											})
											.otherwise(function (e) {
												o.state !==
												Cesium.RequestState.CANCELLED
													? s(e)
													: (t.contentState =
															r.default.UNLOADED);
											}),
										!0
									);
								}),
								(l.prototype.updatePriority = function (e, t) {
									var n = e._minimumPriority,
										r = e._maximumPriority,
										i = 4,
										o = y(
											d(
												this.foveatedFactor,
												n.foveatedFactor,
												r.foveatedFactor
											),
											4,
											i
										);
									i = 8;
									var a = y(
										1 - d(this.pixel, n.pixel, r.pixel),
										4,
										i
									);
									i = 0;
									var s = y(
										d(
											this.distanceToCamera,
											n.distance,
											r.distance
										),
										4,
										i
									);
									this.priority = o + a + s;
								}),
								(l.prototype.update = function (e, t) {
									for (
										var n = 0,
											r = this.renderEntities.length;
										n < r;
										n++
									)
										this.renderEntities[n].update(e, t);
								}),
								(l.prototype.free = function () {
									(this.contentState = r.default.UNLOADED),
										(this.request = void 0),
										(this.cacheNode = void 0),
										(this.priorityHolder = void 0),
										(this.contentReadyPromise = void 0),
										(this.priorityHolder = void 0);
									for (
										var e = 0,
											t = this.renderEntities.length;
										e < t;
										e++
									)
										this.renderEntities[e].destroy();
									(this.renderEntities.length = 0),
										(this.children.length = 0);
								}),
								(l.prototype.isDestroyed = function () {
									return !1;
								}),
								(l.prototype.destroy = function () {
									return (
										this.free(), Cesium.destroyObject(this)
									);
								});
							var m = l;
							e.default = m;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(337), n(338)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r) {
							"use strict";
							var i = n(0);
							function o() {}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = i(t)),
								(r = i(r)),
								(o.s3tc = !0),
								(o.pvrtc = !1),
								(o.etc1 = !1);
							var a = 1,
								s = 2,
								l = 10,
								u = 11,
								c = 1,
								f = 2,
								h = 16,
								p = 32;
							function d(e, t, n) {
								var r, i;
								return (
									(t =
										null !== (r = t) && void 0 !== r
											? r
											: 0),
									(n =
										null !== (i = n) && void 0 !== i
											? i
											: e.byteLength),
									(e = e.subarray(t, t + n)),
									new TextDecoder("utf-8").decode(e)
								);
							}
							function y(e, t, n) {
								var r = t.getUint32(n, !0);
								return (
									(n += Uint32Array.BYTES_PER_ELEMENT),
									{
										string: d(new Uint8Array(e, n, r)),
										bytesOffset: (n += r),
										length: r,
									}
								);
							}
							function m(e, t, n, r) {
								for (
									var i = {},
										o = [],
										a = new Array(16),
										s = 0;
									s < 16;
									s++
								)
									(a[s] = t.getFloat64(n, !0)),
										(n += Float64Array.BYTES_PER_ELEMENT);
								(i.matrix = a), (i.skeletonNames = o);
								var l = t.getUint32(n, !0);
								n += Uint32Array.BYTES_PER_ELEMENT;
								for (var u = 0; u < l; u++) {
									var c = y(e, t, n);
									o.push(c.string), (n = c.bytesOffset);
								}
								return r.push(i), n;
							}
							function v(e, t, n, r) {
								var i = {};
								(i.rangeList = t.getFloat32(n, !0)),
									(n += Float32Array.BYTES_PER_ELEMENT),
									(i.rangeMode = t.getUint16(n, !0)),
									(n += Uint16Array.BYTES_PER_ELEMENT);
								var o = {};
								(o.x = t.getFloat64(n, !0)),
									(n += Float64Array.BYTES_PER_ELEMENT),
									(o.y = t.getFloat64(n, !0)),
									(n += Float64Array.BYTES_PER_ELEMENT),
									(o.z = t.getFloat64(n, !0)),
									(n += Float64Array.BYTES_PER_ELEMENT);
								var a = t.getFloat64(n, !0);
								(n += Float64Array.BYTES_PER_ELEMENT),
									(i.boundingSphere = {
										center: o,
										radius: a,
									});
								var s = y(e, t, n),
									l = s.string;
								n = s.bytesOffset;
								var u = l.indexOf("Geometry");
								if (-1 !== u) {
									var c = l.substring(u);
									l = l.replace(c, "");
								}
								(i.childTile = l), (i.geodes = []);
								var f = t.getUint32(n, !0);
								n += Uint32Array.BYTES_PER_ELEMENT;
								for (var h = 0; h < f; h++)
									n = m(e, t, n, i.geodes);
								return r.push(i), n;
							}
							function g(e, t, n, r) {
								var i = t.getUint32(n, !0);
								if (
									((r.verticesCount = i),
									(n += Uint32Array.BYTES_PER_ELEMENT) <= 0)
								)
									return n;
								var o = t.getUint16(n, !0);
								n += Uint16Array.BYTES_PER_ELEMENT;
								var a = t.getUint16(n, !0);
								(a = o * Float32Array.BYTES_PER_ELEMENT),
									(n += Uint16Array.BYTES_PER_ELEMENT);
								var s = i * o * Float32Array.BYTES_PER_ELEMENT,
									l = new Uint8Array(e, n, s);
								n += s;
								var u = r.vertexAttributes,
									c = r.attrLocation;
								return (
									(c.aPosition = u.length),
									u.push({
										index: c.aPosition,
										typedArray: l,
										componentsPerAttribute: o,
										componentDatatype: 5126,
										offsetInBytes: 0,
										strideInBytes: a,
										normalize: !1,
									}),
									n
								);
							}
							function _(e, t, n, r) {
								var i = t.getUint32(n, !0);
								if (
									((n += Uint32Array.BYTES_PER_ELEMENT),
									i <= 0)
								)
									return n;
								var o = t.getUint16(n, !0);
								n += Uint16Array.BYTES_PER_ELEMENT;
								var a = t.getUint16(n, !0);
								n += Uint16Array.BYTES_PER_ELEMENT;
								var s = i * o * Float32Array.BYTES_PER_ELEMENT,
									l = new Uint8Array(e, n, s);
								n += s;
								var u = r.vertexAttributes,
									c = r.attrLocation;
								return (
									(c.aNormal = u.length),
									u.push({
										index: c.aNormal,
										typedArray: l,
										componentsPerAttribute: o,
										componentDatatype: 5126,
										offsetInBytes: 0,
										strideInBytes: a,
										normalize: !1,
									}),
									n
								);
							}
							function b(e, t, n, r) {
								var i = t.getUint32(n, !0);
								n += Uint32Array.BYTES_PER_ELEMENT;
								var o,
									a = r.verticesCount;
								if (i > 0) {
									t.getUint16(n, !0),
										(n += Uint16Array.BYTES_PER_ELEMENT),
										(n += 2 * Uint8Array.BYTES_PER_ELEMENT);
									var s =
										i * Uint8Array.BYTES_PER_ELEMENT * 4;
									(o = new Uint8Array(e, n, s).slice(0, s)),
										(n += s);
								} else {
									o = new Uint8Array(4 * a);
									for (var l = 0; l < a; l++)
										(o[4 * l] = 255),
											(o[4 * l + 1] = 255),
											(o[4 * l + 2] = 255),
											(o[4 * l + 3] = 255);
								}
								var u = r.vertexAttributes,
									c = r.attrLocation;
								return (
									(c.aColor = u.length),
									u.push({
										index: c.aColor,
										typedArray: o,
										componentsPerAttribute: 4,
										componentDatatype: 5121,
										offsetInBytes: 0,
										strideInBytes: 4,
										normalize: !0,
									}),
									(r.vertexColor = o),
									n
								);
							}
							function x(e, t, n, r) {
								var i = t.getUint32(n, !0);
								if (
									((n += Uint32Array.BYTES_PER_ELEMENT),
									i <= 0)
								)
									return n;
								t.getUint16(n, !0),
									(n += Uint16Array.BYTES_PER_ELEMENT),
									(n += 2 * Uint8Array.BYTES_PER_ELEMENT);
								var o = i * Uint8Array.BYTES_PER_ELEMENT * 4,
									a = new Uint8Array(e, n, o);
								n += o;
								var s = r.vertexAttributes,
									l = r.attrLocation;
								return (
									(l.aSecondColor = s.length),
									s.push({
										index: l.aSecondColor,
										typedArray: a,
										componentsPerAttribute: 4,
										componentDatatype: 5121,
										offsetInBytes: 0,
										strideInBytes: 4,
										normalize: !0,
									}),
									n
								);
							}
							function w(e, t, n, r) {
								var i = t.getUint16(n, !0);
								(n += Uint16Array.BYTES_PER_ELEMENT),
									(n += Uint16Array.BYTES_PER_ELEMENT);
								for (var o = 0; o < i; o++) {
									var a = t.getUint32(n, !0);
									n += Uint32Array.BYTES_PER_ELEMENT;
									var s = t.getUint16(n, !0);
									(n += Uint16Array.BYTES_PER_ELEMENT),
										t.getUint16(n, !0),
										(n += Uint16Array.BYTES_PER_ELEMENT);
									var l =
											a *
											s *
											Float32Array.BYTES_PER_ELEMENT,
										u = new Uint8Array(e, n, l);
									n += l;
									var c = "aTexCoord" + o,
										f = r.vertexAttributes,
										h = r.attrLocation;
									(h[c] = f.length),
										f.push({
											index: h[c],
											typedArray: u,
											componentsPerAttribute: s,
											componentDatatype: 5126,
											offsetInBytes: 0,
											strideInBytes:
												s *
												Float32Array.BYTES_PER_ELEMENT,
											normalize: !1,
										});
								}
								return n;
							}
							function C(e, t, n, r) {
								var i = t.getUint16(n, !0);
								(n += Uint16Array.BYTES_PER_ELEMENT),
									(n += Uint16Array.BYTES_PER_ELEMENT);
								for (
									var o = r.vertexAttributes,
										a = r.attrLocation,
										s = 0;
									s < i;
									s++
								) {
									var l = t.getUint32(n, !0);
									n += Uint32Array.BYTES_PER_ELEMENT;
									var u = t.getUint16(n, !0);
									(n += Uint16Array.BYTES_PER_ELEMENT),
										t.getUint16(n, !0),
										(n += Uint16Array.BYTES_PER_ELEMENT);
									var c =
										l * u * Float32Array.BYTES_PER_ELEMENT;
									if (17 === u) {
										var f = new Uint8Array(e, n, c);
										(r.instanceCount = l),
											(r.instanceMode = u),
											(r.instanceBuffer = f),
											(r.instanceIndex = 1);
										var h = u * l * 4,
											p = f.slice(0, h);
										r.vertexColorInstance = p;
										var d = void 0;
										17 === u
											? ((d =
													17 *
													Float32Array.BYTES_PER_ELEMENT),
											  (a.uv2 = o.length),
											  o.push({
													index: a.uv2,
													componentsPerAttribute: 4,
													componentDatatype: 5126,
													normalize: !1,
													offsetInBytes: 0,
													strideInBytes: d,
													instanceDivisor: 1,
											  }),
											  (a.uv3 = o.length),
											  o.push({
													index: a.uv3,
													componentsPerAttribute: 4,
													componentDatatype: 5126,
													normalize: !1,
													offsetInBytes:
														4 *
														Float32Array.BYTES_PER_ELEMENT,
													strideInBytes: d,
													instanceDivisor: 1,
											  }),
											  (a.uv4 = o.length),
											  o.push({
													index: a.uv4,
													componentsPerAttribute: 4,
													componentDatatype: 5126,
													normalize: !1,
													offsetInBytes:
														8 *
														Float32Array.BYTES_PER_ELEMENT,
													strideInBytes: d,
													instanceDivisor: 1,
											  }),
											  (a.secondary_colour = o.length),
											  o.push({
													index: a.secondary_colour,
													componentsPerAttribute: 4,
													componentDatatype: 5126,
													normalize: !1,
													offsetInBytes:
														12 *
														Float32Array.BYTES_PER_ELEMENT,
													strideInBytes: d,
													instanceDivisor: 1,
											  }),
											  (a.uv6 = o.length),
											  o.push({
													index: a.uv6,
													componentsPerAttribute: 4,
													componentDatatype: 5121,
													normalize: !0,
													offsetInBytes:
														16 *
														Float32Array.BYTES_PER_ELEMENT,
													strideInBytes: d,
													instanceDivisor: 1,
											  }))
											: 29 === u &&
											  ((d =
													29 *
													Float32Array.BYTES_PER_ELEMENT),
											  (a.uv1 = o.length),
											  o.push({
													index: a.uv1,
													componentsPerAttribute: 4,
													componentDatatype: 5126,
													normalize: !1,
													offsetInBytes: 0,
													strideInBytes: d,
													instanceDivisor: 1,
													byteLength: c,
											  }),
											  (a.uv2 = o.length),
											  o.push({
													index: a.uv2,
													componentsPerAttribute: 4,
													componentDatatype: 5126,
													normalize: !1,
													offsetInBytes:
														4 *
														Float32Array.BYTES_PER_ELEMENT,
													strideInBytes: d,
													instanceDivisor: 1,
											  }),
											  (a.uv3 = o.length),
											  o.push({
													index: a.uv3,
													componentsPerAttribute: 4,
													componentDatatype: 5126,
													normalize: !1,
													offsetInBytes:
														8 *
														Float32Array.BYTES_PER_ELEMENT,
													strideInBytes: d,
													instanceDivisor: 1,
											  }),
											  (a.uv4 = o.length),
											  o.push({
													index: a.uv4,
													componentsPerAttribute: 4,
													componentDatatype: 5126,
													normalize: !1,
													offsetInBytes:
														12 *
														Float32Array.BYTES_PER_ELEMENT,
													strideInBytes: d,
													instanceDivisor: 1,
											  }),
											  (a.uv5 = o.length),
											  o.push({
													index: a.uv5,
													componentsPerAttribute: 4,
													componentDatatype: 5126,
													normalize: !1,
													offsetInBytes:
														16 *
														Float32Array.BYTES_PER_ELEMENT,
													strideInBytes: d,
													instanceDivisor: 1,
											  }),
											  (a.uv6 = o.length),
											  o.push({
													index: a.uv6,
													componentsPerAttribute: 4,
													componentDatatype: 5126,
													normalize: !1,
													offsetInBytes:
														20 *
														Float32Array.BYTES_PER_ELEMENT,
													strideInBytes: d,
													instanceDivisor: 1,
											  }),
											  (a.uv7 = o.length),
											  o.push({
													index: a.uv7,
													componentsPerAttribute: 3,
													componentDatatype: 5126,
													normalize: !1,
													offsetInBytes:
														24 *
														Float32Array.BYTES_PER_ELEMENT,
													strideInBytes: d,
													instanceDivisor: 1,
											  }),
											  (a.secondary_colour = o.length),
											  o.push({
													index: a.secondary_colour,
													componentsPerAttribute: 4,
													componentDatatype: 5121,
													normalize: !0,
													offsetInBytes:
														27 *
														Float32Array.BYTES_PER_ELEMENT,
													strideInBytes: d,
													instanceDivisor: 1,
											  }),
											  (a.uv9 = o.length),
											  o.push({
													index: a.uv9,
													componentsPerAttribute: 4,
													componentDatatype: 5121,
													normalize: !0,
													offsetInBytes:
														28 *
														Float32Array.BYTES_PER_ELEMENT,
													strideInBytes: d,
													instanceDivisor: 1,
											  }));
									} else {
										var y = l * u;
										r.instanceBounds = new Float32Array(y);
										for (var m = 0; m < y; m++)
											r.instanceBounds[m] = t.getFloat32(
												n +
													m *
														Float32Array.BYTES_PER_ELEMENT,
												!0
											);
									}
									n += c;
								}
								return n;
							}
							function T(e, t, n, r) {
								return (n = C(
									e,
									t,
									(n = w(
										e,
										t,
										(n = x(
											e,
											t,
											(n = b(
												e,
												t,
												(n = _(
													e,
													t,
													(n = g(e, t, n, r)),
													r
												)),
												r
											)),
											r
										)),
										r
									)),
									r
								));
							}
							function k(e, t, n, r) {
								var i = t.getUint32(n, !0);
								return (
									(r.compressOptions = i),
									(n += Uint32Array.BYTES_PER_ELEMENT),
									(n =
										(i & c) === c
											? (function (e, t, n, r) {
													var i = t.getUint32(n, !0);
													if (
														((r.verticesCount = i),
														(n +=
															Uint32Array.BYTES_PER_ELEMENT) <=
															0)
													)
														return n;
													var o = t.getUint16(n, !0);
													n +=
														Uint16Array.BYTES_PER_ELEMENT;
													var a = t.getUint16(n, !0);
													(a =
														o *
														Int16Array.BYTES_PER_ELEMENT),
														(n +=
															Uint16Array.BYTES_PER_ELEMENT);
													var s = t.getFloat32(n, !0);
													n +=
														Float32Array.BYTES_PER_ELEMENT;
													var l = {};
													(l.x = t.getFloat32(n, !0)),
														(n +=
															Float32Array.BYTES_PER_ELEMENT),
														(l.y = t.getFloat32(
															n,
															!0
														)),
														(n +=
															Float32Array.BYTES_PER_ELEMENT),
														(l.z = t.getFloat32(
															n,
															!0
														)),
														(n +=
															Float32Array.BYTES_PER_ELEMENT),
														(l.w = t.getFloat32(
															n,
															!0
														)),
														(n +=
															Float32Array.BYTES_PER_ELEMENT),
														(r.vertCompressConstant =
															s),
														(r.minVerticesValue =
															l);
													var u =
															i *
															o *
															Int16Array.BYTES_PER_ELEMENT,
														c = new Uint8Array(
															e,
															n,
															u
														);
													n += u;
													var f = r.vertexAttributes,
														h = r.attrLocation;
													return (
														(h.aPosition =
															f.length),
														f.push({
															index: h.aPosition,
															typedArray: c,
															componentsPerAttribute:
																o,
															componentDatatype: 5122,
															offsetInBytes: 0,
															strideInBytes: a,
															normalize: !1,
														}),
														n
													);
											  })(e, t, n, r)
											: g(e, t, n, r)),
									(n =
										(i & f) === f
											? (function (e, t, n, r) {
													var i = t.getUint32(n, !0);
													if (
														((n +=
															Uint32Array.BYTES_PER_ELEMENT),
														i <= 0)
													)
														return n;
													t.getUint16(n, !0),
														(n +=
															Uint16Array.BYTES_PER_ELEMENT);
													var o = t.getUint16(n, !0);
													n +=
														Uint16Array.BYTES_PER_ELEMENT;
													var a =
															2 *
															i *
															Int16Array.BYTES_PER_ELEMENT,
														s = new Uint8Array(
															e,
															n,
															a
														);
													n += a;
													var l = r.vertexAttributes,
														u = r.attrLocation;
													return (
														(u.aNormal = l.length),
														l.push({
															index: u.aNormal,
															typedArray: s,
															componentsPerAttribute: 2,
															componentDatatype: 5122,
															offsetInBytes: 0,
															strideInBytes: o,
															normalize: !1,
														}),
														n
													);
											  })(e, t, n, r)
											: _(e, t, n, r)),
									(n = x(e, t, (n = b(e, t, n, r)), r)),
									(n =
										(i & h) === h
											? (function (e, t, n, r) {
													(r.texCoordCompressConstant =
														[]),
														(r.minTexCoordValue =
															[]);
													var i = t.getUint16(n, !0);
													(n +=
														Uint16Array.BYTES_PER_ELEMENT),
														(n +=
															Uint16Array.BYTES_PER_ELEMENT);
													for (
														var o = 0;
														o < i;
														o++
													) {
														var a = t.getUint8(
															n,
															!0
														);
														(n +=
															Uint8Array.BYTES_PER_ELEMENT),
															(n +=
																3 *
																Uint8Array.BYTES_PER_ELEMENT);
														var s = t.getUint32(
															n,
															!0
														);
														n +=
															Uint32Array.BYTES_PER_ELEMENT;
														var l = t.getUint16(
															n,
															!0
														);
														(n +=
															Uint16Array.BYTES_PER_ELEMENT),
															t.getUint16(n, !0),
															(n +=
																Uint16Array.BYTES_PER_ELEMENT);
														var u = t.getFloat32(
															n,
															!0
														);
														(n +=
															Float32Array.BYTES_PER_ELEMENT),
															r.texCoordCompressConstant.push(
																u
															);
														var c = {};
														(c.x = t.getFloat32(
															n,
															!0
														)),
															(n +=
																Float32Array.BYTES_PER_ELEMENT),
															(c.y = t.getFloat32(
																n,
																!0
															)),
															(n +=
																Float32Array.BYTES_PER_ELEMENT),
															(c.z = t.getFloat32(
																n,
																!0
															)),
															(n +=
																Float32Array.BYTES_PER_ELEMENT),
															(c.w = t.getFloat32(
																n,
																!0
															)),
															(n +=
																Float32Array.BYTES_PER_ELEMENT),
															r.minTexCoordValue.push(
																c
															);
														var f =
																s *
																l *
																Int16Array.BYTES_PER_ELEMENT,
															h = new Uint8Array(
																e,
																n,
																f
															),
															p = (n += f) % 4;
														0 !== p && (n += 4 - p);
														var d = "aTexCoord" + o,
															y =
																r.vertexAttributes,
															m = r.attrLocation;
														if (
															((m[d] = y.length),
															y.push({
																index: m[d],
																typedArray: h,
																componentsPerAttribute:
																	l,
																componentDatatype: 5122,
																offsetInBytes: 0,
																strideInBytes:
																	l *
																	Int16Array.BYTES_PER_ELEMENT,
																normalize: !1,
															}),
															a)
														) {
															f =
																s *
																Float32Array.BYTES_PER_ELEMENT;
															var v =
																new Uint8Array(
																	e,
																	n,
																	f
																);
															(n += f),
																(r.texCoordZMatrix =
																	!0),
																(m[
																	(d =
																		"aTexCoordZ" +
																		o)
																] = y.length),
																y.push({
																	index: m[d],
																	typedArray:
																		v,
																	componentsPerAttribute: 1,
																	componentDatatype: 5126,
																	offsetInBytes: 0,
																	strideInBytes:
																		Float32Array.BYTES_PER_ELEMENT,
																	normalize:
																		!1,
																});
														}
													}
													return n;
											  })(e, t, n, r)
											: w(e, t, n, r)),
									(i & p) === p && (r.textureCoordIsW = !0),
									(n = C(e, t, n, r))
								);
							}
							function P(e, t, n, r) {
								var i = t.getUint32(n, !0);
								n += Uint32Array.BYTES_PER_ELEMENT;
								for (var o = 0; o < i; o++) {
									var a = {},
										s = t.getUint32(n, !0);
									n += Uint32Array.BYTES_PER_ELEMENT;
									var l = t.getUint8(n, !0);
									(n += Uint8Array.BYTES_PER_ELEMENT),
										t.getUint8(n, !0),
										(n += Uint8Array.BYTES_PER_ELEMENT);
									var u = t.getUint8(n, !0);
									if (
										((n += Uint8Array.BYTES_PER_ELEMENT),
										(n += Uint8Array.BYTES_PER_ELEMENT),
										s > 0)
									) {
										var c = null,
											f = void 0;
										1 === l || 3 === l
											? ((f =
													s *
													Uint32Array.BYTES_PER_ELEMENT),
											  (c = new Uint8Array(e, n, f)))
											: ((f =
													s *
													Uint16Array.BYTES_PER_ELEMENT),
											  (c = new Uint8Array(e, n, f)),
											  s % 2 != 0 && (f += 2)),
											(a.indicesTypedArray = c),
											(n += f);
									}
									(a.indicesCount = s),
										(a.indexType = l),
										(a.primitiveType = u);
									var h = [],
										p = t.getUint32(n, !0);
									n += Uint32Array.BYTES_PER_ELEMENT;
									for (var d = 0; d < p; d++) {
										var m = y(e, t, n),
											v = m.string;
										(n = m.bytesOffset),
											h.push(v),
											(a.materialCode = v);
									}
									0 != n % 4 && (n += 4 - (n % 4)), r.push(a);
								}
								return n;
							}
							var E = { red: 0, green: 0, blue: 0, alpha: 0 };
							function S(e, t, n) {
								var r = e.vertexAttributes,
									i = e.attrLocation,
									o = r.length;
								(i[1 === n ? "instanceId" : "batchId"] = o),
									r.push({
										index: o,
										typedArray: t,
										componentsPerAttribute: 1,
										componentDatatype: 5126,
										offsetInBytes: 0,
										strideInBytes: 0,
										instanceDivisor: n,
									});
							}
							o.parseBuffer = function (e) {
								var n = 0,
									i = {
										version: void 0,
										groupNode: void 0,
										geoPackage: {},
										matrials: void 0,
										texturePackage: {},
									},
									c = new DataView(e);
								(i.version = c.getFloat32(n, !0)),
									(n += Float32Array.BYTES_PER_ELEMENT),
									i.version >= 2 &&
										(c.getUint32(n, !0),
										(n += Uint32Array.BYTES_PER_ELEMENT)),
									c.getUint32(n, !0);
								var f = (function (e, n) {
									var r = new Uint8Array(e, n);
									return t.default.inflate(r).buffer;
								})(e, (n += Uint32Array.BYTES_PER_ELEMENT));
								n = 0;
								var h = (c = new DataView(f)).getUint32(n, !0);
								return (
									(n = (function (e, t, n, r) {
										var i = {},
											o = [];
										t.getUint32(n, !0),
											(n +=
												Uint32Array.BYTES_PER_ELEMENT);
										var a = t.getUint32(n, !0);
										n += Uint32Array.BYTES_PER_ELEMENT;
										for (var s = 0; s < a; s++)
											n = v(e, t, n, o);
										i.pageLods = o;
										var l = n % 4;
										return (
											0 !== l && (n += 4 - l),
											(r.groupNode = i),
											n
										);
									})(
										f,
										c,
										(n += Uint32Array.BYTES_PER_ELEMENT),
										i
									)),
									(n = (function (e, t, n, r) {
										t.getUint32(n, !0),
											(n +=
												Uint32Array.BYTES_PER_ELEMENT);
										var i = t.getUint32(n, !0);
										n += Uint32Array.BYTES_PER_ELEMENT;
										for (var o = 0; o < i; o++) {
											var l = y(e, t, n),
												u = l.string;
											n = l.bytesOffset;
											var c = l.length % 4;
											0 !== c && (n += 4 - c);
											var f = t.getUint32(n, !0);
											n += Int32Array.BYTES_PER_ELEMENT;
											var h = {
												vertexAttributes: [],
												attrLocation: {},
												instanceCount: 0,
												instanceMode: 0,
												instanceIndex: -1,
											};
											f === a
												? (n = T(e, t, n, h))
												: f === s &&
												  (n = k(e, t, n, h));
											var p = [];
											n = P(e, t, n, p);
											var d = void 0;
											2 === p.length &&
												13 === p[1].primitiveType &&
												p[1].indicesCount >= 3 &&
												(d =
													S3MEdgeProcessor.createEdgeDataByIndices(
														h,
														p[1]
													)),
												(r[u] = {
													vertexPackage: h,
													arrIndexPackage: p,
													edgeGeometry: d,
												});
										}
										return (
											(n += t.getUint32(n, !0)),
											(n += Uint32Array.BYTES_PER_ELEMENT)
										);
									})(f, c, n, i.geoPackage)),
									(n = (function (e, t, n, i) {
										t.getUint32(n, !0),
											(n +=
												Uint32Array.BYTES_PER_ELEMENT);
										var a = t.getUint32(n, !0);
										n += Uint32Array.BYTES_PER_ELEMENT;
										for (var s = 0; s < a; s++) {
											var c = y(e, t, n),
												f = c.string;
											n = c.bytesOffset;
											var h = c.length % 4;
											0 !== h && (n += 4 - h),
												t.getUint32(n, !0),
												(n +=
													Uint32Array.BYTES_PER_ELEMENT);
											var p = t.getUint32(n, !0);
											n += Uint32Array.BYTES_PER_ELEMENT;
											var d = t.getUint32(n, !0);
											n += Uint32Array.BYTES_PER_ELEMENT;
											var m = t.getUint32(n, !0);
											n += Uint32Array.BYTES_PER_ELEMENT;
											var v = t.getUint32(n, !0);
											n += Uint32Array.BYTES_PER_ELEMENT;
											var g = t.getUint32(n, !0);
											n += Uint32Array.BYTES_PER_ELEMENT;
											var _ = new Uint8Array(e, n, v);
											n += v;
											var b =
												g === l || g === u
													? 33776
													: 33779;
											if (
												(22 === m && (b = 36196),
												!o.s3tc &&
													(33776 === b ||
														33779 === b))
											) {
												var x = new Uint8Array(
													p * d * 4
												);
												r.default.decode(x, p, d, _, g),
													(_ = x),
													(m = 0),
													(b =
														g === l || g === l
															? 273
															: 4369);
											}
											i[f] = {
												id: f,
												width: p,
												height: d,
												compressType: m,
												nFormat: g,
												internalFormat: b,
												arrayBufferView: _,
											};
										}
										return n;
									})(f, c, n, i.texturePackage)),
									(n = (function (e, t, n, r) {
										var i = t.getUint32(n, !0);
										n += Uint32Array.BYTES_PER_ELEMENT;
										var o = d(new Uint8Array(e, n, i));
										return (
											(n += i),
											(r.materials = JSON.parse(o)),
											n
										);
									})(f, c, n, i)),
									(function (e, t, n, r, i, o) {
										if (1 == (1 & r)) {
											t.getUint32(n, !0),
												(n +=
													Uint32Array.BYTES_PER_ELEMENT);
											var a = t.getUint32(n, !0);
											n += Uint32Array.BYTES_PER_ELEMENT;
											for (var s = 0; s < a; s++) {
												var l = y(e, t, n),
													u = l.string;
												n = l.bytesOffset;
												var c = t.getUint32(n, !0);
												n +=
													Uint32Array.BYTES_PER_ELEMENT;
												var f = {};
												if (
													((i[u].pickInfo = f),
													-1 ===
														i[u].vertexPackage
															.instanceIndex)
												) {
													for (
														var h =
																new Float32Array(
																	i[
																		u
																	].vertexPackage.verticesCount
																),
															p = 0;
														p < c;
														p++
													) {
														var d = t.getUint32(
															n,
															!0
														);
														n +=
															Uint32Array.BYTES_PER_ELEMENT;
														var m = t.getUint32(
															n,
															!0
														);
														n +=
															Uint32Array.BYTES_PER_ELEMENT;
														for (
															var v = [], g = 0;
															g < m;
															g++
														) {
															var _ = t.getUint32(
																n,
																!0
															);
															n +=
																Uint32Array.BYTES_PER_ELEMENT;
															var b = t.getUint32(
																n,
																!0
															);
															(n +=
																Uint32Array.BYTES_PER_ELEMENT),
																h.fill(
																	p,
																	_,
																	_ + b
																),
																v.push({
																	vertexColorOffset:
																		_,
																	vertexColorCount:
																		b,
																	batchId: p,
																});
														}
														f[d] = v;
													}
													S(
														i[u].vertexPackage,
														h,
														void 0
													);
												} else {
													for (
														var x =
																i[u]
																	.vertexPackage
																	.instanceCount,
															w =
																i[u]
																	.vertexPackage
																	.instanceBuffer,
															C =
																i[u]
																	.vertexPackage
																	.instanceMode,
															T =
																new Float32Array(
																	x
																),
															k = [],
															P = 0;
														P < c;
														P++
													) {
														var A = t.getUint32(
															n,
															!0
														);
														k.push(A),
															(n +=
																Uint32Array.BYTES_PER_ELEMENT);
														var M = t.getUint32(
															n,
															!0
														);
														n +=
															Uint32Array.BYTES_PER_ELEMENT;
														for (
															var I = 0;
															I < M;
															I++
														)
															t.getUint32(n, !0),
																(n +=
																	Uint32Array.BYTES_PER_ELEMENT),
																3 === o &&
																	(t.getUint32(
																		n,
																		!0
																	),
																	(n +=
																		Uint32Array.BYTES_PER_ELEMENT));
													}
													var L = 17 === C ? 16 : 28;
													L *=
														Float32Array.BYTES_PER_ELEMENT;
													for (
														var D = 0;
														D < x;
														D++
													) {
														T[D] = D;
														var O =
															D *
																C *
																Float32Array.BYTES_PER_ELEMENT +
															L;
														Cesium.Color.unpack(
															w,
															O,
															E
														);
														var z =
															2 === o
																? k[D]
																: E.red +
																  256 *
																		E.green +
																  65536 *
																		E.blue;
														void 0 === f[z] &&
															(f[z] = {
																vertexColorCount: 1,
																instanceIds: [],
																vertexColorOffset:
																	D,
															}),
															f[
																z
															].instanceIds.push(
																D
															);
													}
													S(i[u].vertexPackage, T, 1);
												}
											}
										}
									})(f, c, n, h, i.geoPackage, i.version),
									i
								);
							};
							var A = o;
							e.default = A;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(37)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t) {
							"use strict";
							var r = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = r(t));
							var i = (function e(t, n, r) {
								function i(a, s) {
									if (!n[a]) {
										if (!t[a]) {
											if (o) return o(a, !0);
											var l = new Error(
												"Cannot find module '" + a + "'"
											);
											throw (
												((l.code = "MODULE_NOT_FOUND"),
												l)
											);
										}
										var u = (n[a] = { exports: {} });
										t[a][0].call(
											u.exports,
											function (e) {
												var n = t[a][1][e];
												return i(n || e);
											},
											u,
											u.exports,
											e,
											t,
											n,
											r
										);
									}
									return n[a].exports;
								}
								for (var o = !1, a = 0; a < r.length; a++)
									i(r[a]);
								return i;
							})(
								{
									1: [
										function (e, n, r) {
											var i =
												"undefined" !=
													typeof Uint8Array &&
												"undefined" !=
													typeof Uint16Array &&
												"undefined" !=
													typeof Int32Array;
											(r.assign = function (e) {
												for (
													var n =
														Array.prototype.slice.call(
															arguments,
															1
														);
													n.length;

												) {
													var r = n.shift();
													if (r) {
														if (
															"object" !==
															(0, t.default)(r)
														)
															throw new TypeError(
																r +
																	"must be non-object"
															);
														for (var i in r)
															r.hasOwnProperty(
																i
															) && (e[i] = r[i]);
													}
												}
												return e;
											}),
												(r.shrinkBuf = function (e, t) {
													return e.length === t
														? e
														: e.subarray
														? e.subarray(0, t)
														: ((e.length = t), e);
												});
											var o = {
													arraySet: function (
														e,
														t,
														n,
														r,
														i
													) {
														if (
															t.subarray &&
															e.subarray
														)
															e.set(
																t.subarray(
																	n,
																	n + r
																),
																i
															);
														else
															for (
																var o = 0;
																o < r;
																o++
															)
																e[i + o] =
																	t[n + o];
													},
													flattenChunks: function (
														e
													) {
														var t, n, r, i, o, a;
														for (
															r = 0,
																t = 0,
																n = e.length;
															t < n;
															t++
														)
															r += e[t].length;
														for (
															a = new Uint8Array(
																r
															),
																i = 0,
																t = 0,
																n = e.length;
															t < n;
															t++
														)
															(o = e[t]),
																a.set(o, i),
																(i += o.length);
														return a;
													},
												},
												a = {
													arraySet: function (
														e,
														t,
														n,
														r,
														i
													) {
														for (
															var o = 0;
															o < r;
															o++
														)
															e[i + o] = t[n + o];
													},
													flattenChunks: function (
														e
													) {
														return [].concat.apply(
															[],
															e
														);
													},
												};
											(r.setTyped = function (e) {
												e
													? ((r.Buf8 = Uint8Array),
													  (r.Buf16 = Uint16Array),
													  (r.Buf32 = Int32Array),
													  r.assign(r, o))
													: ((r.Buf8 = Array),
													  (r.Buf16 = Array),
													  (r.Buf32 = Array),
													  r.assign(r, a));
											}),
												r.setTyped(i);
										},
										{},
									],
									2: [
										function (e, t, n) {
											var r = e("./common"),
												i = !0,
												o = !0;
											try {
												String.fromCharCode.apply(
													null,
													[0]
												);
											} catch (e) {
												i = !1;
											}
											try {
												String.fromCharCode.apply(
													null,
													new Uint8Array(1)
												);
											} catch (e) {
												o = !1;
											}
											for (
												var a = new r.Buf8(256), s = 0;
												s < 256;
												s++
											)
												a[s] =
													s >= 252
														? 6
														: s >= 248
														? 5
														: s >= 240
														? 4
														: s >= 224
														? 3
														: s >= 192
														? 2
														: 1;
											function l(e, t) {
												if (
													t < 65537 &&
													((e.subarray && o) ||
														(!e.subarray && i))
												)
													return String.fromCharCode.apply(
														null,
														r.shrinkBuf(e, t)
													);
												for (
													var n = "", a = 0;
													a < t;
													a++
												)
													n += String.fromCharCode(
														e[a]
													);
												return n;
											}
											(a[254] = a[254] = 1),
												(n.string2buf = function (e) {
													var t,
														n,
														i,
														o,
														a,
														s = e.length,
														l = 0;
													for (o = 0; o < s; o++)
														55296 ==
															(64512 &
																(n =
																	e.charCodeAt(
																		o
																	))) &&
															o + 1 < s &&
															56320 ==
																(64512 &
																	(i =
																		e.charCodeAt(
																			o +
																				1
																		))) &&
															((n =
																65536 +
																((n - 55296) <<
																	10) +
																(i - 56320)),
															o++),
															(l +=
																n < 128
																	? 1
																	: n < 2048
																	? 2
																	: n < 65536
																	? 3
																	: 4);
													for (
														t = new r.Buf8(l),
															a = 0,
															o = 0;
														a < l;
														o++
													)
														55296 ==
															(64512 &
																(n =
																	e.charCodeAt(
																		o
																	))) &&
															o + 1 < s &&
															56320 ==
																(64512 &
																	(i =
																		e.charCodeAt(
																			o +
																				1
																		))) &&
															((n =
																65536 +
																((n - 55296) <<
																	10) +
																(i - 56320)),
															o++),
															n < 128
																? (t[a++] = n)
																: n < 2048
																? ((t[a++] =
																		192 |
																		(n >>>
																			6)),
																  (t[a++] =
																		128 |
																		(63 &
																			n)))
																: n < 65536
																? ((t[a++] =
																		224 |
																		(n >>>
																			12)),
																  (t[a++] =
																		128 |
																		((n >>>
																			6) &
																			63)),
																  (t[a++] =
																		128 |
																		(63 &
																			n)))
																: ((t[a++] =
																		240 |
																		(n >>>
																			18)),
																  (t[a++] =
																		128 |
																		((n >>>
																			12) &
																			63)),
																  (t[a++] =
																		128 |
																		((n >>>
																			6) &
																			63)),
																  (t[a++] =
																		128 |
																		(63 &
																			n)));
													return t;
												}),
												(n.buf2binstring = function (
													e
												) {
													return l(e, e.length);
												}),
												(n.binstring2buf = function (
													e
												) {
													for (
														var t = new r.Buf8(
																e.length
															),
															n = 0,
															i = t.length;
														n < i;
														n++
													)
														t[n] = e.charCodeAt(n);
													return t;
												}),
												(n.buf2string = function (
													e,
													t
												) {
													var n,
														r,
														i,
														o,
														s = t || e.length,
														u = new Array(2 * s);
													for (r = 0, n = 0; n < s; )
														if ((i = e[n++]) < 128)
															u[r++] = i;
														else if ((o = a[i]) > 4)
															(u[r++] = 65533),
																(n += o - 1);
														else {
															for (
																i &=
																	2 === o
																		? 31
																		: 3 ===
																		  o
																		? 15
																		: 7;
																o > 1 && n < s;

															)
																(i =
																	(i << 6) |
																	(63 &
																		e[
																			n++
																		])),
																	o--;
															o > 1
																? (u[
																		r++
																  ] = 65533)
																: i < 65536
																? (u[r++] = i)
																: ((i -= 65536),
																  (u[r++] =
																		55296 |
																		((i >>
																			10) &
																			1023)),
																  (u[r++] =
																		56320 |
																		(1023 &
																			i)));
														}
													return l(u, r);
												}),
												(n.utf8border = function (
													e,
													t
												) {
													var n;
													for (
														(t = t || e.length) >
															e.length &&
															(t = e.length),
															n = t - 1;
														n >= 0 &&
														128 == (192 & e[n]);

													)
														n--;
													return n < 0 || 0 === n
														? t
														: n + a[e[n]] > t
														? n
														: t;
												});
										},
										{ "./common": 1 },
									],
									3: [
										function (e, t, n) {
											t.exports = function (e, t, n, r) {
												for (
													var i = (65535 & e) | 0,
														o =
															((e >>> 16) &
																65535) |
															0,
														a = 0;
													0 !== n;

												) {
													n -= a = n > 2e3 ? 2e3 : n;
													do {
														o =
															(o +
																(i =
																	(i +
																		t[
																			r++
																		]) |
																	0)) |
															0;
													} while (--a);
													(i %= 65521), (o %= 65521);
												}
												return i | (o << 16) | 0;
											};
										},
										{},
									],
									4: [
										function (e, t, n) {
											t.exports = {
												Z_NO_FLUSH: 0,
												Z_PARTIAL_FLUSH: 1,
												Z_SYNC_FLUSH: 2,
												Z_FULL_FLUSH: 3,
												Z_FINISH: 4,
												Z_BLOCK: 5,
												Z_TREES: 6,
												Z_OK: 0,
												Z_STREAM_END: 1,
												Z_NEED_DICT: 2,
												Z_ERRNO: -1,
												Z_STREAM_ERROR: -2,
												Z_DATA_ERROR: -3,
												Z_BUF_ERROR: -5,
												Z_NO_COMPRESSION: 0,
												Z_BEST_SPEED: 1,
												Z_BEST_COMPRESSION: 9,
												Z_DEFAULT_COMPRESSION: -1,
												Z_FILTERED: 1,
												Z_HUFFMAN_ONLY: 2,
												Z_RLE: 3,
												Z_FIXED: 4,
												Z_DEFAULT_STRATEGY: 0,
												Z_BINARY: 0,
												Z_TEXT: 1,
												Z_UNKNOWN: 2,
												Z_DEFLATED: 8,
											};
										},
										{},
									],
									5: [
										function (e, t, n) {
											var r = (function () {
												for (
													var e, t = [], n = 0;
													n < 256;
													n++
												) {
													e = n;
													for (var r = 0; r < 8; r++)
														e =
															1 & e
																? 3988292384 ^
																  (e >>> 1)
																: e >>> 1;
													t[n] = e;
												}
												return t;
											})();
											t.exports = function (e, t, n, i) {
												var o = r,
													a = i + n;
												e ^= -1;
												for (var s = i; s < a; s++)
													e =
														(e >>> 8) ^
														o[255 & (e ^ t[s])];
												return -1 ^ e;
											};
										},
										{},
									],
									6: [
										function (e, t, n) {
											t.exports = function () {
												(this.text = 0),
													(this.time = 0),
													(this.xflags = 0),
													(this.os = 0),
													(this.extra = null),
													(this.extra_len = 0),
													(this.name = ""),
													(this.comment = ""),
													(this.hcrc = 0),
													(this.done = !1);
											};
										},
										{},
									],
									7: [
										function (e, t, n) {
											t.exports = function (e, t) {
												var n,
													r,
													i,
													o,
													a,
													s,
													l,
													u,
													c,
													f,
													h,
													p,
													d,
													y,
													m,
													v,
													g,
													_,
													b,
													x,
													w,
													C,
													T,
													k,
													P;
												(n = e.state),
													(r = e.next_in),
													(k = e.input),
													(i = r + (e.avail_in - 5)),
													(o = e.next_out),
													(P = e.output),
													(a = o - (t - e.avail_out)),
													(s =
														o +
														(e.avail_out - 257)),
													(l = n.dmax),
													(u = n.wsize),
													(c = n.whave),
													(f = n.wnext),
													(h = n.window),
													(p = n.hold),
													(d = n.bits),
													(y = n.lencode),
													(m = n.distcode),
													(v = (1 << n.lenbits) - 1),
													(g = (1 << n.distbits) - 1);
												e: do {
													d < 15 &&
														((p += k[r++] << d),
														(d += 8),
														(p += k[r++] << d),
														(d += 8)),
														(_ = y[p & v]);
													t: for (;;) {
														if (
															((p >>>= b =
																_ >>> 24),
															(d -= b),
															0 ==
																(b =
																	(_ >>> 16) &
																	255))
														)
															P[o++] = 65535 & _;
														else {
															if (!(16 & b)) {
																if (
																	0 ==
																	(64 & b)
																) {
																	_ =
																		y[
																			(65535 &
																				_) +
																				(p &
																					((1 <<
																						b) -
																						1))
																		];
																	continue t;
																}
																if (32 & b) {
																	n.mode = 12;
																	break e;
																}
																(e.msg =
																	"invalid literal/length code"),
																	(n.mode = 30);
																break e;
															}
															(x = 65535 & _),
																(b &= 15) &&
																	(d < b &&
																		((p +=
																			k[
																				r++
																			] <<
																			d),
																		(d += 8)),
																	(x +=
																		p &
																		((1 <<
																			b) -
																			1)),
																	(p >>>= b),
																	(d -= b)),
																d < 15 &&
																	((p +=
																		k[
																			r++
																		] << d),
																	(d += 8),
																	(p +=
																		k[
																			r++
																		] << d),
																	(d += 8)),
																(_ = m[p & g]);
															n: for (;;) {
																if (
																	((p >>>= b =
																		_ >>>
																		24),
																	(d -= b),
																	!(
																		16 &
																		(b =
																			(_ >>>
																				16) &
																			255)
																	))
																) {
																	if (
																		0 ==
																		(64 & b)
																	) {
																		_ =
																			m[
																				(65535 &
																					_) +
																					(p &
																						((1 <<
																							b) -
																							1))
																			];
																		continue n;
																	}
																	(e.msg =
																		"invalid distance code"),
																		(n.mode = 30);
																	break e;
																}
																if (
																	((w =
																		65535 &
																		_),
																	d <
																		(b &= 15) &&
																		((p +=
																			k[
																				r++
																			] <<
																			d),
																		(d += 8) <
																			b &&
																			((p +=
																				k[
																					r++
																				] <<
																				d),
																			(d += 8))),
																	(w +=
																		p &
																		((1 <<
																			b) -
																			1)) >
																		l)
																) {
																	(e.msg =
																		"invalid distance too far back"),
																		(n.mode = 30);
																	break e;
																}
																if (
																	((p >>>= b),
																	(d -= b),
																	w >
																		(b =
																			o -
																			a))
																) {
																	if (
																		(b =
																			w -
																			b) >
																			c &&
																		n.sane
																	) {
																		(e.msg =
																			"invalid distance too far back"),
																			(n.mode = 30);
																		break e;
																	}
																	if (
																		((C = 0),
																		(T = h),
																		0 === f)
																	) {
																		if (
																			((C +=
																				u -
																				b),
																			b <
																				x)
																		) {
																			x -=
																				b;
																			do {
																				P[
																					o++
																				] =
																					h[
																						C++
																					];
																			} while (
																				--b
																			);
																			(C =
																				o -
																				w),
																				(T =
																					P);
																		}
																	} else if (
																		f < b
																	) {
																		if (
																			((C +=
																				u +
																				f -
																				b),
																			(b -=
																				f) <
																				x)
																		) {
																			x -=
																				b;
																			do {
																				P[
																					o++
																				] =
																					h[
																						C++
																					];
																			} while (
																				--b
																			);
																			if (
																				((C = 0),
																				f <
																					x)
																			) {
																				x -=
																					b =
																						f;
																				do {
																					P[
																						o++
																					] =
																						h[
																							C++
																						];
																				} while (
																					--b
																				);
																				(C =
																					o -
																					w),
																					(T =
																						P);
																			}
																		}
																	} else if (
																		((C +=
																			f -
																			b),
																		b < x)
																	) {
																		x -= b;
																		do {
																			P[
																				o++
																			] =
																				h[
																					C++
																				];
																		} while (
																			--b
																		);
																		(C =
																			o -
																			w),
																			(T =
																				P);
																	}
																	for (
																		;
																		x > 2;

																	)
																		(P[
																			o++
																		] =
																			T[
																				C++
																			]),
																			(P[
																				o++
																			] =
																				T[
																					C++
																				]),
																			(P[
																				o++
																			] =
																				T[
																					C++
																				]),
																			(x -= 3);
																	x &&
																		((P[
																			o++
																		] =
																			T[
																				C++
																			]),
																		x > 1 &&
																			(P[
																				o++
																			] =
																				T[
																					C++
																				]));
																} else {
																	C = o - w;
																	do {
																		(P[
																			o++
																		] =
																			P[
																				C++
																			]),
																			(P[
																				o++
																			] =
																				P[
																					C++
																				]),
																			(P[
																				o++
																			] =
																				P[
																					C++
																				]),
																			(x -= 3);
																	} while (
																		x > 2
																	);
																	x &&
																		((P[
																			o++
																		] =
																			P[
																				C++
																			]),
																		x > 1 &&
																			(P[
																				o++
																			] =
																				P[
																					C++
																				]));
																}
																break;
															}
														}
														break;
													}
												} while (r < i && o < s);
												(r -= x = d >> 3),
													(p &=
														(1 << (d -= x << 3)) -
														1),
													(e.next_in = r),
													(e.next_out = o),
													(e.avail_in =
														r < i
															? i - r + 5
															: 5 - (r - i)),
													(e.avail_out =
														o < s
															? s - o + 257
															: 257 - (o - s)),
													(n.hold = p),
													(n.bits = d);
											};
										},
										{},
									],
									8: [
										function (e, t, n) {
											var r = e("../utils/common"),
												i = e("./adler32"),
												o = e("./crc32"),
												a = e("./inffast"),
												s = e("./inftrees");
											function l(e) {
												return (
													((e >>> 24) & 255) +
													((e >>> 8) & 65280) +
													((65280 & e) << 8) +
													((255 & e) << 24)
												);
											}
											function u() {
												(this.mode = 0),
													(this.last = !1),
													(this.wrap = 0),
													(this.havedict = !1),
													(this.flags = 0),
													(this.dmax = 0),
													(this.check = 0),
													(this.total = 0),
													(this.head = null),
													(this.wbits = 0),
													(this.wsize = 0),
													(this.whave = 0),
													(this.wnext = 0),
													(this.window = null),
													(this.hold = 0),
													(this.bits = 0),
													(this.length = 0),
													(this.offset = 0),
													(this.extra = 0),
													(this.lencode = null),
													(this.distcode = null),
													(this.lenbits = 0),
													(this.distbits = 0),
													(this.ncode = 0),
													(this.nlen = 0),
													(this.ndist = 0),
													(this.have = 0),
													(this.next = null),
													(this.lens = new r.Buf16(
														320
													)),
													(this.work = new r.Buf16(
														288
													)),
													(this.lendyn = null),
													(this.distdyn = null),
													(this.sane = 0),
													(this.back = 0),
													(this.was = 0);
											}
											function c(e) {
												var t;
												return e && e.state
													? ((t = e.state),
													  (e.total_in =
															e.total_out =
															t.total =
																0),
													  (e.msg = ""),
													  t.wrap &&
															(e.adler =
																1 & t.wrap),
													  (t.mode = 1),
													  (t.last = 0),
													  (t.havedict = 0),
													  (t.dmax = 32768),
													  (t.head = null),
													  (t.hold = 0),
													  (t.bits = 0),
													  (t.lencode = t.lendyn =
															new r.Buf32(852)),
													  (t.distcode = t.distdyn =
															new r.Buf32(592)),
													  (t.sane = 1),
													  (t.back = -1),
													  0)
													: -2;
											}
											function f(e) {
												var t;
												return e && e.state
													? (((t =
															e.state).wsize = 0),
													  (t.whave = 0),
													  (t.wnext = 0),
													  c(e))
													: -2;
											}
											function h(e, t) {
												var n, r;
												return e && e.state
													? ((r = e.state),
													  t < 0
															? ((n = 0),
															  (t = -t))
															: ((n =
																	1 +
																	(t >> 4)),
															  t < 48 &&
																	(t &= 15)),
													  t && (t < 8 || t > 15)
															? -2
															: (null !==
																	r.window &&
																	r.wbits !==
																		t &&
																	(r.window =
																		null),
															  (r.wrap = n),
															  (r.wbits = t),
															  f(e)))
													: -2;
											}
											function p(e, t) {
												var n, r;
												return e
													? ((r = new u()),
													  (e.state = r),
													  (r.window = null),
													  0 !== (n = h(e, t)) &&
															(e.state = null),
													  n)
													: -2;
											}
											var d,
												y,
												m = !0;
											function v(e) {
												if (m) {
													var t;
													for (
														d = new r.Buf32(512),
															y = new r.Buf32(32),
															t = 0;
														t < 144;

													)
														e.lens[t++] = 8;
													for (; t < 256; )
														e.lens[t++] = 9;
													for (; t < 280; )
														e.lens[t++] = 7;
													for (; t < 288; )
														e.lens[t++] = 8;
													for (
														s(
															1,
															e.lens,
															0,
															288,
															d,
															0,
															e.work,
															{ bits: 9 }
														),
															t = 0;
														t < 32;

													)
														e.lens[t++] = 5;
													s(
														2,
														e.lens,
														0,
														32,
														y,
														0,
														e.work,
														{ bits: 5 }
													),
														(m = !1);
												}
												(e.lencode = d),
													(e.lenbits = 9),
													(e.distcode = y),
													(e.distbits = 5);
											}
											function g(e, t, n, i) {
												var o,
													a = e.state;
												return (
													null === a.window &&
														((a.wsize =
															1 << a.wbits),
														(a.wnext = 0),
														(a.whave = 0),
														(a.window = new r.Buf8(
															a.wsize
														))),
													i >= a.wsize
														? (r.arraySet(
																a.window,
																t,
																n - a.wsize,
																a.wsize,
																0
														  ),
														  (a.wnext = 0),
														  (a.whave = a.wsize))
														: ((o =
																a.wsize -
																a.wnext) > i &&
																(o = i),
														  r.arraySet(
																a.window,
																t,
																n - i,
																o,
																a.wnext
														  ),
														  (i -= o)
																? (r.arraySet(
																		a.window,
																		t,
																		n - i,
																		i,
																		0
																  ),
																  (a.wnext = i),
																  (a.whave =
																		a.wsize))
																: ((a.wnext +=
																		o),
																  a.wnext ===
																		a.wsize &&
																		(a.wnext = 0),
																  a.whave <
																		a.wsize &&
																		(a.whave +=
																			o))),
													0
												);
											}
											(n.inflateReset = f),
												(n.inflateReset2 = h),
												(n.inflateResetKeep = c),
												(n.inflateInit = function (e) {
													return p(e, 15);
												}),
												(n.inflateInit2 = p),
												(n.inflate = function (e, t) {
													var n,
														u,
														c,
														f,
														h,
														p,
														d,
														y,
														m,
														_,
														b,
														x,
														w,
														C,
														T,
														k,
														P,
														E,
														S,
														A,
														M,
														I,
														L,
														D,
														O = 0,
														z = new r.Buf8(4),
														R = [
															16, 17, 18, 0, 8, 7,
															9, 6, 10, 5, 11, 4,
															12, 3, 13, 2, 14, 1,
															15,
														];
													if (
														!e ||
														!e.state ||
														!e.output ||
														(!e.input &&
															0 !== e.avail_in)
													)
														return -2;
													12 === (n = e.state).mode &&
														(n.mode = 13),
														(h = e.next_out),
														(c = e.output),
														(d = e.avail_out),
														(f = e.next_in),
														(u = e.input),
														(p = e.avail_in),
														(y = n.hold),
														(m = n.bits),
														(_ = p),
														(b = d),
														(I = 0);
													e: for (;;)
														switch (n.mode) {
															case 1:
																if (
																	0 === n.wrap
																) {
																	n.mode = 13;
																	break;
																}
																for (
																	;
																	m < 16;

																) {
																	if (0 === p)
																		break e;
																	p--,
																		(y +=
																			u[
																				f++
																			] <<
																			m),
																		(m += 8);
																}
																if (
																	2 &
																		n.wrap &&
																	35615 === y
																) {
																	(n.check = 0),
																		(z[0] =
																			255 &
																			y),
																		(z[1] =
																			(y >>>
																				8) &
																			255),
																		(n.check =
																			o(
																				n.check,
																				z,
																				2,
																				0
																			)),
																		(y = 0),
																		(m = 0),
																		(n.mode = 2);
																	break;
																}
																if (
																	((n.flags = 0),
																	n.head &&
																		(n.head.done =
																			!1),
																	!(
																		1 &
																		n.wrap
																	) ||
																		(((255 &
																			y) <<
																			8) +
																			(y >>
																				8)) %
																			31)
																) {
																	(e.msg =
																		"incorrect header check"),
																		(n.mode = 30);
																	break;
																}
																if (
																	8 !=
																	(15 & y)
																) {
																	(e.msg =
																		"unknown compression method"),
																		(n.mode = 30);
																	break;
																}
																if (
																	((m -= 4),
																	(M =
																		8 +
																		(15 &
																			(y >>>= 4))),
																	0 ===
																		n.wbits)
																)
																	n.wbits = M;
																else if (
																	M > n.wbits
																) {
																	(e.msg =
																		"invalid window size"),
																		(n.mode = 30);
																	break;
																}
																(n.dmax =
																	1 << M),
																	(e.adler =
																		n.check =
																			1),
																	(n.mode =
																		512 & y
																			? 10
																			: 12),
																	(y = 0),
																	(m = 0);
																break;
															case 2:
																for (
																	;
																	m < 16;

																) {
																	if (0 === p)
																		break e;
																	p--,
																		(y +=
																			u[
																				f++
																			] <<
																			m),
																		(m += 8);
																}
																if (
																	((n.flags =
																		y),
																	8 !=
																		(255 &
																			n.flags))
																) {
																	(e.msg =
																		"unknown compression method"),
																		(n.mode = 30);
																	break;
																}
																if (
																	57344 &
																	n.flags
																) {
																	(e.msg =
																		"unknown header flags set"),
																		(n.mode = 30);
																	break;
																}
																n.head &&
																	(n.head.text =
																		(y >>
																			8) &
																		1),
																	512 &
																		n.flags &&
																		((z[0] =
																			255 &
																			y),
																		(z[1] =
																			(y >>>
																				8) &
																			255),
																		(n.check =
																			o(
																				n.check,
																				z,
																				2,
																				0
																			))),
																	(y = 0),
																	(m = 0),
																	(n.mode = 3);
															case 3:
																for (
																	;
																	m < 32;

																) {
																	if (0 === p)
																		break e;
																	p--,
																		(y +=
																			u[
																				f++
																			] <<
																			m),
																		(m += 8);
																}
																n.head &&
																	(n.head.time =
																		y),
																	512 &
																		n.flags &&
																		((z[0] =
																			255 &
																			y),
																		(z[1] =
																			(y >>>
																				8) &
																			255),
																		(z[2] =
																			(y >>>
																				16) &
																			255),
																		(z[3] =
																			(y >>>
																				24) &
																			255),
																		(n.check =
																			o(
																				n.check,
																				z,
																				4,
																				0
																			))),
																	(y = 0),
																	(m = 0),
																	(n.mode = 4);
															case 4:
																for (
																	;
																	m < 16;

																) {
																	if (0 === p)
																		break e;
																	p--,
																		(y +=
																			u[
																				f++
																			] <<
																			m),
																		(m += 8);
																}
																n.head &&
																	((n.head.xflags =
																		255 &
																		y),
																	(n.head.os =
																		y >>
																		8)),
																	512 &
																		n.flags &&
																		((z[0] =
																			255 &
																			y),
																		(z[1] =
																			(y >>>
																				8) &
																			255),
																		(n.check =
																			o(
																				n.check,
																				z,
																				2,
																				0
																			))),
																	(y = 0),
																	(m = 0),
																	(n.mode = 5);
															case 5:
																if (
																	1024 &
																	n.flags
																) {
																	for (
																		;
																		m < 16;

																	) {
																		if (
																			0 ===
																			p
																		)
																			break e;
																		p--,
																			(y +=
																				u[
																					f++
																				] <<
																				m),
																			(m += 8);
																	}
																	(n.length =
																		y),
																		n.head &&
																			(n.head.extra_len =
																				y),
																		512 &
																			n.flags &&
																			((z[0] =
																				255 &
																				y),
																			(z[1] =
																				(y >>>
																					8) &
																				255),
																			(n.check =
																				o(
																					n.check,
																					z,
																					2,
																					0
																				))),
																		(y = 0),
																		(m = 0);
																} else
																	n.head &&
																		(n.head.extra =
																			null);
																n.mode = 6;
															case 6:
																if (
																	1024 &
																		n.flags &&
																	((x =
																		n.length) >
																		p &&
																		(x = p),
																	x &&
																		(n.head &&
																			((M =
																				n
																					.head
																					.extra_len -
																				n.length),
																			n
																				.head
																				.extra ||
																				(n.head.extra =
																					new Array(
																						n.head.extra_len
																					)),
																			r.arraySet(
																				n
																					.head
																					.extra,
																				u,
																				f,
																				x,
																				M
																			)),
																		512 &
																			n.flags &&
																			(n.check =
																				o(
																					n.check,
																					u,
																					x,
																					f
																				)),
																		(p -=
																			x),
																		(f +=
																			x),
																		(n.length -=
																			x)),
																	n.length)
																)
																	break e;
																(n.length = 0),
																	(n.mode = 7);
															case 7:
																if (
																	2048 &
																	n.flags
																) {
																	if (0 === p)
																		break e;
																	x = 0;
																	do {
																		(M =
																			u[
																				f +
																					x++
																			]),
																			n.head &&
																				M &&
																				n.length <
																					65536 &&
																				(n.head.name +=
																					String.fromCharCode(
																						M
																					));
																	} while (
																		M &&
																		x < p
																	);
																	if (
																		(512 &
																			n.flags &&
																			(n.check =
																				o(
																					n.check,
																					u,
																					x,
																					f
																				)),
																		(p -=
																			x),
																		(f +=
																			x),
																		M)
																	)
																		break e;
																} else
																	n.head &&
																		(n.head.name =
																			null);
																(n.length = 0),
																	(n.mode = 8);
															case 8:
																if (
																	4096 &
																	n.flags
																) {
																	if (0 === p)
																		break e;
																	x = 0;
																	do {
																		(M =
																			u[
																				f +
																					x++
																			]),
																			n.head &&
																				M &&
																				n.length <
																					65536 &&
																				(n.head.comment +=
																					String.fromCharCode(
																						M
																					));
																	} while (
																		M &&
																		x < p
																	);
																	if (
																		(512 &
																			n.flags &&
																			(n.check =
																				o(
																					n.check,
																					u,
																					x,
																					f
																				)),
																		(p -=
																			x),
																		(f +=
																			x),
																		M)
																	)
																		break e;
																} else
																	n.head &&
																		(n.head.comment =
																			null);
																n.mode = 9;
															case 9:
																if (
																	512 &
																	n.flags
																) {
																	for (
																		;
																		m < 16;

																	) {
																		if (
																			0 ===
																			p
																		)
																			break e;
																		p--,
																			(y +=
																				u[
																					f++
																				] <<
																				m),
																			(m += 8);
																	}
																	if (
																		y !==
																		(65535 &
																			n.check)
																	) {
																		(e.msg =
																			"header crc mismatch"),
																			(n.mode = 30);
																		break;
																	}
																	(y = 0),
																		(m = 0);
																}
																n.head &&
																	((n.head.hcrc =
																		(n.flags >>
																			9) &
																		1),
																	(n.head.done =
																		!0)),
																	(e.adler =
																		n.check =
																			0),
																	(n.mode = 12);
																break;
															case 10:
																for (
																	;
																	m < 32;

																) {
																	if (0 === p)
																		break e;
																	p--,
																		(y +=
																			u[
																				f++
																			] <<
																			m),
																		(m += 8);
																}
																(e.adler =
																	n.check =
																		l(y)),
																	(y = 0),
																	(m = 0),
																	(n.mode = 11);
															case 11:
																if (
																	0 ===
																	n.havedict
																)
																	return (
																		(e.next_out =
																			h),
																		(e.avail_out =
																			d),
																		(e.next_in =
																			f),
																		(e.avail_in =
																			p),
																		(n.hold =
																			y),
																		(n.bits =
																			m),
																		2
																	);
																(e.adler =
																	n.check =
																		1),
																	(n.mode = 12);
															case 12:
																if (
																	5 === t ||
																	6 === t
																)
																	break e;
															case 13:
																if (n.last) {
																	(y >>>=
																		7 & m),
																		(m -=
																			7 &
																			m),
																		(n.mode = 27);
																	break;
																}
																for (
																	;
																	m < 3;

																) {
																	if (0 === p)
																		break e;
																	p--,
																		(y +=
																			u[
																				f++
																			] <<
																			m),
																		(m += 8);
																}
																switch (
																	((n.last =
																		1 & y),
																	(m -= 1),
																	3 &
																		(y >>>= 1))
																) {
																	case 0:
																		n.mode = 14;
																		break;
																	case 1:
																		if (
																			(v(
																				n
																			),
																			(n.mode = 20),
																			6 ===
																				t)
																		) {
																			(y >>>= 2),
																				(m -= 2);
																			break e;
																		}
																		break;
																	case 2:
																		n.mode = 17;
																		break;
																	case 3:
																		(e.msg =
																			"invalid block type"),
																			(n.mode = 30);
																}
																(y >>>= 2),
																	(m -= 2);
																break;
															case 14:
																for (
																	y >>>=
																		7 & m,
																		m -=
																			7 &
																			m;
																	m < 32;

																) {
																	if (0 === p)
																		break e;
																	p--,
																		(y +=
																			u[
																				f++
																			] <<
																			m),
																		(m += 8);
																}
																if (
																	(65535 &
																		y) !=
																	((y >>>
																		16) ^
																		65535)
																) {
																	(e.msg =
																		"invalid stored block lengths"),
																		(n.mode = 30);
																	break;
																}
																if (
																	((n.length =
																		65535 &
																		y),
																	(y = 0),
																	(m = 0),
																	(n.mode = 15),
																	6 === t)
																)
																	break e;
															case 15:
																n.mode = 16;
															case 16:
																if (
																	(x =
																		n.length)
																) {
																	if (
																		(x >
																			p &&
																			(x =
																				p),
																		x > d &&
																			(x =
																				d),
																		0 === x)
																	)
																		break e;
																	r.arraySet(
																		c,
																		u,
																		f,
																		x,
																		h
																	),
																		(p -=
																			x),
																		(f +=
																			x),
																		(d -=
																			x),
																		(h +=
																			x),
																		(n.length -=
																			x);
																	break;
																}
																n.mode = 12;
																break;
															case 17:
																for (
																	;
																	m < 14;

																) {
																	if (0 === p)
																		break e;
																	p--,
																		(y +=
																			u[
																				f++
																			] <<
																			m),
																		(m += 8);
																}
																if (
																	((n.nlen =
																		257 +
																		(31 &
																			y)),
																	(y >>>= 5),
																	(m -= 5),
																	(n.ndist =
																		1 +
																		(31 &
																			y)),
																	(y >>>= 5),
																	(m -= 5),
																	(n.ncode =
																		4 +
																		(15 &
																			y)),
																	(y >>>= 4),
																	(m -= 4),
																	n.nlen >
																		286 ||
																		n.ndist >
																			30)
																) {
																	(e.msg =
																		"too many length or distance symbols"),
																		(n.mode = 30);
																	break;
																}
																(n.have = 0),
																	(n.mode = 18);
															case 18:
																for (
																	;
																	n.have <
																	n.ncode;

																) {
																	for (
																		;
																		m < 3;

																	) {
																		if (
																			0 ===
																			p
																		)
																			break e;
																		p--,
																			(y +=
																				u[
																					f++
																				] <<
																				m),
																			(m += 8);
																	}
																	(n.lens[
																		R[
																			n.have++
																		]
																	] = 7 & y),
																		(y >>>= 3),
																		(m -= 3);
																}
																for (
																	;
																	n.have < 19;

																)
																	n.lens[
																		R[
																			n.have++
																		]
																	] = 0;
																if (
																	((n.lencode =
																		n.lendyn),
																	(n.lenbits = 7),
																	(L = {
																		bits: n.lenbits,
																	}),
																	(I = s(
																		0,
																		n.lens,
																		0,
																		19,
																		n.lencode,
																		0,
																		n.work,
																		L
																	)),
																	(n.lenbits =
																		L.bits),
																	I)
																) {
																	(e.msg =
																		"invalid code lengths set"),
																		(n.mode = 30);
																	break;
																}
																(n.have = 0),
																	(n.mode = 19);
															case 19:
																for (
																	;
																	n.have <
																	n.nlen +
																		n.ndist;

																) {
																	for (
																		;
																		(k =
																			((O =
																				n
																					.lencode[
																					y &
																						((1 <<
																							n.lenbits) -
																							1)
																				]) >>>
																				16) &
																			255),
																			(P =
																				65535 &
																				O),
																			!(
																				(T =
																					O >>>
																					24) <=
																				m
																			);

																	) {
																		if (
																			0 ===
																			p
																		)
																			break e;
																		p--,
																			(y +=
																				u[
																					f++
																				] <<
																				m),
																			(m += 8);
																	}
																	if (P < 16)
																		(y >>>=
																			T),
																			(m -=
																				T),
																			(n.lens[
																				n.have++
																			] =
																				P);
																	else {
																		if (
																			16 ===
																			P
																		) {
																			for (
																				D =
																					T +
																					2;
																				m <
																				D;

																			) {
																				if (
																					0 ===
																					p
																				)
																					break e;
																				p--,
																					(y +=
																						u[
																							f++
																						] <<
																						m),
																					(m += 8);
																			}
																			if (
																				((y >>>=
																					T),
																				(m -=
																					T),
																				0 ===
																					n.have)
																			) {
																				(e.msg =
																					"invalid bit length repeat"),
																					(n.mode = 30);
																				break;
																			}
																			(M =
																				n
																					.lens[
																					n.have -
																						1
																				]),
																				(x =
																					3 +
																					(3 &
																						y)),
																				(y >>>= 2),
																				(m -= 2);
																		} else if (
																			17 ===
																			P
																		) {
																			for (
																				D =
																					T +
																					3;
																				m <
																				D;

																			) {
																				if (
																					0 ===
																					p
																				)
																					break e;
																				p--,
																					(y +=
																						u[
																							f++
																						] <<
																						m),
																					(m += 8);
																			}
																			(m -=
																				T),
																				(M = 0),
																				(x =
																					3 +
																					(7 &
																						(y >>>=
																							T))),
																				(y >>>= 3),
																				(m -= 3);
																		} else {
																			for (
																				D =
																					T +
																					7;
																				m <
																				D;

																			) {
																				if (
																					0 ===
																					p
																				)
																					break e;
																				p--,
																					(y +=
																						u[
																							f++
																						] <<
																						m),
																					(m += 8);
																			}
																			(m -=
																				T),
																				(M = 0),
																				(x =
																					11 +
																					(127 &
																						(y >>>=
																							T))),
																				(y >>>= 7),
																				(m -= 7);
																		}
																		if (
																			n.have +
																				x >
																			n.nlen +
																				n.ndist
																		) {
																			(e.msg =
																				"invalid bit length repeat"),
																				(n.mode = 30);
																			break;
																		}
																		for (
																			;
																			x--;

																		)
																			n.lens[
																				n.have++
																			] =
																				M;
																	}
																}
																if (
																	30 ===
																	n.mode
																)
																	break;
																if (
																	0 ===
																	n.lens[256]
																) {
																	(e.msg =
																		"invalid code -- missing end-of-block"),
																		(n.mode = 30);
																	break;
																}
																if (
																	((n.lenbits = 9),
																	(L = {
																		bits: n.lenbits,
																	}),
																	(I = s(
																		1,
																		n.lens,
																		0,
																		n.nlen,
																		n.lencode,
																		0,
																		n.work,
																		L
																	)),
																	(n.lenbits =
																		L.bits),
																	I)
																) {
																	(e.msg =
																		"invalid literal/lengths set"),
																		(n.mode = 30);
																	break;
																}
																if (
																	((n.distbits = 6),
																	(n.distcode =
																		n.distdyn),
																	(L = {
																		bits: n.distbits,
																	}),
																	(I = s(
																		2,
																		n.lens,
																		n.nlen,
																		n.ndist,
																		n.distcode,
																		0,
																		n.work,
																		L
																	)),
																	(n.distbits =
																		L.bits),
																	I)
																) {
																	(e.msg =
																		"invalid distances set"),
																		(n.mode = 30);
																	break;
																}
																if (
																	((n.mode = 20),
																	6 === t)
																)
																	break e;
															case 20:
																n.mode = 21;
															case 21:
																if (
																	p >= 6 &&
																	d >= 258
																) {
																	(e.next_out =
																		h),
																		(e.avail_out =
																			d),
																		(e.next_in =
																			f),
																		(e.avail_in =
																			p),
																		(n.hold =
																			y),
																		(n.bits =
																			m),
																		a(e, b),
																		(h =
																			e.next_out),
																		(c =
																			e.output),
																		(d =
																			e.avail_out),
																		(f =
																			e.next_in),
																		(u =
																			e.input),
																		(p =
																			e.avail_in),
																		(y =
																			n.hold),
																		(m =
																			n.bits),
																		12 ===
																			n.mode &&
																			(n.back =
																				-1);
																	break;
																}
																for (
																	n.back = 0;
																	(k =
																		((O =
																			n
																				.lencode[
																				y &
																					((1 <<
																						n.lenbits) -
																						1)
																			]) >>>
																			16) &
																		255),
																		(P =
																			65535 &
																			O),
																		!(
																			(T =
																				O >>>
																				24) <=
																			m
																		);

																) {
																	if (0 === p)
																		break e;
																	p--,
																		(y +=
																			u[
																				f++
																			] <<
																			m),
																		(m += 8);
																}
																if (
																	k &&
																	0 ==
																		(240 &
																			k)
																) {
																	for (
																		E = T,
																			S =
																				k,
																			A =
																				P;
																		(k =
																			((O =
																				n
																					.lencode[
																					A +
																						((y &
																							((1 <<
																								(E +
																									S)) -
																								1)) >>
																							E)
																				]) >>>
																				16) &
																			255),
																			(P =
																				65535 &
																				O),
																			!(
																				E +
																					(T =
																						O >>>
																						24) <=
																				m
																			);

																	) {
																		if (
																			0 ===
																			p
																		)
																			break e;
																		p--,
																			(y +=
																				u[
																					f++
																				] <<
																				m),
																			(m += 8);
																	}
																	(y >>>= E),
																		(m -=
																			E),
																		(n.back +=
																			E);
																}
																if (
																	((y >>>= T),
																	(m -= T),
																	(n.back +=
																		T),
																	(n.length =
																		P),
																	0 === k)
																) {
																	n.mode = 26;
																	break;
																}
																if (32 & k) {
																	(n.back =
																		-1),
																		(n.mode = 12);
																	break;
																}
																if (64 & k) {
																	(e.msg =
																		"invalid literal/length code"),
																		(n.mode = 30);
																	break;
																}
																(n.extra =
																	15 & k),
																	(n.mode = 22);
															case 22:
																if (n.extra) {
																	for (
																		D =
																			n.extra;
																		m < D;

																	) {
																		if (
																			0 ===
																			p
																		)
																			break e;
																		p--,
																			(y +=
																				u[
																					f++
																				] <<
																				m),
																			(m += 8);
																	}
																	(n.length +=
																		y &
																		((1 <<
																			n.extra) -
																			1)),
																		(y >>>=
																			n.extra),
																		(m -=
																			n.extra),
																		(n.back +=
																			n.extra);
																}
																(n.was =
																	n.length),
																	(n.mode = 23);
															case 23:
																for (
																	;
																	(k =
																		((O =
																			n
																				.distcode[
																				y &
																					((1 <<
																						n.distbits) -
																						1)
																			]) >>>
																			16) &
																		255),
																		(P =
																			65535 &
																			O),
																		!(
																			(T =
																				O >>>
																				24) <=
																			m
																		);

																) {
																	if (0 === p)
																		break e;
																	p--,
																		(y +=
																			u[
																				f++
																			] <<
																			m),
																		(m += 8);
																}
																if (
																	0 ==
																	(240 & k)
																) {
																	for (
																		E = T,
																			S =
																				k,
																			A =
																				P;
																		(k =
																			((O =
																				n
																					.distcode[
																					A +
																						((y &
																							((1 <<
																								(E +
																									S)) -
																								1)) >>
																							E)
																				]) >>>
																				16) &
																			255),
																			(P =
																				65535 &
																				O),
																			!(
																				E +
																					(T =
																						O >>>
																						24) <=
																				m
																			);

																	) {
																		if (
																			0 ===
																			p
																		)
																			break e;
																		p--,
																			(y +=
																				u[
																					f++
																				] <<
																				m),
																			(m += 8);
																	}
																	(y >>>= E),
																		(m -=
																			E),
																		(n.back +=
																			E);
																}
																if (
																	((y >>>= T),
																	(m -= T),
																	(n.back +=
																		T),
																	64 & k)
																) {
																	(e.msg =
																		"invalid distance code"),
																		(n.mode = 30);
																	break;
																}
																(n.offset = P),
																	(n.extra =
																		15 & k),
																	(n.mode = 24);
															case 24:
																if (n.extra) {
																	for (
																		D =
																			n.extra;
																		m < D;

																	) {
																		if (
																			0 ===
																			p
																		)
																			break e;
																		p--,
																			(y +=
																				u[
																					f++
																				] <<
																				m),
																			(m += 8);
																	}
																	(n.offset +=
																		y &
																		((1 <<
																			n.extra) -
																			1)),
																		(y >>>=
																			n.extra),
																		(m -=
																			n.extra),
																		(n.back +=
																			n.extra);
																}
																if (
																	n.offset >
																	n.dmax
																) {
																	(e.msg =
																		"invalid distance too far back"),
																		(n.mode = 30);
																	break;
																}
																n.mode = 25;
															case 25:
																if (0 === d)
																	break e;
																if (
																	((x =
																		b - d),
																	n.offset >
																		x)
																) {
																	if (
																		(x =
																			n.offset -
																			x) >
																			n.whave &&
																		n.sane
																	) {
																		(e.msg =
																			"invalid distance too far back"),
																			(n.mode = 30);
																		break;
																	}
																	x > n.wnext
																		? ((x -=
																				n.wnext),
																		  (w =
																				n.wsize -
																				x))
																		: (w =
																				n.wnext -
																				x),
																		x >
																			n.length &&
																			(x =
																				n.length),
																		(C =
																			n.window);
																} else
																	(C = c),
																		(w =
																			h -
																			n.offset),
																		(x =
																			n.length);
																x > d &&
																	(x = d),
																	(d -= x),
																	(n.length -=
																		x);
																do {
																	c[h++] =
																		C[w++];
																} while (--x);
																0 ===
																	n.length &&
																	(n.mode = 21);
																break;
															case 26:
																if (0 === d)
																	break e;
																(c[h++] =
																	n.length),
																	d--,
																	(n.mode = 21);
																break;
															case 27:
																if (n.wrap) {
																	for (
																		;
																		m < 32;

																	) {
																		if (
																			0 ===
																			p
																		)
																			break e;
																		p--,
																			(y |=
																				u[
																					f++
																				] <<
																				m),
																			(m += 8);
																	}
																	if (
																		((b -=
																			d),
																		(e.total_out +=
																			b),
																		(n.total +=
																			b),
																		b &&
																			(e.adler =
																				n.check =
																					n.flags
																						? o(
																								n.check,
																								c,
																								b,
																								h -
																									b
																						  )
																						: i(
																								n.check,
																								c,
																								b,
																								h -
																									b
																						  )),
																		(b = d),
																		(n.flags
																			? y
																			: l(
																					y
																			  )) !==
																			n.check)
																	) {
																		(e.msg =
																			"incorrect data check"),
																			(n.mode = 30);
																		break;
																	}
																	(y = 0),
																		(m = 0);
																}
																n.mode = 28;
															case 28:
																if (
																	n.wrap &&
																	n.flags
																) {
																	for (
																		;
																		m < 32;

																	) {
																		if (
																			0 ===
																			p
																		)
																			break e;
																		p--,
																			(y +=
																				u[
																					f++
																				] <<
																				m),
																			(m += 8);
																	}
																	if (
																		y !==
																		(4294967295 &
																			n.total)
																	) {
																		(e.msg =
																			"incorrect length check"),
																			(n.mode = 30);
																		break;
																	}
																	(y = 0),
																		(m = 0);
																}
																n.mode = 29;
															case 29:
																I = 1;
																break e;
															case 30:
																I = -3;
																break e;
															case 31:
																return -4;
															case 32:
															default:
																return -2;
														}
													return (
														(e.next_out = h),
														(e.avail_out = d),
														(e.next_in = f),
														(e.avail_in = p),
														(n.hold = y),
														(n.bits = m),
														(n.wsize ||
															(b !==
																e.avail_out &&
																n.mode < 30 &&
																(n.mode < 27 ||
																	4 !==
																		t))) &&
														g(
															e,
															e.output,
															e.next_out,
															b - e.avail_out
														)
															? ((n.mode = 31),
															  -4)
															: ((_ -=
																	e.avail_in),
															  (b -=
																	e.avail_out),
															  (e.total_in += _),
															  (e.total_out +=
																	b),
															  (n.total += b),
															  n.wrap &&
																	b &&
																	(e.adler =
																		n.check =
																			n.flags
																				? o(
																						n.check,
																						c,
																						b,
																						e.next_out -
																							b
																				  )
																				: i(
																						n.check,
																						c,
																						b,
																						e.next_out -
																							b
																				  )),
															  (e.data_type =
																	n.bits +
																	(n.last
																		? 64
																		: 0) +
																	(12 ===
																	n.mode
																		? 128
																		: 0) +
																	(20 ===
																		n.mode ||
																	15 ===
																		n.mode
																		? 256
																		: 0)),
															  ((0 === _ &&
																	0 === b) ||
																	4 === t) &&
																	0 === I &&
																	(I = -5),
															  I)
													);
												}),
												(n.inflateEnd = function (e) {
													if (!e || !e.state)
														return -2;
													var t = e.state;
													return (
														t.window &&
															(t.window = null),
														(e.state = null),
														0
													);
												}),
												(n.inflateGetHeader = function (
													e,
													t
												) {
													var n;
													return e && e.state
														? 0 ==
														  (2 &
																(n = e.state)
																	.wrap)
															? -2
															: ((n.head = t),
															  (t.done = !1),
															  0)
														: -2;
												}),
												(n.inflateSetDictionary =
													function (e, t) {
														var n,
															r = t.length;
														return e && e.state
															? 0 !==
																	(n =
																		e.state)
																		.wrap &&
															  11 !== n.mode
																? -2
																: 11 ===
																		n.mode &&
																  i(
																		1,
																		t,
																		r,
																		0
																  ) !== n.check
																? -3
																: g(e, t, r, r)
																? ((n.mode = 31),
																  -4)
																: ((n.havedict = 1),
																  0)
															: -2;
													}),
												(n.inflateInfo =
													"pako inflate (from Nodeca project)");
										},
										{
											"../utils/common": 1,
											"./adler32": 3,
											"./crc32": 5,
											"./inffast": 7,
											"./inftrees": 9,
										},
									],
									9: [
										function (e, t, n) {
											var r = e("../utils/common"),
												i = [
													3, 4, 5, 6, 7, 8, 9, 10, 11,
													13, 15, 17, 19, 23, 27, 31,
													35, 43, 51, 59, 67, 83, 99,
													115, 131, 163, 195, 227,
													258, 0, 0,
												],
												o = [
													16, 16, 16, 16, 16, 16, 16,
													16, 17, 17, 17, 17, 18, 18,
													18, 18, 19, 19, 19, 19, 20,
													20, 20, 20, 21, 21, 21, 21,
													16, 72, 78,
												],
												a = [
													1, 2, 3, 4, 5, 7, 9, 13, 17,
													25, 33, 49, 65, 97, 129,
													193, 257, 385, 513, 769,
													1025, 1537, 2049, 3073,
													4097, 6145, 8193, 12289,
													16385, 24577, 0, 0,
												],
												s = [
													16, 16, 16, 16, 17, 17, 18,
													18, 19, 19, 20, 20, 21, 21,
													22, 22, 23, 23, 24, 24, 25,
													25, 26, 26, 27, 27, 28, 28,
													29, 29, 64, 64,
												];
											t.exports = function (
												e,
												t,
												n,
												l,
												u,
												c,
												f,
												h
											) {
												var p,
													d,
													y,
													m,
													v,
													g,
													_,
													b,
													x,
													w = h.bits,
													C = 0,
													T = 0,
													k = 0,
													P = 0,
													E = 0,
													S = 0,
													A = 0,
													M = 0,
													I = 0,
													L = 0,
													D = null,
													O = 0,
													z = new r.Buf16(16),
													R = new r.Buf16(16),
													B = null,
													j = 0;
												for (C = 0; C <= 15; C++)
													z[C] = 0;
												for (T = 0; T < l; T++)
													z[t[n + T]]++;
												for (
													E = w, P = 15;
													P >= 1 && 0 === z[P];
													P--
												);
												if ((E > P && (E = P), 0 === P))
													return (
														(u[c++] = 20971520),
														(u[c++] = 20971520),
														(h.bits = 1),
														0
													);
												for (
													k = 1;
													k < P && 0 === z[k];
													k++
												);
												for (
													E < k && (E = k),
														M = 1,
														C = 1;
													C <= 15;
													C++
												)
													if (
														((M <<= 1),
														(M -= z[C]) < 0)
													)
														return -1;
												if (
													M > 0 &&
													(0 === e || 1 !== P)
												)
													return -1;
												for (
													R[1] = 0, C = 1;
													C < 15;
													C++
												)
													R[C + 1] = R[C] + z[C];
												for (T = 0; T < l; T++)
													0 !== t[n + T] &&
														(f[R[t[n + T]]++] = T);
												if (
													(0 === e
														? ((D = B = f),
														  (g = 19))
														: 1 === e
														? ((D = i),
														  (O -= 257),
														  (B = o),
														  (j -= 257),
														  (g = 256))
														: ((D = a),
														  (B = s),
														  (g = -1)),
													(L = 0),
													(T = 0),
													(C = k),
													(v = c),
													(S = E),
													(A = 0),
													(y = -1),
													(m = (I = 1 << E) - 1),
													(1 === e && I > 852) ||
														(2 === e && I > 592))
												)
													return 1;
												for (;;) {
													(_ = C - A),
														f[T] < g
															? ((b = 0),
															  (x = f[T]))
															: f[T] > g
															? ((b =
																	B[
																		j + f[T]
																	]),
															  (x = D[O + f[T]]))
															: ((b = 96),
															  (x = 0)),
														(p = 1 << (C - A)),
														(k = d = 1 << S);
													do {
														u[
															v +
																(L >> A) +
																(d -= p)
														] =
															(_ << 24) |
															(b << 16) |
															x |
															0;
													} while (0 !== d);
													for (
														p = 1 << (C - 1);
														L & p;

													)
														p >>= 1;
													if (
														(0 !== p
															? ((L &= p - 1),
															  (L += p))
															: (L = 0),
														T++,
														0 == --z[C])
													) {
														if (C === P) break;
														C = t[n + f[T]];
													}
													if (
														C > E &&
														(L & m) !== y
													) {
														for (
															0 === A && (A = E),
																v += k,
																M =
																	1 <<
																	(S = C - A);
															S + A < P &&
															!(
																(M -=
																	z[S + A]) <=
																0
															);

														)
															S++, (M <<= 1);
														if (
															((I += 1 << S),
															(1 === e &&
																I > 852) ||
																(2 === e &&
																	I > 592))
														)
															return 1;
														u[(y = L & m)] =
															(E << 24) |
															(S << 16) |
															(v - c) |
															0;
													}
												}
												return (
													0 !== L &&
														(u[v + L] =
															((C - A) << 24) |
															(64 << 16) |
															0),
													(h.bits = E),
													0
												);
											};
										},
										{ "../utils/common": 1 },
									],
									10: [
										function (e, t, n) {
											t.exports = {
												2: "need dictionary",
												1: "stream end",
												0: "",
												"-1": "file error",
												"-2": "stream error",
												"-3": "data error",
												"-4": "insufficient memory",
												"-5": "buffer error",
												"-6": "incompatible version",
											};
										},
										{},
									],
									11: [
										function (e, t, n) {
											t.exports = function () {
												(this.input = null),
													(this.next_in = 0),
													(this.avail_in = 0),
													(this.total_in = 0),
													(this.output = null),
													(this.next_out = 0),
													(this.avail_out = 0),
													(this.total_out = 0),
													(this.msg = ""),
													(this.state = null),
													(this.data_type = 2),
													(this.adler = 0);
											};
										},
										{},
									],
									"/lib/inflate.js": [
										function (e, t, n) {
											var r = e("./zlib/inflate"),
												i = e("./utils/common"),
												o = e("./utils/strings"),
												a = e("./zlib/constants"),
												s = e("./zlib/messages"),
												l = e("./zlib/zstream"),
												u = e("./zlib/gzheader"),
												c = Object.prototype.toString;
											function f(e) {
												if (!(this instanceof f))
													return new f(e);
												this.options = i.assign(
													{
														chunkSize: 16384,
														windowBits: 0,
														to: "",
													},
													e || {}
												);
												var t = this.options;
												t.raw &&
													t.windowBits >= 0 &&
													t.windowBits < 16 &&
													((t.windowBits =
														-t.windowBits),
													0 === t.windowBits &&
														(t.windowBits = -15)),
													!(
														t.windowBits >= 0 &&
														t.windowBits < 16
													) ||
														(e && e.windowBits) ||
														(t.windowBits += 32),
													t.windowBits > 15 &&
														t.windowBits < 48 &&
														0 ==
															(15 &
																t.windowBits) &&
														(t.windowBits |= 15),
													(this.err = 0),
													(this.msg = ""),
													(this.ended = !1),
													(this.chunks = []),
													(this.strm = new l()),
													(this.strm.avail_out = 0);
												var n = r.inflateInit2(
													this.strm,
													t.windowBits
												);
												if (n !== a.Z_OK)
													throw new Error(s[n]);
												(this.header = new u()),
													r.inflateGetHeader(
														this.strm,
														this.header
													);
											}
											function h(e, t) {
												var n = new f(t);
												if ((n.push(e, !0), n.err))
													throw n.msg || s[n.err];
												return n.result;
											}
											(f.prototype.push = function (
												e,
												t
											) {
												var n,
													s,
													l,
													u,
													f,
													h,
													p = this.strm,
													d = this.options.chunkSize,
													y = this.options.dictionary,
													m = !1;
												if (this.ended) return !1;
												(s =
													t === ~~t
														? t
														: !0 === t
														? a.Z_FINISH
														: a.Z_NO_FLUSH),
													"string" == typeof e
														? (p.input =
																o.binstring2buf(
																	e
																))
														: "[object ArrayBuffer]" ===
														  c.call(e)
														? (p.input =
																new Uint8Array(
																	e
																))
														: (p.input = e),
													(p.next_in = 0),
													(p.avail_in =
														p.input.length);
												do {
													if (
														(0 === p.avail_out &&
															((p.output =
																new i.Buf8(d)),
															(p.next_out = 0),
															(p.avail_out = d)),
														(n = r.inflate(
															p,
															a.Z_NO_FLUSH
														)) === a.Z_NEED_DICT &&
															y &&
															((h =
																"string" ==
																typeof y
																	? o.string2buf(
																			y
																	  )
																	: "[object ArrayBuffer]" ===
																	  c.call(y)
																	? new Uint8Array(
																			y
																	  )
																	: y),
															(n =
																r.inflateSetDictionary(
																	this.strm,
																	h
																))),
														n === a.Z_BUF_ERROR &&
															!0 === m &&
															((n = a.Z_OK),
															(m = !1)),
														n !== a.Z_STREAM_END &&
															n !== a.Z_OK)
													)
														return (
															this.onEnd(n),
															(this.ended = !0),
															!1
														);
													p.next_out &&
														((0 !== p.avail_out &&
															n !==
																a.Z_STREAM_END &&
															(0 !== p.avail_in ||
																(s !==
																	a.Z_FINISH &&
																	s !==
																		a.Z_SYNC_FLUSH))) ||
															("string" ===
															this.options.to
																? ((l =
																		o.utf8border(
																			p.output,
																			p.next_out
																		)),
																  (u =
																		p.next_out -
																		l),
																  (f =
																		o.buf2string(
																			p.output,
																			l
																		)),
																  (p.next_out =
																		u),
																  (p.avail_out =
																		d - u),
																  u &&
																		i.arraySet(
																			p.output,
																			p.output,
																			l,
																			u,
																			0
																		),
																  this.onData(
																		f
																  ))
																: this.onData(
																		i.shrinkBuf(
																			p.output,
																			p.next_out
																		)
																  ))),
														0 === p.avail_in &&
															0 === p.avail_out &&
															(m = !0);
												} while (
													(p.avail_in > 0 ||
														0 === p.avail_out) &&
													n !== a.Z_STREAM_END
												);
												return (
													n === a.Z_STREAM_END &&
														(s = a.Z_FINISH),
													s === a.Z_FINISH
														? ((n = r.inflateEnd(
																this.strm
														  )),
														  this.onEnd(n),
														  (this.ended = !0),
														  n === a.Z_OK)
														: s !==
																a.Z_SYNC_FLUSH ||
														  (this.onEnd(a.Z_OK),
														  (p.avail_out = 0),
														  !0)
												);
											}),
												(f.prototype.onData = function (
													e
												) {
													this.chunks.push(e);
												}),
												(f.prototype.onEnd = function (
													e
												) {
													e === a.Z_OK &&
														("string" ===
														this.options.to
															? (this.result =
																	this.chunks.join(
																		""
																	))
															: (this.result =
																	i.flattenChunks(
																		this
																			.chunks
																	))),
														(this.chunks = []),
														(this.err = e),
														(this.msg =
															this.strm.msg);
												}),
												(n.Inflate = f),
												(n.inflate = h),
												(n.inflateRaw = function (
													e,
													t
												) {
													return (
														((t = t || {}).raw =
															!0),
														h(e, t)
													);
												}),
												(n.ungzip = h);
										},
										{
											"./utils/common": 1,
											"./utils/strings": 2,
											"./zlib/constants": 4,
											"./zlib/gzheader": 6,
											"./zlib/inflate": 8,
											"./zlib/messages": 10,
											"./zlib/zstream": 11,
										},
									],
								},
								{},
								[]
							)("/lib/inflate.js");
							e.default = i;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e, t, n, r) {
								var i = e | (t << 8),
									o = (i >> 11) & 31,
									a = (i >> 5) & 63,
									s = 31 & i;
								return (
									(n[r + 0] = (o << 3) | (o >> 2)),
									(n[r + 1] = (a << 2) | (a >> 4)),
									(n[r + 2] = (s << 3) | (s >> 2)),
									(n[r + 3] = 255),
									i
								);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0);
							var n = new Uint8Array(16),
								r = new Uint8Array(16);
							function i(e, i, o, a) {
								var s = 0;
								0 != (6 & a) && (s = 8),
									(function (e, i, o, a) {
										for (
											var s = t(i[o + 0], i[o + 1], n, 0),
												l = t(i[o + 2], i[o + 3], n, 4),
												u = 0;
											u < 3;
											u++
										) {
											var c = n[u],
												f = n[4 + u];
											a && s <= l
												? ((n[8 + u] = (c + f) / 2),
												  (n[12 + u] = 0))
												: ((n[8 + u] = (2 * c + f) / 3),
												  (n[12 + u] =
														(c + 2 * f) / 3));
										}
										(n[11] = 255),
											(n[15] = a && s <= l ? 0 : 255);
										for (var h = 0; h < 4; ++h) {
											var p = i[o + 4 + h];
											(r[4 * h + 0] = 3 & p),
												(r[4 * h + 1] = (p >> 2) & 3),
												(r[4 * h + 2] = (p >> 4) & 3),
												(r[4 * h + 3] = (p >> 6) & 3);
										}
										for (var d = 0; d < 16; ++d)
											for (
												var y = 4 * r[d], m = 0;
												m < 4;
												++m
											)
												e[4 * d + m] = n[y + m];
									})(e, i, o + s, 0 != (1 & a)),
									0 != (2 & a)
										? (function (e, t, n) {
												for (var r = 0; r < 8; ++r) {
													var i = t[n + r],
														o = 15 & i,
														a = 240 & i;
													(e[8 * r + 3] =
														o | (o << 4)),
														(e[8 * r + 7] =
															a | (a >> 4));
												}
										  })(e, i, o)
										: 0 != (4 & a) &&
										  (function (e, t, i) {
												var o = t[i + 0],
													a = t[i + 1];
												if (
													((n[0] = o),
													(n[1] = a),
													o <= a)
												) {
													for (var s = 1; s < 5; ++s)
														n[1 + s] =
															((5 - s) * o +
																s * a) /
															5;
													(n[6] = 0), (n[7] = 255);
												} else
													for (var l = 1; l < 7; ++l)
														n[1 + l] =
															((7 - l) * o +
																l * a) /
															7;
												i += 2;
												for (
													var u = 0, c = 0;
													c < 2;
													++c
												) {
													for (
														var f = 0, h = 0;
														h < 3;
														++h
													)
														f |= t[i++] << (8 * h);
													for (
														var p = 0;
														p < 8;
														++p
													) {
														var d =
															(f >> (3 * p)) & 7;
														r[u++] = d;
													}
												}
												for (var y = 0; y < 16; ++y)
													e[4 * y + 3] = n[r[y]];
										  })(e, i, o);
							}
							var o = new Uint16Array(4),
								a = new Uint8Array(64);
							function s(e) {}
							s.decode = function (e, t, n, r, s) {
								if (
									null != e &&
									null != r &&
									0 !== n &&
									0 !== t
								) {
									var l = 0;
									1 & (l = s > 11 || 5 === s ? 4 : 33) &&
									32 & l
										? (function (e, t, n, r) {
												for (
													var i = e,
														a = 0,
														s = 0,
														l = 0,
														u = 0,
														c = 0,
														f = 0,
														h = 0,
														p = 0,
														d = 0,
														y = t / 4,
														m = n / 4,
														v = 0;
													v < m;
													v++
												)
													for (var g = 0; g < y; g++)
														(l =
															4 *
															((m - v) * y + g)),
															(o[0] = r[l]),
															(o[1] = r[l + 1]),
															(u = 31 & o[0]),
															(c = 2016 & o[0]),
															(f = 63488 & o[0]),
															(h = 31 & o[1]),
															(p = 2016 & o[1]),
															(d = 63488 & o[1]),
															(o[2] =
																((5 * u +
																	3 * h) >>
																	3) |
																(((5 * c +
																	3 * p) >>
																	3) &
																	2016) |
																(((5 * f +
																	3 * d) >>
																	3) &
																	63488)),
															(o[3] =
																((5 * h +
																	3 * u) >>
																	3) |
																(((5 * p +
																	3 * c) >>
																	3) &
																	2016) |
																(((5 * d +
																	3 * f) >>
																	3) &
																	63488)),
															(a = r[l + 2]),
															(i[
																(s =
																	4 * v * t +
																	4 * g)
															] = o[3 & a]),
															(i[s + 1] =
																o[
																	(a >> 2) & 3
																]),
															(i[s + 2] =
																o[
																	(a >> 4) & 3
																]),
															(i[s + 3] =
																o[
																	(a >> 6) & 3
																]),
															(i[(s += t)] =
																o[
																	(a >> 8) & 3
																]),
															(i[s + 1] =
																o[
																	(a >> 10) &
																		3
																]),
															(i[s + 2] =
																o[
																	(a >> 12) &
																		3
																]),
															(i[s + 3] =
																o[a >> 14]),
															(a = r[l + 3]),
															(i[(s += t)] =
																o[3 & a]),
															(i[s + 1] =
																o[
																	(a >> 2) & 3
																]),
															(i[s + 2] =
																o[
																	(a >> 4) & 3
																]),
															(i[s + 3] =
																o[
																	(a >> 6) & 3
																]),
															(i[(s += t)] =
																o[
																	(a >> 8) & 3
																]),
															(i[s + 1] =
																o[
																	(a >> 10) &
																		3
																]),
															(i[s + 2] =
																o[
																	(a >> 12) &
																		3
																]),
															(i[s + 3] =
																o[a >> 14]);
										  })(
												/*! @brief Decompresses an image in memory.
  
   @param rgba Storage for the decompressed pixels.
   @param width The width of the source image.
   @param height The height of the source image.
   @param blocks The compressed DXT blocks.
   @param flags Compression flags.
  
   The decompressed pixels will be written as a contiguous array of width*height
   16 rgba values, with each component as 1 byte each. In memory this is:
  
   { r1, g1, b1, a1, .... , rn, gn, bn, an } for n = width*height
  
   The flags parameter should specify either kDxt1, kDxt3 or kDxt5 compression,
   however, DXT1 will be used by default if none is specified. All other flags
   are ignored.
  
   Internally this function calls squish::Decompress for each block.
   */ e,
												t,
												n,
												r
										  )
										: (function (e, t, n, r, o) {
												for (
													var s =
															0 != (1 & o)
																? 8
																: 16,
														l = 0,
														u = 0;
													u < n;
													u += 4
												)
													for (
														var c = 0;
														c < t;
														c += 4
													) {
														i(a, r, l, o);
														for (
															var f = 0, h = 0;
															h < 4;
															++h
														)
															for (
																var p = 0;
																p < 4;
																++p
															) {
																var d = c + p,
																	y = u + h;
																if (
																	d < t &&
																	y < n
																)
																	for (
																		var m =
																				4 *
																				(t *
																					(n -
																						y) +
																					d),
																			v = 0;
																		v < 4;
																		++v
																	)
																		e[m++] =
																			a[
																				f++
																			];
																else f += 4;
															}
														l += s;
													}
										  })(e, t, n, r, l);
								}
							};
							var l = s;
							e.default = l;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(28), n(340), n(128), n(341), n(130)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i, o, a) {
							"use strict";
							var s = n(0);
							function l() {}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = s(t)),
								(r = s(r)),
								(i = s(i)),
								(o = s(o)),
								(a = s(a));
							var u = new Cesium.Cartesian3();
							function c(e, t) {
								return e.instanceIndex > -1
									? (function (e) {
											var t = new Cesium.BoundingSphere(),
												n = e.instanceBounds;
											if (!Cesium.defined(n)) return t;
											var r = new Cesium.Cartesian3(
													n[0],
													n[1],
													n[2]
												),
												i = new Cesium.Carteisan3(
													n[3],
													n[4],
													n[5]
												),
												o = Cesium.Cartesian3.lerp(
													r,
													i,
													0.5,
													u
												),
												a = Cesium.Cartesian3.distance(
													o,
													r
												);
											return (
												(t.center = o),
												(t.radius = a),
												t
											);
									  })(e)
									: (function (e, t) {
											var n,
												r,
												i = new Cesium.BoundingSphere(),
												o = new Cesium.Cartesian3(),
												s = e.vertexAttributes[0],
												l = s.componentsPerAttribute,
												u =
													Cesium.defined(
														e.compressOptions
													) &&
													(e.compressOptions &
														a.default
															.SVC_Vertex) ===
														a.default.SVC_Vertex,
												c = 1;
											u
												? ((c = e.vertCompressConstant),
												  (n = new Cesium.Cartesian3(
														e.minVerticesValue.x,
														e.minVerticesValue.y,
														e.minVerticesValue.z
												  )),
												  (r = new Uint16Array(
														s.typedArray.buffer,
														s.typedArray.byteOffset,
														s.typedArray
															.byteLength / 2
												  )))
												: (r = new Float32Array(
														s.typedArray.buffer,
														s.typedArray.byteOffset,
														s.typedArray
															.byteLength / 4
												  ));
											for (
												var f = [], h = 0;
												h < e.verticesCount;
												h++
											)
												Cesium.Cartesian3.fromArray(
													r,
													l * h,
													o
												),
													u &&
														((o =
															Cesium.Cartesian3.multiplyByScalar(
																o,
																c,
																o
															)),
														(o =
															Cesium.Cartesian3.add(
																o,
																n,
																o
															))),
													f.push(
														Cesium.Cartesian3.clone(
															o
														)
													);
											return (
												Cesium.BoundingSphere.fromPoints(
													f,
													i
												),
												Cesium.BoundingSphere.transform(
													i,
													t,
													i
												),
												(f.length = 0),
												i
											);
									  })(e, t);
							}
							function f(e, n, r, i, a) {
								for (
									var s = {},
										l = i.geodes,
										u = 0,
										f = l.length;
									u < f;
									u++
								) {
									var h = l[u],
										p = h.matrix,
										d = Cesium.Matrix4.multiply(
											e.modelMatrix,
											p,
											new Cesium.Matrix4()
										),
										y = void 0;
									Cesium.defined(a.boundingVolume) &&
										((y = new Cesium.BoundingSphere(
											a.boundingVolume.sphere.center,
											a.boundingVolume.sphere.radius
										)),
										Cesium.BoundingSphere.transform(
											y,
											e.modelMatrix,
											y
										));
									for (
										var m = h.skeletonNames,
											v = 0,
											g = m.length;
										v < g;
										v++
									) {
										var _ = m[v],
											b = n.geoPackage[_],
											x = b.vertexPackage,
											w = b.arrIndexPackage,
											C = b.pickInfo,
											T = void 0;
										w.length > 0 &&
											(T = r[w[0].materialCode]);
										var k = Cesium.defined(y) ? y : c(x, d);
										s[_] = o.default[e.fileType]({
											layer: e,
											vertexPackage: x,
											arrIndexPackage: w,
											pickInfo: C,
											modelMatrix: d,
											geoMatrix: p,
											boundingVolume: k,
											material: T,
											edgeGeometry: b.edgeGeometry,
											geoName: _,
										});
									}
								}
								if (!((0, t.default)(s).length < 1)) {
									if (!Cesium.defined(a.boundingVolume)) {
										var P = [];
										for (var E in s)
											s.hasOwnProperty(E) &&
												P.push(s[E].boundingVolume);
										a.boundingVolume = {
											sphere: Cesium.BoundingSphere.fromBoundingSpheres(
												P
											),
										};
									}
									a.geoMap = s;
								}
							}
							l.parse = function (e, t, n) {
								if (Cesium.defined(t))
									return (function (e, t, n) {
										for (
											var r = t.groupNode,
												i = [],
												o = 0,
												a = r.pageLods.length;
											o < a;
											o++
										) {
											var s = {},
												l = r.pageLods[o];
											(s.rangeMode = l.rangeMode),
												(s.rangeDataList = l.childTile),
												(s.rangeList = l.rangeList);
											var u = l.boundingSphere.center,
												c = l.boundingSphere.radius;
											"" !== s.rangeDataList
												? (s.boundingVolume = {
														sphere: {
															center: new Cesium.Cartesian3(
																u.x,
																u.y,
																u.z
															),
															radius: c,
														},
												  })
												: (s.isLeafTile = !0),
												f(e, t, n, l, s),
												Cesium.defined(s.geoMap) &&
													i.push(s);
										}
										return i;
									})(
										e,
										t,
										(function (e, t, n) {
											for (
												var o = {},
													a = t.materials.material,
													s = 0,
													l = a.length;
												s < l;
												s++
											) {
												var u = a[s].material,
													c = u.id,
													f = new i.default();
												o[c] = f;
												var h = u.ambient;
												f.ambientColor =
													new Cesium.Color(
														h.r,
														h.g,
														h.b,
														h.a
													);
												var p = u.diffuse;
												f.diffuseColor =
													new Cesium.Color(
														p.r,
														p.g,
														p.b,
														p.a
													);
												var d = u.specular;
												(f.specularColor =
													new Cesium.Color(
														d.r,
														d.g,
														d.b,
														d.a
													)),
													(f.shininess = u.shininess),
													(f.bTransparentSorting =
														u.transparentsorting);
												for (
													var y = u.textureunitstates,
														m = y.length,
														v = 0;
													v < m;
													v++
												) {
													var g =
															y[v]
																.textureunitstate,
														_ = g.id,
														b =
															0 ===
															g.addressmode.u
																? Cesium
																		.TextureWrap
																		.REPEAT
																: Cesium
																		.TextureWrap
																		.CLAMP_TO_EDGE,
														x =
															0 ===
															g.addressmode.v
																? Cesium
																		.TextureWrap
																		.REPEAT
																: Cesium
																		.TextureWrap
																		.CLAMP_TO_EDGE;
													f.texMatrix =
														Cesium.Matrix4.unpack(
															g.texmodmatrix
														);
													var w = t.texturePackage[_];
													if (
														Cesium.defined(w) &&
														w.arrayBufferView
															.byteLength > 0
													) {
														(w.wrapS = b),
															(w.wrapT = x);
														var C = n.fileName + _,
															T =
																e.textureCache.getTexture(
																	C
																);
														if (
															!Cesium.defined(T)
														) {
															if (
																Cesium.PixelFormat.isCompressedFormat(
																	w.internalFormat
																)
															)
																T =
																	new r.default(
																		e,
																		_,
																		w
																	);
															else {
																var k =
																	Cesium.Math.isPowerOfTwo(
																		w.width
																	) &&
																	Cesium.Math.isPowerOfTwo(
																		w.height
																	);
																(T =
																	new Cesium.Texture(
																		{
																			context:
																				e,
																			source: {
																				width: w.width,
																				height: w.height,
																				arrayBufferView:
																					w.arrayBufferView,
																			},
																			sampler:
																				new Cesium.Sampler(
																					{
																						minificationFilter:
																							k
																								? e
																										._gl
																										.LINEAR_MIPMAP_LINEAR
																								: e
																										._gl
																										.LINEAR,
																						wrapS: b,
																						wrapT: x,
																					}
																				),
																		}
																	)),
																	k &&
																		T.generateMipmap(
																			Cesium
																				.MipmapHint
																				.NICEST
																		);
															}
															e.textureCache.addTexture(
																C,
																T
															);
														}
														f.textures.push(T);
													}
												}
											}
											return o;
										})(e.context, t, n)
									);
							};
							var h = l;
							e.default = h;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t(e, t, n) {
								var r = e._gl;
								(this.contextId = e.id),
									(this.textureId = t),
									(this.layerId = n.layerId),
									(this.rootName = n.rootName),
									(this.context = e),
									(this.width = n.width),
									(this.height = n.height),
									(this.compressType = n.compressType),
									(this.internalFormat = n.internalFormat),
									(this.pixelFormat = n.pixelFormat),
									(this.arrayBufferView = n.arrayBufferView),
									(this.wrapS = Cesium.defaultValue(
										n.wrapS,
										Cesium.TextureWrap.CLAMP_TO_EDGE
									)),
									(this.wrapT = Cesium.defaultValue(
										n.wrapT,
										Cesium.TextureWrap.CLAMP_TO_EDGE
									)),
									(this._target = r.TEXTURE_2D),
									(this._texture = void 0),
									(this.refCount = 1),
									this.arrayBufferView && this.init();
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t.prototype.init = function () {
									var e = this.context._gl;
									this._texture ||
										(this._texture = e.createTexture()),
										e.bindTexture(
											e.TEXTURE_2D,
											this._texture
										);
									var t = this.internalFormat;
									(6410 !== t && 4369 !== t) ||
										e.pixelStorei(
											e.UNPACK_FLIP_Y_WEBGL,
											!0
										);
									var n = 0,
										r = 0,
										i = this.width,
										o = this.height,
										a = (function (e, t, n, r) {
											for (
												var i = e.length,
													o = n,
													a = r,
													s = 0;
												(s +=
													Cesium.PixelFormat.compressedTextureSizeInBytes(
														t,
														o,
														a
													)),
													(a >>= 1),
													0 != (o >>= 1) || 0 !== a;

											)
												(o = Math.max(o, 1)),
													(a = Math.max(a, 1));
											return s === i;
										})(this.arrayBufferView, t, i, o);
									do {
										var s =
												Cesium.PixelFormat.compressedTextureSizeInBytes(
													t,
													i,
													o
												),
											l = new Uint8Array(
												this.arrayBufferView.buffer,
												this.arrayBufferView
													.byteOffset + r,
												s
											);
										4369 === t
											? e.texImage2D(
													e.TEXTURE_2D,
													n++,
													e.RGBA,
													i,
													o,
													0,
													e.RGBA,
													e.UNSIGNED_BYTE,
													l
											  )
											: e.compressedTexImage2D(
													e.TEXTURE_2D,
													n++,
													t,
													i,
													o,
													0,
													l
											  ),
											(i = Math.max(i >> 1, 1)),
											(o = Math.max(o >> 1, 1)),
											(r += s);
									} while (
										r < this.arrayBufferView.byteLength &&
										a
									);
									n > 1
										? (e.texParameteri(
												e.TEXTURE_2D,
												e.TEXTURE_MAG_FILTER,
												e.LINEAR
										  ),
										  e.texParameteri(
												e.TEXTURE_2D,
												e.TEXTURE_MIN_FILTER,
												e.LINEAR_MIPMAP_LINEAR
										  ))
										: (e.texParameteri(
												e.TEXTURE_2D,
												e.TEXTURE_MAG_FILTER,
												e.LINEAR
										  ),
										  e.texParameteri(
												e.TEXTURE_2D,
												e.TEXTURE_MIN_FILTER,
												e.LINEAR
										  )),
										e.texParameteri(
											e.TEXTURE_2D,
											e.TEXTURE_WRAP_S,
											this.wrapS
										),
										e.texParameteri(
											e.TEXTURE_2D,
											e.TEXTURE_WRAP_T,
											this.wrapT
										),
										e.texParameteri(
											this._target,
											this.context
												._textureFilterAnisotropic
												.TEXTURE_MAX_ANISOTROPY_EXT,
											1
										),
										e.bindTexture(e.TEXTURE_2D, null),
										(this.arrayBufferView = void 0),
										(this.ready = !0);
								}),
								(t.prototype.isDestroyed = function () {
									return !1;
								}),
								(t.prototype.destroy = function () {
									this.context._gl.deleteTexture(
										this._texture
									),
										(this._texture = null),
										(this.id = 0),
										Cesium.destroyObject(this);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(342), n(350)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r) {
							"use strict";
							var i = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = i(t)),
								(r = i(r));
							var o = {
								OSGBFile: function (e) {
									return new r.default(e);
								},
								OSGBCacheFile: function (e) {
									return new t.default(e);
								},
							};
							e.default = o;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(343), n(344), n(129)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i) {
							"use strict";
							var o = n(0);
							function a(e) {
								i.default.call(this, e),
									(this.vs = t.default),
									(this.fs = r.default),
									(this.useLineColor = !1);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = o(t)),
								(r = o(r)),
								(i = o(i)),
								(a.prototype = Object.create(
									i.default.prototype
								)),
								(a.prototype.constructor = i.default),
								(a.prototype.createCommand = function () {
									if (
										!Cesium.defined(this.colorCommand) &&
										0 ===
											this.vertexBufferToCreate.length &&
										0 === this.indexBufferToCreate.length &&
										0 === this.shaderProgramToCreate.length
									) {
										var e = this.layer,
											t = e.context,
											n = this.vertexPackage,
											r = this.arrIndexPackage,
											i = n.vertexAttributes;
										if (!(r.length < 1)) {
											var o = r[0],
												a = this.material;
											this.vertexArray =
												new Cesium.VertexArray({
													context: t,
													attributes: i,
													indexBuffer: o.indexBuffer,
												});
											var s =
												Cesium.PrimitiveType.TRIANGLES;
											switch (o.primitiveType) {
												case 1:
													s =
														Cesium.PrimitiveType
															.POINTS;
													break;
												case 2:
													s =
														Cesium.PrimitiveType
															.LINES;
													break;
												case 4:
													s =
														Cesium.PrimitiveType
															.TRIANGLES;
											}
											(this.useLineColor =
												s ===
												Cesium.PrimitiveType.LINES),
												(this.colorCommand =
													new Cesium.DrawCommand({
														primitiveType: s,
														modelMatrix:
															this.modelMatrix,
														boundingVolume:
															Cesium.BoundingSphere.clone(
																this
																	.boundingVolume
															),
														pickId: this
															.pickColorIdentifier,
														vertexArray:
															this.vertexArray,
														shaderProgram:
															this.shaderProgram,
														pass: a.bTransparentSorting
															? Cesium.Pass
																	.TRANSLUCENT
															: Cesium.Pass
																	.OPAQUE,
														renderState:
															a.bTransparentSorting
																? Cesium.RenderState.fromCache(
																		{
																			cull: {
																				enabled:
																					!0,
																			},
																			depthTest:
																				{
																					enabled:
																						!0,
																					func: Cesium
																						.DepthFunction
																						.LESS_OR_EQUAL,
																				},
																			blending:
																				Cesium
																					.BlendingState
																					.ALPHA_BLEND,
																		}
																  )
																: Cesium.RenderState.fromCache(
																		{
																			cull: {
																				enabled:
																					!1,
																			},
																			depthTest:
																				{
																					enabled:
																						!0,
																					func: Cesium
																						.DepthFunction
																						.LESS_OR_EQUAL,
																				},
																			blending:
																				Cesium
																					.BlendingState
																					.ALPHA_BLEND,
																		}
																  ),
														instanceCount:
															n.instanceCount,
													}));
											var l = (function (e, t, n) {
												return {
													uGeoMatrix: function () {
														return n.geoMatrix;
													},
													uTexMatrix: function () {
														return e.texMatrix;
													},
													uFillForeColor:
														function () {
															return n.useLineColor
																? t.style3D
																		.lineColor
																: t.style3D
																		.fillForeColor;
														},
													uInverseGeoMatrix:
														function () {
															return n.invGeoMatrix;
														},
													uTexture: function () {
														return e.textures[0];
													},
													uTexture2: function () {
														return e.textures[1];
													},
													uTexture0Width:
														function () {
															return e.textures[0]
																.width;
														},
													uTexture1Width:
														function () {
															return e.textures[1]
																.width;
														},
													uDiffuseColor: function () {
														return e.diffuseColor;
													},
													uSelectedColor:
														function () {
															return t._selectedColor;
														},
												};
											})(a, e, this);
											this.batchTable &&
												(l =
													this.batchTable.getUniformMapCallback()(
														l
													)),
												(this.colorCommand.uniformMap =
													l),
												(this.vertexPackage = void 0),
												(this.arrIndexPackage = void 0),
												(this.vs = void 0),
												(this.fs = void 0),
												(this.ready = !0);
										}
									}
								}),
								(a.prototype.update = function (e, t) {
									if (!this.ready)
										return (
											this.createBatchTable(e),
											this.createPickIds(),
											this.createBuffers(e),
											this.createShaderProgram(e),
											this.createCommand(e),
											void this.initLayerSetting(t)
										);
									this.batchTableDirty &&
										(this.updateBatchTableAttributes(),
										(this.batchTableDirty = !1)),
										this.batchTable &&
											this.batchTable.update(e),
										e.commandList.push(this.colorCommand);
								}),
								(a.prototype.isDestroyed = function () {
									return !1;
								}),
								(a.prototype.destroy = function () {
									return (
										(this.shaderProgram =
											this.shaderProgram &&
											!this.shaderProgram.isDestroyed() &&
											this.shaderProgram.destroy()),
										(this.vertexArray =
											this.vertexArray &&
											!this.vertexArray.isDestroyed() &&
											this.vertexArray.destroy()),
										(this.material =
											this.material &&
											!this.material.isDestroyed() &&
											this.material.destroy()),
										(this.batchTable =
											this.batchTable &&
											!this.batchTable.isDestroyed() &&
											this.batchTable.destroy()),
										(this.colorCommand = void 0),
										(this.vertexPackage = null),
										(this.arrIndexPackage = null),
										(this.modelMatrix = void 0),
										(this.pickInfo = void 0),
										(this.selectionInfoMap = void 0),
										(this.vs = void 0),
										(this.fs = void 0),
										Cesium.destroyObject(this)
									);
								});
							var s = a;
							e.default = s;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.default =
									"\n    attribute vec4 aPosition;\n#ifdef VertexColor\n    attribute vec4 aColor;\n#endif\n#ifdef VertexNormal\n    attribute vec3 aNormal;\n#endif\n#ifdef Instance\n    attribute float instanceId;\n#else\n    attribute float batchId;\n#endif \n\n#ifdef TexCoord\n    attribute vec4 aTexCoord0;\n    varying vec4 vTexCoord;\n    uniform mat4 uTexMatrix;\n#ifdef COMPUTE_TEXCOORD\n    uniform float uTexture0Width;\n    varying vec4 vTexMatrix;\n    varying vec4 vTexCoordTransform;\n    varying vec2 vIsRGBA;\n#endif\n#endif\n\n#ifdef TexCoord2\n    attribute vec4 aTexCoord1;\n    uniform float uTexture1Width;\n    varying vec4 vTexMatrix2;\n#endif\n#ifdef InstanceBim\n    attribute vec4 uv2;\n    attribute vec4 uv3;\n    attribute vec4 uv4;\n    attribute vec4 secondary_colour;\n    attribute vec4 uv6;   \n#endif\n\n    uniform vec4 uFillForeColor;\n    uniform vec4 uSelectedColor;\n    varying vec4 vSecondColor;\n    varying vec4 vPositionMC;\n    varying vec3 vPositionEC;\n#ifdef VertexNormal\n    varying vec3 vNormalEC;\n#endif\n    varying vec4 vColor;\n    \n    const float SHIFT_LEFT8 = 256.0;\n    const float SHIFT_RIGHT8 = 1.0 / 256.0;\n    const float SHIFT_RIGHT4 = 1.0 / 16.0;\n    const float SHIFT_LEFT4 = 16.0;\n    void getTextureMatrixFromZValue(in float nZ, inout float XTran, inout float YTran, inout float scale, inout float isRGBA)\n    {\n        if(nZ <= 0.0)\n        {\n            return;\n        }\n        float nDel8 = floor(nZ * SHIFT_RIGHT8);\n        float nDel16 = floor(nDel8 * SHIFT_RIGHT8);\n        float nDel20 = floor(nDel16 * SHIFT_RIGHT4);\n        isRGBA = floor(nDel20);\n        YTran = nZ - nDel8 * SHIFT_LEFT8;\n        XTran = nDel8 - nDel16 * SHIFT_LEFT8;\n        float nLevel = nDel16 - nDel20 * SHIFT_LEFT4;\n        scale = 1.0 / pow(2.0, nLevel);\n    }\n    \n    void operation(vec4 operationType, vec4 color, vec4 selectedColor, inout vec4 vertexColor)\n    {\n        float right_2 = operationType.x * 0.5;\n        float right_4 = right_2 * 0.5;\n        float right_8 = right_4 * 0.5;\n        float right_16 = right_8 * 0.5;\n        float isSetColor = fract(right_2);\n        if(isSetColor > 0.1)\n        {\n            vertexColor *= color;\n        }\n        float isPicked = fract(floor(right_2)* 0.5);\n        if(isPicked > 0.1)\n        {\n            vertexColor *= selectedColor;\n        }\n        float isHide = fract(floor(right_4)* 0.5);\n        if(isHide > 0.1)\n        {\n            vertexColor.a = 0.0;\n        }\n    }\n    \n    void main()\n    {\n    #ifdef TexCoord\n        vTexCoord.xy = aTexCoord0.xy;\n    #ifdef COMPUTE_TEXCOORD\n        vTexMatrix = vec4(0.0,0.0,1.0,0.0);\n        vIsRGBA.x = 0.0;\n        vTexCoordTransform.x = aTexCoord0.z;\n        if(vTexCoordTransform.x < -90000.0)\n        {\n            vTexMatrix.z = -1.0;\n        }\n        getTextureMatrixFromZValue(floor(vTexCoordTransform.x), vTexMatrix.x, vTexMatrix.y, vTexMatrix.z, vIsRGBA.x);\n        vTexMatrix.w = log2(uTexture0Width * vTexMatrix.z);\n    #endif\n    #endif\n    \n    #ifdef TexCoord2\n        vTexCoord.zw = aTexCoord1.xy;\n        vTexMatrix2 = vec4(0.0,0.0,1.0,0.0);\n        vIsRGBA.y = 0.0;\n        vTexCoordTransform.y = aTexCoord1.z;\n        if(vTexCoordTransform.y < -90000.0)\n        {\n            vTexMatrix2.z = -1.0;\n        }\n        getTextureMatrixFromZValue(floor(vTexCoordTransform.y), vTexMatrix2.x, vTexMatrix2.y, vTexMatrix2.z, vIsRGBA.y);\n        vTexMatrix2.w = log2(uTexture1Width * vTexMatrix.z);\n    #endif\n    \n    vec4 vertexPos = aPosition;\n    vec4 vertexColor = uFillForeColor;\n#ifdef VertexColor\n    vertexColor *= aColor;\n#endif\n#ifdef VertexNormal\n    vec3 normal = aNormal;\n#endif\n    #ifdef InstanceBim\n        mat4 worldMatrix;\n        worldMatrix[0] = uv2;\n        worldMatrix[1] = uv3;\n        worldMatrix[2] = uv4;\n        worldMatrix[3] = vec4(0, 0, 0, 1);\n        vertexPos = vec4(vertexPos.xyz,1.0) * worldMatrix;\n        vertexColor *= secondary_colour; \n    #endif\n    \n\n    #ifdef Instance  \n        float index = instanceId;\n    #else\n        float index = batchId;\n    #endif  \n        vec4 operationType = batchTable_operation(index);\n        operation(operationType, vec4(1.0), uSelectedColor, vertexColor);\n        vSecondColor = batchTable_pickColor(index);\n        vec4 positionMC = vec4(vertexPos.xyz, 1.0);\n        vColor = vertexColor;\n    #ifdef VertexNormal\n        vNormalEC = czm_normal * normal;\n    #endif\n        vPositionMC = positionMC;\n        vPositionEC = (czm_modelView * positionMC).xyz;\n        gl_Position = czm_modelViewProjection * vec4(vertexPos.xyz, 1.0);\n    }\n");
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.default =
									"\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n#endif\n    uniform vec4 uDiffuseColor;\n#ifdef TexCoord\n    varying vec4 vTexCoord;\n#ifdef COMPUTE_TEXCOORD\n    uniform sampler2D uTexture;\n    uniform float uTexture0Width;\n    varying vec4 vTexCoordTransform;\n    varying vec4 vTexMatrix;\n    varying vec2 vIsRGBA;\n#endif\n#endif\n\n    varying vec4 vColor;\n    varying vec4 vSecondColor;\n    varying vec4 vPositionMC;\n    varying vec3 vPositionEC;\n#ifdef VertexNormal\n    varying vec3 vNormalEC;\n#endif\n#ifdef TexCoord2\n    uniform sampler2D uTexture2;\n    uniform float uTexture1Width;\n    varying vec4 vTexMatrix2;\n#endif\n#ifdef COMPUTE_TEXCOORD\n    void calculateMipLevel(in vec2 inTexCoord, in float vecTile, in float fMaxMip, inout float mipLevel)\n    {\n        vec2 dx = dFdx(inTexCoord * vecTile);\n        vec2 dy = dFdy(inTexCoord * vecTile);\n        float dotX = dot(dx, dx);\n        float dotY = dot(dy, dy);\n        float dMax = max(dotX, dotY);\n        float dMin = min(dotX, dotY);\n        float offset = (dMax - dMin) / (dMax + dMin);\n        offset = clamp(offset, 0.0, 1.0);\n        float d = dMax * (1.0 - offset) + dMin * offset;\n        mipLevel = 0.5 * log2(d);\n        mipLevel = clamp(mipLevel, 0.0, fMaxMip - 1.62);\n    }\n    \n    void calculateTexCoord(in vec3 inTexCoord, in float scale, in float XTran, in float YTran, in float fTile, in float mipLevel, inout vec2 outTexCoord)\n    {\n        if(inTexCoord.z < -9000.0)\n        {\n            outTexCoord = inTexCoord.xy;\n        }\n        else\n        {\n            vec2 fTexCoord = fract(inTexCoord.xy);\n            float offset = 1.0 * pow(2.0, mipLevel) / fTile;\n            fTexCoord = clamp(fTexCoord, offset, 1.0 - offset);\n            outTexCoord.x = (fTexCoord.x + XTran) * scale;\n            outTexCoord.y = (fTexCoord.y + YTran) * scale;\n        }\n    }\n    \n    vec4 getTexColorForS3M(sampler2D curTexture, vec3 oriTexCoord, float texTileWidth, float fMaxMipLev, float fTexCoordScale, vec2 vecTexCoordTranslate, float isRGBA)\n    {\n        vec4 color = vec4(1.0);\n        float mipLevel = 0.0;\n    #ifdef GL_OES_standard_derivatives\n        calculateMipLevel(oriTexCoord.xy, texTileWidth, fMaxMipLev, mipLevel);\n    #endif\n        vec2 realTexCoord;\n        calculateTexCoord(oriTexCoord, fTexCoordScale, vecTexCoordTranslate.x, vecTexCoordTranslate.y, texTileWidth, mipLevel, realTexCoord);\n        if(isRGBA > 0.5)\n        {\n            vec2 rgbTexCoord;\n            rgbTexCoord.x = (realTexCoord.x + vecTexCoordTranslate.x * fTexCoordScale) * 0.5;\n            rgbTexCoord.y = (realTexCoord.y + vecTexCoordTranslate.y * fTexCoordScale) * 0.5;\n            color = texture2D(curTexture, rgbTexCoord.xy, -10.0);\n            vec2 vecAlphaTexCoord;\n            vecAlphaTexCoord.x = rgbTexCoord.x;\n            vecAlphaTexCoord.y = rgbTexCoord.y + fTexCoordScale * 0.5;\n            color.a = texture2D(curTexture, vecAlphaTexCoord.xy, -10.0).r;\n        }\n        else\n        {\n            if(oriTexCoord.z < -9000.0)\n            {\n                color = texture2D(curTexture, realTexCoord.xy);\n            }\n            else\n            {\n                #ifdef GL_EXT_shader_texture_lod\n                    color = texture2DLodEXT(curTexture, realTexCoord.xy, mipLevel);\n                #else\n                    color = texture2D(curTexture, realTexCoord.xy, mipLevel);\n                #endif\n            }\n        }\n        \n        return color;\n    }\n    \n    vec4 getTextureColor()\n    {\n        if(vTexMatrix.z < 0.0)\n        {\n            return vec4(1.0);\n        }\n        float texTileWidth0 = vTexMatrix.z * uTexture0Width;\n        vec3 realTexCoord = vec3(vTexCoord.xy, vTexCoordTransform.x);\n        vec4 FColor = getTexColorForS3M(uTexture, realTexCoord, texTileWidth0, vTexMatrix.w, vTexMatrix.z, vTexMatrix.xy, vIsRGBA.x);\n    #ifdef TexCoord2\n        float texTileWidth1 = vTexMatrix2.z * uTexture1Width;\n        realTexCoord = vec3(vTexCoord.zw, vTexCoordTransform.y);\n        vec4 SColor = getTexColorForS3M(uTexture2, realTexCoord, texTileWidth1, vTexMatrix2.w, vTexMatrix2.z, vTexMatrix2.xy, vIsRGBA.y);\n        SColor.r = clamp(SColor.r, 0.0, 1.0);\n        SColor.g = clamp(SColor.g, 0.0, 1.0);\n        SColor.b = clamp(SColor.b, 0.0, 1.0);\n        return FColor * SColor;\n    #else\n        return FColor;\n    #endif\n    }\n#endif\n    vec4 SRGBtoLINEAR4(vec4 srgbIn)\n    {\n    #ifndef HDR \n        vec3 linearOut = pow(srgbIn.rgb, vec3(2.2));\n        return vec4(linearOut, srgbIn.a);\n    #else\n        return srgbIn;\n    #endif\n    }\n    vec3 LINEARtoSRGB(vec3 linearIn)\n    {\n    #ifndef HDR \n        return pow(linearIn, vec3(1.0/2.2));\n    #else\n        return linearIn;\n    #endif\n    }\n    vec3 applyTonemapping(vec3 linearIn) \n    {\n    #ifndef HDR\n        return czm_acesTonemapping(linearIn);\n    #else\n        return linearIn;\n    #endif\n    }\n  \n    vec3 computeNormal(in vec3 oriVertex)\n    {\n        vec3 normal = cross(vec3(dFdx(oriVertex.x), dFdx(oriVertex.y), dFdx(oriVertex.z)), vec3(dFdy(oriVertex.x), dFdy(oriVertex.y), dFdy(oriVertex.z)));\n        normal = normalize(normal);\n        return normal;\n    }\n    \n    void main()\n    {\n        if(vColor.a < 0.1)\n        {\n            discard;\n        } \n        vec4 baseColorWithAlpha = vColor;\n    #ifdef COMPUTE_TEXCOORD\n        baseColorWithAlpha *= SRGBtoLINEAR4(getTextureColor());\n    #endif\n    \n        if(baseColorWithAlpha.a < 0.1)\n        {\n            discard;\n        }\n        vec3 normal = vec3(0.0);\n    #ifdef VertexNormal\n        normal = normalize(vNormalEC);\n    #endif\n        normal = length(normal) > 0.1 ? normal : computeNormal(vPositionMC.xyz);\n        vec3 color = baseColorWithAlpha.rgb;\n        vec3 dirVectorEC = normalize(czm_lightDirectionEC);\n        float dotProduct = dot( normal, dirVectorEC );\n        float dirDiffuseWeight = max( dotProduct, 0.0 );\n        dirDiffuseWeight = dirDiffuseWeight * 0.5 + 0.5;\n        color += color * uDiffuseColor.rgb * dirDiffuseWeight;\n    #ifdef TexCoord\n        color = LINEARtoSRGB(color);\n    #endif\n        gl_FragColor = vec4(color, baseColorWithAlpha.a);\n    }\n");
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t() {
								(this.context = void 0),
									(this.model = void 0),
									(this.index = void 0);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t.prototype.set = function (e, t, n) {
									(this.context = e),
										(this.model = t),
										(this.index = n);
								}),
								(t.prototype.execute = function () {
									var e = this.context,
										t = this.index,
										n = this.model.vertexPackage,
										r = n.vertexAttributes[t];
									if (!Cesium.defined(r))
										throw new Cesium.DeveloperError(
											"attribute is null"
										);
									if (
										-1 !== n.instanceIndex &&
										!Cesium.defined(
											this.model.instanceBuffer
										)
									) {
										if (!Cesium.defined(n.instanceBuffer))
											throw new Cesium.DeveloperError(
												"instance buffer is null"
											);
										this.model.instanceBuffer =
											Cesium.Buffer.createVertexBuffer({
												context: e,
												typedArray: n.instanceBuffer,
												usage: Cesium.BufferUsage
													.STATIC_DRAW,
											});
									}
									1 !== r.instanceDivisor ||
									Cesium.defined(r.typedArray)
										? Cesium.defined(r.vertexBuffer) ||
										  ((r.vertexBuffer =
												Cesium.Buffer.createVertexBuffer(
													{
														context: e,
														typedArray:
															r.typedArray,
														usage: Cesium
															.BufferUsage
															.STATIC_DRAW,
													}
												)),
										  (r.typedArray = null),
										  delete r.typedArray)
										: (r.vertexBuffer =
												this.model.instanceBuffer);
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t() {
								(this.model = void 0),
									(this.context = void 0),
									(this.index = 0);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t.prototype.set = function (e, t, n) {
									(this.model = t),
										(this.context = e),
										(this.index = n);
								}),
								(t.prototype.execute = function () {
									var e = this.context,
										t =
											this.model.arrIndexPackage[
												this.index
											],
										n =
											this.model.vertexPackage
												.verticesCount;
									if (!Cesium.defined(t))
										throw new Cesium.DeveloperError(
											"index package is null"
										);
									if (!Cesium.defined(t.indexBuffer)) {
										if (
											!Cesium.defined(t.indicesTypedArray)
										)
											throw new Cesium.DeveloperError(
												"index buffer is null"
											);
										var r =
											Cesium.IndexDatatype.UNSIGNED_SHORT;
										(1 === t.indexType ||
											n >=
												Cesium.Math
													.SIXTY_FOUR_KILOBYTES) &&
											e.elementIndexUint &&
											(r =
												Cesium.IndexDatatype
													.UNSIGNED_INT),
											Cesium.defined(t.indexBuffer) ||
												(t.indexBuffer =
													Cesium.Buffer.createIndexBuffer(
														{
															context: e,
															typedArray:
																t.indicesTypedArray,
															usage: Cesium
																.BufferUsage
																.STATIC_DRAW,
															indexDatatype: r,
														}
													)),
											(t.indicesTypedArray = null),
											delete t.indicesTypedArray;
									}
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(348), n(130), n(349)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i) {
							"use strict";
							var o = n(0);
							function a() {
								(this.model = void 0), (this.context = void 0);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = o(t)),
								(r = o(r)),
								(i = o(i)),
								(a.prototype.set = function (e, t) {
									(this.model = t), (this.context = e);
								}),
								(a.prototype.execute = function () {
									var e = this.context,
										n = this.model,
										o = n.vs,
										a = n.fs,
										s = n.attributeLocations,
										l = n.material,
										u = n.vertexPackage,
										c = n.batchTable
											? n.batchTable.getVertexShaderCallback()(
													o
											  )
											: o;
									void 0 === e.texturelod &&
										(e.texturelod = Cesium.defaultValue(
											(function (e, t) {
												for (
													var n = t.length, r = 0;
													r < n;
													++r
												) {
													var i = e.getExtension(
														t[r]
													);
													if (i) return i;
												}
											})(e._gl, [
												"EXT_shader_texture_lod",
											]),
											!1
										));
									var f = new Cesium.ShaderSource({
											sources: [c],
										}),
										h = new Cesium.ShaderSource({
											sources: [a],
										});
									if (
										(Cesium.defined(s.aNormal) &&
											(f.defines.push(
												t.default.VertexNormal
											),
											h.defines.push(
												t.default.VertexNormal
											)),
										Cesium.defined(s.aColor) &&
											f.defines.push(
												t.default.VertexColor
											),
										l &&
											l.textures.length > 0 &&
											(f.defines.push(
												t.default.COMPUTE_TEXCOORD
											),
											h.defines.push(
												t.default.COMPUTE_TEXCOORD
											)),
										l &&
											2 === l.textures.length &&
											(f.defines.push(
												t.default.TexCoord2
											),
											h.defines.push(
												t.default.TexCoord2
											)),
										Cesium.defined(s.aTexCoord0) &&
											(f.defines.push("TexCoord"),
											h.defines.push("TexCoord")),
										u.instanceIndex > -1 &&
											f.defines.push(t.default.Instance),
										u.instanceMode === i.default.BIM &&
											f.defines.push(
												t.default.InstanceBim
											),
										Cesium.defined(u.compressOptions))
									) {
										var p = u.compressOptions;
										(p & r.default.SVC_Vertex) ===
											r.default.SVC_Vertex &&
											f.defines.push(
												t.default.COMPRESS_VERTEX
											),
											(p & r.default.SVC_Normal) ===
												r.default.SVC_Normal &&
												f.defines.push(
													t.default.COMPRESS_NORMAL
												),
											(p & r.default.SVC_VertexColor) ===
												r.default.SVC_VertexColor &&
												f.defines.push(
													t.default.COMPRESS_COLOR
												),
											(p & r.default.SVC_TexutreCoord) ===
												r.default.SVC_TexutreCoord &&
												f.defines.push(
													t.default.COMPRESS_TEXCOORD
												);
									}
									Cesium.defined(n.arrIndexPackage) &&
										n.arrIndexPackage.length > 0 &&
										2 ===
											n.arrIndexPackage[0]
												.primitiveType &&
										h.defines.push(t.default.UseLineColor),
										(n.shaderProgram =
											Cesium.ShaderProgram.fromCache({
												context: e,
												vertexShaderSource: f,
												fragmentShaderSource: h,
												attributeLocations: s,
											}));
								});
							var s = a;
							e.default = s;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(29)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t) {
							"use strict";
							var r = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0);
							var i = (0, (t = r(t)).default)({
								VertexNormal: "VertexNormal",
								VertexColor: "VertexColor",
								TexCoord: "TexCoord",
								TexCoord2: "TexCoord2",
								Instance: "Instance",
								COMPRESS_VERTEX: "COMPRESS_VERTEX",
								COMPRESS_NORMAL: "COMPRESS_NORMAL",
								COMPRESS_COLOR: "COMPRESS_COLOR",
								COMPRESS_TEXCOORD: "COMPRESS_TEXCOORD",
								UseLineColor: "USE_LINECOLOR",
								InstanceBim: "InstanceBim",
								COMPUTE_TEXCOORD: "COMPUTE_TEXCOORD",
							});
							e.default = i;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(29)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t) {
							"use strict";
							var r = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0);
							var i = (0, (t = r(t)).default)({ BIM: 17 });
							e.default = i;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(351), n(352), n(129)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r, i) {
							"use strict";
							var o = n(0);
							function a(e) {
								i.default.call(this, e),
									(this.vs = t.default),
									(this.fs = r.default);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = o(t)),
								(r = o(r)),
								(i = o(i)),
								(a.prototype = Object.create(
									i.default.prototype
								)),
								(a.prototype.constructor = i.default),
								(a.prototype.createCommand = function () {
									if (
										!Cesium.defined(this.colorCommand) &&
										0 ===
											this.vertexBufferToCreate.length &&
										0 === this.indexBufferToCreate.length &&
										0 === this.shaderProgramToCreate.length
									) {
										var e = this.layer,
											t = e.context,
											n = this.vertexPackage,
											r = this.arrIndexPackage,
											i = n.vertexAttributes;
										if (!(r.length < 1)) {
											var o = r[0],
												a = this.material;
											(this.vertexArray =
												new Cesium.VertexArray({
													context: t,
													attributes: i,
													indexBuffer: o.indexBuffer,
												})),
												(this.colorCommand =
													new Cesium.DrawCommand({
														primitiveType:
															o.primitiveType,
														modelMatrix:
															this.modelMatrix,
														boundingVolume:
															Cesium.BoundingSphere.clone(
																this
																	.boundingVolume
															),
														vertexArray:
															this.vertexArray,
														shaderProgram:
															this.shaderProgram,
														pass: a.bTransparentSorting
															? Cesium.Pass
																	.TRANSLUCENT
															: Cesium.Pass
																	.OPAQUE,
														renderState:
															Cesium.RenderState.fromCache(
																{
																	cull: {
																		enabled:
																			!0,
																	},
																	depthTest: {
																		enabled:
																			!0,
																		func: Cesium
																			.DepthFunction
																			.LESS_OR_EQUAL,
																	},
																	blending:
																		Cesium
																			.BlendingState
																			.ALPHA_BLEND,
																}
															),
														instanceCount:
															n.instanceCount,
													})),
												(this.colorCommand.uniformMap =
													(function (e, t, n) {
														return {
															uGeoMatrix:
																function () {
																	return n.geoMatrix;
																},
															uInverseGeoMatrix:
																function () {
																	return n.invGeoMatrix;
																},
															uTexture:
																function () {
																	return e
																		.textures[0];
																},
															uTexture0Width:
																function () {
																	return e
																		.textures[0]
																		.width;
																},
														};
													})(a, 0, this)),
												(this.vertexPackage = void 0),
												(this.arrIndexPackage = void 0),
												(this.vs = void 0),
												(this.fs = void 0),
												(this.ready = !0);
										}
									}
								}),
								(a.prototype.update = function (e, t) {
									if (!this.ready)
										return (
											this.createBuffers(e),
											this.createShaderProgram(e),
											this.createCommand(e),
											void this.initLayerSetting(t)
										);
									e.commandList.push(this.colorCommand);
								}),
								(a.prototype.isDestroyed = function () {
									return !1;
								}),
								(a.prototype.destroy = function () {
									return (
										(this.shaderProgram =
											this.shaderProgram &&
											!this.shaderProgram.isDestroyed() &&
											this.shaderProgram.destroy()),
										(this.vertexArray =
											this.vertexArray &&
											!this.vertexArray.isDestroyed() &&
											this.vertexArray.destroy()),
										(this.material =
											this.material &&
											!this.material.isDestroyed() &&
											this.material.destroy()),
										(this.colorCommand = void 0),
										(this.vertexPackage = null),
										(this.arrIndexPackage = null),
										(this.modelMatrix = void 0),
										(this.pickInfo = void 0),
										(this.selectionInfoMap = void 0),
										(this.vs = void 0),
										(this.fs = void 0),
										Cesium.destroyObject(this)
									);
								});
							var s = a;
							e.default = s;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.default =
									"\n    attribute vec4 aPosition;\n    attribute vec4 aColor;\n#ifdef TexCoord\n    attribute vec4 aTexCoord0;\n    uniform float uTexture0Width;\n    varying vec4 vTexCoord;\n    varying vec4 vTexMatrix;\n    varying vec4 vTexCoordTransform;\n#endif\n    \n#ifdef VertexColor\n    varying vec4 vColor;\n#endif\n    \n    const float SHIFT_LEFT8 = 256.0;\n    const float SHIFT_RIGHT8 = 1.0 / 256.0;\n    const float SHIFT_RIGHT4 = 1.0 / 16.0;\n    const float SHIFT_LEFT4 = 16.0;\n    void getTextureMatrixFromZValue(in float nZ, inout float XTran, inout float YTran, inout float scale)\n    {\n        if(nZ <= 0.0)\n        {\n            return;\n        }\n        float nDel8 = floor(nZ * SHIFT_RIGHT8);\n        float nDel16 = floor(nDel8 * SHIFT_RIGHT8);\n        float nDel20 = floor(nDel16 * SHIFT_RIGHT4);\n        YTran = nZ - nDel8 * SHIFT_LEFT8;\n        XTran = nDel8 - nDel16 * SHIFT_LEFT8;\n        float nLevel = nDel16 - nDel20 * SHIFT_LEFT4;\n        scale = 1.0 / pow(2.0, nLevel);\n    }\n    \n    void main()\n    {\n    #ifdef TexCoord\n        vTexCoord.xy = aTexCoord0.xy;\n        vTexMatrix = vec4(0.0,0.0,1.0,0.0);\n        vTexCoordTransform.x = aTexCoord0.z;\n        if(vTexCoordTransform.x < -90000.0)\n        {\n            vTexMatrix.z = -1.0;\n        }\n        getTextureMatrixFromZValue(floor(vTexCoordTransform.x), vTexMatrix.x, vTexMatrix.y, vTexMatrix.z);\n        vTexMatrix.w = log2(uTexture0Width * vTexMatrix.z);\n    #endif\n    \n        vec4 vertexPos = aPosition;\n\n    #ifdef VertexColor\n         vColor = aColor;\n    #endif\n    \n        gl_Position = czm_modelViewProjection * vec4(vertexPos.xyz, 1.0);\n    }\n");
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(e.default =
									"\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n#endif\n\n#ifdef TexCoord\n    uniform sampler2D uTexture;\n    uniform float uTexture0Width;\n    varying vec4 vTexCoord;\n    varying vec4 vTexCoordTransform;\n    varying vec4 vTexMatrix;\n#endif\n\n#ifdef VertexColor\n    varying vec4 vColor;\n#endif\n\n#ifdef TexCoord\n    void calculateMipLevel(in vec2 inTexCoord, in float vecTile, in float fMaxMip, inout float mipLevel)\n    {\n        vec2 dx = dFdx(inTexCoord * vecTile);\n        vec2 dy = dFdy(inTexCoord * vecTile);\n        float dotX = dot(dx, dx);\n        float dotY = dot(dy, dy);\n        float dMax = max(dotX, dotY);\n        float dMin = min(dotX, dotY);\n        float offset = (dMax - dMin) / (dMax + dMin);\n        offset = clamp(offset, 0.0, 1.0);\n        float d = dMax * (1.0 - offset) + dMin * offset;\n        mipLevel = 0.5 * log2(d);\n        mipLevel = clamp(mipLevel, 0.0, fMaxMip - 1.62);\n    }\n\n    void calculateTexCoord(in vec3 inTexCoord, in float scale, in float XTran, in float YTran, in float fTile, in float mipLevel, inout vec2 outTexCoord)\n    {\n        if(inTexCoord.z < -9000.0)\n        {\n            outTexCoord = inTexCoord.xy;\n        }\n        else\n        {\n            vec2 fTexCoord = fract(inTexCoord.xy);\n            float offset = 1.0 * pow(2.0, mipLevel) / fTile;\n            fTexCoord = clamp(fTexCoord, offset, 1.0 - offset);\n            outTexCoord.x = (fTexCoord.x + XTran) * scale;\n            outTexCoord.y = (fTexCoord.y + YTran) * scale;\n        }\n    }\n    \n    vec4 getTexColorForS3M(sampler2D curTexture, vec3 oriTexCoord, float texTileWidth, float fMaxMipLev, float fTexCoordScale, vec2 vecTexCoordTranslate)\n    {\n        vec4 color = vec4(1.0);\n        float mipLevel = 0.0;\n    #ifdef GL_OES_standard_derivatives\n        calculateMipLevel(oriTexCoord.xy, texTileWidth, fMaxMipLev, mipLevel);\n    #endif\n        vec2 realTexCoord;\n        calculateTexCoord(oriTexCoord, fTexCoordScale, vecTexCoordTranslate.x, vecTexCoordTranslate.y, texTileWidth, mipLevel, realTexCoord);\n        if(oriTexCoord.z < -9000.0)\n        {\n            color = texture2D(curTexture, realTexCoord.xy);\n        }\n        else\n        {\n            #ifdef GL_EXT_shader_texture_lod\n                color = texture2DLodEXT(curTexture, realTexCoord.xy, mipLevel);\n            #else\n                color = texture2D(curTexture, realTexCoord.xy, mipLevel);\n            #endif\n        }\n        return color;\n    }\n\n    vec4 getTextureColor()\n    {\n        if(vTexMatrix.z < 0.0)\n        {\n            return vec4(1.0);\n        }\n        float texTileWidth0 = vTexMatrix.z * uTexture0Width;\n        vec3 realTexCoord = vec3(vTexCoord.xy, vTexCoordTransform.x);\n        return getTexColorForS3M(uTexture, realTexCoord, texTileWidth0, vTexMatrix.w, vTexMatrix.z, vTexMatrix.xy);\n    }\n#endif\n    \n    void main()\n    {\n        vec4 baseColorWithAlpha = vec4(1.0);\n        \n    #ifdef VertexColor\n        vec4 baseColorWithAlpha = vColor;\n    #endif\n    \n    #ifdef TexCoord\n        baseColorWithAlpha *= getTextureColor();\n    #endif  \n      \n        gl_FragColor = baseColorWithAlpha;\n    }\n");
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(127), n(131)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t, r) {
							"use strict";
							var i = n(0);
							function o() {
								this._stack = [];
							}
							function a(e, t) {
								return 0 === t.distanceToCamera &&
									0 === e.distanceToCamera
									? t.centerZDepth - e.centerZDepth
									: t.distanceToCamera - e.distanceToCamera;
							}
							function s(e, t, n, r) {
								var i,
									o = t.children,
									s = o.length;
								for (i = 0; i < s; ++i) h(r, e, o[i]);
								o.sort(a);
								var l = !0,
									p = !1,
									d = -1,
									y = Number.MAX_VALUE;
								for (i = 0; i < s; ++i) {
									var m = o[i];
									m.foveatedFactor < y &&
										((d = i), (y = m.foveatedFactor)),
										m.visible
											? (n.push(m), (p = !0))
											: (u(e, m, r),
											  f(e, m, r),
											  c(e, m, r));
									var v = m.renderable;
									l = l && v;
								}
								if ((p || (l = !1), -1 !== d)) {
									var g = o[d];
									g.wasMinPriorityChild = !0;
									var _ =
										(t.wasMinPriorityChild ||
											t.isRootTile) &&
										y <= t.priorityHolder.foveatedFactor
											? t.priorityHolder
											: t;
									for (
										_.foveatedFactor = Math.min(
											g.foveatedFactor,
											_.foveatedFactor
										),
											_.distanceToCamera = Math.min(
												g.distanceToCamera,
												_.distanceToCamera
											),
											i = 0;
										i < s;
										++i
									)
										o[i].priorityHolder = _;
								}
								return l;
							}
							function l(e, t, n) {
								t.selectedFrame !== n.frameNumber &&
									t.renderable &&
									(e._selectedTiles.push(t),
									(t.selectedFrame = n.frameNumber));
							}
							function u(e, n, r) {
								n.requestedFrame !== r.frameNumber &&
									n.contentState === t.default.UNLOADED &&
									(e._requestTiles.push(n),
									(n.requestedFrame = r.frameNumber));
							}
							function c(e, n, r) {
								n.processFrame === r.frameNumber ||
									n.contentState !== t.default.READY ||
									n.renderable ||
									((n.processFrame = r.frameNumber),
									e._processTiles.push(n));
							}
							function f(e, t, n) {
								t.touchedFrame !== n.frameNumber &&
									(e._cache.touch(t),
									(t.touchedFrame = n.frameNumber));
							}
							function h(e, t, n) {
								!(function (e, t, n) {
									!(function (e, t, n) {
										t.updatedVisibilityFrame !==
											n.frameNumber &&
											((t.updatedVisibilityFrame =
												n.frameNumber),
											t.updateVisibility(n, e));
									})(t, n, e);
								})(e, t, n),
									(n.wasMinPriorityChild = !1),
									(n.priorityHolder = n),
									(function (e, t) {
										(e._maximumPriority.distance = Math.max(
											t.distanceToCamera,
											e._maximumPriority.distance
										)),
											(e._minimumPriority.distance =
												Math.min(
													t.distanceToCamera,
													e._minimumPriority.distance
												)),
											(e._maximumPriority.depth =
												Math.max(
													t.depth,
													e._maximumPriority.depth
												)),
											(e._minimumPriority.depth =
												Math.min(
													t.depth,
													e._minimumPriority.depth
												)),
											(e._maximumPriority.foveatedFactor =
												Math.max(
													t.foveatedFactor,
													e._maximumPriority
														.foveatedFactor
												)),
											(e._minimumPriority.foveatedFactor =
												Math.min(
													t.foveatedFactor,
													e._minimumPriority
														.foveatedFactor
												)),
											(e._maximumPriority.pixel =
												Math.max(
													t.pixel,
													e._maximumPriority.pixel
												)),
											(e._minimumPriority.pixel =
												Math.min(
													t.pixel,
													e._minimumPriority.pixel
												));
									})(t, n),
									(n.shouldSelect = !1),
									(n.selected = !1);
							}
							function p(e, t) {
								return (
									0 !== t.children.length &&
									(t.lodRangeMode === r.default.Pixel
										? t.pixel / e.lodRangeScale >
										  t.lodRangeData
										: t.distanceToCamera * e.lodRangeScale <
										  t.lodRangeData)
								);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t = i(t)),
								(r = i(r)),
								(o.prototype.schedule = function (e, t) {
									var n = this._stack;
									!(function (e, t, n) {
										t.length = 0;
										for (
											var r = 0, i = e._rootTiles.length;
											r < i;
											r++
										) {
											var o = e._rootTiles[r];
											h(n, e, o), o.visible && t.push(o);
										}
									})(e, n, t),
										(function (e, t, n) {
											for (; t.length; ) {
												var r = t.pop(),
													i = r.parent,
													o =
														!Cesium.defined(i) ||
														i.refines,
													a = !1;
												p(e, r) &&
													(a = s(e, r, t, n) && o);
												var h = !a && o;
												u(e, r, n),
													c(e, r, n),
													h && l(e, r, n),
													f(e, r, n),
													(r.refines = a);
											}
										})(e, n, t),
										(function (e, t) {
											for (
												var n = e._requestTiles,
													r = n.length,
													i = 0;
												i < r;
												++i
											)
												n[i].updatePriority(e, t);
										})(e, t);
								});
							var d = o;
							e.default = d;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e) {
							"use strict";
							function t() {
								(this._list = new Cesium.DoublyLinkedList()),
									(this._sentinel = this._list.add()),
									(this._trimTiles = !1);
							}
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0),
								(t.prototype.reset = function () {
									this._list.splice(
										this._list.tail,
										this._sentinel
									);
								}),
								(t.prototype.touch = function (e) {
									var t = e.cacheNode;
									Cesium.defined(t) &&
										this._list.splice(this._sentinel, t);
								}),
								(t.prototype.add = function (e) {
									Cesium.defined(e.cacheNode) ||
										(e.cacheNode = this._list.add(e));
								}),
								(t.prototype.unloadTile = function (e, t, n) {
									var r = t.cacheNode;
									Cesium.defined(r) &&
										(this._list.remove(r),
										(t.cacheNode = void 0),
										n(e, t));
								}),
								(t.prototype.unloadTiles = function (e, t) {
									var n = this._trimTiles;
									this._trimTiles = !1;
									for (
										var r = this._list,
											i =
												1024 *
												e.maximumMemoryUsage *
												1024,
											o = this._sentinel,
											a = r.head;
										a &&
										a !== o &&
										(e.totalMemoryUsageInBytes > i || n);

									) {
										var s = a.item;
										(a = a.next), this.unloadTile(e, s, t);
									}
								}),
								(t.prototype.trim = function () {
									this._trimTiles = !0;
								});
							var n = t;
							e.default = n;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			var r, i, o;
			"undefined" != typeof globalThis
				? globalThis
				: "undefined" != typeof self && self,
				(i = [t, n(29)]),
				void 0 ===
					(o =
						"function" ==
						typeof (r = function (e, t) {
							"use strict";
							var r = n(0);
							Object.defineProperty(e, "__esModule", {
								value: !0,
							}),
								(e.default = void 0);
							var i = (0, (t = r(t)).default)({
								RESET: 0,
								SetColor: 1,
								SELECTED: 2,
								HIDE: 4,
								OFFSET: 8,
								CLIP: 16,
								BLOOM: 32,
								ALL: 255,
							});
							e.default = i;
						})
							? r.apply(t, i)
							: r) || (e.exports = o);
		},
		function (e, t, n) {
			"use strict";
			n.r(t),
				n.d(t, "default", function () {
					return c;
				});
			var r = n(93),
				i = n.n(r),
				o = n(31),
				a = n.n(o),
				s = n(38),
				l = n.n(s);
			function u(e, t) {
				return (u = l.a
					? l.a.bind()
					: function (e, t) {
							return (e.__proto__ = t), e;
					  })(e, t);
			}
			function c(e, t) {
				if ("function" != typeof t && null !== t)
					throw new TypeError(
						"Super expression must either be null or a function"
					);
				(e.prototype = i()(t && t.prototype, {
					constructor: { value: e, writable: !0, configurable: !0 },
				})),
					a()(e, "prototype", { writable: !1 }),
					t && u(e, t);
			}
		},
		function (e, t, n) {
			"use strict";
			function r(e, t) {
				for (var n = [], r = {}, i = 0; i < t.length; i++) {
					var o = t[i],
						a = o[0],
						s = {
							id: e + ":" + i,
							css: o[1],
							media: o[2],
							sourceMap: o[3],
						};
					r[a]
						? r[a].parts.push(s)
						: n.push((r[a] = { id: a, parts: [s] }));
				}
				return n;
			}
			n.r(t),
				n.d(t, "default", function () {
					return p;
				});
			var i = "undefined" != typeof document;
			if ("undefined" != typeof DEBUG && DEBUG && !i)
				throw new Error(
					"vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment."
				);
			var o = {},
				a =
					i &&
					(document.head || document.getElementsByTagName("head")[0]),
				s = null,
				l = 0,
				u = !1,
				c = function () {},
				f = null,
				h =
					"undefined" != typeof navigator &&
					/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());
			function p(e, t, n, i) {
				(u = n), (f = i || {});
				var a = r(e, t);
				return (
					d(a),
					function (t) {
						for (var n = [], i = 0; i < a.length; i++) {
							var s = a[i];
							(l = o[s.id]).refs--, n.push(l);
						}
						t ? d((a = r(e, t))) : (a = []);
						for (i = 0; i < n.length; i++) {
							var l;
							if (0 === (l = n[i]).refs) {
								for (var u = 0; u < l.parts.length; u++)
									l.parts[u]();
								delete o[l.id];
							}
						}
					}
				);
			}
			function d(e) {
				for (var t = 0; t < e.length; t++) {
					var n = e[t],
						r = o[n.id];
					if (r) {
						r.refs++;
						for (var i = 0; i < r.parts.length; i++)
							r.parts[i](n.parts[i]);
						for (; i < n.parts.length; i++)
							r.parts.push(m(n.parts[i]));
						r.parts.length > n.parts.length &&
							(r.parts.length = n.parts.length);
					} else {
						var a = [];
						for (i = 0; i < n.parts.length; i++)
							a.push(m(n.parts[i]));
						o[n.id] = { id: n.id, refs: 1, parts: a };
					}
				}
			}
			function y() {
				var e = document.createElement("style");
				return (e.type = "text/css"), a.appendChild(e), e;
			}
			function m(e) {
				var t,
					n,
					r = document.querySelector(
						'style[data-vue-ssr-id~="' + e.id + '"]'
					);
				if (r) {
					if (u) return c;
					r.parentNode.removeChild(r);
				}
				if (h) {
					var i = l++;
					(r = s || (s = y())),
						(t = _.bind(null, r, i, !1)),
						(n = _.bind(null, r, i, !0));
				} else
					(r = y()),
						(t = b.bind(null, r)),
						(n = function () {
							r.parentNode.removeChild(r);
						});
				return (
					t(e),
					function (r) {
						if (r) {
							if (
								r.css === e.css &&
								r.media === e.media &&
								r.sourceMap === e.sourceMap
							)
								return;
							t((e = r));
						} else n();
					}
				);
			}
			var v,
				g =
					((v = []),
					function (e, t) {
						return (v[e] = t), v.filter(Boolean).join("\n");
					});
			function _(e, t, n, r) {
				var i = n ? "" : r.css;
				if (e.styleSheet) e.styleSheet.cssText = g(t, i);
				else {
					var o = document.createTextNode(i),
						a = e.childNodes;
					a[t] && e.removeChild(a[t]),
						a.length ? e.insertBefore(o, a[t]) : e.appendChild(o);
				}
			}
			function b(e, t) {
				var n = t.css,
					r = t.media,
					i = t.sourceMap;
				if (
					(r && e.setAttribute("media", r),
					f.ssrId && e.setAttribute("data-vue-ssr-id", t.id),
					i &&
						((n += "\n/*# sourceURL=" + i.sources[0] + " */"),
						(n +=
							"\n/*# sourceMappingURL=data:application/json;base64," +
							btoa(
								unescape(encodeURIComponent(JSON.stringify(i)))
							) +
							" */")),
					e.styleSheet)
				)
					e.styleSheet.cssText = n;
				else {
					for (; e.firstChild; ) e.removeChild(e.firstChild);
					e.appendChild(document.createTextNode(n));
				}
			}
		},
	]).default;
});
